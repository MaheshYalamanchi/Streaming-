(() => {
    var t = {
            6812: () => {
                webix.protoUI(
                    {
                        name: "alert",
                        defaults: {
                            margin: "0",
                            autoheight: !0,
                            template: function (t) {
                                if (!t.message) return "";
                                var e = '<div style="margin:' + this.margin + ';">',
                                    i = "";
                                t.button && (i = "<div><button class='webix_alert_btn ".concat(t.button.name, "'>").concat(t.button.label, "</button></div>"));
                                var n,
                                    s,
                                    r = "";
                                switch ((t.progress >= 0 && (r = '<div class="webix_alert_progress">'.concat(Math.round(t.progress), "%</div>")), t.type)) {
                                    case "error":
                                        (s = "error"), (n = "mdi-alert");
                                        break;
                                    case "success":
                                        (s = "success"), (n = "mdi-check");
                                        break;
                                    case "loading":
                                        (s = "info"), (n = "mdi-loading mdi-spin");
                                        break;
                                    default:
                                        (s = "info"), (n = "mdi-information");
                                }
                                return (
                                    (e += '<div class="webix_alert_body webix_alert_type_'
                                        .concat(s, "\"><div><span class='webix_alert_icon mdi ")
                                        .concat(n, '\'></span></div><div class="webix_alert_message">')
                                        .concat(t.message, "</div>")
                                        .concat(i)
                                        .concat(r, "</div>")),
                                    (e += "</div>")
                                );
                            },
                        },
                        $init: function () {
                            this.$view.className += " webix_alert";
                        },
                    },
                    webix.ui.template
                );
            },
            8016: () => {
                webix.protoUI(
                    {
                        name: "chatlist",
                        update: function () {
                            0 === this.count() ? this.showOverlay(this.config.overlay || '<span class="mdi mdi-comment-multiple-outline" style="opacity:0.5;font-size:48px;"></span>') : this.hideOverlay();
                        },
                        $init: function () {
                            (this.$view.className += " webix_chatlist"),
                                this.update(),
                                this.data.attachEvent(
                                    "onStoreUpdated",
                                    webix.bind(function () {
                                        this.update();
                                    }, this)
                                );
                            const t = (t) => {
                                const e = this.config.ajax,
                                    i = e.url,
                                    n = e.token;
                                return "".concat(i, "/api/storage/").concat(t, "?token=").concat(n);
                            };
                            this.define({
                                type: {
                                    height: "auto",
                                    template: (e) => {
                                        var i,
                                            n,
                                            s = webix.Date.dateToStr(webix.i18n.timeFormat)(new Date(e.createdAt)),
                                            r = [],
                                            o = e.user || {},
                                            a = o.nickname || "???",
                                            l = o.id === this.config.userId ? "webix_chatlist_right" : "webix_chatlist_left",
                                            h = e.metadata || {};
                                        switch ((h.incident && (l += " webix_chatlist_highlight"), e.type)) {
                                            case "message":
                                                (i = '<div class="webix_chatlist_message">'),
                                                    e.message &&
                                                        (i += "<span>".concat(
                                                            ((n = e.message),
                                                            n
                                                                .replace(/&/g, "&amp;")
                                                                .replace(/</g, "&lt;")
                                                                .replace(/>/g, "&gt;")
                                                                .replace(/"/g, "&quot;")
                                                                .replace(/'/g, "&apos;")
                                                                .replace(/\b(?:https?|ftp):\/\/[a-z0-9-+&@#/%?=~_|!:,.;]*[a-z0-9-+&@#/%=~_|]/gim, '<a target="_blank" href="$&">$&</a>')
                                                                .replace(/(^|[^/])(www\.[\S]+(\b|$))/gim, '$1<a target="_blank" href="http://$2">$2</a>')
                                                                .replace(/[\w.]+@[a-zA-Z_-]+?(?:\.[a-zA-Z]{2,6})+/gim, '<a target="_blank" href="mailto:$&">$&</a>')),
                                                            "</span>"
                                                        )),
                                                    (i += (e.attach || [])
                                                        .map(function (e) {
                                                            return /^image\//.test(e.mimetype)
                                                                ? '<div><a href="' + t(e.id) + '" download="' + e.filename + '"><img src="' + t(e.id) + '" alt="' + e.filename + '" loading="lazy"></a></div>'
                                                                : /^video\//.test(e.mimetype)
                                                                ? '<div><video controls preload="none" src="' + t(e.id) + '" alt="' + e.filename + '"></video></div>'
                                                                : '<div><span class="webix_icon mdi mdi-attachment"></span> <a href="' + t(e.id) + '" download="' + e.filename + '">' + e.filename + "</a></div>";
                                                        }, this)
                                                        .join("")),
                                                    (i += "</div>");
                                                break;
                                            case "face":
                                                (i = '<div class="webix_chatlist_face">'),
                                                    "number" == typeof h.confidence && (i += "<span>".concat(~~(100 * h.confidence), "%</span>")),
                                                    (r = h.similar || []),
                                                    h.verified ? (r.length ? (l += " webix_chatlist_neutral") : (l += " webix_chatlist_positive")) : (l += " webix_chatlist_negative");
                                                var c = e.attach[0];
                                                c && (i += '<a href="' + t(c.id) + '" download="' + c.filename + '"><img src="' + t(c.id) + '" alt="' + c.filename + '" loading="lazy"></a>'), (i += "</div>");
                                                break;
                                            case "event":
                                                (i = '<div class="webix_chatlist_event">'), h.violated ? (l += " webix_chatlist_negative") : (l += " webix_chatlist_positive");
                                                for (let t in h.metrics) {
                                                    let e = h.metrics[t];
                                                    i += '<div style="flex: 1; height: '
                                                        .concat(e, 'px; background-color: #ff6060; border: 1px solid #ddd; margin: 0 1px;"><div style="font-size: 10px; text-align: center; margin-top: -16px;">')
                                                        .concat(e, "</div></div>");
                                                }
                                                (i += "</div>"), (i += '<div style="display: flex;">');
                                                for (let t in h.metrics) i += '<div style="flex: 1; font-size: 10px; text-align: center;">'.concat(t, "</div>");
                                                i += "</div>";
                                                var d = e.attach || [];
                                                i += d
                                                    .reduce((e, i) => {
                                                        const n = (i.filename || "").split("."),
                                                            s = n.pop(),
                                                            r = n.shift();
                                                        if ("jpg" !== s) return e;
                                                        const o = d.find((t) => new RegExp("^".concat(r, ".webm")).test(t.filename)) || {};
                                                        return e.push('<div><video controls preload="none" poster="'.concat(t(i.id), '" src="').concat(t(o.id), '" alt="').concat(o.filename, '"></video></div>')), e;
                                                    }, [])
                                                    .join("");
                                        }
                                        return (
                                            '<div class="webix_chatlist_post ' +
                                            l +
                                            '"><div class="webix_chatlist_header"><div class="webix_chatlist_user"><a class="webix_chatlist_link" data-id="' +
                                            (o.id || "") +
                                            '">' +
                                            a +
                                            '</a></div><div class="webix_chatlist_time">' +
                                            s +
                                            "</div></div>" +
                                            i +
                                            "</div>"
                                        );
                                    },
                                },
                            });
                        },
                    },
                    webix.ui.list,
                    webix.OverlayBox
                );
            },
            9524: () => {
                var t = !1;
                webix.protoUI(
                    {
                        name: "supervision",
                        defaults: { navigation: !0, select: !0 },
                        $init() {
                            (this.$view.className += " webix_supervision"),
                                t || (this.$view.className += " webix_supervision_overlay"),
                                webix.extend(this.data, webix.TreeStore, !0),
                                this.data.provideApi(this, !0),
                                this.data.attachEvent(
                                    "onStoreUpdated",
                                    webix.bind(function (t, e) {
                                        this.config.overlay && (this.data.count() > 0 ? this.hideOverlay() : this.showOverlay(this.config.overlay)),
                                            this.config.select && !this.getSelectedId() && this.select(this.getFirstId()),
                                            e &&
                                                "boolean" == typeof e.$muted &&
                                                this.getAllVideos(t).forEach(function (t) {
                                                    t.muted = e.$muted;
                                                });
                                    }, this)
                                ),
                                this.data.attachEvent(
                                    "onBeforeAdd",
                                    webix.bind(function (t, e) {
                                        if (this.data.exists(t)) return !1;
                                        if (e.room && e.user && e.$video) {
                                            var i, n;
                                            (i = "object" == typeof e.room ? Object.assign({}, e.room) : { id: e.room }),
                                                ((n = "object" == typeof e.user ? Object.assign({}, e.user) : { id: e.user }).id = [i.id, n.id].join(".")),
                                                this.config.select && "boolean" != typeof n.$muted && (n.$muted = this.getSelectedId() !== i.id || e.$video.muted);
                                            var s = { id: e.id, $video: e.$video };
                                            return this.add(i), this.add(n, null, i.id), this.add(s, null, n.id), !1;
                                        }
                                        return !0;
                                    }, this)
                                ),
                                this.data.attachEvent(
                                    "onBeforeDelete",
                                    webix.bind(function (t) {
                                        var e = this.data.getParentId(t),
                                            i = this.data.getItem(e);
                                        return !(i && 0 != i.$parent && i.$count <= 1) || (this.data.remove(e), !1);
                                    }, this)
                                ),
                                this.attachEvent(
                                    "onAfterSelect",
                                    webix.bind(function (t) {
                                        (this.data.getBranch(t) || []).forEach(function (t) {
                                            "boolean" == typeof t.$muted && this.updateItem(t.id, { $muted: !1 });
                                        }, this);
                                    }, this)
                                ),
                                this.attachEvent(
                                    "onAfterUnSelect",
                                    webix.bind(function (t) {
                                        (this.data.getBranch(t) || []).forEach(function (t) {
                                            "boolean" == typeof t.$muted && this.updateItem(t.id, { $muted: !0 });
                                        }, this);
                                    }, this)
                                );
                        },
                        _id: "webix_supervision_id",
                        on_click: {
                            webix_supervision_overlay() {
                                this.play();
                            },
                            webix_supervision_level1(t) {
                                for (var e = this.locate(t), i = e; i; ) (e = i), (i = this.data.getParentId(i));
                                this.config.select && this.select(e);
                            },
                        },
                        type: {
                            template(t, e) {
                                var i = document.createElement("div");
                                i.setAttribute(this._id, t.id), (i.className = e.classname(t, e, this.data.getMark(t.id, "webix_selected")));
                                var n = this.config["template" + t.$level];
                                if ("function" == typeof n) {
                                    var s = n.call(this, t, i);
                                    s && i.appendChild(s);
                                }
                                return i;
                            },
                            template1(t, e) {
                                var i = e.template.apply(this, arguments),
                                    n = this;
                                return (
                                    t.$maximized ? e.maximize(i) : e.resize(i, this.getIndexById(t.id), this.count()),
                                    i.addEventListener(
                                        "update",
                                        function (i) {
                                            (i.target.className = e.classname(i.detail, e, n.data.getMark(t.id, "webix_selected"))),
                                                n.data.getBranch(i.detail.$parent).forEach(function (t, i, s) {
                                                    var r = n.getItemNode(t.id);
                                                    t.$maximized ? e.maximize(r) : e.resize(r, i, s.length);
                                                });
                                        },
                                        !1
                                    ),
                                    i
                                );
                            },
                            template2(t, e) {
                                var i = e.template.apply(this, arguments),
                                    n = this;
                                return (
                                    t.$maximized ? e.maximize(i) : e.resize(i, this.data.getBranchIndex(t.id, t.$parent), this.data.getBranch(t.$parent).length, !0),
                                    e.footer(i, this.config.footer, t),
                                    i.addEventListener(
                                        "update",
                                        function (s) {
                                            (s.target.className = e.classname(s.detail, e, n.data.getMark(t.id, "webix_selected"))),
                                                n.data.getBranch(s.detail.$parent).forEach(function (t, i, s) {
                                                    var r = n.getItemNode(t.id);
                                                    t.$maximized ? e.maximize(r) : e.resize(r, i, s.length, !0);
                                                }),
                                                e.footer(i, n.config.footer, s.detail);
                                        },
                                        !1
                                    ),
                                    i
                                );
                            },
                            template3(t, e) {
                                var i = e.template.apply(this, arguments),
                                    n = this;
                                if (
                                    (i.addEventListener(
                                        "click",
                                        function () {
                                            ([].forEach.call(i.parentNode.querySelectorAll(".webix_supervision_viewer"), function (t) {
                                                t.classList.remove("webix_supervision_viewer");
                                            }),
                                            i.classList.add("webix_supervision_viewer"),
                                            t.$video) && (n.getItem(t.$parent).$source = t.$video.dataset.source);
                                        },
                                        !1
                                    ),
                                    i.addEventListener(
                                        "update",
                                        function (t) {
                                            var e = !1;
                                            n.data.getBranch(t.detail.$parent).forEach(function (t, i, s) {
                                                var r = n.getItemNode(t.id);
                                                if (r.classList.contains("webix_supervision_viewer")) return (e = !0);
                                                var o = n.getItem(t.$parent),
                                                    a = t.$video && t.$video.dataset.source;
                                                if (!e && a && o.$source === a) return r.classList.add("webix_supervision_viewer"), (e = !0);
                                                e || i !== s.length - 1 || r.classList.add("webix_supervision_viewer");
                                            });
                                        },
                                        !1
                                    ),
                                    t.$video)
                                ) {
                                    i.appendChild(t.$video);
                                    var s = this.getItem(t.$parent);
                                    if ((s && "boolean" == typeof s.$muted && (t.$video.muted = s.$muted), s.$source || (s.$source = t.$video.dataset.source), t.$video.paused)) {
                                        var r = t.$video.play();
                                        r && "undefined" != typeof Promise && r instanceof Promise && r.catch(function () {});
                                    }
                                    n._speed && (t.$video.playbackRate = n._speed);
                                }
                                return i;
                            },
                            classname(t, e, i) {
                                var n = [];
                                return (
                                    n.push("webix_supervision_level" + t.$level),
                                    t.$single && n.push("webix_supervision_single"),
                                    e.css && n.push(e.css),
                                    t.$css && ("object" == typeof t.$css && (t.$css = webix.html.createCss(t.$css)), n.push(t.$css)),
                                    i && n.push("webix_selected"),
                                    n.join(" ")
                                );
                            },
                            resize(t, e, i, n) {
                                var s = e + 1,
                                    r = n ? Math.round(Math.sqrt(i)) : Math.ceil(Math.sqrt(i)),
                                    o = n ? Math.ceil(Math.sqrt(i)) : Math.round(Math.sqrt(i)),
                                    a = Math.ceil(s / r),
                                    l = 100 / o,
                                    h = 100 / r,
                                    c = h * (Math.ceil(r + s - a * r) - 1),
                                    d = l * (a - 1);
                                (t.style.width = l + "%"), (t.style.height = h + "%"), (t.style.top = c + "%"), (t.style.left = d + "%"), (t.style.zIndex = "");
                            },
                            maximize(t) {
                                (t.style.width = "100%"), (t.style.height = "100%"), (t.style.top = 0), (t.style.left = 0), (t.style.zIndex = 3);
                            },
                            footer(t, e, i) {
                                if (e) {
                                    [].forEach.call(t.querySelectorAll(".webix_supervision_footer"), function (t) {
                                        t.remove();
                                    });
                                    var n = document.createElement("div");
                                    (n.className = "webix_supervision_footer"),
                                        e.forEach(function (t) {
                                            var e = "function" == typeof t.template ? t.template.call(this, i) : webix.template(t.template).call(this, i);
                                            if (e) {
                                                var s = document.createElement("div");
                                                t.tooltip && (s.title = t.tooltip), (s.className = "webix_supervision_" + t.view), t.css && (s.className += " " + t.css), (s.innerHTML = e), n.appendChild(s);
                                            }
                                        }, this),
                                        t.appendChild(n);
                                }
                            },
                        },
                        $setSize(t, e) {
                            (this.$view.style.width = t + "px"), (this.$view.style.height = e + "px");
                        },
                        _toHTMLItem(t) {
                            this.callEvent("onItemRender", [t]);
                            var e = this.type.template;
                            return this.type["template" + t.$level] && (e = this.type["template" + t.$level]), t.$template && (e = this.type["template" + t.$template]), e.call(this, t, this.type);
                        },
                        _toHTML(t) {
                            var e = this._toHTMLItem(t);
                            return this._toHTMLLevel(t.id, e), e;
                        },
                        _toHTMLLevel(t, e) {
                            var i = this.data.branch[t];
                            if (i)
                                for (var n = 0; n < i.length; n++) {
                                    var s = this.getItem(i[n]);
                                    e.appendChild(this._toHTML(s));
                                }
                        },
                        _findNode(t, e) {
                            return t.querySelector("div[" + this._id + '="' + e + '"]');
                        },
                        render(t, e, i) {
                            if (this.isVisible(this.config.id) && !this.$blockRender) {
                                if ((webix.debug_render && webix.log("Render: " + this.name + "@" + this.config.id), t)) {
                                    var n = this.getItemNode(t);
                                    switch (i) {
                                        case "paint":
                                        case "update":
                                            if (!n) return;
                                            n.dispatchEvent(new CustomEvent("update", { detail: e }));
                                            break;
                                        case "delete":
                                            if (!n) return;
                                            webix.html.remove(n), delete this._htmlmap[t], n.dispatchEvent(new CustomEvent("update", { detail: e }));
                                            break;
                                        case "add":
                                            var s;
                                            s = 0 == e.$parent ? this.$view : this.getItemNode(e.$parent);
                                            var r = this.data.getNextSiblingId(t);
                                            (r = this.getItemNode(r)), (n = this._toHTML(e)), (this._htmlmap[t] = n), webix.html.insertBefore(n, r, s), n.dispatchEvent(new CustomEvent("update", { detail: e }));
                                            break;
                                        default:
                                            return !1;
                                    }
                                    this.callEvent("onPartialRender", [t, e, i]);
                                } else this.callEvent("onBeforeRender", [this.data]) && ((this.$view.innerHTML = ""), this._toHTMLLevel(0, this.$view), (this._htmlmap = null), this.callEvent("onAfterRender", []));
                                return !0;
                            }
                        },
                        locate(t) {
                            return webix.html.locate(t, this._id);
                        },
                        getItemNode(t) {
                            if (this._htmlmap) return this._htmlmap[t];
                            this._htmlmap = {};
                            for (var e = this.$view.getElementsByTagName("DIV"), i = 0; i < e.length; i++) {
                                var n = e[i].getAttribute(this._id);
                                n && (this._htmlmap[n] = e[i]);
                            }
                            return this.getItemNode(t);
                        },
                        getVideo(t) {
                            var e = this.getItemNode(t);
                            if (e) return e.querySelector("video");
                        },
                        getTopVideo(t) {
                            var e = this.getItemNode(t);
                            if (e) return e.querySelector(".webix_supervision_viewer > video");
                        },
                        getAllVideos(t) {
                            var e = t ? this.getItemNode(t) : this.$view;
                            return e ? Array.prototype.slice.call(e.querySelectorAll("video")) : [];
                        },
                        speed(t, e) {
                            (this._speed = t), this.getAllVideos(e).forEach((e) => (e.playbackRate = t));
                        },
                        play(e) {
                            (t = !0), this.$view.classList.remove("webix_supervision_overlay"), this.getAllVideos(e).forEach((t) => t.play()), this.callEvent("onPlay", []);
                        },
                        pause(t) {
                            this.getAllVideos(t).forEach((t) => t.pause()), this.callEvent("onPause", []);
                        },
                    },
                    webix.KeysNavigation,
                    webix.MouseEvents,
                    webix.SelectionModel,
                    webix.TreeDataLoader,
                    webix.ui.proto,
                    webix.OverlayBox
                );
            },
            4375: (t, e, i) => {
                "use strict";
                i.r(e), i.d(e, { getLocalesData: () => r, getLocalesList: () => o });
                const n = { en: i(6635), fr: i(4076), lv: i(6797), ru: i(6033), uk: i(7223), zh: i(6880) },
                    s = Object.keys(n);
                function r() {
                    return n;
                }
                function o() {
                    return s;
                }
            },
            6238: (t, e, i) => {
                "use strict";
                i.r(e), i.d(e, { default: () => d });
                var n = i(3036),
                    s = i(633),
                    r = i(2738),
                    o = i(3144);
                const a = "/api/blank",
                    l = "blanks_filter";
                var h,
                    c = localStorage.getItem(l) || "";
                class d extends n.iC {
                    config() {
                        const t = this,
                            e = this.app.getService("locale")._;
                        return {
                            rows: [
                                {
                                    body: {
                                        rows: [
                                            { type: "header", template: e("blanks.title") },
                                            {
                                                view: "toolbar",
                                                cols: [
                                                    {
                                                        view: "search",
                                                        value: c,
                                                        placeholder: e("common.filter.text"),
                                                        gravity: 0.6,
                                                        on: {
                                                            onSearchIconClick() {
                                                                t.$$("table").callEvent("doReload");
                                                            },
                                                            onChange(e) {
                                                                (c = e || ""), localStorage.setItem(l, c), t.$$("table").callEvent("doReload");
                                                            },
                                                        },
                                                    },
                                                    {
                                                        view: "icon",
                                                        icon: "mdi mdi-plus",
                                                        tooltip: e("common.buttons.add"),
                                                        click() {
                                                            t.blankEditor.open(null, function () {
                                                                t.$$("table").callEvent("doReload");
                                                            });
                                                        },
                                                    },
                                                    {
                                                        view: "icon",
                                                        icon: "mdi mdi-pencil",
                                                        tooltip: e("common.buttons.edit"),
                                                        click() {
                                                            const e = t.$$("table").getSelectedId(!0);
                                                            e[0] &&
                                                                t.blankEditor.open("".concat(e[0]), function () {
                                                                    t.$$("table").callEvent("doReload");
                                                                });
                                                        },
                                                    },
                                                    {
                                                        view: "icon",
                                                        icon: "mdi mdi-delete",
                                                        tooltip: e("common.buttons.delete"),
                                                        click() {
                                                            const i = t.$$("table"),
                                                                n = i.getSelectedId(!0),
                                                                r = n.length;
                                                            if (!r) return;
                                                            let o = 0;
                                                            function l(t) {
                                                                t && o++;
                                                                const e = o / r;
                                                                i.showProgress({ type: "bottom", position: e }), 1 === e && i.callEvent("doReload");
                                                            }
                                                            webix.confirm({
                                                                ok: e("common.removeDialog.ok"),
                                                                cancel: e("common.removeDialog.cancel"),
                                                                text: e("common.removeDialog.text"),
                                                                type: "confirm-error",
                                                                callback(t) {
                                                                    t &&
                                                                        (l(),
                                                                        n.forEach(function (t) {
                                                                            (0, s.hj)("".concat(a, "/").concat(t), { method: "DELETE" }).then(l).catch(l);
                                                                        }));
                                                                },
                                                            });
                                                        },
                                                    },
                                                    {
                                                        view: "icon",
                                                        icon: "mdi mdi-upload",
                                                        tooltip: e("common.buttons.import"),
                                                        click() {
                                                            (0, s.cT)({ url: "/api/csv/blank", accept: "text/*" }).then(() => {
                                                                t.$$("table").callEvent("doReload");
                                                            });
                                                        },
                                                    },
                                                    {
                                                        view: "icon",
                                                        icon: "mdi mdi-download",
                                                        tooltip: e("common.buttons.export"),
                                                        click() {
                                                            const i = { id: e("blanks.id"), text: e("blanks.text") };
                                                            t.exportDialog.open(i, function (t) {
                                                                if (0 == t.length) return;
                                                                const e = "/api/csv/blank?filter=".concat(encodeURIComponent(c), "&select=").concat(encodeURIComponent(t.join(" ")));
                                                                (0, s.Sv)({ url: e });
                                                            });
                                                        },
                                                    },
                                                ],
                                            },
                                            {
                                                localId: "table",
                                                view: "datatable",
                                                resizeColumn: !0,
                                                select: !0,
                                                multiselect: !0,
                                                url: t.getURL(100),
                                                datafetch: 100,
                                                scroll: "y",
                                                columns: [
                                                    { id: "index", header: "#", adjust: !0 },
                                                    { id: "text", header: e("blanks.text"), sort: "server", fillspace: 1 },
                                                ],
                                                on: {
                                                    "data->onStoreUpdated"() {
                                                        this.data.each(function (t, e) {
                                                            t.index = e + 1;
                                                        });
                                                    },
                                                    onBeforeLoad() {
                                                        return this.hideOverlay(), !0;
                                                    },
                                                    onAfterLoad() {
                                                        if (this.count()) {
                                                            const t = h;
                                                            (h = null), this.exists(t) && (this.select(t), this.showItem(t));
                                                        } else this.showOverlay(e("common.messages.empty"));
                                                    },
                                                    doReload() {
                                                        const e = this.getSelectedId(!1, !0),
                                                            i = this.getPage();
                                                        (h = e),
                                                            this.clearAll(),
                                                            (this.config.url = t.getURL(100)),
                                                            this.load(this.config.url, (t, n) => {
                                                                n.json() && (this.setPage(i), (h = e));
                                                            });
                                                    },
                                                    onItemDblClick(e) {
                                                        t.blankEditor.open("".concat(e), function () {
                                                            t.$$("table").callEvent("doReload");
                                                        });
                                                    },
                                                },
                                            },
                                        ],
                                    },
                                },
                                {
                                    localId: "pager",
                                    view: "pager",
                                    template: function (t, i) {
                                        return i.first(t, i) + " " + i.pages(t, i) + " " + i.last(t, i) + " " + e("common.pager", { page: t.page + 1, total: t.limit, count: t.count });
                                    },
                                    size: 100,
                                    group: 5,
                                },
                            ],
                        };
                    }
                    init() {
                        (this.blankEditor = this.ui(r.default)), (this.exportDialog = this.ui(o.default)), webix.extend(this.$$("table"), webix.ProgressBar), this.$$("table").define({ pager: this.$$("pager") });
                    }
                    getURL() {
                        let t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "",
                            e = ""
                                .concat(t ? s.hj.url : "")
                                .concat(a, "?limit=")
                                .concat(t);
                        return c && (e += "&filter=".concat(encodeURIComponent(c))), e;
                    }
                }
            },
            5077: (t, e, i) => {
                "use strict";
                i.r(e), i.d(e, { default: () => r });
                var n = i(3036),
                    s = i(633);
                class r extends n.iC {
                    config() {
                        const t = this,
                            e = this.app.getService("locale")._;
                        return {
                            rows: [
                                {
                                    localId: "result",
                                    borderless: !0,
                                    css: "check",
                                    template: (t) =>
                                        !0 === t.success
                                            ? '<div class="done"><span class="mdi mdi-check-bold"></span>' + e("check.done") + '<button class="logout">' + e("check.logout") + "</button></div>"
                                            : !1 === t.success
                                            ? '<div class="fail"><span class="mdi mdi-close-thick"></span>' + e("check.fail") + '<button class="logout">' + e("check.logout") + "</button></div>"
                                            : '<div class="loading"><span class="mdi mdi-loading mdi-spin"></span>' + e("check.loading") + "</div>",
                                    onClick: {
                                        logout() {
                                            t.app.getService("user").logout();
                                        },
                                    },
                                },
                            ],
                        };
                    }
                    ready() {
                        const t = this;
                        webix.require("sdk/supervisor.js", function () {
                            (t._supervisor = new Supervisor({ el: t.getRoot().getNode(), css: { "--background": "none" } }))
                                .sync(s.nP.state)
                                .then(() => {
                                    t.$$("result").setValues({ success: !0 });
                                })
                                .catch((e) => {
                                    console.error(e), t.$$("result").setValues({ success: !1 });
                                });
                        });
                    }
                    destroy() {
                        this._supervisor && (this._supervisor.close(), (this._supervisor = null));
                    }
                }
            },
            9173: (t, e, i) => {
                "use strict";
                i.r(e), i.d(e, { default: () => r });
                var n = i(3036),
                    s = i(633);
                class r extends n.iC {
                    config() {
                        return {};
                    }
                    ready() {
                        const t = this;
                        webix.require("sdk/supervisor.js", function () {
                            const e = (t._supervisor = new Supervisor({ el: t.getRoot().getNode(), mode: "conference" }));
                            e.sync(s.nP.state)
                                .then(() => e.start({ room: t.getParam("id"), sources: ["webcam"] }))
                                .catch((t) => {
                                    console.error(t), alert(t.toString());
                                });
                        });
                    }
                    destroy() {
                        this._supervisor && (this._supervisor.close(), (this._supervisor = null));
                    }
                }
            },
            3719: (t, e, i) => {
                "use strict";
                i.r(e), i.d(e, { default: () => d });
                var n = i(3036),
                    s = i(633),
                    r = i(8958),
                    o = i(3144);
                const a = "/api/config",
                    l = "configs_filter";
                var h,
                    c = localStorage.getItem(l) || "";
                class d extends n.iC {
                    config() {
                        const t = this,
                            e = this.app.getService("locale")._;
                        return {
                            rows: [
                                {
                                    body: {
                                        rows: [
                                            { type: "header", template: e("configs.title") },
                                            {
                                                view: "toolbar",
                                                cols: [
                                                    {
                                                        view: "search",
                                                        value: c,
                                                        placeholder: e("common.filter.text"),
                                                        gravity: 0.6,
                                                        on: {
                                                            onSearchIconClick() {
                                                                t.$$("table").callEvent("doReload");
                                                            },
                                                            onChange(e) {
                                                                (c = e || ""), localStorage.setItem(l, c), t.$$("table").callEvent("doReload");
                                                            },
                                                        },
                                                    },
                                                    {
                                                        view: "icon",
                                                        icon: "mdi mdi-plus",
                                                        tooltip: e("common.buttons.add"),
                                                        click() {
                                                            t.configEditor.open(null, function () {
                                                                t.$$("table").callEvent("doReload");
                                                            });
                                                        },
                                                    },
                                                    {
                                                        view: "icon",
                                                        icon: "mdi mdi-pencil",
                                                        tooltip: e("common.buttons.edit"),
                                                        click() {
                                                            const e = t.$$("table").getSelectedId(!0);
                                                            e[0] &&
                                                                t.roomEditor.open("".concat(e[0]), function () {
                                                                    t.$$("table").callEvent("doReload");
                                                                });
                                                        },
                                                    },
                                                    {
                                                        view: "icon",
                                                        icon: "mdi mdi-delete",
                                                        tooltip: e("common.buttons.delete"),
                                                        click() {
                                                            const i = t.$$("table"),
                                                                n = i.getSelectedId(!0),
                                                                r = n.length;
                                                            if (!r) return;
                                                            let o = 0;
                                                            function l(t) {
                                                                t && o++;
                                                                const e = o / r;
                                                                i.showProgress({ type: "bottom", position: e }), 1 === e && i.callEvent("doReload");
                                                            }
                                                            webix.confirm({
                                                                ok: e("common.removeDialog.ok"),
                                                                cancel: e("common.removeDialog.cancel"),
                                                                text: e("common.removeDialog.text"),
                                                                type: "confirm-error",
                                                                callback(t) {
                                                                    t &&
                                                                        (l(),
                                                                        n.forEach(function (t) {
                                                                            (0, s.hj)("".concat(a, "/").concat(t), { method: "DELETE" }).then(l).catch(l);
                                                                        }));
                                                                },
                                                            });
                                                        },
                                                    },
                                                    {
                                                        view: "icon",
                                                        icon: "mdi mdi-upload",
                                                        tooltip: e("common.buttons.import"),
                                                        click() {
                                                            (0, s.cT)({ url: "/api/csv/config", accept: "text/*" }).then(() => {
                                                                t.$$("table").callEvent("doReload");
                                                            });
                                                        },
                                                    },
                                                    {
                                                        view: "icon",
                                                        icon: "mdi mdi-download",
                                                        tooltip: e("common.buttons.export"),
                                                        click() {
                                                            const i = { id: e("configs.id"), value: e("configs.value") };
                                                            t.exportDialog.open(i, function (t) {
                                                                if (0 == t.length) return;
                                                                const e = "/api/csv/config?filter=".concat(encodeURIComponent(c), "&select=").concat(encodeURIComponent(t.join(" ")));
                                                                (0, s.Sv)({ url: e });
                                                            });
                                                        },
                                                    },
                                                ],
                                            },
                                            {
                                                localId: "table",
                                                view: "datatable",
                                                resizeColumn: !0,
                                                select: !0,
                                                multiselect: !0,
                                                url: t.getURL(100),
                                                datafetch: 100,
                                                scroll: "y",
                                                columns: [
                                                    { id: "index", header: "#", adjust: !0 },
                                                    { id: "id", header: e("configs.id"), sort: "server", fillspace: 1 },
                                                    {
                                                        id: "value",
                                                        header: e("configs.value"),
                                                        sort: "server",
                                                        fillspace: 3,
                                                        template: (t) =>
                                                            ""
                                                                .concat(t.value || "")
                                                                .replace(/</g, "&lt;")
                                                                .replace(/"/g, "&quot;")
                                                                .replace(/>/g, "&gt;"),
                                                    },
                                                ],
                                                on: {
                                                    "data->onStoreUpdated"() {
                                                        this.data.each(function (t, e) {
                                                            t.index = e + 1;
                                                        });
                                                    },
                                                    onBeforeLoad() {
                                                        return this.hideOverlay(), !0;
                                                    },
                                                    onAfterLoad() {
                                                        if (this.count()) {
                                                            const t = h;
                                                            (h = null), this.exists(t) && (this.select(t), this.showItem(t));
                                                        } else this.showOverlay(e("common.messages.empty"));
                                                    },
                                                    doReload() {
                                                        const e = this.getSelectedId(!1, !0),
                                                            i = this.getPage();
                                                        (h = e),
                                                            this.clearAll(),
                                                            (this.config.url = t.getURL(100)),
                                                            this.load(this.config.url, (t, n) => {
                                                                n.json() && (this.setPage(i), (h = e));
                                                            });
                                                    },
                                                    onItemDblClick(e) {
                                                        t.configEditor.open("".concat(e), function () {
                                                            t.$$("table").callEvent("doReload");
                                                        });
                                                    },
                                                },
                                            },
                                        ],
                                    },
                                },
                                {
                                    localId: "pager",
                                    view: "pager",
                                    template: function (t, i) {
                                        return i.first(t, i) + " " + i.pages(t, i) + " " + i.last(t, i) + " " + e("common.pager", { page: t.page + 1, total: t.limit, count: t.count });
                                    },
                                    size: 100,
                                    group: 5,
                                },
                            ],
                        };
                    }
                    init() {
                        (this.configEditor = this.ui(r.default)), (this.exportDialog = this.ui(o.default)), webix.extend(this.$$("table"), webix.ProgressBar), this.$$("table").define({ pager: this.$$("pager") });
                    }
                    getURL() {
                        let t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "",
                            e = ""
                                .concat(t ? s.hj.url : "")
                                .concat(a, "?limit=")
                                .concat(t);
                        return c && (e += "&filter=".concat(encodeURIComponent(c))), e;
                    }
                }
            },
            5989: (t, e, i) => {
                "use strict";
                i.r(e), i.d(e, { default: () => o });
                var n = i(3036),
                    s = i(633),
                    r = "";
                class o extends n.iC {
                    config() {
                        const t = this,
                            e = this.app.getService("locale")._;
                        return {
                            rows: [
                                { type: "header", template: e("jobs.title") },
                                {
                                    view: "toolbar",
                                    cols: [
                                        {
                                            localId: "filter_text",
                                            view: "search",
                                            value: r,
                                            placeholder: e("common.filter.text"),
                                            on: {
                                                onTimedKeyPress() {
                                                    (r = this.getValue()), t.$$("table").filter(s._n.bind(null, r));
                                                },
                                                onSearchIconClick() {
                                                    t.$$("table").callEvent("doReload");
                                                },
                                                onEnter() {
                                                    t.$$("table").callEvent("doReload");
                                                },
                                            },
                                        },
                                        {
                                            view: "icon",
                                            icon: "mdi mdi-rocket",
                                            tooltip: e("jobs.buttons.run"),
                                            click() {
                                                var e = t.$$("table"),
                                                    i = e.getSelectedItem(!0);
                                                t.runJobs(i, e);
                                            },
                                        },
                                        {
                                            hidden: !0,
                                            view: "icon",
                                            icon: "mdi mdi-delete",
                                            tooltip: e("jobs.buttons.remove"),
                                            click() {
                                                var e = t.$$("table"),
                                                    i = e.getSelectedItem(!0);
                                                t.removeJobs(i, e);
                                            },
                                        },
                                    ],
                                },
                                {
                                    localId: "table",
                                    view: "datatable",
                                    resizeColumn: !0,
                                    select: !0,
                                    multiselect: !0,
                                    scroll: "y",
                                    url: "".concat(s.hj.url, "/api/jobs"),
                                    columns: [
                                        { id: "index", header: "#", adjust: !0 },
                                        { id: "name", header: e("jobs.name"), fillspace: 2, sort: "string" },
                                        { id: "repeatInterval", header: e("jobs.repeatInterval"), fillspace: 2, sort: "string" },
                                        { id: "nextRunAt", header: e("jobs.nextRunAt"), fillspace: 2, sort: "string", template: (t, e, i) => (i && t.repeatInterval ? webix.Date.parseDate(i, webix.i18n.fullDateFormat) : "") },
                                        { id: "lastRunAt", header: e("jobs.lastRunAt"), fillspace: 2, sort: "string", template: (t, e, i) => (i ? webix.Date.parseDate(i, webix.i18n.fullDateFormat) : "") },
                                        { id: "duration", header: e("jobs.duration"), fillspace: 1, sort: "int" },
                                        {
                                            id: "failCount",
                                            header: e("jobs.failCount"),
                                            fillspace: 1,
                                            sort: "int",
                                            template: (t) => (t.failCount ? '<a class="error_link"><span class="mdi mdi-bug"></span> '.concat(t.failCount, "</a>") : ""),
                                        },
                                    ],
                                    on: {
                                        "data->onStoreUpdated"() {
                                            this.data.each(function (t, e) {
                                                t.index = e + 1;
                                            });
                                        },
                                        onBeforeLoad() {
                                            return this.hideOverlay(), !0;
                                        },
                                        onAfterLoad() {
                                            if (this.count()) {
                                                var i = t.$$("filter_text").getValue();
                                                this.filter(s._n.bind(null, i));
                                            } else this.showOverlay(e("common.messages.empty"));
                                        },
                                        doReload() {
                                            this.clearAll(), this.load(this.config.url);
                                        },
                                    },
                                    scheme: {
                                        $init(t) {
                                            if (t.lastFinishedAt && t.lastRunAt) {
                                                var e = new Date(t.lastFinishedAt) - new Date(t.lastRunAt);
                                                e < 0 && (e = 0), (t.duration = webix.Date.parseDate(e, "%G:%i:%s." + ("00" + e).slice(-3), !0));
                                            } else t.duration = "";
                                        },
                                    },
                                    onClick: {
                                        error_link(t) {
                                            var i = this.locate(t),
                                                n = this.getItem(i);
                                            n &&
                                                n.failReason &&
                                                webix.modalbox({
                                                    type: "confirm-error",
                                                    title: e("jobs.errorDialog.title"),
                                                    buttons: [e("jobs.errorDialog.ok")],
                                                    width: 500,
                                                    text: '<code style="word-break: break-word">'.concat((0, s.d6)(n.failReason), "</code>"),
                                                });
                                        },
                                    },
                                },
                                {
                                    localId: "pager",
                                    view: "pager",
                                    template: (t, i) => i.first(t, i) + " " + i.pages(t, i) + " " + i.last(t, i) + " " + e("common.pager", { page: t.page + 1, total: t.limit, count: t.count }),
                                    size: 100,
                                    group: 5,
                                },
                            ],
                        };
                    }
                    init() {
                        webix.extend(this.$$("table"), webix.ProgressBar), this.$$("table").define({ pager: this.$$("pager") });
                    }
                    removeJobs(t, e) {
                        var i = t.length;
                        if (!i) return;
                        const n = this.app.getService("locale")._;
                        var r = 0;
                        function o(t) {
                            t && r++;
                            var n = r / i;
                            e.showProgress({ type: "bottom", position: n }), 1 === n && e.callEvent("doReload");
                        }
                        webix.confirm({
                            ok: n("jobs.removeDialog.ok"),
                            cancel: n("jobs.removeDialog.cancel"),
                            text: n("jobs.removeDialog.text"),
                            type: "confirm-error",
                            callback: function (e) {
                                e &&
                                    (o(),
                                    t.forEach(function (t) {
                                        (0, s.hj)("/api/jobs/".concat(t.id), { method: "DELETE" }).then(o).catch(o);
                                    }));
                            },
                        });
                    }
                    runJobs(t, e) {
                        var i = t.length;
                        if (!i) return;
                        const n = this.app.getService("locale")._;
                        var r = 0;
                        function o(t) {
                            t && r++;
                            var n = r / i;
                            e.showProgress({ type: "bottom", position: n }), 1 === n && e.callEvent("doReload");
                        }
                        webix.confirm({
                            ok: n("jobs.runDialog.ok"),
                            cancel: n("jobs.runDialog.cancel"),
                            text: n("jobs.runDialog.text"),
                            type: "confirm-warning",
                            callback: function (e) {
                                e &&
                                    (o(),
                                    t.forEach(function (t) {
                                        (0, s.hj)("/api/jobs/".concat(t.id), { method: "PUT" }).then(o).catch(o);
                                    }));
                            },
                        });
                    }
                }
            },
            370: (t, e, i) => {
                "use strict";
                i.r(e), i.d(e, { default: () => s });
                var n = i(3036);
                class s extends n.iC {
                    config() {
                        const t = this.app.getService("user"),
                            e = this.app.getService("locale")._;
                        return {
                            type: "space",
                            rows: [
                                {},
                                {
                                    cols: [
                                        {},
                                        {
                                            rows: [
                                                { view: "toolbar", elements: [{ type: "header", borderless: !0, template: e("app.name") }] },
                                                {
                                                    view: "form",
                                                    width: 310,
                                                    elements: [
                                                        {
                                                            name: "username",
                                                            view: "text",
                                                            placeholder: e("login.username"),
                                                            attributes: { required: "true" },
                                                            on: {
                                                                onAfterRender() {
                                                                    this.focus();
                                                                },
                                                            },
                                                            value: this.getParam("username") || "",
                                                        },
                                                        { name: "password", view: "text", type: "password", placeholder: e("login.password"), value: this.getParam("password") || "" },
                                                        {
                                                            view: "button",
                                                            value: e("login.submit"),
                                                            css: "webix_primary",
                                                            click() {
                                                                var i = this.getFormView();
                                                                if (i.validate()) {
                                                                    var n = i.getValues();
                                                                    t.login({ provider: "login", username: n.username, password: n.password || n.username }).catch(() => {
                                                                        i.clear(), i.clearValidation(), i.focus(), webix.message({ type: "error", text: e("login.authorizationError") });
                                                                    });
                                                                }
                                                            },
                                                            hotkey: "enter",
                                                        },
                                                    ],
                                                    rules: { username: webix.rules.isNotEmpty },
                                                    elementsConfig: { labelAlign: "left" },
                                                    on: {
                                                        onChange() {
                                                            this.validate();
                                                        },
                                                    },
                                                },
                                            ],
                                        },
                                        {},
                                    ],
                                },
                                {},
                            ],
                        };
                    }
                }
            },
            770: (t, e, i) => {
                "use strict";
                i.r(e), i.d(e, { default: () => r });
                var n = i(3036),
                    s = i(633);
                i(6812);
                class r extends n.iC {
                    config() {
                        const t = this;
                        return {
                            rows: [
                                {
                                    view: "toolbar",
                                    cols: [
                                        { type: "header", borderless: !0, template: (0, this.app.getService("locale")._)("mobile.title") },
                                        {
                                            view: "icon",
                                            icon: "mdi mdi-microphone-off",
                                            click() {
                                                const e = t.toggleMic();
                                                this.define({ icon: "mdi ".concat(e ? "mdi-microphone" : "mdi-microphone-off") }), this.refresh();
                                            },
                                        },
                                        {
                                            localId: "video_btn",
                                            view: "icon",
                                            icon: "mdi mdi-video-switch",
                                            disabled: !0,
                                            click() {
                                                t.switchCamera();
                                            },
                                        },
                                    ],
                                },
                                {
                                    localId: "video",
                                    view: "template",
                                    template: '<a class="mobile__play_btn"><span class="mdi mdi-play"></span></a>',
                                    onClick: {
                                        mobile__play_btn() {
                                            t.start();
                                        },
                                    },
                                },
                                {
                                    localId: "alert",
                                    view: "alert",
                                    onClick: {
                                        retry() {
                                            t.restart();
                                        },
                                    },
                                },
                            ],
                        };
                    }
                    init() {
                        var t = this;
                        (this.stopHandler = function () {
                            let e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
                            e.id && e.id === s.Li.get("id") && (s.Li.sync(e), t.stop());
                        }),
                            (this.eventHandler = function () {
                                let e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
                                s.Li.hasAddon("record") && e.room && e.room === s.Li.get("id") && "event" === e.type && (t._record = e);
                            }),
                            (this.webcam = new s.eB(s.vc.get("p2p"))),
                            (this.recorder = new s.KN(Object.assign({ filename: "mobile", audioBitsPerSecond: 16384, videoBitsPerSecond: 131072 }, s.vc.get("webcam.recorder") || {}))),
                            (this._muted = !0);
                    }
                    ready() {
                        this.msg(1);
                    }
                    destroy() {
                        this.stop();
                    }
                    start() {
                        if (!this.recorder.supported) return this.stop(7);
                        if (!s.Li.get("id") || s.Li.get("stoppedAt")) return this.stop(6);
                        this.msg(2), this.$$("video_btn").disable(), s.Wb.on("room:stop", this.stopHandler), s.Wb.on("chat:event", this.eventHandler), s.Wb.join(s.Li.get("id"));
                        const t = setTimeout(() => this.msg(5), 6e4),
                            e = s.vc.get("webcam") || {};
                        return (0, s.oj)({ width: e.width, height: e.height, frameRate: e.frameRate, source: e.source || "webcam", facingMode: this._facingMode || "user" })
                            .then((i) => {
                                clearTimeout(t), (this._mediaStream = i), (i.oninactive = () => this.stop());
                                const n = (0, s.v3)({ spinner: !0, mirror: !0, muted: !0 });
                                this.$$("video").setContent(n),
                                    (this._muted = !1),
                                    this.toggleMic(this._muted),
                                    (n.srcObject = i),
                                    this.webcam.broadcast({ stream: i, room: s.Li.get("id"), user: s.EA.get("id"), data: s.EA.get("nickname") || s.EA.get("id"), bitrate: e.bitrate }),
                                    s.Wb.emit("heartbeat", s.EA.get("id"));
                                var r = 0,
                                    o = Date.now();
                                this._timer = setInterval(() => {
                                    if ((++r > 60 && (r = 1), r % 30 == 0 && s.Wb.emit("heartbeat", s.EA.get("id")), this._record)) {
                                        const t = this._record;
                                        (this._record = null),
                                            (o = Date.now()),
                                            this.recorder
                                                .stop()
                                                .then((e) => {
                                                    let i = e.poster,
                                                        n = e.record;
                                                    const r = [];
                                                    i && r.push(i),
                                                        n && r.push(n),
                                                        Promise.all(
                                                            r.map((e) =>
                                                                (0, s.hj)("/api/storage", { method: "POST", body: e }).then((e) => {
                                                                    let i = e.id;
                                                                    return (0, s.hj)("/api/chat/".concat(s.Li.get("id"), "/").concat(t.id), { method: "PUT", body: { attach: [i] } });
                                                                })
                                                            )
                                                        );
                                                })
                                                .catch(console.error);
                                    } else Date.now() - o > 9e4 && this.recorder.stop();
                                    s.Li.hasAddon("record") && !this.recorder.active && this.recorder.start(n);
                                }, 1e3);
                            })
                            .then(() => {
                                this.msg(3), this.$$("video_btn").enable();
                            })
                            .catch((t) => {
                                console.error(t), this.msg(5);
                            });
                    }
                    restart() {
                        this.stop(), this.start();
                    }
                    stop() {
                        let t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 4;
                        this.msg(t),
                            this.$$("video_btn").disable(),
                            clearInterval(this._timer),
                            s.Wb.off("room:stop", this.stopHandler),
                            s.Wb.off("chat:event", this.eventHandler),
                            s.Wb.leave(s.Li.get("id")),
                            this._mediaStream && this._mediaStream.active && (this._mediaStream.getTracks().forEach((t) => t.stop()), (this._mediaStream = null)),
                            this.webcam.stop(),
                            this.recorder.stop(),
                            (this._attach = null);
                        const e = document.createElement("a");
                        (e.className = "mobile__play_btn"), (e.innerHTML = '<span class="mdi mdi-play"></span>'), this.$$("video").setContent(e);
                    }
                    toggleMic(t) {
                        this._muted = "boolean" == typeof t ? t : !this._muted;
                        const e = this._mediaStream;
                        return e && e.getAudioTracks().forEach((t) => (t.enabled = this._muted)), this._muted;
                    }
                    switchCamera() {
                        (this._facingMode = "environment" !== this._facingMode ? "environment" : "user"), this.restart();
                    }
                    msg(t) {
                        const e = this.app.getService("locale")._;
                        let i;
                        switch (t) {
                            case 1:
                                i = { type: "info", message: e("mobile.message.ready") };
                                break;
                            case 2:
                                i = { type: "loading", message: e("mobile.message.loading") };
                                break;
                            case 3:
                                i = { type: "info", message: e("mobile.message.started") };
                                break;
                            case 4:
                                i = { type: "info", message: e("mobile.message.stopped") };
                                break;
                            case 5:
                                i = { type: "error", message: e("mobile.message.camerr"), button: { name: "retry", label: e("mobile.button.retry") } };
                                break;
                            case 6:
                                i = { type: "error", message: e("mobile.message.unavailable"), button: { name: "retry", label: e("mobile.button.retry") } };
                                break;
                            case 7:
                                i = { type: "error", message: e("mobile.message.unsupported") };
                        }
                        i && this.$$("alert").setValues(i);
                    }
                }
            },
            8050: (t, e, i) => {
                "use strict";
                i.r(e), i.d(e, { default: () => Zp });
                var n = i(3036),
                    s = i(633),
                    r = "undefined" != typeof globalThis ? globalThis : "undefined" != typeof window ? window : void 0 !== i.g ? i.g : "undefined" != typeof self ? self : {};
                function o(t, e, i) {
                    return (
                        t(
                            (i = {
                                path: e,
                                exports: {},
                                require: function (t, e) {
                                    return a(null == e && i.path);
                                },
                            }),
                            i.exports
                        ),
                        i.exports
                    );
                }
                function a() {
                    throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs");
                }
                var l = o(function (t, e) {
                        t.exports = (function () {
                            var e, i;
                            function n() {
                                return e.apply(null, arguments);
                            }
                            function s(t) {
                                e = t;
                            }
                            function r(t) {
                                return t instanceof Array || "[object Array]" === Object.prototype.toString.call(t);
                            }
                            function o(t) {
                                return null != t && "[object Object]" === Object.prototype.toString.call(t);
                            }
                            function l(t, e) {
                                return Object.prototype.hasOwnProperty.call(t, e);
                            }
                            function h(t) {
                                if (Object.getOwnPropertyNames) return 0 === Object.getOwnPropertyNames(t).length;
                                var e;
                                for (e in t) if (l(t, e)) return !1;
                                return !0;
                            }
                            function c(t) {
                                return void 0 === t;
                            }
                            function d(t) {
                                return "number" == typeof t || "[object Number]" === Object.prototype.toString.call(t);
                            }
                            function u(t) {
                                return t instanceof Date || "[object Date]" === Object.prototype.toString.call(t);
                            }
                            function p(t, e) {
                                var i,
                                    n = [];
                                for (i = 0; i < t.length; ++i) n.push(e(t[i], i));
                                return n;
                            }
                            function f(t, e) {
                                for (var i in e) l(e, i) && (t[i] = e[i]);
                                return l(e, "toString") && (t.toString = e.toString), l(e, "valueOf") && (t.valueOf = e.valueOf), t;
                            }
                            function m(t, e, i, n) {
                                return Gi(t, e, i, n, !0).utc();
                            }
                            function g() {
                                return {
                                    empty: !1,
                                    unusedTokens: [],
                                    unusedInput: [],
                                    overflow: -2,
                                    charsLeftOver: 0,
                                    nullInput: !1,
                                    invalidEra: null,
                                    invalidMonth: null,
                                    invalidFormat: !1,
                                    userInvalidated: !1,
                                    iso: !1,
                                    parsedDateParts: [],
                                    era: null,
                                    meridiem: null,
                                    rfc2822: !1,
                                    weekdayMismatch: !1,
                                };
                            }
                            function v(t) {
                                return null == t._pf && (t._pf = g()), t._pf;
                            }
                            function b(t) {
                                if (null == t._isValid) {
                                    var e = v(t),
                                        n = i.call(e.parsedDateParts, function (t) {
                                            return null != t;
                                        }),
                                        s =
                                            !isNaN(t._d.getTime()) &&
                                            e.overflow < 0 &&
                                            !e.empty &&
                                            !e.invalidEra &&
                                            !e.invalidMonth &&
                                            !e.invalidWeekday &&
                                            !e.weekdayMismatch &&
                                            !e.nullInput &&
                                            !e.invalidFormat &&
                                            !e.userInvalidated &&
                                            (!e.meridiem || (e.meridiem && n));
                                    if ((t._strict && (s = s && 0 === e.charsLeftOver && 0 === e.unusedTokens.length && void 0 === e.bigHour), null != Object.isFrozen && Object.isFrozen(t))) return s;
                                    t._isValid = s;
                                }
                                return t._isValid;
                            }
                            function y(t) {
                                var e = m(NaN);
                                return null != t ? f(v(e), t) : (v(e).userInvalidated = !0), e;
                            }
                            i = Array.prototype.some
                                ? Array.prototype.some
                                : function (t) {
                                      var e,
                                          i = Object(this),
                                          n = i.length >>> 0;
                                      for (e = 0; e < n; e++) if (e in i && t.call(this, i[e], e, i)) return !0;
                                      return !1;
                                  };
                            var w = (n.momentProperties = []),
                                x = !1;
                            function _(t, e) {
                                var i, n, s;
                                if (
                                    (c(e._isAMomentObject) || (t._isAMomentObject = e._isAMomentObject),
                                    c(e._i) || (t._i = e._i),
                                    c(e._f) || (t._f = e._f),
                                    c(e._l) || (t._l = e._l),
                                    c(e._strict) || (t._strict = e._strict),
                                    c(e._tzm) || (t._tzm = e._tzm),
                                    c(e._isUTC) || (t._isUTC = e._isUTC),
                                    c(e._offset) || (t._offset = e._offset),
                                    c(e._pf) || (t._pf = v(e)),
                                    c(e._locale) || (t._locale = e._locale),
                                    w.length > 0)
                                )
                                    for (i = 0; i < w.length; i++) c((s = e[(n = w[i])])) || (t[n] = s);
                                return t;
                            }
                            function k(t) {
                                _(this, t), (this._d = new Date(null != t._d ? t._d.getTime() : NaN)), this.isValid() || (this._d = new Date(NaN)), !1 === x && ((x = !0), n.updateOffset(this), (x = !1));
                            }
                            function P(t) {
                                return t instanceof k || (null != t && null != t._isAMomentObject);
                            }
                            function S(t) {
                                !1 === n.suppressDeprecationWarnings && "undefined" != typeof console && console.warn && console.warn("Deprecation warning: " + t);
                            }
                            function C(t, e) {
                                var i = !0;
                                return f(function () {
                                    if ((null != n.deprecationHandler && n.deprecationHandler(null, t), i)) {
                                        var s,
                                            r,
                                            o,
                                            a = [];
                                        for (r = 0; r < arguments.length; r++) {
                                            if (((s = ""), "object" == typeof arguments[r])) {
                                                for (o in ((s += "\n[" + r + "] "), arguments[0])) l(arguments[0], o) && (s += o + ": " + arguments[0][o] + ", ");
                                                s = s.slice(0, -2);
                                            } else s = arguments[r];
                                            a.push(s);
                                        }
                                        S(t + "\nArguments: " + Array.prototype.slice.call(a).join("") + "\n" + new Error().stack), (i = !1);
                                    }
                                    return e.apply(this, arguments);
                                }, e);
                            }
                            var I,
                                T = {};
                            function $(t, e) {
                                null != n.deprecationHandler && n.deprecationHandler(t, e), T[t] || (S(e), (T[t] = !0));
                            }
                            function E(t) {
                                return ("undefined" != typeof Function && t instanceof Function) || "[object Function]" === Object.prototype.toString.call(t);
                            }
                            function D(t) {
                                var e, i;
                                for (i in t) l(t, i) && (E((e = t[i])) ? (this[i] = e) : (this["_" + i] = e));
                                (this._config = t), (this._dayOfMonthOrdinalParseLenient = new RegExp((this._dayOfMonthOrdinalParse.source || this._ordinalParse.source) + "|" + /\d{1,2}/.source));
                            }
                            function M(t, e) {
                                var i,
                                    n = f({}, t);
                                for (i in e) l(e, i) && (o(t[i]) && o(e[i]) ? ((n[i] = {}), f(n[i], t[i]), f(n[i], e[i])) : null != e[i] ? (n[i] = e[i]) : delete n[i]);
                                for (i in t) l(t, i) && !l(e, i) && o(t[i]) && (n[i] = f({}, n[i]));
                                return n;
                            }
                            function A(t) {
                                null != t && this.set(t);
                            }
                            (n.suppressDeprecationWarnings = !1),
                                (n.deprecationHandler = null),
                                (I = Object.keys
                                    ? Object.keys
                                    : function (t) {
                                          var e,
                                              i = [];
                                          for (e in t) l(t, e) && i.push(e);
                                          return i;
                                      });
                            var N = { sameDay: "[Today at] LT", nextDay: "[Tomorrow at] LT", nextWeek: "dddd [at] LT", lastDay: "[Yesterday at] LT", lastWeek: "[Last] dddd [at] LT", sameElse: "L" };
                            function O(t, e, i) {
                                var n = this._calendar[t] || this._calendar.sameElse;
                                return E(n) ? n.call(e, i) : n;
                            }
                            function R(t, e, i) {
                                var n = "" + Math.abs(t),
                                    s = e - n.length;
                                return (t >= 0 ? (i ? "+" : "") : "-") + Math.pow(10, Math.max(0, s)).toString().substr(1) + n;
                            }
                            var V = /(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,
                                L = /(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,
                                j = {},
                                F = {};
                            function z(t, e, i, n) {
                                var s = n;
                                "string" == typeof n &&
                                    (s = function () {
                                        return this[n]();
                                    }),
                                    t && (F[t] = s),
                                    e &&
                                        (F[e[0]] = function () {
                                            return R(s.apply(this, arguments), e[1], e[2]);
                                        }),
                                    i &&
                                        (F[i] = function () {
                                            return this.localeData().ordinal(s.apply(this, arguments), t);
                                        });
                            }
                            function H(t) {
                                return t.match(/\[[\s\S]/) ? t.replace(/^\[|\]$/g, "") : t.replace(/\\/g, "");
                            }
                            function W(t) {
                                var e,
                                    i,
                                    n = t.match(V);
                                for (e = 0, i = n.length; e < i; e++) F[n[e]] ? (n[e] = F[n[e]]) : (n[e] = H(n[e]));
                                return function (e) {
                                    var s,
                                        r = "";
                                    for (s = 0; s < i; s++) r += E(n[s]) ? n[s].call(e, t) : n[s];
                                    return r;
                                };
                            }
                            function B(t, e) {
                                return t.isValid() ? ((e = Y(e, t.localeData())), (j[e] = j[e] || W(e)), j[e](t)) : t.localeData().invalidDate();
                            }
                            function Y(t, e) {
                                var i = 5;
                                function n(t) {
                                    return e.longDateFormat(t) || t;
                                }
                                for (L.lastIndex = 0; i >= 0 && L.test(t); ) (t = t.replace(L, n)), (L.lastIndex = 0), (i -= 1);
                                return t;
                            }
                            var U = { LTS: "h:mm:ss A", LT: "h:mm A", L: "MM/DD/YYYY", LL: "MMMM D, YYYY", LLL: "MMMM D, YYYY h:mm A", LLLL: "dddd, MMMM D, YYYY h:mm A" };
                            function G(t) {
                                var e = this._longDateFormat[t],
                                    i = this._longDateFormat[t.toUpperCase()];
                                return e || !i
                                    ? e
                                    : ((this._longDateFormat[t] = i
                                          .match(V)
                                          .map(function (t) {
                                              return "MMMM" === t || "MM" === t || "DD" === t || "dddd" === t ? t.slice(1) : t;
                                          })
                                          .join("")),
                                      this._longDateFormat[t]);
                            }
                            var q = "Invalid date";
                            function X() {
                                return this._invalidDate;
                            }
                            var K = "%d",
                                Z = /\d{1,2}/;
                            function J(t) {
                                return this._ordinal.replace("%d", t);
                            }
                            var Q = {
                                future: "in %s",
                                past: "%s ago",
                                s: "a few seconds",
                                ss: "%d seconds",
                                m: "a minute",
                                mm: "%d minutes",
                                h: "an hour",
                                hh: "%d hours",
                                d: "a day",
                                dd: "%d days",
                                w: "a week",
                                ww: "%d weeks",
                                M: "a month",
                                MM: "%d months",
                                y: "a year",
                                yy: "%d years",
                            };
                            function tt(t, e, i, n) {
                                var s = this._relativeTime[i];
                                return E(s) ? s(t, e, i, n) : s.replace(/%d/i, t);
                            }
                            function et(t, e) {
                                var i = this._relativeTime[t > 0 ? "future" : "past"];
                                return E(i) ? i(e) : i.replace(/%s/i, e);
                            }
                            var it = {};
                            function nt(t, e) {
                                var i = t.toLowerCase();
                                it[i] = it[i + "s"] = it[e] = t;
                            }
                            function st(t) {
                                return "string" == typeof t ? it[t] || it[t.toLowerCase()] : void 0;
                            }
                            function rt(t) {
                                var e,
                                    i,
                                    n = {};
                                for (i in t) l(t, i) && (e = st(i)) && (n[e] = t[i]);
                                return n;
                            }
                            var ot = {};
                            function at(t, e) {
                                ot[t] = e;
                            }
                            function lt(t) {
                                var e,
                                    i = [];
                                for (e in t) l(t, e) && i.push({ unit: e, priority: ot[e] });
                                return (
                                    i.sort(function (t, e) {
                                        return t.priority - e.priority;
                                    }),
                                    i
                                );
                            }
                            function ht(t) {
                                return (t % 4 == 0 && t % 100 != 0) || t % 400 == 0;
                            }
                            function ct(t) {
                                return t < 0 ? Math.ceil(t) || 0 : Math.floor(t);
                            }
                            function dt(t) {
                                var e = +t,
                                    i = 0;
                                return 0 !== e && isFinite(e) && (i = ct(e)), i;
                            }
                            function ut(t, e) {
                                return function (i) {
                                    return null != i ? (ft(this, t, i), n.updateOffset(this, e), this) : pt(this, t);
                                };
                            }
                            function pt(t, e) {
                                return t.isValid() ? t._d["get" + (t._isUTC ? "UTC" : "") + e]() : NaN;
                            }
                            function ft(t, e, i) {
                                t.isValid() &&
                                    !isNaN(i) &&
                                    ("FullYear" === e && ht(t.year()) && 1 === t.month() && 29 === t.date()
                                        ? ((i = dt(i)), t._d["set" + (t._isUTC ? "UTC" : "") + e](i, t.month(), te(i, t.month())))
                                        : t._d["set" + (t._isUTC ? "UTC" : "") + e](i));
                            }
                            function mt(t) {
                                return E(this[(t = st(t))]) ? this[t]() : this;
                            }
                            function gt(t, e) {
                                if ("object" == typeof t) {
                                    var i,
                                        n = lt((t = rt(t)));
                                    for (i = 0; i < n.length; i++) this[n[i].unit](t[n[i].unit]);
                                } else if (E(this[(t = st(t))])) return this[t](e);
                                return this;
                            }
                            var vt,
                                bt = /\d/,
                                yt = /\d\d/,
                                wt = /\d{3}/,
                                xt = /\d{4}/,
                                _t = /[+-]?\d{6}/,
                                kt = /\d\d?/,
                                Pt = /\d\d\d\d?/,
                                St = /\d\d\d\d\d\d?/,
                                Ct = /\d{1,3}/,
                                It = /\d{1,4}/,
                                Tt = /[+-]?\d{1,6}/,
                                $t = /\d+/,
                                Et = /[+-]?\d+/,
                                Dt = /Z|[+-]\d\d:?\d\d/gi,
                                Mt = /Z|[+-]\d\d(?::?\d\d)?/gi,
                                At = /[+-]?\d+(\.\d{1,3})?/,
                                Nt = /[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i;
                            function Ot(t, e, i) {
                                vt[t] = E(e)
                                    ? e
                                    : function (t, n) {
                                          return t && i ? i : e;
                                      };
                            }
                            function Rt(t, e) {
                                return l(vt, t) ? vt[t](e._strict, e._locale) : new RegExp(Vt(t));
                            }
                            function Vt(t) {
                                return Lt(
                                    t.replace("\\", "").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g, function (t, e, i, n, s) {
                                        return e || i || n || s;
                                    })
                                );
                            }
                            function Lt(t) {
                                return t.replace(/[-\/\\^$*+?.()|[\]{}]/g, "\\$&");
                            }
                            vt = {};
                            var jt = {};
                            function Ft(t, e) {
                                var i,
                                    n = e;
                                for (
                                    "string" == typeof t && (t = [t]),
                                        d(e) &&
                                            (n = function (t, i) {
                                                i[e] = dt(t);
                                            }),
                                        i = 0;
                                    i < t.length;
                                    i++
                                )
                                    jt[t[i]] = n;
                            }
                            function zt(t, e) {
                                Ft(t, function (t, i, n, s) {
                                    (n._w = n._w || {}), e(t, n._w, n, s);
                                });
                            }
                            function Ht(t, e, i) {
                                null != e && l(jt, t) && jt[t](e, i._a, i, t);
                            }
                            var Wt,
                                Bt = 0,
                                Yt = 1,
                                Ut = 2,
                                Gt = 3,
                                qt = 4,
                                Xt = 5,
                                Kt = 6,
                                Zt = 7,
                                Jt = 8;
                            function Qt(t, e) {
                                return ((t % e) + e) % e;
                            }
                            function te(t, e) {
                                if (isNaN(t) || isNaN(e)) return NaN;
                                var i = Qt(e, 12);
                                return (t += (e - i) / 12), 1 === i ? (ht(t) ? 29 : 28) : 31 - ((i % 7) % 2);
                            }
                            (Wt = Array.prototype.indexOf
                                ? Array.prototype.indexOf
                                : function (t) {
                                      var e;
                                      for (e = 0; e < this.length; ++e) if (this[e] === t) return e;
                                      return -1;
                                  }),
                                z("M", ["MM", 2], "Mo", function () {
                                    return this.month() + 1;
                                }),
                                z("MMM", 0, 0, function (t) {
                                    return this.localeData().monthsShort(this, t);
                                }),
                                z("MMMM", 0, 0, function (t) {
                                    return this.localeData().months(this, t);
                                }),
                                nt("month", "M"),
                                at("month", 8),
                                Ot("M", kt),
                                Ot("MM", kt, yt),
                                Ot("MMM", function (t, e) {
                                    return e.monthsShortRegex(t);
                                }),
                                Ot("MMMM", function (t, e) {
                                    return e.monthsRegex(t);
                                }),
                                Ft(["M", "MM"], function (t, e) {
                                    e[Yt] = dt(t) - 1;
                                }),
                                Ft(["MMM", "MMMM"], function (t, e, i, n) {
                                    var s = i._locale.monthsParse(t, n, i._strict);
                                    null != s ? (e[Yt] = s) : (v(i).invalidMonth = t);
                                });
                            var ee = "January_February_March_April_May_June_July_August_September_October_November_December".split("_"),
                                ie = "Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),
                                ne = /D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,
                                se = Nt,
                                re = Nt;
                            function oe(t, e) {
                                return t ? (r(this._months) ? this._months[t.month()] : this._months[(this._months.isFormat || ne).test(e) ? "format" : "standalone"][t.month()]) : r(this._months) ? this._months : this._months.standalone;
                            }
                            function ae(t, e) {
                                return t ? (r(this._monthsShort) ? this._monthsShort[t.month()] : this._monthsShort[ne.test(e) ? "format" : "standalone"][t.month()]) : r(this._monthsShort) ? this._monthsShort : this._monthsShort.standalone;
                            }
                            function le(t, e, i) {
                                var n,
                                    s,
                                    r,
                                    o = t.toLocaleLowerCase();
                                if (!this._monthsParse)
                                    for (this._monthsParse = [], this._longMonthsParse = [], this._shortMonthsParse = [], n = 0; n < 12; ++n)
                                        (r = m([2e3, n])), (this._shortMonthsParse[n] = this.monthsShort(r, "").toLocaleLowerCase()), (this._longMonthsParse[n] = this.months(r, "").toLocaleLowerCase());
                                return i
                                    ? "MMM" === e
                                        ? -1 !== (s = Wt.call(this._shortMonthsParse, o))
                                            ? s
                                            : null
                                        : -1 !== (s = Wt.call(this._longMonthsParse, o))
                                        ? s
                                        : null
                                    : "MMM" === e
                                    ? -1 !== (s = Wt.call(this._shortMonthsParse, o)) || -1 !== (s = Wt.call(this._longMonthsParse, o))
                                        ? s
                                        : null
                                    : -1 !== (s = Wt.call(this._longMonthsParse, o)) || -1 !== (s = Wt.call(this._shortMonthsParse, o))
                                    ? s
                                    : null;
                            }
                            function he(t, e, i) {
                                var n, s, r;
                                if (this._monthsParseExact) return le.call(this, t, e, i);
                                for (this._monthsParse || ((this._monthsParse = []), (this._longMonthsParse = []), (this._shortMonthsParse = [])), n = 0; n < 12; n++) {
                                    if (
                                        ((s = m([2e3, n])),
                                        i &&
                                            !this._longMonthsParse[n] &&
                                            ((this._longMonthsParse[n] = new RegExp("^" + this.months(s, "").replace(".", "") + "$", "i")),
                                            (this._shortMonthsParse[n] = new RegExp("^" + this.monthsShort(s, "").replace(".", "") + "$", "i"))),
                                        i || this._monthsParse[n] || ((r = "^" + this.months(s, "") + "|^" + this.monthsShort(s, "")), (this._monthsParse[n] = new RegExp(r.replace(".", ""), "i"))),
                                        i && "MMMM" === e && this._longMonthsParse[n].test(t))
                                    )
                                        return n;
                                    if (i && "MMM" === e && this._shortMonthsParse[n].test(t)) return n;
                                    if (!i && this._monthsParse[n].test(t)) return n;
                                }
                            }
                            function ce(t, e) {
                                var i;
                                if (!t.isValid()) return t;
                                if ("string" == typeof e)
                                    if (/^\d+$/.test(e)) e = dt(e);
                                    else if (!d((e = t.localeData().monthsParse(e)))) return t;
                                return (i = Math.min(t.date(), te(t.year(), e))), t._d["set" + (t._isUTC ? "UTC" : "") + "Month"](e, i), t;
                            }
                            function de(t) {
                                return null != t ? (ce(this, t), n.updateOffset(this, !0), this) : pt(this, "Month");
                            }
                            function ue() {
                                return te(this.year(), this.month());
                            }
                            function pe(t) {
                                return this._monthsParseExact
                                    ? (l(this, "_monthsRegex") || me.call(this), t ? this._monthsShortStrictRegex : this._monthsShortRegex)
                                    : (l(this, "_monthsShortRegex") || (this._monthsShortRegex = se), this._monthsShortStrictRegex && t ? this._monthsShortStrictRegex : this._monthsShortRegex);
                            }
                            function fe(t) {
                                return this._monthsParseExact
                                    ? (l(this, "_monthsRegex") || me.call(this), t ? this._monthsStrictRegex : this._monthsRegex)
                                    : (l(this, "_monthsRegex") || (this._monthsRegex = re), this._monthsStrictRegex && t ? this._monthsStrictRegex : this._monthsRegex);
                            }
                            function me() {
                                function t(t, e) {
                                    return e.length - t.length;
                                }
                                var e,
                                    i,
                                    n = [],
                                    s = [],
                                    r = [];
                                for (e = 0; e < 12; e++) (i = m([2e3, e])), n.push(this.monthsShort(i, "")), s.push(this.months(i, "")), r.push(this.months(i, "")), r.push(this.monthsShort(i, ""));
                                for (n.sort(t), s.sort(t), r.sort(t), e = 0; e < 12; e++) (n[e] = Lt(n[e])), (s[e] = Lt(s[e]));
                                for (e = 0; e < 24; e++) r[e] = Lt(r[e]);
                                (this._monthsRegex = new RegExp("^(" + r.join("|") + ")", "i")),
                                    (this._monthsShortRegex = this._monthsRegex),
                                    (this._monthsStrictRegex = new RegExp("^(" + s.join("|") + ")", "i")),
                                    (this._monthsShortStrictRegex = new RegExp("^(" + n.join("|") + ")", "i"));
                            }
                            function ge(t) {
                                return ht(t) ? 366 : 365;
                            }
                            z("Y", 0, 0, function () {
                                var t = this.year();
                                return t <= 9999 ? R(t, 4) : "+" + t;
                            }),
                                z(0, ["YY", 2], 0, function () {
                                    return this.year() % 100;
                                }),
                                z(0, ["YYYY", 4], 0, "year"),
                                z(0, ["YYYYY", 5], 0, "year"),
                                z(0, ["YYYYYY", 6, !0], 0, "year"),
                                nt("year", "y"),
                                at("year", 1),
                                Ot("Y", Et),
                                Ot("YY", kt, yt),
                                Ot("YYYY", It, xt),
                                Ot("YYYYY", Tt, _t),
                                Ot("YYYYYY", Tt, _t),
                                Ft(["YYYYY", "YYYYYY"], Bt),
                                Ft("YYYY", function (t, e) {
                                    e[Bt] = 2 === t.length ? n.parseTwoDigitYear(t) : dt(t);
                                }),
                                Ft("YY", function (t, e) {
                                    e[Bt] = n.parseTwoDigitYear(t);
                                }),
                                Ft("Y", function (t, e) {
                                    e[Bt] = parseInt(t, 10);
                                }),
                                (n.parseTwoDigitYear = function (t) {
                                    return dt(t) + (dt(t) > 68 ? 1900 : 2e3);
                                });
                            var ve = ut("FullYear", !0);
                            function be() {
                                return ht(this.year());
                            }
                            function ye(t, e, i, n, s, r, o) {
                                var a;
                                return t < 100 && t >= 0 ? ((a = new Date(t + 400, e, i, n, s, r, o)), isFinite(a.getFullYear()) && a.setFullYear(t)) : (a = new Date(t, e, i, n, s, r, o)), a;
                            }
                            function we(t) {
                                var e, i;
                                return (
                                    t < 100 && t >= 0
                                        ? (((i = Array.prototype.slice.call(arguments))[0] = t + 400), (e = new Date(Date.UTC.apply(null, i))), isFinite(e.getUTCFullYear()) && e.setUTCFullYear(t))
                                        : (e = new Date(Date.UTC.apply(null, arguments))),
                                    e
                                );
                            }
                            function xe(t, e, i) {
                                var n = 7 + e - i;
                                return (-(7 + we(t, 0, n).getUTCDay() - e) % 7) + n - 1;
                            }
                            function _e(t, e, i, n, s) {
                                var r,
                                    o,
                                    a = 1 + 7 * (e - 1) + ((7 + i - n) % 7) + xe(t, n, s);
                                return a <= 0 ? (o = ge((r = t - 1)) + a) : a > ge(t) ? ((r = t + 1), (o = a - ge(t))) : ((r = t), (o = a)), { year: r, dayOfYear: o };
                            }
                            function ke(t, e, i) {
                                var n,
                                    s,
                                    r = xe(t.year(), e, i),
                                    o = Math.floor((t.dayOfYear() - r - 1) / 7) + 1;
                                return o < 1 ? (n = o + Pe((s = t.year() - 1), e, i)) : o > Pe(t.year(), e, i) ? ((n = o - Pe(t.year(), e, i)), (s = t.year() + 1)) : ((s = t.year()), (n = o)), { week: n, year: s };
                            }
                            function Pe(t, e, i) {
                                var n = xe(t, e, i),
                                    s = xe(t + 1, e, i);
                                return (ge(t) - n + s) / 7;
                            }
                            function Se(t) {
                                return ke(t, this._week.dow, this._week.doy).week;
                            }
                            z("w", ["ww", 2], "wo", "week"),
                                z("W", ["WW", 2], "Wo", "isoWeek"),
                                nt("week", "w"),
                                nt("isoWeek", "W"),
                                at("week", 5),
                                at("isoWeek", 5),
                                Ot("w", kt),
                                Ot("ww", kt, yt),
                                Ot("W", kt),
                                Ot("WW", kt, yt),
                                zt(["w", "ww", "W", "WW"], function (t, e, i, n) {
                                    e[n.substr(0, 1)] = dt(t);
                                });
                            var Ce = { dow: 0, doy: 6 };
                            function Ie() {
                                return this._week.dow;
                            }
                            function Te() {
                                return this._week.doy;
                            }
                            function $e(t) {
                                var e = this.localeData().week(this);
                                return null == t ? e : this.add(7 * (t - e), "d");
                            }
                            function Ee(t) {
                                var e = ke(this, 1, 4).week;
                                return null == t ? e : this.add(7 * (t - e), "d");
                            }
                            function De(t, e) {
                                return "string" != typeof t ? t : isNaN(t) ? ("number" == typeof (t = e.weekdaysParse(t)) ? t : null) : parseInt(t, 10);
                            }
                            function Me(t, e) {
                                return "string" == typeof t ? e.weekdaysParse(t) % 7 || 7 : isNaN(t) ? null : t;
                            }
                            function Ae(t, e) {
                                return t.slice(e, 7).concat(t.slice(0, e));
                            }
                            z("d", 0, "do", "day"),
                                z("dd", 0, 0, function (t) {
                                    return this.localeData().weekdaysMin(this, t);
                                }),
                                z("ddd", 0, 0, function (t) {
                                    return this.localeData().weekdaysShort(this, t);
                                }),
                                z("dddd", 0, 0, function (t) {
                                    return this.localeData().weekdays(this, t);
                                }),
                                z("e", 0, 0, "weekday"),
                                z("E", 0, 0, "isoWeekday"),
                                nt("day", "d"),
                                nt("weekday", "e"),
                                nt("isoWeekday", "E"),
                                at("day", 11),
                                at("weekday", 11),
                                at("isoWeekday", 11),
                                Ot("d", kt),
                                Ot("e", kt),
                                Ot("E", kt),
                                Ot("dd", function (t, e) {
                                    return e.weekdaysMinRegex(t);
                                }),
                                Ot("ddd", function (t, e) {
                                    return e.weekdaysShortRegex(t);
                                }),
                                Ot("dddd", function (t, e) {
                                    return e.weekdaysRegex(t);
                                }),
                                zt(["dd", "ddd", "dddd"], function (t, e, i, n) {
                                    var s = i._locale.weekdaysParse(t, n, i._strict);
                                    null != s ? (e.d = s) : (v(i).invalidWeekday = t);
                                }),
                                zt(["d", "e", "E"], function (t, e, i, n) {
                                    e[n] = dt(t);
                                });
                            var Ne = "Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),
                                Oe = "Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),
                                Re = "Su_Mo_Tu_We_Th_Fr_Sa".split("_"),
                                Ve = Nt,
                                Le = Nt,
                                je = Nt;
                            function Fe(t, e) {
                                var i = r(this._weekdays) ? this._weekdays : this._weekdays[t && !0 !== t && this._weekdays.isFormat.test(e) ? "format" : "standalone"];
                                return !0 === t ? Ae(i, this._week.dow) : t ? i[t.day()] : i;
                            }
                            function ze(t) {
                                return !0 === t ? Ae(this._weekdaysShort, this._week.dow) : t ? this._weekdaysShort[t.day()] : this._weekdaysShort;
                            }
                            function He(t) {
                                return !0 === t ? Ae(this._weekdaysMin, this._week.dow) : t ? this._weekdaysMin[t.day()] : this._weekdaysMin;
                            }
                            function We(t, e, i) {
                                var n,
                                    s,
                                    r,
                                    o = t.toLocaleLowerCase();
                                if (!this._weekdaysParse)
                                    for (this._weekdaysParse = [], this._shortWeekdaysParse = [], this._minWeekdaysParse = [], n = 0; n < 7; ++n)
                                        (r = m([2e3, 1]).day(n)),
                                            (this._minWeekdaysParse[n] = this.weekdaysMin(r, "").toLocaleLowerCase()),
                                            (this._shortWeekdaysParse[n] = this.weekdaysShort(r, "").toLocaleLowerCase()),
                                            (this._weekdaysParse[n] = this.weekdays(r, "").toLocaleLowerCase());
                                return i
                                    ? "dddd" === e
                                        ? -1 !== (s = Wt.call(this._weekdaysParse, o))
                                            ? s
                                            : null
                                        : "ddd" === e
                                        ? -1 !== (s = Wt.call(this._shortWeekdaysParse, o))
                                            ? s
                                            : null
                                        : -1 !== (s = Wt.call(this._minWeekdaysParse, o))
                                        ? s
                                        : null
                                    : "dddd" === e
                                    ? -1 !== (s = Wt.call(this._weekdaysParse, o)) || -1 !== (s = Wt.call(this._shortWeekdaysParse, o)) || -1 !== (s = Wt.call(this._minWeekdaysParse, o))
                                        ? s
                                        : null
                                    : "ddd" === e
                                    ? -1 !== (s = Wt.call(this._shortWeekdaysParse, o)) || -1 !== (s = Wt.call(this._weekdaysParse, o)) || -1 !== (s = Wt.call(this._minWeekdaysParse, o))
                                        ? s
                                        : null
                                    : -1 !== (s = Wt.call(this._minWeekdaysParse, o)) || -1 !== (s = Wt.call(this._weekdaysParse, o)) || -1 !== (s = Wt.call(this._shortWeekdaysParse, o))
                                    ? s
                                    : null;
                            }
                            function Be(t, e, i) {
                                var n, s, r;
                                if (this._weekdaysParseExact) return We.call(this, t, e, i);
                                for (this._weekdaysParse || ((this._weekdaysParse = []), (this._minWeekdaysParse = []), (this._shortWeekdaysParse = []), (this._fullWeekdaysParse = [])), n = 0; n < 7; n++) {
                                    if (
                                        ((s = m([2e3, 1]).day(n)),
                                        i &&
                                            !this._fullWeekdaysParse[n] &&
                                            ((this._fullWeekdaysParse[n] = new RegExp("^" + this.weekdays(s, "").replace(".", "\\.?") + "$", "i")),
                                            (this._shortWeekdaysParse[n] = new RegExp("^" + this.weekdaysShort(s, "").replace(".", "\\.?") + "$", "i")),
                                            (this._minWeekdaysParse[n] = new RegExp("^" + this.weekdaysMin(s, "").replace(".", "\\.?") + "$", "i"))),
                                        this._weekdaysParse[n] || ((r = "^" + this.weekdays(s, "") + "|^" + this.weekdaysShort(s, "") + "|^" + this.weekdaysMin(s, "")), (this._weekdaysParse[n] = new RegExp(r.replace(".", ""), "i"))),
                                        i && "dddd" === e && this._fullWeekdaysParse[n].test(t))
                                    )
                                        return n;
                                    if (i && "ddd" === e && this._shortWeekdaysParse[n].test(t)) return n;
                                    if (i && "dd" === e && this._minWeekdaysParse[n].test(t)) return n;
                                    if (!i && this._weekdaysParse[n].test(t)) return n;
                                }
                            }
                            function Ye(t) {
                                if (!this.isValid()) return null != t ? this : NaN;
                                var e = this._isUTC ? this._d.getUTCDay() : this._d.getDay();
                                return null != t ? ((t = De(t, this.localeData())), this.add(t - e, "d")) : e;
                            }
                            function Ue(t) {
                                if (!this.isValid()) return null != t ? this : NaN;
                                var e = (this.day() + 7 - this.localeData()._week.dow) % 7;
                                return null == t ? e : this.add(t - e, "d");
                            }
                            function Ge(t) {
                                if (!this.isValid()) return null != t ? this : NaN;
                                if (null != t) {
                                    var e = Me(t, this.localeData());
                                    return this.day(this.day() % 7 ? e : e - 7);
                                }
                                return this.day() || 7;
                            }
                            function qe(t) {
                                return this._weekdaysParseExact
                                    ? (l(this, "_weekdaysRegex") || Ze.call(this), t ? this._weekdaysStrictRegex : this._weekdaysRegex)
                                    : (l(this, "_weekdaysRegex") || (this._weekdaysRegex = Ve), this._weekdaysStrictRegex && t ? this._weekdaysStrictRegex : this._weekdaysRegex);
                            }
                            function Xe(t) {
                                return this._weekdaysParseExact
                                    ? (l(this, "_weekdaysRegex") || Ze.call(this), t ? this._weekdaysShortStrictRegex : this._weekdaysShortRegex)
                                    : (l(this, "_weekdaysShortRegex") || (this._weekdaysShortRegex = Le), this._weekdaysShortStrictRegex && t ? this._weekdaysShortStrictRegex : this._weekdaysShortRegex);
                            }
                            function Ke(t) {
                                return this._weekdaysParseExact
                                    ? (l(this, "_weekdaysRegex") || Ze.call(this), t ? this._weekdaysMinStrictRegex : this._weekdaysMinRegex)
                                    : (l(this, "_weekdaysMinRegex") || (this._weekdaysMinRegex = je), this._weekdaysMinStrictRegex && t ? this._weekdaysMinStrictRegex : this._weekdaysMinRegex);
                            }
                            function Ze() {
                                function t(t, e) {
                                    return e.length - t.length;
                                }
                                var e,
                                    i,
                                    n,
                                    s,
                                    r,
                                    o = [],
                                    a = [],
                                    l = [],
                                    h = [];
                                for (e = 0; e < 7; e++)
                                    (i = m([2e3, 1]).day(e)), (n = Lt(this.weekdaysMin(i, ""))), (s = Lt(this.weekdaysShort(i, ""))), (r = Lt(this.weekdays(i, ""))), o.push(n), a.push(s), l.push(r), h.push(n), h.push(s), h.push(r);
                                o.sort(t),
                                    a.sort(t),
                                    l.sort(t),
                                    h.sort(t),
                                    (this._weekdaysRegex = new RegExp("^(" + h.join("|") + ")", "i")),
                                    (this._weekdaysShortRegex = this._weekdaysRegex),
                                    (this._weekdaysMinRegex = this._weekdaysRegex),
                                    (this._weekdaysStrictRegex = new RegExp("^(" + l.join("|") + ")", "i")),
                                    (this._weekdaysShortStrictRegex = new RegExp("^(" + a.join("|") + ")", "i")),
                                    (this._weekdaysMinStrictRegex = new RegExp("^(" + o.join("|") + ")", "i"));
                            }
                            function Je() {
                                return this.hours() % 12 || 12;
                            }
                            function Qe() {
                                return this.hours() || 24;
                            }
                            function ti(t, e) {
                                z(t, 0, 0, function () {
                                    return this.localeData().meridiem(this.hours(), this.minutes(), e);
                                });
                            }
                            function ei(t, e) {
                                return e._meridiemParse;
                            }
                            function ii(t) {
                                return "p" === (t + "").toLowerCase().charAt(0);
                            }
                            z("H", ["HH", 2], 0, "hour"),
                                z("h", ["hh", 2], 0, Je),
                                z("k", ["kk", 2], 0, Qe),
                                z("hmm", 0, 0, function () {
                                    return "" + Je.apply(this) + R(this.minutes(), 2);
                                }),
                                z("hmmss", 0, 0, function () {
                                    return "" + Je.apply(this) + R(this.minutes(), 2) + R(this.seconds(), 2);
                                }),
                                z("Hmm", 0, 0, function () {
                                    return "" + this.hours() + R(this.minutes(), 2);
                                }),
                                z("Hmmss", 0, 0, function () {
                                    return "" + this.hours() + R(this.minutes(), 2) + R(this.seconds(), 2);
                                }),
                                ti("a", !0),
                                ti("A", !1),
                                nt("hour", "h"),
                                at("hour", 13),
                                Ot("a", ei),
                                Ot("A", ei),
                                Ot("H", kt),
                                Ot("h", kt),
                                Ot("k", kt),
                                Ot("HH", kt, yt),
                                Ot("hh", kt, yt),
                                Ot("kk", kt, yt),
                                Ot("hmm", Pt),
                                Ot("hmmss", St),
                                Ot("Hmm", Pt),
                                Ot("Hmmss", St),
                                Ft(["H", "HH"], Gt),
                                Ft(["k", "kk"], function (t, e, i) {
                                    var n = dt(t);
                                    e[Gt] = 24 === n ? 0 : n;
                                }),
                                Ft(["a", "A"], function (t, e, i) {
                                    (i._isPm = i._locale.isPM(t)), (i._meridiem = t);
                                }),
                                Ft(["h", "hh"], function (t, e, i) {
                                    (e[Gt] = dt(t)), (v(i).bigHour = !0);
                                }),
                                Ft("hmm", function (t, e, i) {
                                    var n = t.length - 2;
                                    (e[Gt] = dt(t.substr(0, n))), (e[qt] = dt(t.substr(n))), (v(i).bigHour = !0);
                                }),
                                Ft("hmmss", function (t, e, i) {
                                    var n = t.length - 4,
                                        s = t.length - 2;
                                    (e[Gt] = dt(t.substr(0, n))), (e[qt] = dt(t.substr(n, 2))), (e[Xt] = dt(t.substr(s))), (v(i).bigHour = !0);
                                }),
                                Ft("Hmm", function (t, e, i) {
                                    var n = t.length - 2;
                                    (e[Gt] = dt(t.substr(0, n))), (e[qt] = dt(t.substr(n)));
                                }),
                                Ft("Hmmss", function (t, e, i) {
                                    var n = t.length - 4,
                                        s = t.length - 2;
                                    (e[Gt] = dt(t.substr(0, n))), (e[qt] = dt(t.substr(n, 2))), (e[Xt] = dt(t.substr(s)));
                                });
                            var ni = /[ap]\.?m?\.?/i,
                                si = ut("Hours", !0);
                            function ri(t, e, i) {
                                return t > 11 ? (i ? "pm" : "PM") : i ? "am" : "AM";
                            }
                            var oi,
                                ai = {
                                    calendar: N,
                                    longDateFormat: U,
                                    invalidDate: q,
                                    ordinal: K,
                                    dayOfMonthOrdinalParse: Z,
                                    relativeTime: Q,
                                    months: ee,
                                    monthsShort: ie,
                                    week: Ce,
                                    weekdays: Ne,
                                    weekdaysMin: Re,
                                    weekdaysShort: Oe,
                                    meridiemParse: ni,
                                },
                                li = {},
                                hi = {};
                            function ci(t, e) {
                                var i,
                                    n = Math.min(t.length, e.length);
                                for (i = 0; i < n; i += 1) if (t[i] !== e[i]) return i;
                                return n;
                            }
                            function di(t) {
                                return t ? t.toLowerCase().replace("_", "-") : t;
                            }
                            function ui(t) {
                                for (var e, i, n, s, r = 0; r < t.length; ) {
                                    for (e = (s = di(t[r]).split("-")).length, i = (i = di(t[r + 1])) ? i.split("-") : null; e > 0; ) {
                                        if ((n = pi(s.slice(0, e).join("-")))) return n;
                                        if (i && i.length >= e && ci(s, i) >= e - 1) break;
                                        e--;
                                    }
                                    r++;
                                }
                                return oi;
                            }
                            function pi(e) {
                                var i = null;
                                if (void 0 === li[e] && t && t.exports)
                                    try {
                                        (i = oi._abbr), a(), fi(i);
                                    } catch (t) {
                                        li[e] = null;
                                    }
                                return li[e];
                            }
                            function fi(t, e) {
                                var i;
                                return t && ((i = c(e) ? vi(t) : mi(t, e)) ? (oi = i) : "undefined" != typeof console && console.warn && console.warn("Locale " + t + " not found. Did you forget to load it?")), oi._abbr;
                            }
                            function mi(t, e) {
                                if (null !== e) {
                                    var i,
                                        n = ai;
                                    if (((e.abbr = t), null != li[t]))
                                        $(
                                            "defineLocaleOverride",
                                            "use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."
                                        ),
                                            (n = li[t]._config);
                                    else if (null != e.parentLocale)
                                        if (null != li[e.parentLocale]) n = li[e.parentLocale]._config;
                                        else {
                                            if (null == (i = pi(e.parentLocale))) return hi[e.parentLocale] || (hi[e.parentLocale] = []), hi[e.parentLocale].push({ name: t, config: e }), null;
                                            n = i._config;
                                        }
                                    return (
                                        (li[t] = new A(M(n, e))),
                                        hi[t] &&
                                            hi[t].forEach(function (t) {
                                                mi(t.name, t.config);
                                            }),
                                        fi(t),
                                        li[t]
                                    );
                                }
                                return delete li[t], null;
                            }
                            function gi(t, e) {
                                if (null != e) {
                                    var i,
                                        n,
                                        s = ai;
                                    null != li[t] && null != li[t].parentLocale
                                        ? li[t].set(M(li[t]._config, e))
                                        : (null != (n = pi(t)) && (s = n._config), (e = M(s, e)), null == n && (e.abbr = t), ((i = new A(e)).parentLocale = li[t]), (li[t] = i)),
                                        fi(t);
                                } else null != li[t] && (null != li[t].parentLocale ? ((li[t] = li[t].parentLocale), t === fi() && fi(t)) : null != li[t] && delete li[t]);
                                return li[t];
                            }
                            function vi(t) {
                                var e;
                                if ((t && t._locale && t._locale._abbr && (t = t._locale._abbr), !t)) return oi;
                                if (!r(t)) {
                                    if ((e = pi(t))) return e;
                                    t = [t];
                                }
                                return ui(t);
                            }
                            function bi() {
                                return I(li);
                            }
                            function yi(t) {
                                var e,
                                    i = t._a;
                                return (
                                    i &&
                                        -2 === v(t).overflow &&
                                        ((e =
                                            i[Yt] < 0 || i[Yt] > 11
                                                ? Yt
                                                : i[Ut] < 1 || i[Ut] > te(i[Bt], i[Yt])
                                                ? Ut
                                                : i[Gt] < 0 || i[Gt] > 24 || (24 === i[Gt] && (0 !== i[qt] || 0 !== i[Xt] || 0 !== i[Kt]))
                                                ? Gt
                                                : i[qt] < 0 || i[qt] > 59
                                                ? qt
                                                : i[Xt] < 0 || i[Xt] > 59
                                                ? Xt
                                                : i[Kt] < 0 || i[Kt] > 999
                                                ? Kt
                                                : -1),
                                        v(t)._overflowDayOfYear && (e < Bt || e > Ut) && (e = Ut),
                                        v(t)._overflowWeeks && -1 === e && (e = Zt),
                                        v(t)._overflowWeekday && -1 === e && (e = Jt),
                                        (v(t).overflow = e)),
                                    t
                                );
                            }
                            var wi = /^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,
                                xi = /^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,
                                _i = /Z|[+-]\d\d(?::?\d\d)?/,
                                ki = [
                                    ["YYYYYY-MM-DD", /[+-]\d{6}-\d\d-\d\d/],
                                    ["YYYY-MM-DD", /\d{4}-\d\d-\d\d/],
                                    ["GGGG-[W]WW-E", /\d{4}-W\d\d-\d/],
                                    ["GGGG-[W]WW", /\d{4}-W\d\d/, !1],
                                    ["YYYY-DDD", /\d{4}-\d{3}/],
                                    ["YYYY-MM", /\d{4}-\d\d/, !1],
                                    ["YYYYYYMMDD", /[+-]\d{10}/],
                                    ["YYYYMMDD", /\d{8}/],
                                    ["GGGG[W]WWE", /\d{4}W\d{3}/],
                                    ["GGGG[W]WW", /\d{4}W\d{2}/, !1],
                                    ["YYYYDDD", /\d{7}/],
                                    ["YYYYMM", /\d{6}/, !1],
                                    ["YYYY", /\d{4}/, !1],
                                ],
                                Pi = [
                                    ["HH:mm:ss.SSSS", /\d\d:\d\d:\d\d\.\d+/],
                                    ["HH:mm:ss,SSSS", /\d\d:\d\d:\d\d,\d+/],
                                    ["HH:mm:ss", /\d\d:\d\d:\d\d/],
                                    ["HH:mm", /\d\d:\d\d/],
                                    ["HHmmss.SSSS", /\d\d\d\d\d\d\.\d+/],
                                    ["HHmmss,SSSS", /\d\d\d\d\d\d,\d+/],
                                    ["HHmmss", /\d\d\d\d\d\d/],
                                    ["HHmm", /\d\d\d\d/],
                                    ["HH", /\d\d/],
                                ],
                                Si = /^\/?Date\((-?\d+)/i,
                                Ci = /^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,
                                Ii = { UT: 0, GMT: 0, EDT: -240, EST: -300, CDT: -300, CST: -360, MDT: -360, MST: -420, PDT: -420, PST: -480 };
                            function Ti(t) {
                                var e,
                                    i,
                                    n,
                                    s,
                                    r,
                                    o,
                                    a = t._i,
                                    l = wi.exec(a) || xi.exec(a);
                                if (l) {
                                    for (v(t).iso = !0, e = 0, i = ki.length; e < i; e++)
                                        if (ki[e][1].exec(l[1])) {
                                            (s = ki[e][0]), (n = !1 !== ki[e][2]);
                                            break;
                                        }
                                    if (null == s) return void (t._isValid = !1);
                                    if (l[3]) {
                                        for (e = 0, i = Pi.length; e < i; e++)
                                            if (Pi[e][1].exec(l[3])) {
                                                r = (l[2] || " ") + Pi[e][0];
                                                break;
                                            }
                                        if (null == r) return void (t._isValid = !1);
                                    }
                                    if (!n && null != r) return void (t._isValid = !1);
                                    if (l[4]) {
                                        if (!_i.exec(l[4])) return void (t._isValid = !1);
                                        o = "Z";
                                    }
                                    (t._f = s + (r || "") + (o || "")), Fi(t);
                                } else t._isValid = !1;
                            }
                            function $i(t, e, i, n, s, r) {
                                var o = [Ei(t), ie.indexOf(e), parseInt(i, 10), parseInt(n, 10), parseInt(s, 10)];
                                return r && o.push(parseInt(r, 10)), o;
                            }
                            function Ei(t) {
                                var e = parseInt(t, 10);
                                return e <= 49 ? 2e3 + e : e <= 999 ? 1900 + e : e;
                            }
                            function Di(t) {
                                return t
                                    .replace(/\([^)]*\)|[\n\t]/g, " ")
                                    .replace(/(\s\s+)/g, " ")
                                    .replace(/^\s\s*/, "")
                                    .replace(/\s\s*$/, "");
                            }
                            function Mi(t, e, i) {
                                return !t || Oe.indexOf(t) === new Date(e[0], e[1], e[2]).getDay() || ((v(i).weekdayMismatch = !0), (i._isValid = !1), !1);
                            }
                            function Ai(t, e, i) {
                                if (t) return Ii[t];
                                if (e) return 0;
                                var n = parseInt(i, 10),
                                    s = n % 100;
                                return ((n - s) / 100) * 60 + s;
                            }
                            function Ni(t) {
                                var e,
                                    i = Ci.exec(Di(t._i));
                                if (i) {
                                    if (((e = $i(i[4], i[3], i[2], i[5], i[6], i[7])), !Mi(i[1], e, t))) return;
                                    (t._a = e), (t._tzm = Ai(i[8], i[9], i[10])), (t._d = we.apply(null, t._a)), t._d.setUTCMinutes(t._d.getUTCMinutes() - t._tzm), (v(t).rfc2822 = !0);
                                } else t._isValid = !1;
                            }
                            function Oi(t) {
                                var e = Si.exec(t._i);
                                null === e ? (Ti(t), !1 === t._isValid && (delete t._isValid, Ni(t), !1 === t._isValid && (delete t._isValid, t._strict ? (t._isValid = !1) : n.createFromInputFallback(t)))) : (t._d = new Date(+e[1]));
                            }
                            function Ri(t, e, i) {
                                return null != t ? t : null != e ? e : i;
                            }
                            function Vi(t) {
                                var e = new Date(n.now());
                                return t._useUTC ? [e.getUTCFullYear(), e.getUTCMonth(), e.getUTCDate()] : [e.getFullYear(), e.getMonth(), e.getDate()];
                            }
                            function Li(t) {
                                var e,
                                    i,
                                    n,
                                    s,
                                    r,
                                    o = [];
                                if (!t._d) {
                                    for (
                                        n = Vi(t),
                                            t._w && null == t._a[Ut] && null == t._a[Yt] && ji(t),
                                            null != t._dayOfYear &&
                                                ((r = Ri(t._a[Bt], n[Bt])),
                                                (t._dayOfYear > ge(r) || 0 === t._dayOfYear) && (v(t)._overflowDayOfYear = !0),
                                                (i = we(r, 0, t._dayOfYear)),
                                                (t._a[Yt] = i.getUTCMonth()),
                                                (t._a[Ut] = i.getUTCDate())),
                                            e = 0;
                                        e < 3 && null == t._a[e];
                                        ++e
                                    )
                                        t._a[e] = o[e] = n[e];
                                    for (; e < 7; e++) t._a[e] = o[e] = null == t._a[e] ? (2 === e ? 1 : 0) : t._a[e];
                                    24 === t._a[Gt] && 0 === t._a[qt] && 0 === t._a[Xt] && 0 === t._a[Kt] && ((t._nextDay = !0), (t._a[Gt] = 0)),
                                        (t._d = (t._useUTC ? we : ye).apply(null, o)),
                                        (s = t._useUTC ? t._d.getUTCDay() : t._d.getDay()),
                                        null != t._tzm && t._d.setUTCMinutes(t._d.getUTCMinutes() - t._tzm),
                                        t._nextDay && (t._a[Gt] = 24),
                                        t._w && void 0 !== t._w.d && t._w.d !== s && (v(t).weekdayMismatch = !0);
                                }
                            }
                            function ji(t) {
                                var e, i, n, s, r, o, a, l, h;
                                null != (e = t._w).GG || null != e.W || null != e.E
                                    ? ((r = 1), (o = 4), (i = Ri(e.GG, t._a[Bt], ke(qi(), 1, 4).year)), (n = Ri(e.W, 1)), ((s = Ri(e.E, 1)) < 1 || s > 7) && (l = !0))
                                    : ((r = t._locale._week.dow),
                                      (o = t._locale._week.doy),
                                      (h = ke(qi(), r, o)),
                                      (i = Ri(e.gg, t._a[Bt], h.year)),
                                      (n = Ri(e.w, h.week)),
                                      null != e.d ? ((s = e.d) < 0 || s > 6) && (l = !0) : null != e.e ? ((s = e.e + r), (e.e < 0 || e.e > 6) && (l = !0)) : (s = r)),
                                    n < 1 || n > Pe(i, r, o) ? (v(t)._overflowWeeks = !0) : null != l ? (v(t)._overflowWeekday = !0) : ((a = _e(i, n, s, r, o)), (t._a[Bt] = a.year), (t._dayOfYear = a.dayOfYear));
                            }
                            function Fi(t) {
                                if (t._f !== n.ISO_8601)
                                    if (t._f !== n.RFC_2822) {
                                        (t._a = []), (v(t).empty = !0);
                                        var e,
                                            i,
                                            s,
                                            r,
                                            o,
                                            a,
                                            l = "" + t._i,
                                            h = l.length,
                                            c = 0;
                                        for (s = Y(t._f, t._locale).match(V) || [], e = 0; e < s.length; e++)
                                            (r = s[e]),
                                                (i = (l.match(Rt(r, t)) || [])[0]) && ((o = l.substr(0, l.indexOf(i))).length > 0 && v(t).unusedInput.push(o), (l = l.slice(l.indexOf(i) + i.length)), (c += i.length)),
                                                F[r] ? (i ? (v(t).empty = !1) : v(t).unusedTokens.push(r), Ht(r, i, t)) : t._strict && !i && v(t).unusedTokens.push(r);
                                        (v(t).charsLeftOver = h - c),
                                            l.length > 0 && v(t).unusedInput.push(l),
                                            t._a[Gt] <= 12 && !0 === v(t).bigHour && t._a[Gt] > 0 && (v(t).bigHour = void 0),
                                            (v(t).parsedDateParts = t._a.slice(0)),
                                            (v(t).meridiem = t._meridiem),
                                            (t._a[Gt] = zi(t._locale, t._a[Gt], t._meridiem)),
                                            null !== (a = v(t).era) && (t._a[Bt] = t._locale.erasConvertYear(a, t._a[Bt])),
                                            Li(t),
                                            yi(t);
                                    } else Ni(t);
                                else Ti(t);
                            }
                            function zi(t, e, i) {
                                var n;
                                return null == i ? e : null != t.meridiemHour ? t.meridiemHour(e, i) : null != t.isPM ? ((n = t.isPM(i)) && e < 12 && (e += 12), n || 12 !== e || (e = 0), e) : e;
                            }
                            function Hi(t) {
                                var e,
                                    i,
                                    n,
                                    s,
                                    r,
                                    o,
                                    a = !1;
                                if (0 === t._f.length) return (v(t).invalidFormat = !0), void (t._d = new Date(NaN));
                                for (s = 0; s < t._f.length; s++)
                                    (r = 0),
                                        (o = !1),
                                        (e = _({}, t)),
                                        null != t._useUTC && (e._useUTC = t._useUTC),
                                        (e._f = t._f[s]),
                                        Fi(e),
                                        b(e) && (o = !0),
                                        (r += v(e).charsLeftOver),
                                        (r += 10 * v(e).unusedTokens.length),
                                        (v(e).score = r),
                                        a ? r < n && ((n = r), (i = e)) : (null == n || r < n || o) && ((n = r), (i = e), o && (a = !0));
                                f(t, i || e);
                            }
                            function Wi(t) {
                                if (!t._d) {
                                    var e = rt(t._i),
                                        i = void 0 === e.day ? e.date : e.day;
                                    (t._a = p([e.year, e.month, i, e.hour, e.minute, e.second, e.millisecond], function (t) {
                                        return t && parseInt(t, 10);
                                    })),
                                        Li(t);
                                }
                            }
                            function Bi(t) {
                                var e = new k(yi(Yi(t)));
                                return e._nextDay && (e.add(1, "d"), (e._nextDay = void 0)), e;
                            }
                            function Yi(t) {
                                var e = t._i,
                                    i = t._f;
                                return (
                                    (t._locale = t._locale || vi(t._l)),
                                    null === e || (void 0 === i && "" === e)
                                        ? y({ nullInput: !0 })
                                        : ("string" == typeof e && (t._i = e = t._locale.preparse(e)), P(e) ? new k(yi(e)) : (u(e) ? (t._d = e) : r(i) ? Hi(t) : i ? Fi(t) : Ui(t), b(t) || (t._d = null), t))
                                );
                            }
                            function Ui(t) {
                                var e = t._i;
                                c(e)
                                    ? (t._d = new Date(n.now()))
                                    : u(e)
                                    ? (t._d = new Date(e.valueOf()))
                                    : "string" == typeof e
                                    ? Oi(t)
                                    : r(e)
                                    ? ((t._a = p(e.slice(0), function (t) {
                                          return parseInt(t, 10);
                                      })),
                                      Li(t))
                                    : o(e)
                                    ? Wi(t)
                                    : d(e)
                                    ? (t._d = new Date(e))
                                    : n.createFromInputFallback(t);
                            }
                            function Gi(t, e, i, n, s) {
                                var a = {};
                                return (
                                    (!0 !== e && !1 !== e) || ((n = e), (e = void 0)),
                                    (!0 !== i && !1 !== i) || ((n = i), (i = void 0)),
                                    ((o(t) && h(t)) || (r(t) && 0 === t.length)) && (t = void 0),
                                    (a._isAMomentObject = !0),
                                    (a._useUTC = a._isUTC = s),
                                    (a._l = i),
                                    (a._i = t),
                                    (a._f = e),
                                    (a._strict = n),
                                    Bi(a)
                                );
                            }
                            function qi(t, e, i, n) {
                                return Gi(t, e, i, n, !1);
                            }
                            (n.createFromInputFallback = C(
                                "value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",
                                function (t) {
                                    t._d = new Date(t._i + (t._useUTC ? " UTC" : ""));
                                }
                            )),
                                (n.ISO_8601 = function () {}),
                                (n.RFC_2822 = function () {});
                            var Xi = C("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/", function () {
                                    var t = qi.apply(null, arguments);
                                    return this.isValid() && t.isValid() ? (t < this ? this : t) : y();
                                }),
                                Ki = C("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/", function () {
                                    var t = qi.apply(null, arguments);
                                    return this.isValid() && t.isValid() ? (t > this ? this : t) : y();
                                });
                            function Zi(t, e) {
                                var i, n;
                                if ((1 === e.length && r(e[0]) && (e = e[0]), !e.length)) return qi();
                                for (i = e[0], n = 1; n < e.length; ++n) (e[n].isValid() && !e[n][t](i)) || (i = e[n]);
                                return i;
                            }
                            function Ji() {
                                return Zi("isBefore", [].slice.call(arguments, 0));
                            }
                            function Qi() {
                                return Zi("isAfter", [].slice.call(arguments, 0));
                            }
                            var tn = function () {
                                    return Date.now ? Date.now() : +new Date();
                                },
                                en = ["year", "quarter", "month", "week", "day", "hour", "minute", "second", "millisecond"];
                            function nn(t) {
                                var e,
                                    i,
                                    n = !1;
                                for (e in t) if (l(t, e) && (-1 === Wt.call(en, e) || (null != t[e] && isNaN(t[e])))) return !1;
                                for (i = 0; i < en.length; ++i)
                                    if (t[en[i]]) {
                                        if (n) return !1;
                                        parseFloat(t[en[i]]) !== dt(t[en[i]]) && (n = !0);
                                    }
                                return !0;
                            }
                            function sn() {
                                return this._isValid;
                            }
                            function rn() {
                                return Tn(NaN);
                            }
                            function on(t) {
                                var e = rt(t),
                                    i = e.year || 0,
                                    n = e.quarter || 0,
                                    s = e.month || 0,
                                    r = e.week || e.isoWeek || 0,
                                    o = e.day || 0,
                                    a = e.hour || 0,
                                    l = e.minute || 0,
                                    h = e.second || 0,
                                    c = e.millisecond || 0;
                                (this._isValid = nn(e)),
                                    (this._milliseconds = +c + 1e3 * h + 6e4 * l + 1e3 * a * 60 * 60),
                                    (this._days = +o + 7 * r),
                                    (this._months = +s + 3 * n + 12 * i),
                                    (this._data = {}),
                                    (this._locale = vi()),
                                    this._bubble();
                            }
                            function an(t) {
                                return t instanceof on;
                            }
                            function ln(t) {
                                return t < 0 ? -1 * Math.round(-1 * t) : Math.round(t);
                            }
                            function hn(t, e, i) {
                                var n,
                                    s = Math.min(t.length, e.length),
                                    r = Math.abs(t.length - e.length),
                                    o = 0;
                                for (n = 0; n < s; n++) ((i && t[n] !== e[n]) || (!i && dt(t[n]) !== dt(e[n]))) && o++;
                                return o + r;
                            }
                            function cn(t, e) {
                                z(t, 0, 0, function () {
                                    var t = this.utcOffset(),
                                        i = "+";
                                    return t < 0 && ((t = -t), (i = "-")), i + R(~~(t / 60), 2) + e + R(~~t % 60, 2);
                                });
                            }
                            cn("Z", ":"),
                                cn("ZZ", ""),
                                Ot("Z", Mt),
                                Ot("ZZ", Mt),
                                Ft(["Z", "ZZ"], function (t, e, i) {
                                    (i._useUTC = !0), (i._tzm = un(Mt, t));
                                });
                            var dn = /([\+\-]|\d\d)/gi;
                            function un(t, e) {
                                var i,
                                    n,
                                    s = (e || "").match(t);
                                return null === s ? null : 0 === (n = 60 * (i = ((s[s.length - 1] || []) + "").match(dn) || ["-", 0, 0])[1] + dt(i[2])) ? 0 : "+" === i[0] ? n : -n;
                            }
                            function pn(t, e) {
                                var i, s;
                                return e._isUTC ? ((i = e.clone()), (s = (P(t) || u(t) ? t.valueOf() : qi(t).valueOf()) - i.valueOf()), i._d.setTime(i._d.valueOf() + s), n.updateOffset(i, !1), i) : qi(t).local();
                            }
                            function fn(t) {
                                return -Math.round(t._d.getTimezoneOffset());
                            }
                            function mn(t, e, i) {
                                var s,
                                    r = this._offset || 0;
                                if (!this.isValid()) return null != t ? this : NaN;
                                if (null != t) {
                                    if ("string" == typeof t) {
                                        if (null === (t = un(Mt, t))) return this;
                                    } else Math.abs(t) < 16 && !i && (t *= 60);
                                    return (
                                        !this._isUTC && e && (s = fn(this)),
                                        (this._offset = t),
                                        (this._isUTC = !0),
                                        null != s && this.add(s, "m"),
                                        r !== t && (!e || this._changeInProgress ? An(this, Tn(t - r, "m"), 1, !1) : this._changeInProgress || ((this._changeInProgress = !0), n.updateOffset(this, !0), (this._changeInProgress = null))),
                                        this
                                    );
                                }
                                return this._isUTC ? r : fn(this);
                            }
                            function gn(t, e) {
                                return null != t ? ("string" != typeof t && (t = -t), this.utcOffset(t, e), this) : -this.utcOffset();
                            }
                            function vn(t) {
                                return this.utcOffset(0, t);
                            }
                            function bn(t) {
                                return this._isUTC && (this.utcOffset(0, t), (this._isUTC = !1), t && this.subtract(fn(this), "m")), this;
                            }
                            function yn() {
                                if (null != this._tzm) this.utcOffset(this._tzm, !1, !0);
                                else if ("string" == typeof this._i) {
                                    var t = un(Dt, this._i);
                                    null != t ? this.utcOffset(t) : this.utcOffset(0, !0);
                                }
                                return this;
                            }
                            function wn(t) {
                                return !!this.isValid() && ((t = t ? qi(t).utcOffset() : 0), (this.utcOffset() - t) % 60 == 0);
                            }
                            function xn() {
                                return this.utcOffset() > this.clone().month(0).utcOffset() || this.utcOffset() > this.clone().month(5).utcOffset();
                            }
                            function _n() {
                                if (!c(this._isDSTShifted)) return this._isDSTShifted;
                                var t,
                                    e = {};
                                return _(e, this), (e = Yi(e))._a ? ((t = e._isUTC ? m(e._a) : qi(e._a)), (this._isDSTShifted = this.isValid() && hn(e._a, t.toArray()) > 0)) : (this._isDSTShifted = !1), this._isDSTShifted;
                            }
                            function kn() {
                                return !!this.isValid() && !this._isUTC;
                            }
                            function Pn() {
                                return !!this.isValid() && this._isUTC;
                            }
                            function Sn() {
                                return !!this.isValid() && this._isUTC && 0 === this._offset;
                            }
                            n.updateOffset = function () {};
                            var Cn = /^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,
                                In = /^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;
                            function Tn(t, e) {
                                var i,
                                    n,
                                    s,
                                    r = t,
                                    o = null;
                                return (
                                    an(t)
                                        ? (r = { ms: t._milliseconds, d: t._days, M: t._months })
                                        : d(t) || !isNaN(+t)
                                        ? ((r = {}), e ? (r[e] = +t) : (r.milliseconds = +t))
                                        : (o = Cn.exec(t))
                                        ? ((i = "-" === o[1] ? -1 : 1), (r = { y: 0, d: dt(o[Ut]) * i, h: dt(o[Gt]) * i, m: dt(o[qt]) * i, s: dt(o[Xt]) * i, ms: dt(ln(1e3 * o[Kt])) * i }))
                                        : (o = In.exec(t))
                                        ? ((i = "-" === o[1] ? -1 : 1), (r = { y: $n(o[2], i), M: $n(o[3], i), w: $n(o[4], i), d: $n(o[5], i), h: $n(o[6], i), m: $n(o[7], i), s: $n(o[8], i) }))
                                        : null == r
                                        ? (r = {})
                                        : "object" == typeof r && ("from" in r || "to" in r) && ((s = Dn(qi(r.from), qi(r.to))), ((r = {}).ms = s.milliseconds), (r.M = s.months)),
                                    (n = new on(r)),
                                    an(t) && l(t, "_locale") && (n._locale = t._locale),
                                    an(t) && l(t, "_isValid") && (n._isValid = t._isValid),
                                    n
                                );
                            }
                            function $n(t, e) {
                                var i = t && parseFloat(t.replace(",", "."));
                                return (isNaN(i) ? 0 : i) * e;
                            }
                            function En(t, e) {
                                var i = {};
                                return (i.months = e.month() - t.month() + 12 * (e.year() - t.year())), t.clone().add(i.months, "M").isAfter(e) && --i.months, (i.milliseconds = +e - +t.clone().add(i.months, "M")), i;
                            }
                            function Dn(t, e) {
                                var i;
                                return t.isValid() && e.isValid() ? ((e = pn(e, t)), t.isBefore(e) ? (i = En(t, e)) : (((i = En(e, t)).milliseconds = -i.milliseconds), (i.months = -i.months)), i) : { milliseconds: 0, months: 0 };
                            }
                            function Mn(t, e) {
                                return function (i, n) {
                                    var s;
                                    return (
                                        null === n ||
                                            isNaN(+n) ||
                                            ($(e, "moment()." + e + "(period, number) is deprecated. Please use moment()." + e + "(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),
                                            (s = i),
                                            (i = n),
                                            (n = s)),
                                        An(this, Tn(i, n), t),
                                        this
                                    );
                                };
                            }
                            function An(t, e, i, s) {
                                var r = e._milliseconds,
                                    o = ln(e._days),
                                    a = ln(e._months);
                                t.isValid() && ((s = null == s || s), a && ce(t, pt(t, "Month") + a * i), o && ft(t, "Date", pt(t, "Date") + o * i), r && t._d.setTime(t._d.valueOf() + r * i), s && n.updateOffset(t, o || a));
                            }
                            (Tn.fn = on.prototype), (Tn.invalid = rn);
                            var Nn = Mn(1, "add"),
                                On = Mn(-1, "subtract");
                            function Rn(t) {
                                return "string" == typeof t || t instanceof String;
                            }
                            function Vn(t) {
                                return P(t) || u(t) || Rn(t) || d(t) || jn(t) || Ln(t) || null == t;
                            }
                            function Ln(t) {
                                var e,
                                    i,
                                    n = o(t) && !h(t),
                                    s = !1,
                                    r = ["years", "year", "y", "months", "month", "M", "days", "day", "d", "dates", "date", "D", "hours", "hour", "h", "minutes", "minute", "m", "seconds", "second", "s", "milliseconds", "millisecond", "ms"];
                                for (e = 0; e < r.length; e += 1) (i = r[e]), (s = s || l(t, i));
                                return n && s;
                            }
                            function jn(t) {
                                var e = r(t),
                                    i = !1;
                                return (
                                    e &&
                                        (i =
                                            0 ===
                                            t.filter(function (e) {
                                                return !d(e) && Rn(t);
                                            }).length),
                                    e && i
                                );
                            }
                            function Fn(t) {
                                var e,
                                    i,
                                    n = o(t) && !h(t),
                                    s = !1,
                                    r = ["sameDay", "nextDay", "lastDay", "nextWeek", "lastWeek", "sameElse"];
                                for (e = 0; e < r.length; e += 1) (i = r[e]), (s = s || l(t, i));
                                return n && s;
                            }
                            function zn(t, e) {
                                var i = t.diff(e, "days", !0);
                                return i < -6 ? "sameElse" : i < -1 ? "lastWeek" : i < 0 ? "lastDay" : i < 1 ? "sameDay" : i < 2 ? "nextDay" : i < 7 ? "nextWeek" : "sameElse";
                            }
                            function Hn(t, e) {
                                1 === arguments.length && (arguments[0] ? (Vn(arguments[0]) ? ((t = arguments[0]), (e = void 0)) : Fn(arguments[0]) && ((e = arguments[0]), (t = void 0))) : ((t = void 0), (e = void 0)));
                                var i = t || qi(),
                                    s = pn(i, this).startOf("day"),
                                    r = n.calendarFormat(this, s) || "sameElse",
                                    o = e && (E(e[r]) ? e[r].call(this, i) : e[r]);
                                return this.format(o || this.localeData().calendar(r, this, qi(i)));
                            }
                            function Wn() {
                                return new k(this);
                            }
                            function Bn(t, e) {
                                var i = P(t) ? t : qi(t);
                                return !(!this.isValid() || !i.isValid()) && ("millisecond" === (e = st(e) || "millisecond") ? this.valueOf() > i.valueOf() : i.valueOf() < this.clone().startOf(e).valueOf());
                            }
                            function Yn(t, e) {
                                var i = P(t) ? t : qi(t);
                                return !(!this.isValid() || !i.isValid()) && ("millisecond" === (e = st(e) || "millisecond") ? this.valueOf() < i.valueOf() : this.clone().endOf(e).valueOf() < i.valueOf());
                            }
                            function Un(t, e, i, n) {
                                var s = P(t) ? t : qi(t),
                                    r = P(e) ? e : qi(e);
                                return !!(this.isValid() && s.isValid() && r.isValid()) && ("(" === (n = n || "()")[0] ? this.isAfter(s, i) : !this.isBefore(s, i)) && (")" === n[1] ? this.isBefore(r, i) : !this.isAfter(r, i));
                            }
                            function Gn(t, e) {
                                var i,
                                    n = P(t) ? t : qi(t);
                                return (
                                    !(!this.isValid() || !n.isValid()) &&
                                    ("millisecond" === (e = st(e) || "millisecond") ? this.valueOf() === n.valueOf() : ((i = n.valueOf()), this.clone().startOf(e).valueOf() <= i && i <= this.clone().endOf(e).valueOf()))
                                );
                            }
                            function qn(t, e) {
                                return this.isSame(t, e) || this.isAfter(t, e);
                            }
                            function Xn(t, e) {
                                return this.isSame(t, e) || this.isBefore(t, e);
                            }
                            function Kn(t, e, i) {
                                var n, s, r;
                                if (!this.isValid()) return NaN;
                                if (!(n = pn(t, this)).isValid()) return NaN;
                                switch (((s = 6e4 * (n.utcOffset() - this.utcOffset())), (e = st(e)))) {
                                    case "year":
                                        r = Zn(this, n) / 12;
                                        break;
                                    case "month":
                                        r = Zn(this, n);
                                        break;
                                    case "quarter":
                                        r = Zn(this, n) / 3;
                                        break;
                                    case "second":
                                        r = (this - n) / 1e3;
                                        break;
                                    case "minute":
                                        r = (this - n) / 6e4;
                                        break;
                                    case "hour":
                                        r = (this - n) / 36e5;
                                        break;
                                    case "day":
                                        r = (this - n - s) / 864e5;
                                        break;
                                    case "week":
                                        r = (this - n - s) / 6048e5;
                                        break;
                                    default:
                                        r = this - n;
                                }
                                return i ? r : ct(r);
                            }
                            function Zn(t, e) {
                                if (t.date() < e.date()) return -Zn(e, t);
                                var i = 12 * (e.year() - t.year()) + (e.month() - t.month()),
                                    n = t.clone().add(i, "months");
                                return -(i + (e - n < 0 ? (e - n) / (n - t.clone().add(i - 1, "months")) : (e - n) / (t.clone().add(i + 1, "months") - n))) || 0;
                            }
                            function Jn() {
                                return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ");
                            }
                            function Qn(t) {
                                if (!this.isValid()) return null;
                                var e = !0 !== t,
                                    i = e ? this.clone().utc() : this;
                                return i.year() < 0 || i.year() > 9999
                                    ? B(i, e ? "YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]" : "YYYYYY-MM-DD[T]HH:mm:ss.SSSZ")
                                    : E(Date.prototype.toISOString)
                                    ? e
                                        ? this.toDate().toISOString()
                                        : new Date(this.valueOf() + 60 * this.utcOffset() * 1e3).toISOString().replace("Z", B(i, "Z"))
                                    : B(i, e ? "YYYY-MM-DD[T]HH:mm:ss.SSS[Z]" : "YYYY-MM-DD[T]HH:mm:ss.SSSZ");
                            }
                            function ts() {
                                if (!this.isValid()) return "moment.invalid(/* " + this._i + " */)";
                                var t,
                                    e,
                                    i,
                                    n,
                                    s = "moment",
                                    r = "";
                                return (
                                    this.isLocal() || ((s = 0 === this.utcOffset() ? "moment.utc" : "moment.parseZone"), (r = "Z")),
                                    (t = "[" + s + '("]'),
                                    (e = 0 <= this.year() && this.year() <= 9999 ? "YYYY" : "YYYYYY"),
                                    (i = "-MM-DD[T]HH:mm:ss.SSS"),
                                    (n = r + '[")]'),
                                    this.format(t + e + i + n)
                                );
                            }
                            function es(t) {
                                t || (t = this.isUtc() ? n.defaultFormatUtc : n.defaultFormat);
                                var e = B(this, t);
                                return this.localeData().postformat(e);
                            }
                            function is(t, e) {
                                return this.isValid() && ((P(t) && t.isValid()) || qi(t).isValid()) ? Tn({ to: this, from: t }).locale(this.locale()).humanize(!e) : this.localeData().invalidDate();
                            }
                            function ns(t) {
                                return this.from(qi(), t);
                            }
                            function ss(t, e) {
                                return this.isValid() && ((P(t) && t.isValid()) || qi(t).isValid()) ? Tn({ from: this, to: t }).locale(this.locale()).humanize(!e) : this.localeData().invalidDate();
                            }
                            function rs(t) {
                                return this.to(qi(), t);
                            }
                            function os(t) {
                                var e;
                                return void 0 === t ? this._locale._abbr : (null != (e = vi(t)) && (this._locale = e), this);
                            }
                            (n.defaultFormat = "YYYY-MM-DDTHH:mm:ssZ"), (n.defaultFormatUtc = "YYYY-MM-DDTHH:mm:ss[Z]");
                            var as = C("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.", function (t) {
                                return void 0 === t ? this.localeData() : this.locale(t);
                            });
                            function ls() {
                                return this._locale;
                            }
                            var hs = 1e3,
                                cs = 60 * hs,
                                ds = 60 * cs,
                                us = 3506328 * ds;
                            function ps(t, e) {
                                return ((t % e) + e) % e;
                            }
                            function fs(t, e, i) {
                                return t < 100 && t >= 0 ? new Date(t + 400, e, i) - us : new Date(t, e, i).valueOf();
                            }
                            function ms(t, e, i) {
                                return t < 100 && t >= 0 ? Date.UTC(t + 400, e, i) - us : Date.UTC(t, e, i);
                            }
                            function gs(t) {
                                var e, i;
                                if (void 0 === (t = st(t)) || "millisecond" === t || !this.isValid()) return this;
                                switch (((i = this._isUTC ? ms : fs), t)) {
                                    case "year":
                                        e = i(this.year(), 0, 1);
                                        break;
                                    case "quarter":
                                        e = i(this.year(), this.month() - (this.month() % 3), 1);
                                        break;
                                    case "month":
                                        e = i(this.year(), this.month(), 1);
                                        break;
                                    case "week":
                                        e = i(this.year(), this.month(), this.date() - this.weekday());
                                        break;
                                    case "isoWeek":
                                        e = i(this.year(), this.month(), this.date() - (this.isoWeekday() - 1));
                                        break;
                                    case "day":
                                    case "date":
                                        e = i(this.year(), this.month(), this.date());
                                        break;
                                    case "hour":
                                        (e = this._d.valueOf()), (e -= ps(e + (this._isUTC ? 0 : this.utcOffset() * cs), ds));
                                        break;
                                    case "minute":
                                        (e = this._d.valueOf()), (e -= ps(e, cs));
                                        break;
                                    case "second":
                                        (e = this._d.valueOf()), (e -= ps(e, hs));
                                }
                                return this._d.setTime(e), n.updateOffset(this, !0), this;
                            }
                            function vs(t) {
                                var e, i;
                                if (void 0 === (t = st(t)) || "millisecond" === t || !this.isValid()) return this;
                                switch (((i = this._isUTC ? ms : fs), t)) {
                                    case "year":
                                        e = i(this.year() + 1, 0, 1) - 1;
                                        break;
                                    case "quarter":
                                        e = i(this.year(), this.month() - (this.month() % 3) + 3, 1) - 1;
                                        break;
                                    case "month":
                                        e = i(this.year(), this.month() + 1, 1) - 1;
                                        break;
                                    case "week":
                                        e = i(this.year(), this.month(), this.date() - this.weekday() + 7) - 1;
                                        break;
                                    case "isoWeek":
                                        e = i(this.year(), this.month(), this.date() - (this.isoWeekday() - 1) + 7) - 1;
                                        break;
                                    case "day":
                                    case "date":
                                        e = i(this.year(), this.month(), this.date() + 1) - 1;
                                        break;
                                    case "hour":
                                        (e = this._d.valueOf()), (e += ds - ps(e + (this._isUTC ? 0 : this.utcOffset() * cs), ds) - 1);
                                        break;
                                    case "minute":
                                        (e = this._d.valueOf()), (e += cs - ps(e, cs) - 1);
                                        break;
                                    case "second":
                                        (e = this._d.valueOf()), (e += hs - ps(e, hs) - 1);
                                }
                                return this._d.setTime(e), n.updateOffset(this, !0), this;
                            }
                            function bs() {
                                return this._d.valueOf() - 6e4 * (this._offset || 0);
                            }
                            function ys() {
                                return Math.floor(this.valueOf() / 1e3);
                            }
                            function ws() {
                                return new Date(this.valueOf());
                            }
                            function xs() {
                                var t = this;
                                return [t.year(), t.month(), t.date(), t.hour(), t.minute(), t.second(), t.millisecond()];
                            }
                            function _s() {
                                var t = this;
                                return { years: t.year(), months: t.month(), date: t.date(), hours: t.hours(), minutes: t.minutes(), seconds: t.seconds(), milliseconds: t.milliseconds() };
                            }
                            function ks() {
                                return this.isValid() ? this.toISOString() : null;
                            }
                            function Ps() {
                                return b(this);
                            }
                            function Ss() {
                                return f({}, v(this));
                            }
                            function Cs() {
                                return v(this).overflow;
                            }
                            function Is() {
                                return { input: this._i, format: this._f, locale: this._locale, isUTC: this._isUTC, strict: this._strict };
                            }
                            function Ts(t, e) {
                                var i,
                                    s,
                                    r,
                                    o = this._eras || vi("en")._eras;
                                for (i = 0, s = o.length; i < s; ++i) {
                                    switch (typeof o[i].since) {
                                        case "string":
                                            (r = n(o[i].since).startOf("day")), (o[i].since = r.valueOf());
                                    }
                                    switch (typeof o[i].until) {
                                        case "undefined":
                                            o[i].until = 1 / 0;
                                            break;
                                        case "string":
                                            (r = n(o[i].until).startOf("day").valueOf()), (o[i].until = r.valueOf());
                                    }
                                }
                                return o;
                            }
                            function $s(t, e, i) {
                                var n,
                                    s,
                                    r,
                                    o,
                                    a,
                                    l = this.eras();
                                for (t = t.toUpperCase(), n = 0, s = l.length; n < s; ++n)
                                    if (((r = l[n].name.toUpperCase()), (o = l[n].abbr.toUpperCase()), (a = l[n].narrow.toUpperCase()), i))
                                        switch (e) {
                                            case "N":
                                            case "NN":
                                            case "NNN":
                                                if (o === t) return l[n];
                                                break;
                                            case "NNNN":
                                                if (r === t) return l[n];
                                                break;
                                            case "NNNNN":
                                                if (a === t) return l[n];
                                        }
                                    else if ([r, o, a].indexOf(t) >= 0) return l[n];
                            }
                            function Es(t, e) {
                                var i = t.since <= t.until ? 1 : -1;
                                return void 0 === e ? n(t.since).year() : n(t.since).year() + (e - t.offset) * i;
                            }
                            function Ds() {
                                var t,
                                    e,
                                    i,
                                    n = this.localeData().eras();
                                for (t = 0, e = n.length; t < e; ++t) {
                                    if (((i = this.clone().startOf("day").valueOf()), n[t].since <= i && i <= n[t].until)) return n[t].name;
                                    if (n[t].until <= i && i <= n[t].since) return n[t].name;
                                }
                                return "";
                            }
                            function Ms() {
                                var t,
                                    e,
                                    i,
                                    n = this.localeData().eras();
                                for (t = 0, e = n.length; t < e; ++t) {
                                    if (((i = this.clone().startOf("day").valueOf()), n[t].since <= i && i <= n[t].until)) return n[t].narrow;
                                    if (n[t].until <= i && i <= n[t].since) return n[t].narrow;
                                }
                                return "";
                            }
                            function As() {
                                var t,
                                    e,
                                    i,
                                    n = this.localeData().eras();
                                for (t = 0, e = n.length; t < e; ++t) {
                                    if (((i = this.clone().startOf("day").valueOf()), n[t].since <= i && i <= n[t].until)) return n[t].abbr;
                                    if (n[t].until <= i && i <= n[t].since) return n[t].abbr;
                                }
                                return "";
                            }
                            function Ns() {
                                var t,
                                    e,
                                    i,
                                    s,
                                    r = this.localeData().eras();
                                for (t = 0, e = r.length; t < e; ++t)
                                    if (((i = r[t].since <= r[t].until ? 1 : -1), (s = this.clone().startOf("day").valueOf()), (r[t].since <= s && s <= r[t].until) || (r[t].until <= s && s <= r[t].since)))
                                        return (this.year() - n(r[t].since).year()) * i + r[t].offset;
                                return this.year();
                            }
                            function Os(t) {
                                return l(this, "_erasNameRegex") || Hs.call(this), t ? this._erasNameRegex : this._erasRegex;
                            }
                            function Rs(t) {
                                return l(this, "_erasAbbrRegex") || Hs.call(this), t ? this._erasAbbrRegex : this._erasRegex;
                            }
                            function Vs(t) {
                                return l(this, "_erasNarrowRegex") || Hs.call(this), t ? this._erasNarrowRegex : this._erasRegex;
                            }
                            function Ls(t, e) {
                                return e.erasAbbrRegex(t);
                            }
                            function js(t, e) {
                                return e.erasNameRegex(t);
                            }
                            function Fs(t, e) {
                                return e.erasNarrowRegex(t);
                            }
                            function zs(t, e) {
                                return e._eraYearOrdinalRegex || $t;
                            }
                            function Hs() {
                                var t,
                                    e,
                                    i = [],
                                    n = [],
                                    s = [],
                                    r = [],
                                    o = this.eras();
                                for (t = 0, e = o.length; t < e; ++t) n.push(Lt(o[t].name)), i.push(Lt(o[t].abbr)), s.push(Lt(o[t].narrow)), r.push(Lt(o[t].name)), r.push(Lt(o[t].abbr)), r.push(Lt(o[t].narrow));
                                (this._erasRegex = new RegExp("^(" + r.join("|") + ")", "i")),
                                    (this._erasNameRegex = new RegExp("^(" + n.join("|") + ")", "i")),
                                    (this._erasAbbrRegex = new RegExp("^(" + i.join("|") + ")", "i")),
                                    (this._erasNarrowRegex = new RegExp("^(" + s.join("|") + ")", "i"));
                            }
                            function Ws(t, e) {
                                z(0, [t, t.length], 0, e);
                            }
                            function Bs(t) {
                                return Ks.call(this, t, this.week(), this.weekday(), this.localeData()._week.dow, this.localeData()._week.doy);
                            }
                            function Ys(t) {
                                return Ks.call(this, t, this.isoWeek(), this.isoWeekday(), 1, 4);
                            }
                            function Us() {
                                return Pe(this.year(), 1, 4);
                            }
                            function Gs() {
                                return Pe(this.isoWeekYear(), 1, 4);
                            }
                            function qs() {
                                var t = this.localeData()._week;
                                return Pe(this.year(), t.dow, t.doy);
                            }
                            function Xs() {
                                var t = this.localeData()._week;
                                return Pe(this.weekYear(), t.dow, t.doy);
                            }
                            function Ks(t, e, i, n, s) {
                                var r;
                                return null == t ? ke(this, n, s).year : (e > (r = Pe(t, n, s)) && (e = r), Zs.call(this, t, e, i, n, s));
                            }
                            function Zs(t, e, i, n, s) {
                                var r = _e(t, e, i, n, s),
                                    o = we(r.year, 0, r.dayOfYear);
                                return this.year(o.getUTCFullYear()), this.month(o.getUTCMonth()), this.date(o.getUTCDate()), this;
                            }
                            function Js(t) {
                                return null == t ? Math.ceil((this.month() + 1) / 3) : this.month(3 * (t - 1) + (this.month() % 3));
                            }
                            z("N", 0, 0, "eraAbbr"),
                                z("NN", 0, 0, "eraAbbr"),
                                z("NNN", 0, 0, "eraAbbr"),
                                z("NNNN", 0, 0, "eraName"),
                                z("NNNNN", 0, 0, "eraNarrow"),
                                z("y", ["y", 1], "yo", "eraYear"),
                                z("y", ["yy", 2], 0, "eraYear"),
                                z("y", ["yyy", 3], 0, "eraYear"),
                                z("y", ["yyyy", 4], 0, "eraYear"),
                                Ot("N", Ls),
                                Ot("NN", Ls),
                                Ot("NNN", Ls),
                                Ot("NNNN", js),
                                Ot("NNNNN", Fs),
                                Ft(["N", "NN", "NNN", "NNNN", "NNNNN"], function (t, e, i, n) {
                                    var s = i._locale.erasParse(t, n, i._strict);
                                    s ? (v(i).era = s) : (v(i).invalidEra = t);
                                }),
                                Ot("y", $t),
                                Ot("yy", $t),
                                Ot("yyy", $t),
                                Ot("yyyy", $t),
                                Ot("yo", zs),
                                Ft(["y", "yy", "yyy", "yyyy"], Bt),
                                Ft(["yo"], function (t, e, i, n) {
                                    var s;
                                    i._locale._eraYearOrdinalRegex && (s = t.match(i._locale._eraYearOrdinalRegex)), i._locale.eraYearOrdinalParse ? (e[Bt] = i._locale.eraYearOrdinalParse(t, s)) : (e[Bt] = parseInt(t, 10));
                                }),
                                z(0, ["gg", 2], 0, function () {
                                    return this.weekYear() % 100;
                                }),
                                z(0, ["GG", 2], 0, function () {
                                    return this.isoWeekYear() % 100;
                                }),
                                Ws("gggg", "weekYear"),
                                Ws("ggggg", "weekYear"),
                                Ws("GGGG", "isoWeekYear"),
                                Ws("GGGGG", "isoWeekYear"),
                                nt("weekYear", "gg"),
                                nt("isoWeekYear", "GG"),
                                at("weekYear", 1),
                                at("isoWeekYear", 1),
                                Ot("G", Et),
                                Ot("g", Et),
                                Ot("GG", kt, yt),
                                Ot("gg", kt, yt),
                                Ot("GGGG", It, xt),
                                Ot("gggg", It, xt),
                                Ot("GGGGG", Tt, _t),
                                Ot("ggggg", Tt, _t),
                                zt(["gggg", "ggggg", "GGGG", "GGGGG"], function (t, e, i, n) {
                                    e[n.substr(0, 2)] = dt(t);
                                }),
                                zt(["gg", "GG"], function (t, e, i, s) {
                                    e[s] = n.parseTwoDigitYear(t);
                                }),
                                z("Q", 0, "Qo", "quarter"),
                                nt("quarter", "Q"),
                                at("quarter", 7),
                                Ot("Q", bt),
                                Ft("Q", function (t, e) {
                                    e[Yt] = 3 * (dt(t) - 1);
                                }),
                                z("D", ["DD", 2], "Do", "date"),
                                nt("date", "D"),
                                at("date", 9),
                                Ot("D", kt),
                                Ot("DD", kt, yt),
                                Ot("Do", function (t, e) {
                                    return t ? e._dayOfMonthOrdinalParse || e._ordinalParse : e._dayOfMonthOrdinalParseLenient;
                                }),
                                Ft(["D", "DD"], Ut),
                                Ft("Do", function (t, e) {
                                    e[Ut] = dt(t.match(kt)[0]);
                                });
                            var Qs = ut("Date", !0);
                            function tr(t) {
                                var e = Math.round((this.clone().startOf("day") - this.clone().startOf("year")) / 864e5) + 1;
                                return null == t ? e : this.add(t - e, "d");
                            }
                            z("DDD", ["DDDD", 3], "DDDo", "dayOfYear"),
                                nt("dayOfYear", "DDD"),
                                at("dayOfYear", 4),
                                Ot("DDD", Ct),
                                Ot("DDDD", wt),
                                Ft(["DDD", "DDDD"], function (t, e, i) {
                                    i._dayOfYear = dt(t);
                                }),
                                z("m", ["mm", 2], 0, "minute"),
                                nt("minute", "m"),
                                at("minute", 14),
                                Ot("m", kt),
                                Ot("mm", kt, yt),
                                Ft(["m", "mm"], qt);
                            var er = ut("Minutes", !1);
                            z("s", ["ss", 2], 0, "second"), nt("second", "s"), at("second", 15), Ot("s", kt), Ot("ss", kt, yt), Ft(["s", "ss"], Xt);
                            var ir,
                                nr,
                                sr = ut("Seconds", !1);
                            for (
                                z("S", 0, 0, function () {
                                    return ~~(this.millisecond() / 100);
                                }),
                                    z(0, ["SS", 2], 0, function () {
                                        return ~~(this.millisecond() / 10);
                                    }),
                                    z(0, ["SSS", 3], 0, "millisecond"),
                                    z(0, ["SSSS", 4], 0, function () {
                                        return 10 * this.millisecond();
                                    }),
                                    z(0, ["SSSSS", 5], 0, function () {
                                        return 100 * this.millisecond();
                                    }),
                                    z(0, ["SSSSSS", 6], 0, function () {
                                        return 1e3 * this.millisecond();
                                    }),
                                    z(0, ["SSSSSSS", 7], 0, function () {
                                        return 1e4 * this.millisecond();
                                    }),
                                    z(0, ["SSSSSSSS", 8], 0, function () {
                                        return 1e5 * this.millisecond();
                                    }),
                                    z(0, ["SSSSSSSSS", 9], 0, function () {
                                        return 1e6 * this.millisecond();
                                    }),
                                    nt("millisecond", "ms"),
                                    at("millisecond", 16),
                                    Ot("S", Ct, bt),
                                    Ot("SS", Ct, yt),
                                    Ot("SSS", Ct, wt),
                                    ir = "SSSS";
                                ir.length <= 9;
                                ir += "S"
                            )
                                Ot(ir, $t);
                            function rr(t, e) {
                                e[Kt] = dt(1e3 * ("0." + t));
                            }
                            for (ir = "S"; ir.length <= 9; ir += "S") Ft(ir, rr);
                            function or() {
                                return this._isUTC ? "UTC" : "";
                            }
                            function ar() {
                                return this._isUTC ? "Coordinated Universal Time" : "";
                            }
                            (nr = ut("Milliseconds", !1)), z("z", 0, 0, "zoneAbbr"), z("zz", 0, 0, "zoneName");
                            var lr = k.prototype;
                            function hr(t) {
                                return qi(1e3 * t);
                            }
                            function cr() {
                                return qi.apply(null, arguments).parseZone();
                            }
                            function dr(t) {
                                return t;
                            }
                            (lr.add = Nn),
                                (lr.calendar = Hn),
                                (lr.clone = Wn),
                                (lr.diff = Kn),
                                (lr.endOf = vs),
                                (lr.format = es),
                                (lr.from = is),
                                (lr.fromNow = ns),
                                (lr.to = ss),
                                (lr.toNow = rs),
                                (lr.get = mt),
                                (lr.invalidAt = Cs),
                                (lr.isAfter = Bn),
                                (lr.isBefore = Yn),
                                (lr.isBetween = Un),
                                (lr.isSame = Gn),
                                (lr.isSameOrAfter = qn),
                                (lr.isSameOrBefore = Xn),
                                (lr.isValid = Ps),
                                (lr.lang = as),
                                (lr.locale = os),
                                (lr.localeData = ls),
                                (lr.max = Ki),
                                (lr.min = Xi),
                                (lr.parsingFlags = Ss),
                                (lr.set = gt),
                                (lr.startOf = gs),
                                (lr.subtract = On),
                                (lr.toArray = xs),
                                (lr.toObject = _s),
                                (lr.toDate = ws),
                                (lr.toISOString = Qn),
                                (lr.inspect = ts),
                                "undefined" != typeof Symbol &&
                                    null != Symbol.for &&
                                    (lr[Symbol.for("nodejs.util.inspect.custom")] = function () {
                                        return "Moment<" + this.format() + ">";
                                    }),
                                (lr.toJSON = ks),
                                (lr.toString = Jn),
                                (lr.unix = ys),
                                (lr.valueOf = bs),
                                (lr.creationData = Is),
                                (lr.eraName = Ds),
                                (lr.eraNarrow = Ms),
                                (lr.eraAbbr = As),
                                (lr.eraYear = Ns),
                                (lr.year = ve),
                                (lr.isLeapYear = be),
                                (lr.weekYear = Bs),
                                (lr.isoWeekYear = Ys),
                                (lr.quarter = lr.quarters = Js),
                                (lr.month = de),
                                (lr.daysInMonth = ue),
                                (lr.week = lr.weeks = $e),
                                (lr.isoWeek = lr.isoWeeks = Ee),
                                (lr.weeksInYear = qs),
                                (lr.weeksInWeekYear = Xs),
                                (lr.isoWeeksInYear = Us),
                                (lr.isoWeeksInISOWeekYear = Gs),
                                (lr.date = Qs),
                                (lr.day = lr.days = Ye),
                                (lr.weekday = Ue),
                                (lr.isoWeekday = Ge),
                                (lr.dayOfYear = tr),
                                (lr.hour = lr.hours = si),
                                (lr.minute = lr.minutes = er),
                                (lr.second = lr.seconds = sr),
                                (lr.millisecond = lr.milliseconds = nr),
                                (lr.utcOffset = mn),
                                (lr.utc = vn),
                                (lr.local = bn),
                                (lr.parseZone = yn),
                                (lr.hasAlignedHourOffset = wn),
                                (lr.isDST = xn),
                                (lr.isLocal = kn),
                                (lr.isUtcOffset = Pn),
                                (lr.isUtc = Sn),
                                (lr.isUTC = Sn),
                                (lr.zoneAbbr = or),
                                (lr.zoneName = ar),
                                (lr.dates = C("dates accessor is deprecated. Use date instead.", Qs)),
                                (lr.months = C("months accessor is deprecated. Use month instead", de)),
                                (lr.years = C("years accessor is deprecated. Use year instead", ve)),
                                (lr.zone = C("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/", gn)),
                                (lr.isDSTShifted = C("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information", _n));
                            var ur = A.prototype;
                            function pr(t, e, i, n) {
                                var s = vi(),
                                    r = m().set(n, e);
                                return s[i](r, t);
                            }
                            function fr(t, e, i) {
                                if ((d(t) && ((e = t), (t = void 0)), (t = t || ""), null != e)) return pr(t, e, i, "month");
                                var n,
                                    s = [];
                                for (n = 0; n < 12; n++) s[n] = pr(t, n, i, "month");
                                return s;
                            }
                            function mr(t, e, i, n) {
                                "boolean" == typeof t ? (d(e) && ((i = e), (e = void 0)), (e = e || "")) : ((i = e = t), (t = !1), d(e) && ((i = e), (e = void 0)), (e = e || ""));
                                var s,
                                    r = vi(),
                                    o = t ? r._week.dow : 0,
                                    a = [];
                                if (null != i) return pr(e, (i + o) % 7, n, "day");
                                for (s = 0; s < 7; s++) a[s] = pr(e, (s + o) % 7, n, "day");
                                return a;
                            }
                            function gr(t, e) {
                                return fr(t, e, "months");
                            }
                            function vr(t, e) {
                                return fr(t, e, "monthsShort");
                            }
                            function br(t, e, i) {
                                return mr(t, e, i, "weekdays");
                            }
                            function yr(t, e, i) {
                                return mr(t, e, i, "weekdaysShort");
                            }
                            function wr(t, e, i) {
                                return mr(t, e, i, "weekdaysMin");
                            }
                            (ur.calendar = O),
                                (ur.longDateFormat = G),
                                (ur.invalidDate = X),
                                (ur.ordinal = J),
                                (ur.preparse = dr),
                                (ur.postformat = dr),
                                (ur.relativeTime = tt),
                                (ur.pastFuture = et),
                                (ur.set = D),
                                (ur.eras = Ts),
                                (ur.erasParse = $s),
                                (ur.erasConvertYear = Es),
                                (ur.erasAbbrRegex = Rs),
                                (ur.erasNameRegex = Os),
                                (ur.erasNarrowRegex = Vs),
                                (ur.months = oe),
                                (ur.monthsShort = ae),
                                (ur.monthsParse = he),
                                (ur.monthsRegex = fe),
                                (ur.monthsShortRegex = pe),
                                (ur.week = Se),
                                (ur.firstDayOfYear = Te),
                                (ur.firstDayOfWeek = Ie),
                                (ur.weekdays = Fe),
                                (ur.weekdaysMin = He),
                                (ur.weekdaysShort = ze),
                                (ur.weekdaysParse = Be),
                                (ur.weekdaysRegex = qe),
                                (ur.weekdaysShortRegex = Xe),
                                (ur.weekdaysMinRegex = Ke),
                                (ur.isPM = ii),
                                (ur.meridiem = ri),
                                fi("en", {
                                    eras: [
                                        { since: "0001-01-01", until: 1 / 0, offset: 1, name: "Anno Domini", narrow: "AD", abbr: "AD" },
                                        { since: "0000-12-31", until: -1 / 0, offset: 1, name: "Before Christ", narrow: "BC", abbr: "BC" },
                                    ],
                                    dayOfMonthOrdinalParse: /\d{1,2}(th|st|nd|rd)/,
                                    ordinal: function (t) {
                                        var e = t % 10;
                                        return t + (1 === dt((t % 100) / 10) ? "th" : 1 === e ? "st" : 2 === e ? "nd" : 3 === e ? "rd" : "th");
                                    },
                                }),
                                (n.lang = C("moment.lang is deprecated. Use moment.locale instead.", fi)),
                                (n.langData = C("moment.langData is deprecated. Use moment.localeData instead.", vi));
                            var xr = Math.abs;
                            function _r() {
                                var t = this._data;
                                return (
                                    (this._milliseconds = xr(this._milliseconds)),
                                    (this._days = xr(this._days)),
                                    (this._months = xr(this._months)),
                                    (t.milliseconds = xr(t.milliseconds)),
                                    (t.seconds = xr(t.seconds)),
                                    (t.minutes = xr(t.minutes)),
                                    (t.hours = xr(t.hours)),
                                    (t.months = xr(t.months)),
                                    (t.years = xr(t.years)),
                                    this
                                );
                            }
                            function kr(t, e, i, n) {
                                var s = Tn(e, i);
                                return (t._milliseconds += n * s._milliseconds), (t._days += n * s._days), (t._months += n * s._months), t._bubble();
                            }
                            function Pr(t, e) {
                                return kr(this, t, e, 1);
                            }
                            function Sr(t, e) {
                                return kr(this, t, e, -1);
                            }
                            function Cr(t) {
                                return t < 0 ? Math.floor(t) : Math.ceil(t);
                            }
                            function Ir() {
                                var t,
                                    e,
                                    i,
                                    n,
                                    s,
                                    r = this._milliseconds,
                                    o = this._days,
                                    a = this._months,
                                    l = this._data;
                                return (
                                    (r >= 0 && o >= 0 && a >= 0) || (r <= 0 && o <= 0 && a <= 0) || ((r += 864e5 * Cr($r(a) + o)), (o = 0), (a = 0)),
                                    (l.milliseconds = r % 1e3),
                                    (t = ct(r / 1e3)),
                                    (l.seconds = t % 60),
                                    (e = ct(t / 60)),
                                    (l.minutes = e % 60),
                                    (i = ct(e / 60)),
                                    (l.hours = i % 24),
                                    (o += ct(i / 24)),
                                    (a += s = ct(Tr(o))),
                                    (o -= Cr($r(s))),
                                    (n = ct(a / 12)),
                                    (a %= 12),
                                    (l.days = o),
                                    (l.months = a),
                                    (l.years = n),
                                    this
                                );
                            }
                            function Tr(t) {
                                return (4800 * t) / 146097;
                            }
                            function $r(t) {
                                return (146097 * t) / 4800;
                            }
                            function Er(t) {
                                if (!this.isValid()) return NaN;
                                var e,
                                    i,
                                    n = this._milliseconds;
                                if ("month" === (t = st(t)) || "quarter" === t || "year" === t)
                                    switch (((e = this._days + n / 864e5), (i = this._months + Tr(e)), t)) {
                                        case "month":
                                            return i;
                                        case "quarter":
                                            return i / 3;
                                        case "year":
                                            return i / 12;
                                    }
                                else
                                    switch (((e = this._days + Math.round($r(this._months))), t)) {
                                        case "week":
                                            return e / 7 + n / 6048e5;
                                        case "day":
                                            return e + n / 864e5;
                                        case "hour":
                                            return 24 * e + n / 36e5;
                                        case "minute":
                                            return 1440 * e + n / 6e4;
                                        case "second":
                                            return 86400 * e + n / 1e3;
                                        case "millisecond":
                                            return Math.floor(864e5 * e) + n;
                                        default:
                                            throw new Error("Unknown unit " + t);
                                    }
                            }
                            function Dr() {
                                return this.isValid() ? this._milliseconds + 864e5 * this._days + (this._months % 12) * 2592e6 + 31536e6 * dt(this._months / 12) : NaN;
                            }
                            function Mr(t) {
                                return function () {
                                    return this.as(t);
                                };
                            }
                            var Ar = Mr("ms"),
                                Nr = Mr("s"),
                                Or = Mr("m"),
                                Rr = Mr("h"),
                                Vr = Mr("d"),
                                Lr = Mr("w"),
                                jr = Mr("M"),
                                Fr = Mr("Q"),
                                zr = Mr("y");
                            function Hr() {
                                return Tn(this);
                            }
                            function Wr(t) {
                                return (t = st(t)), this.isValid() ? this[t + "s"]() : NaN;
                            }
                            function Br(t) {
                                return function () {
                                    return this.isValid() ? this._data[t] : NaN;
                                };
                            }
                            var Yr = Br("milliseconds"),
                                Ur = Br("seconds"),
                                Gr = Br("minutes"),
                                qr = Br("hours"),
                                Xr = Br("days"),
                                Kr = Br("months"),
                                Zr = Br("years");
                            function Jr() {
                                return ct(this.days() / 7);
                            }
                            var Qr = Math.round,
                                to = { ss: 44, s: 45, m: 45, h: 22, d: 26, w: null, M: 11 };
                            function eo(t, e, i, n, s) {
                                return s.relativeTime(e || 1, !!i, t, n);
                            }
                            function io(t, e, i, n) {
                                var s = Tn(t).abs(),
                                    r = Qr(s.as("s")),
                                    o = Qr(s.as("m")),
                                    a = Qr(s.as("h")),
                                    l = Qr(s.as("d")),
                                    h = Qr(s.as("M")),
                                    c = Qr(s.as("w")),
                                    d = Qr(s.as("y")),
                                    u = (r <= i.ss && ["s", r]) || (r < i.s && ["ss", r]) || (o <= 1 && ["m"]) || (o < i.m && ["mm", o]) || (a <= 1 && ["h"]) || (a < i.h && ["hh", a]) || (l <= 1 && ["d"]) || (l < i.d && ["dd", l]);
                                return (
                                    null != i.w && (u = u || (c <= 1 && ["w"]) || (c < i.w && ["ww", c])),
                                    ((u = u || (h <= 1 && ["M"]) || (h < i.M && ["MM", h]) || (d <= 1 && ["y"]) || ["yy", d])[2] = e),
                                    (u[3] = +t > 0),
                                    (u[4] = n),
                                    eo.apply(null, u)
                                );
                            }
                            function no(t) {
                                return void 0 === t ? Qr : "function" == typeof t && ((Qr = t), !0);
                            }
                            function so(t, e) {
                                return void 0 !== to[t] && (void 0 === e ? to[t] : ((to[t] = e), "s" === t && (to.ss = e - 1), !0));
                            }
                            function ro(t, e) {
                                if (!this.isValid()) return this.localeData().invalidDate();
                                var i,
                                    n,
                                    s = !1,
                                    r = to;
                                return (
                                    "object" == typeof t && ((e = t), (t = !1)),
                                    "boolean" == typeof t && (s = t),
                                    "object" == typeof e && ((r = Object.assign({}, to, e)), null != e.s && null == e.ss && (r.ss = e.s - 1)),
                                    (n = io(this, !s, r, (i = this.localeData()))),
                                    s && (n = i.pastFuture(+this, n)),
                                    i.postformat(n)
                                );
                            }
                            var oo = Math.abs;
                            function ao(t) {
                                return (t > 0) - (t < 0) || +t;
                            }
                            function lo() {
                                if (!this.isValid()) return this.localeData().invalidDate();
                                var t,
                                    e,
                                    i,
                                    n,
                                    s,
                                    r,
                                    o,
                                    a,
                                    l = oo(this._milliseconds) / 1e3,
                                    h = oo(this._days),
                                    c = oo(this._months),
                                    d = this.asSeconds();
                                return d
                                    ? ((t = ct(l / 60)),
                                      (e = ct(t / 60)),
                                      (l %= 60),
                                      (t %= 60),
                                      (i = ct(c / 12)),
                                      (c %= 12),
                                      (n = l ? l.toFixed(3).replace(/\.?0+$/, "") : ""),
                                      (s = d < 0 ? "-" : ""),
                                      (r = ao(this._months) !== ao(d) ? "-" : ""),
                                      (o = ao(this._days) !== ao(d) ? "-" : ""),
                                      (a = ao(this._milliseconds) !== ao(d) ? "-" : ""),
                                      s + "P" + (i ? r + i + "Y" : "") + (c ? r + c + "M" : "") + (h ? o + h + "D" : "") + (e || t || l ? "T" : "") + (e ? a + e + "H" : "") + (t ? a + t + "M" : "") + (l ? a + n + "S" : ""))
                                    : "P0D";
                            }
                            var ho = on.prototype;
                            return (
                                (ho.isValid = sn),
                                (ho.abs = _r),
                                (ho.add = Pr),
                                (ho.subtract = Sr),
                                (ho.as = Er),
                                (ho.asMilliseconds = Ar),
                                (ho.asSeconds = Nr),
                                (ho.asMinutes = Or),
                                (ho.asHours = Rr),
                                (ho.asDays = Vr),
                                (ho.asWeeks = Lr),
                                (ho.asMonths = jr),
                                (ho.asQuarters = Fr),
                                (ho.asYears = zr),
                                (ho.valueOf = Dr),
                                (ho._bubble = Ir),
                                (ho.clone = Hr),
                                (ho.get = Wr),
                                (ho.milliseconds = Yr),
                                (ho.seconds = Ur),
                                (ho.minutes = Gr),
                                (ho.hours = qr),
                                (ho.days = Xr),
                                (ho.weeks = Jr),
                                (ho.months = Kr),
                                (ho.years = Zr),
                                (ho.humanize = ro),
                                (ho.toISOString = lo),
                                (ho.toString = lo),
                                (ho.toJSON = lo),
                                (ho.locale = os),
                                (ho.localeData = ls),
                                (ho.toIsoString = C("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)", lo)),
                                (ho.lang = as),
                                z("X", 0, 0, "unix"),
                                z("x", 0, 0, "valueOf"),
                                Ot("x", Et),
                                Ot("X", At),
                                Ft("X", function (t, e, i) {
                                    i._d = new Date(1e3 * parseFloat(t));
                                }),
                                Ft("x", function (t, e, i) {
                                    i._d = new Date(dt(t));
                                }),
                                (n.version = "2.29.1"),
                                s(qi),
                                (n.fn = lr),
                                (n.min = Ji),
                                (n.max = Qi),
                                (n.now = tn),
                                (n.utc = m),
                                (n.unix = hr),
                                (n.months = gr),
                                (n.isDate = u),
                                (n.locale = fi),
                                (n.invalid = y),
                                (n.duration = Tn),
                                (n.isMoment = P),
                                (n.weekdays = br),
                                (n.parseZone = cr),
                                (n.localeData = vi),
                                (n.isDuration = an),
                                (n.monthsShort = vr),
                                (n.weekdaysMin = wr),
                                (n.defineLocale = mi),
                                (n.updateLocale = gi),
                                (n.locales = bi),
                                (n.weekdaysShort = yr),
                                (n.normalizeUnits = st),
                                (n.relativeTimeRounding = no),
                                (n.relativeTimeThreshold = so),
                                (n.calendarFormat = zn),
                                (n.prototype = lr),
                                (n.HTML5_FMT = {
                                    DATETIME_LOCAL: "YYYY-MM-DDTHH:mm",
                                    DATETIME_LOCAL_SECONDS: "YYYY-MM-DDTHH:mm:ss",
                                    DATETIME_LOCAL_MS: "YYYY-MM-DDTHH:mm:ss.SSS",
                                    DATE: "YYYY-MM-DD",
                                    TIME: "HH:mm",
                                    TIME_SECONDS: "HH:mm:ss",
                                    TIME_MS: "HH:mm:ss.SSS",
                                    WEEK: "GGGG-[W]WW",
                                    MONTH: "YYYY-MM",
                                }),
                                n
                            );
                        })();
                    }),
                    h =
                        (o(function (t, e) {
                            (function (t) {
                                function e(t, e, i, n) {
                                    var s = {
                                        m: ["eine Minute", "einer Minute"],
                                        h: ["eine Stunde", "einer Stunde"],
                                        d: ["ein Tag", "einem Tag"],
                                        dd: [t + " Tage", t + " Tagen"],
                                        w: ["eine Woche", "einer Woche"],
                                        M: ["ein Monat", "einem Monat"],
                                        MM: [t + " Monate", t + " Monaten"],
                                        y: ["ein Jahr", "einem Jahr"],
                                        yy: [t + " Jahre", t + " Jahren"],
                                    };
                                    return e ? s[i][0] : s[i][1];
                                }
                                t.defineLocale("de", {
                                    months: "Januar_Februar_Mrz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),
                                    monthsShort: "Jan._Feb._Mrz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),
                                    monthsParseExact: !0,
                                    weekdays: "Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),
                                    weekdaysShort: "So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),
                                    weekdaysMin: "So_Mo_Di_Mi_Do_Fr_Sa".split("_"),
                                    weekdaysParseExact: !0,
                                    longDateFormat: { LT: "HH:mm", LTS: "HH:mm:ss", L: "DD.MM.YYYY", LL: "D. MMMM YYYY", LLL: "D. MMMM YYYY HH:mm", LLLL: "dddd, D. MMMM YYYY HH:mm" },
                                    calendar: { sameDay: "[heute um] LT [Uhr]", sameElse: "L", nextDay: "[morgen um] LT [Uhr]", nextWeek: "dddd [um] LT [Uhr]", lastDay: "[gestern um] LT [Uhr]", lastWeek: "[letzten] dddd [um] LT [Uhr]" },
                                    relativeTime: { future: "in %s", past: "vor %s", s: "ein paar Sekunden", ss: "%d Sekunden", m: e, mm: "%d Minuten", h: e, hh: "%d Stunden", d: e, dd: e, w: e, ww: "%d Wochen", M: e, MM: e, y: e, yy: e },
                                    dayOfMonthOrdinalParse: /\d{1,2}\./,
                                    ordinal: "%d.",
                                    week: { dow: 1, doy: 4 },
                                });
                            })(l);
                        }),
                        o(function (t, e) {
                            (function (t) {
                                var e = "ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),
                                    i = "ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),
                                    n = [/^ene/i, /^feb/i, /^mar/i, /^abr/i, /^may/i, /^jun/i, /^jul/i, /^ago/i, /^sep/i, /^oct/i, /^nov/i, /^dic/i],
                                    s = /^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;
                                t.defineLocale("es", {
                                    months: "enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),
                                    monthsShort: function (t, n) {
                                        return t ? (/-MMM-/.test(n) ? i[t.month()] : e[t.month()]) : e;
                                    },
                                    monthsRegex: s,
                                    monthsShortRegex: s,
                                    monthsStrictRegex: /^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,
                                    monthsShortStrictRegex: /^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,
                                    monthsParse: n,
                                    longMonthsParse: n,
                                    shortMonthsParse: n,
                                    weekdays: "domingo_lunes_martes_mircoles_jueves_viernes_sbado".split("_"),
                                    weekdaysShort: "dom._lun._mar._mi._jue._vie._sb.".split("_"),
                                    weekdaysMin: "do_lu_ma_mi_ju_vi_s".split("_"),
                                    weekdaysParseExact: !0,
                                    longDateFormat: { LT: "H:mm", LTS: "H:mm:ss", L: "DD/MM/YYYY", LL: "D [de] MMMM [de] YYYY", LLL: "D [de] MMMM [de] YYYY H:mm", LLLL: "dddd, D [de] MMMM [de] YYYY H:mm" },
                                    calendar: {
                                        sameDay: function () {
                                            return "[hoy a la" + (1 !== this.hours() ? "s" : "") + "] LT";
                                        },
                                        nextDay: function () {
                                            return "[maana a la" + (1 !== this.hours() ? "s" : "") + "] LT";
                                        },
                                        nextWeek: function () {
                                            return "dddd [a la" + (1 !== this.hours() ? "s" : "") + "] LT";
                                        },
                                        lastDay: function () {
                                            return "[ayer a la" + (1 !== this.hours() ? "s" : "") + "] LT";
                                        },
                                        lastWeek: function () {
                                            return "[el] dddd [pasado a la" + (1 !== this.hours() ? "s" : "") + "] LT";
                                        },
                                        sameElse: "L",
                                    },
                                    relativeTime: {
                                        future: "en %s",
                                        past: "hace %s",
                                        s: "unos segundos",
                                        ss: "%d segundos",
                                        m: "un minuto",
                                        mm: "%d minutos",
                                        h: "una hora",
                                        hh: "%d horas",
                                        d: "un da",
                                        dd: "%d das",
                                        w: "una semana",
                                        ww: "%d semanas",
                                        M: "un mes",
                                        MM: "%d meses",
                                        y: "un ao",
                                        yy: "%d aos",
                                    },
                                    dayOfMonthOrdinalParse: /\d{1,2}/,
                                    ordinal: "%d",
                                    week: { dow: 1, doy: 4 },
                                    invalidDate: "Fecha invlida",
                                });
                            })(l);
                        }),
                        o(function (t, e) {
                            (function (t) {
                                var e = /(janv\.?|fvr\.?|mars|avr\.?|mai|juin|juil\.?|aot|sept\.?|oct\.?|nov\.?|dc\.?|janvier|fvrier|mars|avril|mai|juin|juillet|aot|septembre|octobre|novembre|dcembre)/i,
                                    i = [/^janv/i, /^fvr/i, /^mars/i, /^avr/i, /^mai/i, /^juin/i, /^juil/i, /^aot/i, /^sept/i, /^oct/i, /^nov/i, /^dc/i];
                                t.defineLocale("fr", {
                                    months: "janvier_fvrier_mars_avril_mai_juin_juillet_aot_septembre_octobre_novembre_dcembre".split("_"),
                                    monthsShort: "janv._fvr._mars_avr._mai_juin_juil._aot_sept._oct._nov._dc.".split("_"),
                                    monthsRegex: e,
                                    monthsShortRegex: e,
                                    monthsStrictRegex: /^(janvier|fvrier|mars|avril|mai|juin|juillet|aot|septembre|octobre|novembre|dcembre)/i,
                                    monthsShortStrictRegex: /(janv\.?|fvr\.?|mars|avr\.?|mai|juin|juil\.?|aot|sept\.?|oct\.?|nov\.?|dc\.?)/i,
                                    monthsParse: i,
                                    longMonthsParse: i,
                                    shortMonthsParse: i,
                                    weekdays: "dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),
                                    weekdaysShort: "dim._lun._mar._mer._jeu._ven._sam.".split("_"),
                                    weekdaysMin: "di_lu_ma_me_je_ve_sa".split("_"),
                                    weekdaysParseExact: !0,
                                    longDateFormat: { LT: "HH:mm", LTS: "HH:mm:ss", L: "DD/MM/YYYY", LL: "D MMMM YYYY", LLL: "D MMMM YYYY HH:mm", LLLL: "dddd D MMMM YYYY HH:mm" },
                                    calendar: { sameDay: "[Aujourdhui ] LT", nextDay: "[Demain ] LT", nextWeek: "dddd [] LT", lastDay: "[Hier ] LT", lastWeek: "dddd [dernier ] LT", sameElse: "L" },
                                    relativeTime: {
                                        future: "dans %s",
                                        past: "il y a %s",
                                        s: "quelques secondes",
                                        ss: "%d secondes",
                                        m: "une minute",
                                        mm: "%d minutes",
                                        h: "une heure",
                                        hh: "%d heures",
                                        d: "un jour",
                                        dd: "%d jours",
                                        w: "une semaine",
                                        ww: "%d semaines",
                                        M: "un mois",
                                        MM: "%d mois",
                                        y: "un an",
                                        yy: "%d ans",
                                    },
                                    dayOfMonthOrdinalParse: /\d{1,2}(er|)/,
                                    ordinal: function (t, e) {
                                        switch (e) {
                                            case "D":
                                                return t + (1 === t ? "er" : "");
                                            default:
                                            case "M":
                                            case "Q":
                                            case "DDD":
                                            case "d":
                                                return t + (1 === t ? "er" : "e");
                                            case "w":
                                            case "W":
                                                return t + (1 === t ? "re" : "e");
                                        }
                                    },
                                    week: { dow: 1, doy: 4 },
                                });
                            })(l);
                        }),
                        o(function (t, e) {
                            (function (t) {
                                t.defineLocale("it", {
                                    months: "gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),
                                    monthsShort: "gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),
                                    weekdays: "domenica_luned_marted_mercoled_gioved_venerd_sabato".split("_"),
                                    weekdaysShort: "dom_lun_mar_mer_gio_ven_sab".split("_"),
                                    weekdaysMin: "do_lu_ma_me_gi_ve_sa".split("_"),
                                    longDateFormat: { LT: "HH:mm", LTS: "HH:mm:ss", L: "DD/MM/YYYY", LL: "D MMMM YYYY", LLL: "D MMMM YYYY HH:mm", LLLL: "dddd D MMMM YYYY HH:mm" },
                                    calendar: {
                                        sameDay: function () {
                                            return "[Oggi a" + (this.hours() > 1 ? "lle " : 0 === this.hours() ? " " : "ll'") + "]LT";
                                        },
                                        nextDay: function () {
                                            return "[Domani a" + (this.hours() > 1 ? "lle " : 0 === this.hours() ? " " : "ll'") + "]LT";
                                        },
                                        nextWeek: function () {
                                            return "dddd [a" + (this.hours() > 1 ? "lle " : 0 === this.hours() ? " " : "ll'") + "]LT";
                                        },
                                        lastDay: function () {
                                            return "[Ieri a" + (this.hours() > 1 ? "lle " : 0 === this.hours() ? " " : "ll'") + "]LT";
                                        },
                                        lastWeek: function () {
                                            switch (this.day()) {
                                                case 0:
                                                    return "[La scorsa] dddd [a" + (this.hours() > 1 ? "lle " : 0 === this.hours() ? " " : "ll'") + "]LT";
                                                default:
                                                    return "[Lo scorso] dddd [a" + (this.hours() > 1 ? "lle " : 0 === this.hours() ? " " : "ll'") + "]LT";
                                            }
                                        },
                                        sameElse: "L",
                                    },
                                    relativeTime: {
                                        future: "tra %s",
                                        past: "%s fa",
                                        s: "alcuni secondi",
                                        ss: "%d secondi",
                                        m: "un minuto",
                                        mm: "%d minuti",
                                        h: "un'ora",
                                        hh: "%d ore",
                                        d: "un giorno",
                                        dd: "%d giorni",
                                        w: "una settimana",
                                        ww: "%d settimane",
                                        M: "un mese",
                                        MM: "%d mesi",
                                        y: "un anno",
                                        yy: "%d anni",
                                    },
                                    dayOfMonthOrdinalParse: /\d{1,2}/,
                                    ordinal: "%d",
                                    week: { dow: 1, doy: 4 },
                                });
                            })(l);
                        }),
                        o(function (t, e) {
                            (function (t) {
                                t.defineLocale("ja", {
                                    eras: [
                                        { since: "2019-05-01", offset: 1, name: "", narrow: "", abbr: "R" },
                                        { since: "1989-01-08", until: "2019-04-30", offset: 1, name: "", narrow: "", abbr: "H" },
                                        { since: "1926-12-25", until: "1989-01-07", offset: 1, name: "", narrow: "", abbr: "S" },
                                        { since: "1912-07-30", until: "1926-12-24", offset: 1, name: "", narrow: "", abbr: "T" },
                                        { since: "1873-01-01", until: "1912-07-29", offset: 6, name: "", narrow: "", abbr: "M" },
                                        { since: "0001-01-01", until: "1873-12-31", offset: 1, name: "", narrow: "AD", abbr: "AD" },
                                        { since: "0000-12-31", until: -1 / 0, offset: 1, name: "", narrow: "BC", abbr: "BC" },
                                    ],
                                    eraYearOrdinalRegex: /(|\d+)/,
                                    eraYearOrdinalParse: function (t, e) {
                                        return "" === e[1] ? 1 : parseInt(e[1] || t, 10);
                                    },
                                    months: "1_2_3_4_5_6_7_8_9_10_11_12".split("_"),
                                    monthsShort: "1_2_3_4_5_6_7_8_9_10_11_12".split("_"),
                                    weekdays: "______".split("_"),
                                    weekdaysShort: "______".split("_"),
                                    weekdaysMin: "______".split("_"),
                                    longDateFormat: {
                                        LT: "HH:mm",
                                        LTS: "HH:mm:ss",
                                        L: "YYYY/MM/DD",
                                        LL: "YYYYMD",
                                        LLL: "YYYYMD HH:mm",
                                        LLLL: "YYYYMD dddd HH:mm",
                                        l: "YYYY/MM/DD",
                                        ll: "YYYYMD",
                                        lll: "YYYYMD HH:mm",
                                        llll: "YYYYMD(ddd) HH:mm",
                                    },
                                    meridiemParse: /|/i,
                                    isPM: function (t) {
                                        return "" === t;
                                    },
                                    meridiem: function (t, e, i) {
                                        return t < 12 ? "" : "";
                                    },
                                    calendar: {
                                        sameDay: "[] LT",
                                        nextDay: "[] LT",
                                        nextWeek: function (t) {
                                            return t.week() !== this.week() ? "[]dddd LT" : "dddd LT";
                                        },
                                        lastDay: "[] LT",
                                        lastWeek: function (t) {
                                            return this.week() !== t.week() ? "[]dddd LT" : "dddd LT";
                                        },
                                        sameElse: "L",
                                    },
                                    dayOfMonthOrdinalParse: /\d{1,2}/,
                                    ordinal: function (t, e) {
                                        switch (e) {
                                            case "y":
                                                return 1 === t ? "" : t + "";
                                            case "d":
                                            case "D":
                                            case "DDD":
                                                return t + "";
                                            default:
                                                return t;
                                        }
                                    },
                                    relativeTime: { future: "%s", past: "%s", s: "", ss: "%d", m: "1", mm: "%d", h: "1", hh: "%d", d: "1", dd: "%d", M: "1", MM: "%d", y: "1", yy: "%d" },
                                });
                            })(l);
                        }),
                        o(function (t, e) {
                            (function (t) {
                                var e = "jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),
                                    i = "jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),
                                    n = [/^jan/i, /^feb/i, /^maart|mrt.?$/i, /^apr/i, /^mei$/i, /^jun[i.]?$/i, /^jul[i.]?$/i, /^aug/i, /^sep/i, /^okt/i, /^nov/i, /^dec/i],
                                    s = /^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december|jan\.?|feb\.?|mrt\.?|apr\.?|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i;
                                t.defineLocale("nl", {
                                    months: "januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),
                                    monthsShort: function (t, n) {
                                        return t ? (/-MMM-/.test(n) ? i[t.month()] : e[t.month()]) : e;
                                    },
                                    monthsRegex: s,
                                    monthsShortRegex: s,
                                    monthsStrictRegex: /^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december)/i,
                                    monthsShortStrictRegex: /^(jan\.?|feb\.?|mrt\.?|apr\.?|mei|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,
                                    monthsParse: n,
                                    longMonthsParse: n,
                                    shortMonthsParse: n,
                                    weekdays: "zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),
                                    weekdaysShort: "zo._ma._di._wo._do._vr._za.".split("_"),
                                    weekdaysMin: "zo_ma_di_wo_do_vr_za".split("_"),
                                    weekdaysParseExact: !0,
                                    longDateFormat: { LT: "HH:mm", LTS: "HH:mm:ss", L: "DD-MM-YYYY", LL: "D MMMM YYYY", LLL: "D MMMM YYYY HH:mm", LLLL: "dddd D MMMM YYYY HH:mm" },
                                    calendar: { sameDay: "[vandaag om] LT", nextDay: "[morgen om] LT", nextWeek: "dddd [om] LT", lastDay: "[gisteren om] LT", lastWeek: "[afgelopen] dddd [om] LT", sameElse: "L" },
                                    relativeTime: {
                                        future: "over %s",
                                        past: "%s geleden",
                                        s: "een paar seconden",
                                        ss: "%d seconden",
                                        m: "n minuut",
                                        mm: "%d minuten",
                                        h: "n uur",
                                        hh: "%d uur",
                                        d: "n dag",
                                        dd: "%d dagen",
                                        w: "n week",
                                        ww: "%d weken",
                                        M: "n maand",
                                        MM: "%d maanden",
                                        y: "n jaar",
                                        yy: "%d jaar",
                                    },
                                    dayOfMonthOrdinalParse: /\d{1,2}(ste|de)/,
                                    ordinal: function (t) {
                                        return t + (1 === t || 8 === t || t >= 20 ? "ste" : "de");
                                    },
                                    week: { dow: 1, doy: 4 },
                                });
                            })(l);
                        }),
                        o(function (t, e) {
                            (function (t) {
                                var e = "stycze_luty_marzec_kwiecie_maj_czerwiec_lipiec_sierpie_wrzesie_padziernik_listopad_grudzie".split("_"),
                                    i = "stycznia_lutego_marca_kwietnia_maja_czerwca_lipca_sierpnia_wrzenia_padziernika_listopada_grudnia".split("_"),
                                    n = [/^sty/i, /^lut/i, /^mar/i, /^kwi/i, /^maj/i, /^cze/i, /^lip/i, /^sie/i, /^wrz/i, /^pa/i, /^lis/i, /^gru/i];
                                function s(t) {
                                    return t % 10 < 5 && t % 10 > 1 && ~~(t / 10) % 10 != 1;
                                }
                                function r(t, e, i) {
                                    var n = t + " ";
                                    switch (i) {
                                        case "ss":
                                            return n + (s(t) ? "sekundy" : "sekund");
                                        case "m":
                                            return e ? "minuta" : "minut";
                                        case "mm":
                                            return n + (s(t) ? "minuty" : "minut");
                                        case "h":
                                            return e ? "godzina" : "godzin";
                                        case "hh":
                                            return n + (s(t) ? "godziny" : "godzin");
                                        case "ww":
                                            return n + (s(t) ? "tygodnie" : "tygodni");
                                        case "MM":
                                            return n + (s(t) ? "miesice" : "miesicy");
                                        case "yy":
                                            return n + (s(t) ? "lata" : "lat");
                                    }
                                }
                                t.defineLocale("pl", {
                                    months: function (t, n) {
                                        return t ? (/D MMMM/.test(n) ? i[t.month()] : e[t.month()]) : e;
                                    },
                                    monthsShort: "sty_lut_mar_kwi_maj_cze_lip_sie_wrz_pa_lis_gru".split("_"),
                                    monthsParse: n,
                                    longMonthsParse: n,
                                    shortMonthsParse: n,
                                    weekdays: "niedziela_poniedziaek_wtorek_roda_czwartek_pitek_sobota".split("_"),
                                    weekdaysShort: "ndz_pon_wt_r_czw_pt_sob".split("_"),
                                    weekdaysMin: "Nd_Pn_Wt_r_Cz_Pt_So".split("_"),
                                    longDateFormat: { LT: "HH:mm", LTS: "HH:mm:ss", L: "DD.MM.YYYY", LL: "D MMMM YYYY", LLL: "D MMMM YYYY HH:mm", LLLL: "dddd, D MMMM YYYY HH:mm" },
                                    calendar: {
                                        sameDay: "[Dzi o] LT",
                                        nextDay: "[Jutro o] LT",
                                        nextWeek: function () {
                                            switch (this.day()) {
                                                case 0:
                                                    return "[W niedziel o] LT";
                                                case 2:
                                                    return "[We wtorek o] LT";
                                                case 3:
                                                    return "[W rod o] LT";
                                                case 6:
                                                    return "[W sobot o] LT";
                                                default:
                                                    return "[W] dddd [o] LT";
                                            }
                                        },
                                        lastDay: "[Wczoraj o] LT",
                                        lastWeek: function () {
                                            switch (this.day()) {
                                                case 0:
                                                    return "[W zesz niedziel o] LT";
                                                case 3:
                                                    return "[W zesz rod o] LT";
                                                case 6:
                                                    return "[W zesz sobot o] LT";
                                                default:
                                                    return "[W zeszy] dddd [o] LT";
                                            }
                                        },
                                        sameElse: "L",
                                    },
                                    relativeTime: { future: "za %s", past: "%s temu", s: "kilka sekund", ss: r, m: r, mm: r, h: r, hh: r, d: "1 dzie", dd: "%d dni", w: "tydzie", ww: r, M: "miesic", MM: r, y: "rok", yy: r },
                                    dayOfMonthOrdinalParse: /\d{1,2}\./,
                                    ordinal: "%d.",
                                    week: { dow: 1, doy: 4 },
                                });
                            })(l);
                        }),
                        o(function (t, e) {
                            (function (t) {
                                function e(t, e, i) {
                                    var n, s;
                                    return "m" === i
                                        ? e
                                            ? ""
                                            : ""
                                        : t +
                                              " " +
                                              ((n = +t),
                                              (s = {
                                                  ss: e ? "__" : "__",
                                                  mm: e ? "__" : "__",
                                                  hh: "__",
                                                  dd: "__",
                                                  ww: "__",
                                                  MM: "__",
                                                  yy: "__",
                                              }[i].split("_")),
                                              n % 10 == 1 && n % 100 != 11 ? s[0] : n % 10 >= 2 && n % 10 <= 4 && (n % 100 < 10 || n % 100 >= 20) ? s[1] : s[2]);
                                }
                                var i = [/^/i, /^/i, /^/i, /^/i, /^[]/i, /^/i, /^/i, /^/i, /^/i, /^/i, /^/i, /^/i];
                                t.defineLocale("ru", {
                                    months: {
                                        format: "___________".split("_"),
                                        standalone: "___________".split("_"),
                                    },
                                    monthsShort: { format: "._._._.____._._._._.".split("_"), standalone: "._.__.____._._._._.".split("_") },
                                    weekdays: {
                                        standalone: "______".split("_"),
                                        format: "______".split("_"),
                                        isFormat: /\[ ?[] ?(?:||)? ?] ?dddd/,
                                    },
                                    weekdaysShort: "______".split("_"),
                                    weekdaysMin: "______".split("_"),
                                    monthsParse: i,
                                    longMonthsParse: i,
                                    shortMonthsParse: i,
                                    monthsRegex: /^([]|\.?|[]|?\.?|?|\.?|[]|\.?|[]|[]|\.?|[]|\.?|?|\.?|[]|?\.?|[]|\.?|[]|?\.?|[]|\.?)/i,
                                    monthsShortRegex: /^([]|\.?|[]|?\.?|?|\.?|[]|\.?|[]|[]|\.?|[]|\.?|?|\.?|[]|?\.?|[]|\.?|[]|?\.?|[]|\.?)/i,
                                    monthsStrictRegex: /^([]|[]|?|[]|[]|[]|[]|?|[]|[]|[]|[])/i,
                                    monthsShortStrictRegex: /^(\.|?\.|[.]|\.|[]|[.]|[.]|\.|?\.|\.|?\.|\.)/i,
                                    longDateFormat: { LT: "H:mm", LTS: "H:mm:ss", L: "DD.MM.YYYY", LL: "D MMMM YYYY .", LLL: "D MMMM YYYY ., H:mm", LLLL: "dddd, D MMMM YYYY ., H:mm" },
                                    calendar: {
                                        sameDay: "[, ] LT",
                                        nextDay: "[, ] LT",
                                        lastDay: "[, ] LT",
                                        nextWeek: function (t) {
                                            if (t.week() === this.week()) return 2 === this.day() ? "[] dddd, [] LT" : "[] dddd, [] LT";
                                            switch (this.day()) {
                                                case 0:
                                                    return "[ ] dddd, [] LT";
                                                case 1:
                                                case 2:
                                                case 4:
                                                    return "[ ] dddd, [] LT";
                                                case 3:
                                                case 5:
                                                case 6:
                                                    return "[ ] dddd, [] LT";
                                            }
                                        },
                                        lastWeek: function (t) {
                                            if (t.week() === this.week()) return 2 === this.day() ? "[] dddd, [] LT" : "[] dddd, [] LT";
                                            switch (this.day()) {
                                                case 0:
                                                    return "[ ] dddd, [] LT";
                                                case 1:
                                                case 2:
                                                case 4:
                                                    return "[ ] dddd, [] LT";
                                                case 3:
                                                case 5:
                                                case 6:
                                                    return "[ ] dddd, [] LT";
                                            }
                                        },
                                        sameElse: "L",
                                    },
                                    relativeTime: { future: " %s", past: "%s ", s: " ", ss: e, m: e, mm: e, h: "", hh: e, d: "", dd: e, w: "", ww: e, M: "", MM: e, y: "", yy: e },
                                    meridiemParse: /|||/i,
                                    isPM: function (t) {
                                        return /^(|)$/.test(t);
                                    },
                                    meridiem: function (t, e, i) {
                                        return t < 4 ? "" : t < 12 ? "" : t < 17 ? "" : "";
                                    },
                                    dayOfMonthOrdinalParse: /\d{1,2}-(||)/,
                                    ordinal: function (t, e) {
                                        switch (e) {
                                            case "M":
                                            case "d":
                                            case "DDD":
                                                return t + "-";
                                            case "D":
                                                return t + "-";
                                            case "w":
                                            case "W":
                                                return t + "-";
                                            default:
                                                return t;
                                        }
                                    },
                                    week: { dow: 1, doy: 4 },
                                });
                            })(l);
                        }),
                        o(function (t, e) {
                            (function (t) {
                                function e(t, e, i) {
                                    var n, s;
                                    return "m" === i
                                        ? e
                                            ? ""
                                            : ""
                                        : "h" === i
                                        ? e
                                            ? ""
                                            : ""
                                        : t +
                                          " " +
                                          ((n = +t),
                                          (s = {
                                              ss: e ? "__" : "__",
                                              mm: e ? "__" : "__",
                                              hh: e ? "__" : "__",
                                              dd: "__",
                                              MM: "__",
                                              yy: "__",
                                          }[i].split("_")),
                                          n % 10 == 1 && n % 100 != 11 ? s[0] : n % 10 >= 2 && n % 10 <= 4 && (n % 100 < 10 || n % 100 >= 20) ? s[1] : s[2]);
                                }
                                function i(t) {
                                    return function () {
                                        return t + "" + (11 === this.hours() ? "" : "") + "] LT";
                                    };
                                }
                                t.defineLocale("uk", {
                                    months: {
                                        format: "___________".split("_"),
                                        standalone: "___________".split("_"),
                                    },
                                    monthsShort: "___________".split("_"),
                                    weekdays: function (t, e) {
                                        var i = {
                                            nominative: "______".split("_"),
                                            accusative: "______".split("_"),
                                            genitive: "______".split("_"),
                                        };
                                        return !0 === t
                                            ? i.nominative.slice(1, 7).concat(i.nominative.slice(0, 1))
                                            : t
                                            ? i[/(\[[]\]) ?dddd/.test(e) ? "accusative" : /\[?(?:|)? ?\] ?dddd/.test(e) ? "genitive" : "nominative"][t.day()]
                                            : i.nominative;
                                    },
                                    weekdaysShort: "______".split("_"),
                                    weekdaysMin: "______".split("_"),
                                    longDateFormat: { LT: "HH:mm", LTS: "HH:mm:ss", L: "DD.MM.YYYY", LL: "D MMMM YYYY .", LLL: "D MMMM YYYY ., HH:mm", LLLL: "dddd, D MMMM YYYY ., HH:mm" },
                                    calendar: {
                                        sameDay: i("[ "),
                                        nextDay: i("[ "),
                                        lastDay: i("[ "),
                                        nextWeek: i("[] dddd ["),
                                        lastWeek: function () {
                                            switch (this.day()) {
                                                case 0:
                                                case 3:
                                                case 5:
                                                case 6:
                                                    return i("[] dddd [").call(this);
                                                case 1:
                                                case 2:
                                                case 4:
                                                    return i("[] dddd [").call(this);
                                            }
                                        },
                                        sameElse: "L",
                                    },
                                    relativeTime: { future: " %s", past: "%s ", s: " ", ss: e, m: e, mm: e, h: "", hh: e, d: "", dd: e, M: "", MM: e, y: "", yy: e },
                                    meridiemParse: /|||/,
                                    isPM: function (t) {
                                        return /^(|)$/.test(t);
                                    },
                                    meridiem: function (t, e, i) {
                                        return t < 4 ? "" : t < 12 ? "" : t < 17 ? "" : "";
                                    },
                                    dayOfMonthOrdinalParse: /\d{1,2}-(|)/,
                                    ordinal: function (t, e) {
                                        switch (e) {
                                            case "M":
                                            case "d":
                                            case "DDD":
                                            case "w":
                                            case "W":
                                                return t + "-";
                                            case "D":
                                                return t + "-";
                                            default:
                                                return t;
                                        }
                                    },
                                    week: { dow: 1, doy: 7 },
                                });
                            })(l);
                        }),
                        function (t) {
                            return t && t.Math == Math && t;
                        }),
                    c = h("object" == typeof globalThis && globalThis) || h("object" == typeof window && window) || h("object" == typeof self && self) || h("object" == typeof r && r) || Function("return this")(),
                    d = function (t) {
                        try {
                            return !!t();
                        } catch (t) {
                            return !0;
                        }
                    },
                    u = !d(function () {
                        return (
                            7 !=
                            Object.defineProperty({}, 1, {
                                get: function () {
                                    return 7;
                                },
                            })[1]
                        );
                    }),
                    p = {}.propertyIsEnumerable,
                    f = Object.getOwnPropertyDescriptor,
                    m = {
                        f:
                            f && !p.call({ 1: 2 }, 1)
                                ? function (t) {
                                      var e = f(this, t);
                                      return !!e && e.enumerable;
                                  }
                                : p,
                    },
                    g = function (t, e) {
                        return { enumerable: !(1 & t), configurable: !(2 & t), writable: !(4 & t), value: e };
                    },
                    v = {}.toString,
                    b = function (t) {
                        return v.call(t).slice(8, -1);
                    },
                    y = "".split,
                    w = d(function () {
                        return !Object("z").propertyIsEnumerable(0);
                    })
                        ? function (t) {
                              return "String" == b(t) ? y.call(t, "") : Object(t);
                          }
                        : Object,
                    x = function (t) {
                        if (null == t) throw TypeError("Can't call method on " + t);
                        return t;
                    },
                    _ = function (t) {
                        return w(x(t));
                    },
                    k = function (t) {
                        return "object" == typeof t ? null !== t : "function" == typeof t;
                    },
                    P = function (t, e) {
                        if (!k(t)) return t;
                        var i, n;
                        if (e && "function" == typeof (i = t.toString) && !k((n = i.call(t)))) return n;
                        if ("function" == typeof (i = t.valueOf) && !k((n = i.call(t)))) return n;
                        if (!e && "function" == typeof (i = t.toString) && !k((n = i.call(t)))) return n;
                        throw TypeError("Can't convert object to primitive value");
                    },
                    S = {}.hasOwnProperty,
                    C = function (t, e) {
                        return S.call(t, e);
                    },
                    I = c.document,
                    T = k(I) && k(I.createElement),
                    $ = function (t) {
                        return T ? I.createElement(t) : {};
                    },
                    E =
                        !u &&
                        !d(function () {
                            return (
                                7 !=
                                Object.defineProperty($("div"), "a", {
                                    get: function () {
                                        return 7;
                                    },
                                }).a
                            );
                        }),
                    D = Object.getOwnPropertyDescriptor,
                    M = {
                        f: u
                            ? D
                            : function (t, e) {
                                  if (((t = _(t)), (e = P(e, !0)), E))
                                      try {
                                          return D(t, e);
                                      } catch (t) {}
                                  if (C(t, e)) return g(!m.f.call(t, e), t[e]);
                              },
                    },
                    A = /#|\.prototype\./,
                    N = function (t, e) {
                        var i = R[O(t)];
                        return i == L || (i != V && ("function" == typeof e ? d(e) : !!e));
                    },
                    O = (N.normalize = function (t) {
                        return String(t).replace(A, ".").toLowerCase();
                    }),
                    R = (N.data = {}),
                    V = (N.NATIVE = "N"),
                    L = (N.POLYFILL = "P"),
                    j = N,
                    F = {},
                    z = function (t) {
                        if ("function" != typeof t) throw TypeError(String(t) + " is not a function");
                        return t;
                    },
                    H = function (t, e, i) {
                        if ((z(t), void 0 === e)) return t;
                        switch (i) {
                            case 0:
                                return function () {
                                    return t.call(e);
                                };
                            case 1:
                                return function (i) {
                                    return t.call(e, i);
                                };
                            case 2:
                                return function (i, n) {
                                    return t.call(e, i, n);
                                };
                            case 3:
                                return function (i, n, s) {
                                    return t.call(e, i, n, s);
                                };
                        }
                        return function () {
                            return t.apply(e, arguments);
                        };
                    },
                    W = function (t) {
                        if (!k(t)) throw TypeError(String(t) + " is not an object");
                        return t;
                    },
                    B = Object.defineProperty,
                    Y = {
                        f: u
                            ? B
                            : function (t, e, i) {
                                  if ((W(t), (e = P(e, !0)), W(i), E))
                                      try {
                                          return B(t, e, i);
                                      } catch (t) {}
                                  if ("get" in i || "set" in i) throw TypeError("Accessors not supported");
                                  return "value" in i && (t[e] = i.value), t;
                              },
                    },
                    U = u
                        ? function (t, e, i) {
                              return Y.f(t, e, g(1, i));
                          }
                        : function (t, e, i) {
                              return (t[e] = i), t;
                          },
                    G = M.f,
                    q = function (t) {
                        var e = function (e, i, n) {
                            if (this instanceof t) {
                                switch (arguments.length) {
                                    case 0:
                                        return new t();
                                    case 1:
                                        return new t(e);
                                    case 2:
                                        return new t(e, i);
                                }
                                return new t(e, i, n);
                            }
                            return t.apply(this, arguments);
                        };
                        return (e.prototype = t.prototype), e;
                    },
                    X = function (t, e) {
                        var i,
                            n,
                            s,
                            r,
                            o,
                            a,
                            l,
                            h,
                            d = t.target,
                            u = t.global,
                            p = t.stat,
                            f = t.proto,
                            m = u ? c : p ? c[d] : (c[d] || {}).prototype,
                            g = u ? F : F[d] || (F[d] = {}),
                            v = g.prototype;
                        for (s in e)
                            (i = !j(u ? s : d + (p ? "." : "#") + s, t.forced) && m && C(m, s)),
                                (o = g[s]),
                                i && (a = t.noTargetGet ? (h = G(m, s)) && h.value : m[s]),
                                (r = i && a ? a : e[s]),
                                (i && typeof o == typeof r) ||
                                    ((l = t.bind && i ? H(r, c) : t.wrap && i ? q(r) : f && "function" == typeof r ? H(Function.call, r) : r),
                                    (t.sham || (r && r.sham) || (o && o.sham)) && U(l, "sham", !0),
                                    (g[s] = l),
                                    f && (C(F, (n = d + "Prototype")) || U(F, n, {}), (F[n][s] = r), t.real && v && !v[s] && U(v, s, r)));
                    };
                X({ target: "Object", stat: !0, forced: !u, sham: !u }, { defineProperty: Y.f });
                var K = o(function (t) {
                        var e = F.Object,
                            i = (t.exports = function (t, i, n) {
                                return e.defineProperty(t, i, n);
                            });
                        e.defineProperty.sham && (i.sham = !0);
                    }),
                    Z = K,
                    J = Math.ceil,
                    Q = Math.floor,
                    tt = function (t) {
                        return isNaN((t = +t)) ? 0 : (t > 0 ? Q : J)(t);
                    },
                    et = Math.min,
                    it = function (t) {
                        return t > 0 ? et(tt(t), 9007199254740991) : 0;
                    },
                    nt = Math.max,
                    st = Math.min,
                    rt = function (t, e) {
                        var i = tt(t);
                        return i < 0 ? nt(i + e, 0) : st(i, e);
                    },
                    ot = function (t) {
                        return function (e, i, n) {
                            var s,
                                r = _(e),
                                o = it(r.length),
                                a = rt(n, o);
                            if (t && i != i) {
                                for (; o > a; ) if ((s = r[a++]) != s) return !0;
                            } else for (; o > a; a++) if ((t || a in r) && r[a] === i) return t || a || 0;
                            return !t && -1;
                        };
                    },
                    at = { includes: ot(!0), indexOf: ot(!1) },
                    lt = {},
                    ht = at.indexOf,
                    ct = function (t, e) {
                        var i,
                            n = _(t),
                            s = 0,
                            r = [];
                        for (i in n) !C(lt, i) && C(n, i) && r.push(i);
                        for (; e.length > s; ) C(n, (i = e[s++])) && (~ht(r, i) || r.push(i));
                        return r;
                    },
                    dt = ["constructor", "hasOwnProperty", "isPrototypeOf", "propertyIsEnumerable", "toLocaleString", "toString", "valueOf"],
                    ut =
                        Object.keys ||
                        function (t) {
                            return ct(t, dt);
                        },
                    pt = u
                        ? Object.defineProperties
                        : function (t, e) {
                              W(t);
                              for (var i, n = ut(e), s = n.length, r = 0; s > r; ) Y.f(t, (i = n[r++]), e[i]);
                              return t;
                          };
                X({ target: "Object", stat: !0, forced: !u, sham: !u }, { defineProperties: pt });
                var ft = o(function (t) {
                        var e = F.Object,
                            i = (t.exports = function (t, i) {
                                return e.defineProperties(t, i);
                            });
                        e.defineProperties.sham && (i.sham = !0);
                    }),
                    mt = function (t) {
                        return "function" == typeof t ? t : void 0;
                    },
                    gt = function (t, e) {
                        return arguments.length < 2 ? mt(F[t]) || mt(c[t]) : (F[t] && F[t][e]) || (c[t] && c[t][e]);
                    },
                    vt = dt.concat("length", "prototype"),
                    bt = {
                        f:
                            Object.getOwnPropertyNames ||
                            function (t) {
                                return ct(t, vt);
                            },
                    },
                    yt = { f: Object.getOwnPropertySymbols },
                    wt =
                        gt("Reflect", "ownKeys") ||
                        function (t) {
                            var e = bt.f(W(t)),
                                i = yt.f;
                            return i ? e.concat(i(t)) : e;
                        },
                    xt = function (t, e, i) {
                        var n = P(e);
                        n in t ? Y.f(t, n, g(0, i)) : (t[n] = i);
                    };
                X(
                    { target: "Object", stat: !0, sham: !u },
                    {
                        getOwnPropertyDescriptors: function (t) {
                            for (var e, i, n = _(t), s = M.f, r = wt(n), o = {}, a = 0; r.length > a; ) void 0 !== (i = s(n, (e = r[a++]))) && xt(o, e, i);
                            return o;
                        },
                    }
                );
                var _t = F.Object.getOwnPropertyDescriptors,
                    kt = M.f,
                    Pt = d(function () {
                        kt(1);
                    });
                X(
                    { target: "Object", stat: !0, forced: !u || Pt, sham: !u },
                    {
                        getOwnPropertyDescriptor: function (t, e) {
                            return kt(_(t), e);
                        },
                    }
                );
                var St,
                    Ct = o(function (t) {
                        var e = F.Object,
                            i = (t.exports = function (t, i) {
                                return e.getOwnPropertyDescriptor(t, i);
                            });
                        e.getOwnPropertyDescriptor.sham && (i.sham = !0);
                    }),
                    It =
                        !!Object.getOwnPropertySymbols &&
                        !d(function () {
                            return !String(Symbol());
                        }),
                    Tt = It && !Symbol.sham && "symbol" == typeof Symbol.iterator,
                    $t =
                        Array.isArray ||
                        function (t) {
                            return "Array" == b(t);
                        },
                    Et = function (t) {
                        return Object(x(t));
                    },
                    Dt = gt("document", "documentElement"),
                    Mt = "__core-js_shared__",
                    At =
                        c[Mt] ||
                        (function (t, e) {
                            try {
                                U(c, t, e);
                            } catch (i) {
                                c[t] = e;
                            }
                            return e;
                        })(Mt, {}),
                    Nt = o(function (t) {
                        (t.exports = function (t, e) {
                            return At[t] || (At[t] = void 0 !== e ? e : {});
                        })("versions", []).push({ version: "3.6.4", mode: "pure", copyright: " 2020 Denis Pushkarev (zloirock.ru)" });
                    }),
                    Ot = 0,
                    Rt = Math.random(),
                    Vt = function (t) {
                        return "Symbol(" + String(void 0 === t ? "" : t) + ")_" + (++Ot + Rt).toString(36);
                    },
                    Lt = Nt("keys"),
                    jt = function (t) {
                        return Lt[t] || (Lt[t] = Vt(t));
                    },
                    Ft = jt("IE_PROTO"),
                    zt = function () {},
                    Ht = function (t) {
                        return "<script>" + t + "</" + "script>";
                    },
                    Wt = function () {
                        try {
                            St = document.domain && new ActiveXObject("htmlfile");
                        } catch (t) {}
                        var t, e;
                        Wt = St
                            ? (function (t) {
                                  t.write(Ht("")), t.close();
                                  var e = t.parentWindow.Object;
                                  return (t = null), e;
                              })(St)
                            : (((e = $("iframe")).style.display = "none"), Dt.appendChild(e), (e.src = String("javascript:")), (t = e.contentWindow.document).open(), t.write(Ht("document.F=Object")), t.close(), t.F);
                        for (var i = dt.length; i--; ) delete Wt.prototype[dt[i]];
                        return Wt();
                    };
                lt[Ft] = !0;
                var Bt =
                        Object.create ||
                        function (t, e) {
                            var i;
                            return null !== t ? ((zt.prototype = W(t)), (i = new zt()), (zt.prototype = null), (i[Ft] = t)) : (i = Wt()), void 0 === e ? i : pt(i, e);
                        },
                    Yt = bt.f,
                    Ut = {}.toString,
                    Gt = "object" == typeof window && window && Object.getOwnPropertyNames ? Object.getOwnPropertyNames(window) : [],
                    qt = {
                        f: function (t) {
                            return Gt && "[object Window]" == Ut.call(t)
                                ? (function (t) {
                                      try {
                                          return Yt(t);
                                      } catch (t) {
                                          return Gt.slice();
                                      }
                                  })(t)
                                : Yt(_(t));
                        },
                    },
                    Xt = function (t, e, i, n) {
                        n && n.enumerable ? (t[e] = i) : U(t, e, i);
                    },
                    Kt = Nt("wks"),
                    Zt = c.Symbol,
                    Jt = Tt ? Zt : (Zt && Zt.withoutSetter) || Vt,
                    Qt = function (t) {
                        return C(Kt, t) || (It && C(Zt, t) ? (Kt[t] = Zt[t]) : (Kt[t] = Jt("Symbol." + t))), Kt[t];
                    },
                    te = { f: Qt },
                    ee = Y.f,
                    ie = function (t) {
                        var e = F.Symbol || (F.Symbol = {});
                        C(e, t) || ee(e, t, { value: te.f(t) });
                    },
                    ne = {};
                ne[Qt("toStringTag")] = "z";
                var se = "[object z]" === String(ne),
                    re = Qt("toStringTag"),
                    oe =
                        "Arguments" ==
                        b(
                            (function () {
                                return arguments;
                            })()
                        ),
                    ae = se
                        ? b
                        : function (t) {
                              var e, i, n;
                              return void 0 === t
                                  ? "Undefined"
                                  : null === t
                                  ? "Null"
                                  : "string" ==
                                    typeof (i = (function (t, e) {
                                        try {
                                            return t[e];
                                        } catch (t) {}
                                    })((e = Object(t)), re))
                                  ? i
                                  : oe
                                  ? b(e)
                                  : "Object" == (n = b(e)) && "function" == typeof e.callee
                                  ? "Arguments"
                                  : n;
                          },
                    le = se
                        ? {}.toString
                        : function () {
                              return "[object " + ae(this) + "]";
                          },
                    he = Y.f,
                    ce = Qt("toStringTag"),
                    de = function (t, e, i, n) {
                        if (t) {
                            var s = i ? t : t.prototype;
                            C(s, ce) || he(s, ce, { configurable: !0, value: e }), n && !se && U(s, "toString", le);
                        }
                    },
                    ue = Function.toString;
                "function" != typeof At.inspectSource &&
                    (At.inspectSource = function (t) {
                        return ue.call(t);
                    });
                var pe,
                    fe,
                    me,
                    ge = At.inspectSource,
                    ve = c.WeakMap,
                    be = "function" == typeof ve && /native code/.test(ge(ve)),
                    ye = c.WeakMap;
                if (be) {
                    var we = new ye(),
                        xe = we.get,
                        _e = we.has,
                        ke = we.set;
                    (pe = function (t, e) {
                        return ke.call(we, t, e), e;
                    }),
                        (fe = function (t) {
                            return xe.call(we, t) || {};
                        }),
                        (me = function (t) {
                            return _e.call(we, t);
                        });
                } else {
                    var Pe = jt("state");
                    (lt[Pe] = !0),
                        (pe = function (t, e) {
                            return U(t, Pe, e), e;
                        }),
                        (fe = function (t) {
                            return C(t, Pe) ? t[Pe] : {};
                        }),
                        (me = function (t) {
                            return C(t, Pe);
                        });
                }
                var Se = {
                        set: pe,
                        get: fe,
                        has: me,
                        enforce: function (t) {
                            return me(t) ? fe(t) : pe(t, {});
                        },
                        getterFor: function (t) {
                            return function (e) {
                                var i;
                                if (!k(e) || (i = fe(e)).type !== t) throw TypeError("Incompatible receiver, " + t + " required");
                                return i;
                            };
                        },
                    },
                    Ce = Qt("species"),
                    Ie = function (t, e) {
                        var i;
                        return $t(t) && ("function" != typeof (i = t.constructor) || (i !== Array && !$t(i.prototype)) ? k(i) && null === (i = i[Ce]) && (i = void 0) : (i = void 0)), new (void 0 === i ? Array : i)(0 === e ? 0 : e);
                    },
                    Te = [].push,
                    $e = function (t) {
                        var e = 1 == t,
                            i = 2 == t,
                            n = 3 == t,
                            s = 4 == t,
                            r = 6 == t,
                            o = 5 == t || r;
                        return function (a, l, h, c) {
                            for (var d, u, p = Et(a), f = w(p), m = H(l, h, 3), g = it(f.length), v = 0, b = c || Ie, y = e ? b(a, g) : i ? b(a, 0) : void 0; g > v; v++)
                                if ((o || v in f) && ((u = m((d = f[v]), v, p)), t))
                                    if (e) y[v] = u;
                                    else if (u)
                                        switch (t) {
                                            case 3:
                                                return !0;
                                            case 5:
                                                return d;
                                            case 6:
                                                return v;
                                            case 2:
                                                Te.call(y, d);
                                        }
                                    else if (s) return !1;
                            return r ? -1 : n || s ? s : y;
                        };
                    },
                    Ee = { forEach: $e(0), map: $e(1), filter: $e(2), some: $e(3), every: $e(4), find: $e(5), findIndex: $e(6) },
                    De = Ee.forEach,
                    Me = jt("hidden"),
                    Ae = "Symbol",
                    Ne = Qt("toPrimitive"),
                    Oe = Se.set,
                    Re = Se.getterFor(Ae),
                    Ve = Object.prototype,
                    Le = c.Symbol,
                    je = gt("JSON", "stringify"),
                    Fe = M.f,
                    ze = Y.f,
                    He = qt.f,
                    We = m.f,
                    Be = Nt("symbols"),
                    Ye = Nt("op-symbols"),
                    Ue = Nt("string-to-symbol-registry"),
                    Ge = Nt("symbol-to-string-registry"),
                    qe = Nt("wks"),
                    Xe = c.QObject,
                    Ke = !Xe || !Xe.prototype || !Xe.prototype.findChild,
                    Ze =
                        u &&
                        d(function () {
                            return (
                                7 !=
                                Bt(
                                    ze({}, "a", {
                                        get: function () {
                                            return ze(this, "a", { value: 7 }).a;
                                        },
                                    })
                                ).a
                            );
                        })
                            ? function (t, e, i) {
                                  var n = Fe(Ve, e);
                                  n && delete Ve[e], ze(t, e, i), n && t !== Ve && ze(Ve, e, n);
                              }
                            : ze,
                    Je = function (t, e) {
                        var i = (Be[t] = Bt(Le.prototype));
                        return Oe(i, { type: Ae, tag: t, description: e }), u || (i.description = e), i;
                    },
                    Qe = Tt
                        ? function (t) {
                              return "symbol" == typeof t;
                          }
                        : function (t) {
                              return Object(t) instanceof Le;
                          },
                    ti = function (t, e, i) {
                        t === Ve && ti(Ye, e, i), W(t);
                        var n = P(e, !0);
                        return W(i), C(Be, n) ? (i.enumerable ? (C(t, Me) && t[Me][n] && (t[Me][n] = !1), (i = Bt(i, { enumerable: g(0, !1) }))) : (C(t, Me) || ze(t, Me, g(1, {})), (t[Me][n] = !0)), Ze(t, n, i)) : ze(t, n, i);
                    },
                    ei = function (t, e) {
                        W(t);
                        var i = _(e),
                            n = ut(i).concat(ri(i));
                        return (
                            De(n, function (e) {
                                (u && !ii.call(i, e)) || ti(t, e, i[e]);
                            }),
                            t
                        );
                    },
                    ii = function (t) {
                        var e = P(t, !0),
                            i = We.call(this, e);
                        return !(this === Ve && C(Be, e) && !C(Ye, e)) && (!(i || !C(this, e) || !C(Be, e) || (C(this, Me) && this[Me][e])) || i);
                    },
                    ni = function (t, e) {
                        var i = _(t),
                            n = P(e, !0);
                        if (i !== Ve || !C(Be, n) || C(Ye, n)) {
                            var s = Fe(i, n);
                            return !s || !C(Be, n) || (C(i, Me) && i[Me][n]) || (s.enumerable = !0), s;
                        }
                    },
                    si = function (t) {
                        var e = He(_(t)),
                            i = [];
                        return (
                            De(e, function (t) {
                                C(Be, t) || C(lt, t) || i.push(t);
                            }),
                            i
                        );
                    },
                    ri = function (t) {
                        var e = t === Ve,
                            i = He(e ? Ye : _(t)),
                            n = [];
                        return (
                            De(i, function (t) {
                                !C(Be, t) || (e && !C(Ve, t)) || n.push(Be[t]);
                            }),
                            n
                        );
                    };
                if (
                    (It ||
                        (Xt(
                            (Le = function () {
                                if (this instanceof Le) throw TypeError("Symbol is not a constructor");
                                var t = arguments.length && void 0 !== arguments[0] ? String(arguments[0]) : void 0,
                                    e = Vt(t),
                                    i = function (t) {
                                        this === Ve && i.call(Ye, t), C(this, Me) && C(this[Me], e) && (this[Me][e] = !1), Ze(this, e, g(1, t));
                                    };
                                return u && Ke && Ze(Ve, e, { configurable: !0, set: i }), Je(e, t);
                            }).prototype,
                            "toString",
                            function () {
                                return Re(this).tag;
                            }
                        ),
                        Xt(Le, "withoutSetter", function (t) {
                            return Je(Vt(t), t);
                        }),
                        (m.f = ii),
                        (Y.f = ti),
                        (M.f = ni),
                        (bt.f = qt.f = si),
                        (yt.f = ri),
                        (te.f = function (t) {
                            return Je(Qt(t), t);
                        }),
                        u &&
                            ze(Le.prototype, "description", {
                                configurable: !0,
                                get: function () {
                                    return Re(this).description;
                                },
                            })),
                    X({ global: !0, wrap: !0, forced: !It, sham: !It }, { Symbol: Le }),
                    De(ut(qe), function (t) {
                        ie(t);
                    }),
                    X(
                        { target: Ae, stat: !0, forced: !It },
                        {
                            for: function (t) {
                                var e = String(t);
                                if (C(Ue, e)) return Ue[e];
                                var i = Le(e);
                                return (Ue[e] = i), (Ge[i] = e), i;
                            },
                            keyFor: function (t) {
                                if (!Qe(t)) throw TypeError(t + " is not a symbol");
                                if (C(Ge, t)) return Ge[t];
                            },
                            useSetter: function () {
                                Ke = !0;
                            },
                            useSimple: function () {
                                Ke = !1;
                            },
                        }
                    ),
                    X(
                        { target: "Object", stat: !0, forced: !It, sham: !u },
                        {
                            create: function (t, e) {
                                return void 0 === e ? Bt(t) : ei(Bt(t), e);
                            },
                            defineProperty: ti,
                            defineProperties: ei,
                            getOwnPropertyDescriptor: ni,
                        }
                    ),
                    X({ target: "Object", stat: !0, forced: !It }, { getOwnPropertyNames: si, getOwnPropertySymbols: ri }),
                    X(
                        {
                            target: "Object",
                            stat: !0,
                            forced: d(function () {
                                yt.f(1);
                            }),
                        },
                        {
                            getOwnPropertySymbols: function (t) {
                                return yt.f(Et(t));
                            },
                        }
                    ),
                    je)
                ) {
                    var oi =
                        !It ||
                        d(function () {
                            var t = Le();
                            return "[null]" != je([t]) || "{}" != je({ a: t }) || "{}" != je(Object(t));
                        });
                    X(
                        { target: "JSON", stat: !0, forced: oi },
                        {
                            stringify: function (t, e, i) {
                                for (var n, s = [t], r = 1; arguments.length > r; ) s.push(arguments[r++]);
                                if (((n = e), (k(e) || void 0 !== t) && !Qe(t)))
                                    return (
                                        $t(e) ||
                                            (e = function (t, e) {
                                                if (("function" == typeof n && (e = n.call(this, t, e)), !Qe(e))) return e;
                                            }),
                                        (s[1] = e),
                                        je.apply(null, s)
                                    );
                            },
                        }
                    );
                }
                Le.prototype[Ne] || U(Le.prototype, Ne, Le.prototype.valueOf), de(Le, Ae), (lt[Me] = !0);
                var ai,
                    li,
                    hi,
                    ci = F.Object.getOwnPropertySymbols,
                    di = {},
                    ui = !d(function () {
                        function t() {}
                        return (t.prototype.constructor = null), Object.getPrototypeOf(new t()) !== t.prototype;
                    }),
                    pi = jt("IE_PROTO"),
                    fi = Object.prototype,
                    mi = ui
                        ? Object.getPrototypeOf
                        : function (t) {
                              return (t = Et(t)), C(t, pi) ? t[pi] : "function" == typeof t.constructor && t instanceof t.constructor ? t.constructor.prototype : t instanceof Object ? fi : null;
                          },
                    gi = (Qt("iterator"), !1);
                [].keys && ("next" in (hi = [].keys()) ? (li = mi(mi(hi))) !== Object.prototype && (ai = li) : (gi = !0)), null == ai && (ai = {});
                var vi = { IteratorPrototype: ai, BUGGY_SAFARI_ITERATORS: gi },
                    bi = vi.IteratorPrototype,
                    yi = function () {
                        return this;
                    },
                    wi =
                        Object.setPrototypeOf ||
                        ("__proto__" in {}
                            ? (function () {
                                  var t,
                                      e = !1,
                                      i = {};
                                  try {
                                      (t = Object.getOwnPropertyDescriptor(Object.prototype, "__proto__").set).call(i, []), (e = i instanceof Array);
                                  } catch (t) {}
                                  return function (i, n) {
                                      return (
                                          W(i),
                                          (function (t) {
                                              if (!k(t) && null !== t) throw TypeError("Can't set " + String(t) + " as a prototype");
                                          })(n),
                                          e ? t.call(i, n) : (i.__proto__ = n),
                                          i
                                      );
                                  };
                              })()
                            : void 0),
                    xi = vi.IteratorPrototype,
                    _i = vi.BUGGY_SAFARI_ITERATORS,
                    ki = Qt("iterator"),
                    Pi = "keys",
                    Si = "values",
                    Ci = "entries",
                    Ii = function () {
                        return this;
                    },
                    Ti = function (t, e, i, n, s, r, o) {
                        !(function (t, e, i) {
                            var n = e + " Iterator";
                            (t.prototype = Bt(bi, { next: g(1, i) })), de(t, n, !1, !0), (di[n] = yi);
                        })(i, e, n);
                        var a,
                            l,
                            h,
                            c = function (t) {
                                if (t === s && m) return m;
                                if (!_i && t in p) return p[t];
                                switch (t) {
                                    case Pi:
                                    case Si:
                                    case Ci:
                                        return function () {
                                            return new i(this, t);
                                        };
                                }
                                return function () {
                                    return new i(this);
                                };
                            },
                            d = e + " Iterator",
                            u = !1,
                            p = t.prototype,
                            f = p[ki] || p["@@iterator"] || (s && p[s]),
                            m = (!_i && f) || c(s),
                            v = ("Array" == e && p.entries) || f;
                        if (
                            (v && ((a = mi(v.call(new t()))), xi !== Object.prototype && a.next && (de(a, d, !0, !0), (di[d] = Ii))),
                            s == Si &&
                                f &&
                                f.name !== Si &&
                                ((u = !0),
                                (m = function () {
                                    return f.call(this);
                                })),
                            o && p[ki] !== m && U(p, ki, m),
                            (di[e] = m),
                            s)
                        )
                            if (((l = { values: c(Si), keys: r ? m : c(Pi), entries: c(Ci) }), o)) for (h in l) (_i || u || !(h in p)) && Xt(p, h, l[h]);
                            else X({ target: e, proto: !0, forced: _i || u }, l);
                        return l;
                    },
                    $i = "Array Iterator",
                    Ei = Se.set,
                    Di = Se.getterFor($i);
                Ti(
                    Array,
                    "Array",
                    function (t, e) {
                        Ei(this, { type: $i, target: _(t), index: 0, kind: e });
                    },
                    function () {
                        var t = Di(this),
                            e = t.target,
                            i = t.kind,
                            n = t.index++;
                        return !e || n >= e.length ? ((t.target = void 0), { value: void 0, done: !0 }) : "keys" == i ? { value: n, done: !1 } : "values" == i ? { value: e[n], done: !1 } : { value: [n, e[n]], done: !1 };
                    },
                    "values"
                );
                di.Arguments = di.Array;
                var Mi = Qt("toStringTag");
                for (var Ai in {
                    CSSRuleList: 0,
                    CSSStyleDeclaration: 0,
                    CSSValueList: 0,
                    ClientRectList: 0,
                    DOMRectList: 0,
                    DOMStringList: 0,
                    DOMTokenList: 1,
                    DataTransferItemList: 0,
                    FileList: 0,
                    HTMLAllCollection: 0,
                    HTMLCollection: 0,
                    HTMLFormElement: 0,
                    HTMLSelectElement: 0,
                    MediaList: 0,
                    MimeTypeArray: 0,
                    NamedNodeMap: 0,
                    NodeList: 1,
                    PaintRequestList: 0,
                    Plugin: 0,
                    PluginArray: 0,
                    SVGLengthList: 0,
                    SVGNumberList: 0,
                    SVGPathSegList: 0,
                    SVGPointList: 0,
                    SVGStringList: 0,
                    SVGTransformList: 0,
                    SourceBufferList: 0,
                    StyleSheetList: 0,
                    TextTrackCueList: 0,
                    TextTrackList: 0,
                    TouchList: 0,
                }) {
                    var Ni = c[Ai],
                        Oi = Ni && Ni.prototype;
                    Oi && ae(Oi) !== Mi && U(Oi, Mi, Ai), (di[Ai] = di.Array);
                }
                var Ri = function (t) {
                        return function (e, i) {
                            var n,
                                s,
                                r = String(x(e)),
                                o = tt(i),
                                a = r.length;
                            return o < 0 || o >= a
                                ? t
                                    ? ""
                                    : void 0
                                : (n = r.charCodeAt(o)) < 55296 || n > 56319 || o + 1 === a || (s = r.charCodeAt(o + 1)) < 56320 || s > 57343
                                ? t
                                    ? r.charAt(o)
                                    : n
                                : t
                                ? r.slice(o, o + 2)
                                : s - 56320 + ((n - 55296) << 10) + 65536;
                        };
                    },
                    Vi = { codeAt: Ri(!1), charAt: Ri(!0) }.charAt,
                    Li = "String Iterator",
                    ji = Se.set,
                    Fi = Se.getterFor(Li);
                Ti(
                    String,
                    "String",
                    function (t) {
                        ji(this, { type: Li, string: String(t), index: 0 });
                    },
                    function () {
                        var t,
                            e = Fi(this),
                            i = e.string,
                            n = e.index;
                        return n >= i.length ? { value: void 0, done: !0 } : ((t = Vi(i, n)), (e.index += t.length), { value: t, done: !1 });
                    }
                );
                var zi = Qt("iterator"),
                    Hi = function (t) {
                        if (null != t) return t[zi] || t["@@iterator"] || di[ae(t)];
                    },
                    Wi = function (t) {
                        var e = Hi(t);
                        if ("function" != typeof e) throw TypeError(String(t) + " is not iterable");
                        return W(e.call(t));
                    },
                    Bi = Hi,
                    Yi = function (t, e, i, n) {
                        try {
                            return n ? e(W(i)[0], i[1]) : e(i);
                        } catch (e) {
                            var s = t.return;
                            throw (void 0 !== s && W(s.call(t)), e);
                        }
                    },
                    Ui = Qt("iterator"),
                    Gi = Array.prototype,
                    qi = function (t) {
                        return void 0 !== t && (di.Array === t || Gi[Ui] === t);
                    },
                    Xi = Qt("iterator"),
                    Ki = !1;
                try {
                    var Zi = 0,
                        Ji = {
                            next: function () {
                                return { done: !!Zi++ };
                            },
                            return: function () {
                                Ki = !0;
                            },
                        };
                    (Ji[Xi] = function () {
                        return this;
                    }),
                        Array.from(Ji, function () {
                            throw 2;
                        });
                } catch (t) {}
                var Qi = !(function (t, e) {
                    if (!e && !Ki) return !1;
                    var i = !1;
                    try {
                        var n = {};
                        (n[Xi] = function () {
                            return {
                                next: function () {
                                    return { done: (i = !0) };
                                },
                            };
                        }),
                            t(n);
                    } catch (t) {}
                    return i;
                })(function (t) {
                    Array.from(t);
                });
                X(
                    { target: "Array", stat: !0, forced: Qi },
                    {
                        from: function (t) {
                            var e,
                                i,
                                n,
                                s,
                                r,
                                o,
                                a = Et(t),
                                l = "function" == typeof this ? this : Array,
                                h = arguments.length,
                                c = h > 1 ? arguments[1] : void 0,
                                d = void 0 !== c,
                                u = Hi(a),
                                p = 0;
                            if ((d && (c = H(c, h > 2 ? arguments[2] : void 0, 2)), null == u || (l == Array && qi(u)))) for (i = new l((e = it(a.length))); e > p; p++) (o = d ? c(a[p], p) : a[p]), xt(i, p, o);
                            else for (r = (s = u.call(a)).next, i = new l(); !(n = r.call(s)).done; p++) (o = d ? Yi(s, c, [n.value, p], !0) : n.value), xt(i, p, o);
                            return (i.length = p), i;
                        },
                    }
                );
                var tn = F.Array.from,
                    en = tn;
                X({ target: "Object", stat: !0, sham: !u }, { create: Bt });
                var nn = F.Object,
                    sn = function (t, e) {
                        return nn.create(t, e);
                    },
                    rn = sn,
                    on = K;
                var an,
                    ln = function (t, e, i) {
                        return e in t ? on(t, e, { value: i, enumerable: !0, configurable: !0, writable: !0 }) : (t[e] = i), t;
                    },
                    hn = "\t\n\v\f\r \u2028\u2029\ufeff",
                    cn = "[" + hn + "]",
                    dn = RegExp("^" + cn + cn + "*"),
                    un = RegExp(cn + cn + "*$"),
                    pn = function (t) {
                        return function (e) {
                            var i = String(x(e));
                            return 1 & t && (i = i.replace(dn, "")), 2 & t && (i = i.replace(un, "")), i;
                        };
                    },
                    fn = { start: pn(1), end: pn(2), trim: pn(3) },
                    mn = fn.trim;
                X(
                    {
                        target: "String",
                        proto: !0,
                        forced:
                            ((an = "trim"),
                            d(function () {
                                return !!hn[an]() || "" != ""[an]() || hn[an].name !== an;
                            })),
                    },
                    {
                        trim: function () {
                            return mn(this);
                        },
                    }
                );
                var gn = function (t) {
                        return F[t + "Prototype"];
                    },
                    vn = gn("String").trim,
                    bn = String.prototype,
                    yn = function (t) {
                        var e = t.trim;
                        return "string" == typeof t || t === bn || (t instanceof String && e === bn.trim) ? vn : e;
                    },
                    wn = function (t, e) {
                        var i = [][t];
                        return (
                            !!i &&
                            d(function () {
                                i.call(
                                    null,
                                    e ||
                                        function () {
                                            throw 1;
                                        },
                                    1
                                );
                            })
                        );
                    },
                    xn = Object.defineProperty,
                    _n = {},
                    kn = function (t) {
                        throw t;
                    },
                    Pn = function (t, e) {
                        if (C(_n, t)) return _n[t];
                        e || (e = {});
                        var i = [][t],
                            n = !!C(e, "ACCESSORS") && e.ACCESSORS,
                            s = C(e, 0) ? e[0] : kn,
                            r = C(e, 1) ? e[1] : void 0;
                        return (_n[t] =
                            !!i &&
                            !d(function () {
                                if (n && !u) return !0;
                                var t = { length: -1 };
                                n ? xn(t, 1, { enumerable: !0, get: kn }) : (t[1] = 1), i.call(t, s, r);
                            }));
                    },
                    Sn = Ee.forEach,
                    Cn = wn("forEach"),
                    In = Pn("forEach"),
                    Tn =
                        Cn && In
                            ? [].forEach
                            : function (t) {
                                  return Sn(this, t, arguments.length > 1 ? arguments[1] : void 0);
                              };
                X({ target: "Array", proto: !0, forced: [].forEach != Tn }, { forEach: Tn });
                var $n = gn("Array").forEach,
                    En = Array.prototype,
                    Dn = { DOMTokenList: !0, NodeList: !0 },
                    Mn = function (t) {
                        var e = t.forEach;
                        return t === En || (t instanceof Array && e === En.forEach) || Dn.hasOwnProperty(ae(t)) ? $n : e;
                    },
                    An = fn.trim,
                    Nn = c.parseInt,
                    On = /^[+-]?0[Xx]/,
                    Rn =
                        8 !== Nn(hn + "08") || 22 !== Nn(hn + "0x16")
                            ? function (t, e) {
                                  var i = An(String(t));
                                  return Nn(i, e >>> 0 || (On.test(i) ? 16 : 10));
                              }
                            : Nn;
                X({ global: !0, forced: parseInt != Rn }, { parseInt: Rn });
                var Vn = F.parseInt,
                    Ln = m.f,
                    jn = function (t) {
                        return function (e) {
                            for (var i, n = _(e), s = ut(n), r = s.length, o = 0, a = []; r > o; ) (i = s[o++]), (u && !Ln.call(n, i)) || a.push(t ? [i, n[i]] : n[i]);
                            return a;
                        };
                    },
                    Fn = { entries: jn(!0), values: jn(!1) }.values;
                X(
                    { target: "Object", stat: !0 },
                    {
                        values: function (t) {
                            return Fn(t);
                        },
                    }
                );
                var zn,
                    Hn,
                    Wn = F.Object.values,
                    Bn = gt("navigator", "userAgent") || "",
                    Yn = c.process,
                    Un = Yn && Yn.versions,
                    Gn = Un && Un.v8;
                Gn ? (Hn = (zn = Gn.split("."))[0] + zn[1]) : Bn && (!(zn = Bn.match(/Edge\/(\d+)/)) || zn[1] >= 74) && (zn = Bn.match(/Chrome\/(\d+)/)) && (Hn = zn[1]);
                var qn = Hn && +Hn,
                    Xn = Qt("species"),
                    Kn = function (t) {
                        return (
                            qn >= 51 ||
                            !d(function () {
                                var e = [];
                                return (
                                    ((e.constructor = {})[Xn] = function () {
                                        return { foo: 1 };
                                    }),
                                    1 !== e[t](Boolean).foo
                                );
                            })
                        );
                    },
                    Zn = Ee.filter,
                    Jn = Kn("filter"),
                    Qn = Pn("filter");
                X(
                    { target: "Array", proto: !0, forced: !Jn || !Qn },
                    {
                        filter: function (t) {
                            return Zn(this, t, arguments.length > 1 ? arguments[1] : void 0);
                        },
                    }
                );
                var ts = gn("Array").filter,
                    es = Array.prototype,
                    is = function (t) {
                        var e = t.filter;
                        return t === es || (t instanceof Array && e === es.filter) ? ts : e;
                    },
                    ns = d(function () {
                        mi(1);
                    });
                X(
                    { target: "Object", stat: !0, forced: ns, sham: !ui },
                    {
                        getPrototypeOf: function (t) {
                            return mi(Et(t));
                        },
                    }
                );
                var ss = F.Object.getPrototypeOf,
                    rs = ss,
                    os = at.indexOf,
                    as = [].indexOf,
                    ls = !!as && 1 / [1].indexOf(1, -0) < 0,
                    hs = wn("indexOf"),
                    cs = Pn("indexOf", { ACCESSORS: !0, 1: 0 });
                X(
                    { target: "Array", proto: !0, forced: ls || !hs || !cs },
                    {
                        indexOf: function (t) {
                            return ls ? as.apply(this, arguments) || 0 : os(this, t, arguments.length > 1 ? arguments[1] : void 0);
                        },
                    }
                );
                var ds = gn("Array").indexOf,
                    us = Array.prototype,
                    ps = function (t) {
                        var e = t.indexOf;
                        return t === us || (t instanceof Array && e === us.indexOf) ? ds : e;
                    },
                    fs = Object.assign,
                    ms = Object.defineProperty,
                    gs =
                        !fs ||
                        d(function () {
                            if (
                                u &&
                                1 !==
                                    fs(
                                        { b: 1 },
                                        fs(
                                            ms({}, "a", {
                                                enumerable: !0,
                                                get: function () {
                                                    ms(this, "b", { value: 3, enumerable: !1 });
                                                },
                                            }),
                                            { b: 2 }
                                        )
                                    ).b
                            )
                                return !0;
                            var t = {},
                                e = {},
                                i = Symbol(),
                                n = "abcdefghijklmnopqrst";
                            return (
                                (t[i] = 7),
                                n.split("").forEach(function (t) {
                                    e[t] = t;
                                }),
                                7 != fs({}, t)[i] || ut(fs({}, e)).join("") != n
                            );
                        })
                            ? function (t, e) {
                                  for (var i = Et(t), n = arguments.length, s = 1, r = yt.f, o = m.f; n > s; )
                                      for (var a, l = w(arguments[s++]), h = r ? ut(l).concat(r(l)) : ut(l), c = h.length, d = 0; c > d; ) (a = h[d++]), (u && !o.call(l, a)) || (i[a] = l[a]);
                                  return i;
                              }
                            : fs;
                X({ target: "Object", stat: !0, forced: Object.assign !== gs }, { assign: gs });
                var vs = F.Object.assign;
                X({ target: "Array", stat: !0 }, { isArray: $t });
                var bs = F.Array.isArray,
                    ys = bs;
                var ws = function (t) {
                        if (ys(t)) return t;
                    },
                    xs = Qt("iterator"),
                    _s = function (t) {
                        var e = Object(t);
                        return void 0 !== e[xs] || "@@iterator" in e || di.hasOwnProperty(ae(e));
                    },
                    ks = Qt("isConcatSpreadable"),
                    Ps = 9007199254740991,
                    Ss = "Maximum allowed index exceeded",
                    Cs =
                        qn >= 51 ||
                        !d(function () {
                            var t = [];
                            return (t[ks] = !1), t.concat()[0] !== t;
                        }),
                    Is = Kn("concat"),
                    Ts = function (t) {
                        if (!k(t)) return !1;
                        var e = t[ks];
                        return void 0 !== e ? !!e : $t(t);
                    };
                X(
                    { target: "Array", proto: !0, forced: !Cs || !Is },
                    {
                        concat: function (t) {
                            var e,
                                i,
                                n,
                                s,
                                r,
                                o = Et(this),
                                a = Ie(o, 0),
                                l = 0;
                            for (e = -1, n = arguments.length; e < n; e++)
                                if (Ts((r = -1 === e ? o : arguments[e]))) {
                                    if (l + (s = it(r.length)) > Ps) throw TypeError(Ss);
                                    for (i = 0; i < s; i++, l++) i in r && xt(a, l, r[i]);
                                } else {
                                    if (l >= Ps) throw TypeError(Ss);
                                    xt(a, l++, r);
                                }
                            return (a.length = l), a;
                        },
                    }
                ),
                    ie("asyncIterator"),
                    ie("hasInstance"),
                    ie("isConcatSpreadable"),
                    ie("iterator"),
                    ie("match"),
                    ie("matchAll"),
                    ie("replace"),
                    ie("search"),
                    ie("species"),
                    ie("split"),
                    ie("toPrimitive"),
                    ie("toStringTag"),
                    ie("unscopables"),
                    de(Math, "Math", !0),
                    de(c.JSON, "JSON", !0);
                var $s = F.Symbol;
                ie("asyncDispose"), ie("dispose"), ie("observable"), ie("patternMatch"), ie("replaceAll");
                var Es = $s;
                var Ds = function (t, e) {
                        if (void 0 !== Es && _s(Object(t))) {
                            var i = [],
                                n = !0,
                                s = !1,
                                r = void 0;
                            try {
                                for (var o, a = Wi(t); !(n = (o = a.next()).done) && (i.push(o.value), !e || i.length !== e); n = !0);
                            } catch (t) {
                                (s = !0), (r = t);
                            } finally {
                                try {
                                    n || null == a.return || a.return();
                                } finally {
                                    if (s) throw r;
                                }
                            }
                            return i;
                        }
                    },
                    Ms = tn,
                    As = Kn("slice"),
                    Ns = Pn("slice", { ACCESSORS: !0, 0: 0, 1: 2 }),
                    Os = Qt("species"),
                    Rs = [].slice,
                    Vs = Math.max;
                X(
                    { target: "Array", proto: !0, forced: !As || !Ns },
                    {
                        slice: function (t, e) {
                            var i,
                                n,
                                s,
                                r = _(this),
                                o = it(r.length),
                                a = rt(t, o),
                                l = rt(void 0 === e ? o : e, o);
                            if ($t(r) && ("function" != typeof (i = r.constructor) || (i !== Array && !$t(i.prototype)) ? k(i) && null === (i = i[Os]) && (i = void 0) : (i = void 0), i === Array || void 0 === i)) return Rs.call(r, a, l);
                            for (n = new (void 0 === i ? Array : i)(Vs(l - a, 0)), s = 0; a < l; a++, s++) a in r && xt(n, s, r[a]);
                            return (n.length = s), n;
                        },
                    }
                );
                var Ls = gn("Array").slice,
                    js = Array.prototype,
                    Fs = function (t) {
                        var e = t.slice;
                        return t === js || (t instanceof Array && e === js.slice) ? Ls : e;
                    },
                    zs = Fs;
                var Hs = function (t, e) {
                    (null == e || e > t.length) && (e = t.length);
                    for (var i = 0, n = new Array(e); i < e; i++) n[i] = t[i];
                    return n;
                };
                var Ws = function (t, e) {
                    var i;
                    if (t) {
                        if ("string" == typeof t) return Hs(t, e);
                        var n = zs((i = Object.prototype.toString.call(t))).call(i, 8, -1);
                        return "Object" === n && t.constructor && (n = t.constructor.name), "Map" === n || "Set" === n ? Ms(t) : "Arguments" === n || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n) ? Hs(t, e) : void 0;
                    }
                };
                var Bs = function () {
                    throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
                };
                var Ys = function (t, e) {
                    return ws(t) || Ds(t, e) || Ws(t, e) || Bs();
                };
                X(
                    { target: "Date", stat: !0 },
                    {
                        now: function () {
                            return new Date().getTime();
                        },
                    }
                );
                var Us = F.Date.now,
                    Gs = d(function () {
                        ut(1);
                    });
                X(
                    { target: "Object", stat: !0, forced: Gs },
                    {
                        keys: function (t) {
                            return ut(Et(t));
                        },
                    }
                );
                var qs = F.Object.keys,
                    Xs = Ee.map,
                    Ks = Kn("map"),
                    Zs = Pn("map");
                X(
                    { target: "Array", proto: !0, forced: !Ks || !Zs },
                    {
                        map: function (t) {
                            return Xs(this, t, arguments.length > 1 ? arguments[1] : void 0);
                        },
                    }
                );
                var Js = gn("Array").map,
                    Qs = Array.prototype,
                    tr = function (t) {
                        var e = t.map;
                        return t === Qs || (t instanceof Array && e === Qs.map) ? Js : e;
                    },
                    er = bs,
                    ir = te.f("iterator"),
                    nr = ir,
                    sr = o(function (t) {
                        function e(i) {
                            return (
                                (t.exports = e =
                                    "function" == typeof Es && "symbol" == typeof nr
                                        ? function (t) {
                                              return typeof t;
                                          }
                                        : function (t) {
                                              return t && "function" == typeof Es && t.constructor === Es && t !== Es.prototype ? "symbol" : typeof t;
                                          }),
                                e(i)
                            );
                        }
                        t.exports = e;
                    });
                X({ target: "Reflect", stat: !0 }, { ownKeys: wt });
                var rr = F.Reflect.ownKeys,
                    or = Fs;
                var ar = function (t) {
                    if (ys(t)) return Hs(t);
                };
                var lr = function (t) {
                    if (void 0 !== Es && _s(Object(t))) return Ms(t);
                };
                var hr = function () {
                    throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
                };
                var cr = function (t) {
                        return ar(t) || lr(t) || Ws(t) || hr();
                    },
                    dr = gn("Array").concat,
                    ur = Array.prototype,
                    pr = function (t) {
                        var e = t.concat;
                        return t === ur || (t instanceof Array && e === ur.concat) ? dr : e;
                    },
                    fr = $s;
                function mr(t, e) {
                    var i = qs(t);
                    if (ci) {
                        var n = ci(t);
                        e &&
                            (n = is(n).call(n, function (e) {
                                return Ct(t, e).enumerable;
                            })),
                            i.push.apply(i, n);
                    }
                    return i;
                }
                function gr(t) {
                    for (var e = 1; e < arguments.length; e++) {
                        var i,
                            n = null != arguments[e] ? arguments[e] : {};
                        if (e % 2)
                            Mn((i = mr(Object(n), !0))).call(i, function (e) {
                                ln(t, e, n[e]);
                            });
                        else if (_t) ft(t, _t(n));
                        else {
                            var s;
                            Mn((s = mr(Object(n)))).call(s, function (e) {
                                Z(t, e, Ct(n, e));
                            });
                        }
                    }
                    return t;
                }
                function vr(t, e) {
                    var i;
                    if (void 0 === fr || null == Bi(t)) {
                        if (
                            er(t) ||
                            (i = (function (t, e) {
                                var i;
                                if (!t) return;
                                if ("string" == typeof t) return br(t, e);
                                var n = or((i = Object.prototype.toString.call(t))).call(i, 8, -1);
                                "Object" === n && t.constructor && (n = t.constructor.name);
                                if ("Map" === n || "Set" === n) return en(t);
                                if ("Arguments" === n || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return br(t, e);
                            })(t)) ||
                            (e && t && "number" == typeof t.length)
                        ) {
                            i && (t = i);
                            var n = 0,
                                s = function () {};
                            return {
                                s,
                                n: function () {
                                    return n >= t.length ? { done: !0 } : { done: !1, value: t[n++] };
                                },
                                e: function (t) {
                                    throw t;
                                },
                                f: s,
                            };
                        }
                        throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
                    }
                    var r,
                        o = !0,
                        a = !1;
                    return {
                        s: function () {
                            i = Wi(t);
                        },
                        n: function () {
                            var t = i.next();
                            return (o = t.done), t;
                        },
                        e: function (t) {
                            (a = !0), (r = t);
                        },
                        f: function () {
                            try {
                                o || null == i.return || i.return();
                            } finally {
                                if (a) throw r;
                            }
                        },
                    };
                }
                function br(t, e) {
                    (null == e || e > t.length) && (e = t.length);
                    for (var i = 0, n = new Array(e); i < e; i++) n[i] = t[i];
                    return n;
                }
                var yr = fr("DELETE");
                function wr(t) {
                    for (var e, i = arguments.length, n = new Array(i > 1 ? i - 1 : 0), s = 1; s < i; s++) n[s - 1] = arguments[s];
                    return xr.apply(void 0, pr((e = [{}, t])).call(e, n));
                }
                function xr() {
                    var t = _r.apply(void 0, arguments);
                    return Pr(t), t;
                }
                function _r() {
                    for (var t = arguments.length, e = new Array(t), i = 0; i < t; i++) e[i] = arguments[i];
                    if (e.length < 2) return e[0];
                    var n;
                    if (e.length > 2) return _r.apply(void 0, pr((n = [xr(e[0], e[1])])).call(n, cr(or(e).call(e, 2))));
                    var s,
                        r = e[0],
                        o = e[1],
                        a = vr(rr(o));
                    try {
                        for (a.s(); !(s = a.n()).done; ) {
                            var l = s.value;
                            Object.prototype.propertyIsEnumerable.call(o, l) &&
                                (o[l] === yr ? delete r[l] : null === r[l] || null === o[l] || "object" !== sr(r[l]) || "object" !== sr(o[l]) || er(r[l]) || er(o[l]) ? (r[l] = kr(o[l])) : (r[l] = _r(r[l], o[l])));
                        }
                    } catch (t) {
                        a.e(t);
                    } finally {
                        a.f();
                    }
                    return r;
                }
                function kr(t) {
                    return er(t)
                        ? tr(t).call(t, function (t) {
                              return kr(t);
                          })
                        : "object" === sr(t) && null !== t
                        ? _r({}, t)
                        : t;
                }
                function Pr(t) {
                    for (var e = 0, i = qs(t); e < i.length; e++) {
                        var n = i[e];
                        t[n] === yr ? delete t[n] : "object" === sr(t[n]) && null !== t[n] && Pr(t[n]);
                    }
                }
                function Sr(t) {
                    var e = (function () {
                            for (var t = Cr(), e = t(" "), i = t(" "), n = t(" "), s = 0; s < arguments.length; s++)
                                (e -= t(s < 0 || arguments.length <= s ? void 0 : arguments[s])) < 0 && (e += 1),
                                    (i -= t(s < 0 || arguments.length <= s ? void 0 : arguments[s])) < 0 && (i += 1),
                                    (n -= t(s < 0 || arguments.length <= s ? void 0 : arguments[s])) < 0 && (n += 1);
                            return [e, i, n];
                        })(t),
                        i = Ys(e, 3),
                        n = i[0],
                        s = i[1],
                        r = i[2],
                        o = 1,
                        a = function () {
                            var t = 2091639 * n + 2.3283064365386963e-10 * o;
                            return (n = s), (s = r), (r = t - (o = 0 | t));
                        };
                    return (
                        (a.uint32 = function () {
                            return 4294967296 * a();
                        }),
                        (a.fract53 = function () {
                            return a() + 11102230246251565e-32 * ((2097152 * a()) | 0);
                        }),
                        (a.algorithm = "Alea"),
                        (a.seed = t),
                        (a.version = "0.9"),
                        a
                    );
                }
                function Cr() {
                    var t = 4022871197;
                    return function (e) {
                        for (var i = e.toString(), n = 0; n < i.length; n++) {
                            var s = 0.02519603282416938 * (t += i.charCodeAt(n));
                            (s -= t = s >>> 0), (t = (s *= t) >>> 0), (t += 4294967296 * (s -= t));
                        }
                        return 2.3283064365386963e-10 * (t >>> 0);
                    };
                }
                var Ir = /^\/?Date\((-?\d+)/i,
                    Tr = /^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,
                    $r = /^#?([a-f\d])([a-f\d])([a-f\d])$/i,
                    Er = /^rgb\( *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *\)$/i,
                    Dr = /^rgba\( *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *([01]|0?\.\d+) *\)$/i;
                function Mr(t) {
                    return t instanceof Number || "number" == typeof t;
                }
                function Ar(t) {
                    return t instanceof String || "string" == typeof t;
                }
                function Nr(t) {
                    return "object" === sr(t) && null !== t;
                }
                function Or(t, e, i, n) {
                    var s = !1;
                    !0 === n && (s = null === e[i] && void 0 !== t[i]), s ? delete t[i] : (t[i] = e[i]);
                }
                var Rr = vs;
                function Vr(t, e) {
                    var i = arguments.length > 2 && void 0 !== arguments[2] && arguments[2],
                        n = arguments.length > 3 && void 0 !== arguments[3] && arguments[3];
                    for (var s in e)
                        if (Object.prototype.hasOwnProperty.call(e, s) || !0 === i)
                            if ("object" === sr(e[s]) && null !== e[s] && rs(e[s]) === Object.prototype)
                                void 0 === t[s] ? (t[s] = Vr({}, e[s], i)) : "object" === sr(t[s]) && null !== t[s] && rs(t[s]) === Object.prototype ? Vr(t[s], e[s], i) : Or(t, e, s, n);
                            else if (er(e[s])) {
                                var r;
                                t[s] = or((r = e[s])).call(r);
                            } else Or(t, e, s, n);
                    return t;
                }
                function Lr(t) {
                    var e = sr(t);
                    return "object" === e
                        ? null === t
                            ? "null"
                            : t instanceof Boolean
                            ? "Boolean"
                            : t instanceof Number
                            ? "Number"
                            : t instanceof String
                            ? "String"
                            : er(t)
                            ? "Array"
                            : t instanceof Date
                            ? "Date"
                            : "Object"
                        : "number" === e
                        ? "Number"
                        : "boolean" === e
                        ? "Boolean"
                        : "string" === e
                        ? "String"
                        : void 0 === e
                        ? "undefined"
                        : e;
                }
                var jr = Wn;
                var Fr = {
                    asBoolean: function (t, e) {
                        return "function" == typeof t && (t = t()), null != t ? 0 != t : e || null;
                    },
                    asNumber: function (t, e) {
                        return "function" == typeof t && (t = t()), null != t ? Number(t) || e || null : e || null;
                    },
                    asString: function (t, e) {
                        return "function" == typeof t && (t = t()), null != t ? String(t) : e || null;
                    },
                    asSize: function (t, e) {
                        return "function" == typeof t && (t = t()), Ar(t) ? t : Mr(t) ? t + "px" : e || null;
                    },
                    asElement: function (t, e) {
                        return "function" == typeof t && (t = t()), t || e || null;
                    },
                };
                function zr(t) {
                    var e;
                    switch (t.length) {
                        case 3:
                        case 4:
                            return (e = $r.exec(t)) ? { r: Vn(e[1] + e[1], 16), g: Vn(e[2] + e[2], 16), b: Vn(e[3] + e[3], 16) } : null;
                        case 6:
                        case 7:
                            return (e = Tr.exec(t)) ? { r: Vn(e[1], 16), g: Vn(e[2], 16), b: Vn(e[3], 16) } : null;
                        default:
                            return null;
                    }
                }
                function Hr(t, e, i) {
                    var n;
                    return "#" + or((n = ((1 << 24) + (t << 16) + (e << 8) + i).toString(16))).call(n, 1);
                }
                function Wr(t, e, i) {
                    (t /= 255), (e /= 255), (i /= 255);
                    var n = Math.min(t, Math.min(e, i)),
                        s = Math.max(t, Math.max(e, i));
                    return n === s ? { h: 0, s: 0, v: n } : { h: (60 * ((t === n ? 3 : i === n ? 1 : 5) - (t === n ? e - i : i === n ? t - e : i - t) / (s - n))) / 360, s: (s - n) / s, v: s };
                }
                var Br = function (t) {
                        var e,
                            i = {};
                        return (
                            Mn((e = t.split(";"))).call(e, function (t) {
                                if ("" != yn(t).call(t)) {
                                    var e,
                                        n,
                                        s = t.split(":"),
                                        r = yn((e = s[0])).call(e),
                                        o = yn((n = s[1])).call(n);
                                    i[r] = o;
                                }
                            }),
                            i
                        );
                    },
                    Yr = function (t) {
                        var e;
                        return tr((e = qs(t)))
                            .call(e, function (e) {
                                return e + ": " + t[e];
                            })
                            .join("; ");
                    };
                function Ur(t, e, i) {
                    var n,
                        s,
                        r,
                        o = Math.floor(6 * t),
                        a = 6 * t - o,
                        l = i * (1 - e),
                        h = i * (1 - a * e),
                        c = i * (1 - (1 - a) * e);
                    switch (o % 6) {
                        case 0:
                            (n = i), (s = c), (r = l);
                            break;
                        case 1:
                            (n = h), (s = i), (r = l);
                            break;
                        case 2:
                            (n = l), (s = i), (r = c);
                            break;
                        case 3:
                            (n = l), (s = h), (r = i);
                            break;
                        case 4:
                            (n = c), (s = l), (r = i);
                            break;
                        case 5:
                            (n = i), (s = l), (r = h);
                    }
                    return { r: Math.floor(255 * n), g: Math.floor(255 * s), b: Math.floor(255 * r) };
                }
                function Gr(t, e, i) {
                    var n = Ur(t, e, i);
                    return Hr(n.r, n.g, n.b);
                }
                function qr(t) {
                    var e = zr(t);
                    if (!e) throw new TypeError("'".concat(t, "' is not a valid color."));
                    return Wr(e.r, e.g, e.b);
                }
                function Xr(t) {
                    return /(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(t);
                }
                function Kr(t) {
                    return Er.test(t);
                }
                function Zr(t) {
                    if (null === t || "object" !== sr(t)) return null;
                    if (t instanceof Element) return t;
                    var e = rn(t);
                    for (var i in t) Object.prototype.hasOwnProperty.call(t, i) && "object" == sr(t[i]) && (e[i] = Zr(t[i]));
                    return e;
                }
                var Jr = Object.freeze({
                    __proto__: null,
                    Alea: function () {
                        for (var t = arguments.length, e = new Array(t), i = 0; i < t; i++) e[i] = arguments[i];
                        return Sr(e.length ? e : [Us()]);
                    },
                    DELETE: yr,
                    HSVToHex: Gr,
                    HSVToRGB: Ur,
                    RGBToHSV: Wr,
                    RGBToHex: Hr,
                    addClassName: function (t, e) {
                        var i = t.className.split(" "),
                            n = e.split(" ");
                        (i = pr(i).call(
                            i,
                            is(n).call(n, function (t) {
                                return ps(i).call(i, t) < 0;
                            })
                        )),
                            (t.className = i.join(" "));
                    },
                    addCssText: function (t, e) {
                        var i = Br(t.style.cssText),
                            n = Br(e),
                            s = gr(gr({}, i), n);
                        t.style.cssText = Yr(s);
                    },
                    addEventListener: function (t, e, i, n) {
                        var s;
                        t.addEventListener ? (void 0 === n && (n = !1), "mousewheel" === e && ps((s = navigator.userAgent)).call(s, "Firefox") >= 0 && (e = "DOMMouseScroll"), t.addEventListener(e, i, n)) : t.attachEvent("on" + e, i);
                    },
                    binarySearchCustom: function (t, e, i, n) {
                        for (var s = 0, r = 0, o = t.length - 1; r <= o && s < 1e4; ) {
                            var a = Math.floor((r + o) / 2),
                                l = t[a],
                                h = e(void 0 === n ? l[i] : l[i][n]);
                            if (0 == h) return a;
                            -1 == h ? (r = a + 1) : (o = a - 1), s++;
                        }
                        return -1;
                    },
                    binarySearchValue: function (t, e, i, n, s) {
                        var r,
                            o,
                            a,
                            l,
                            h = 0,
                            c = 0,
                            d = t.length - 1;
                        for (
                            s =
                                null != s
                                    ? s
                                    : function (t, e) {
                                          return t == e ? 0 : t < e ? -1 : 1;
                                      };
                            c <= d && h < 1e4;

                        ) {
                            if (((l = Math.floor(0.5 * (d + c))), (r = t[Math.max(0, l - 1)][i]), (o = t[l][i]), (a = t[Math.min(t.length - 1, l + 1)][i]), 0 == s(o, e))) return l;
                            if (s(r, e) < 0 && s(o, e) > 0) return "before" == n ? Math.max(0, l - 1) : l;
                            if (s(o, e) < 0 && s(a, e) > 0) return "before" == n ? l : Math.min(t.length - 1, l + 1);
                            s(o, e) < 0 ? (c = l + 1) : (d = l - 1), h++;
                        }
                        return -1;
                    },
                    bridgeObject: Zr,
                    copyAndExtendArray: function (t, e) {
                        var i;
                        return pr((i = [])).call(i, cr(t), [e]);
                    },
                    copyArray: function (t) {
                        return or(t).call(t);
                    },
                    deepExtend: Vr,
                    deepObjectAssign: xr,
                    easingFunctions: {
                        linear: function (t) {
                            return t;
                        },
                        easeInQuad: function (t) {
                            return t * t;
                        },
                        easeOutQuad: function (t) {
                            return t * (2 - t);
                        },
                        easeInOutQuad: function (t) {
                            return t < 0.5 ? 2 * t * t : (4 - 2 * t) * t - 1;
                        },
                        easeInCubic: function (t) {
                            return t * t * t;
                        },
                        easeOutCubic: function (t) {
                            return --t * t * t + 1;
                        },
                        easeInOutCubic: function (t) {
                            return t < 0.5 ? 4 * t * t * t : (t - 1) * (2 * t - 2) * (2 * t - 2) + 1;
                        },
                        easeInQuart: function (t) {
                            return t * t * t * t;
                        },
                        easeOutQuart: function (t) {
                            return 1 - --t * t * t * t;
                        },
                        easeInOutQuart: function (t) {
                            return t < 0.5 ? 8 * t * t * t * t : 1 - 8 * --t * t * t * t;
                        },
                        easeInQuint: function (t) {
                            return t * t * t * t * t;
                        },
                        easeOutQuint: function (t) {
                            return 1 + --t * t * t * t * t;
                        },
                        easeInOutQuint: function (t) {
                            return t < 0.5 ? 16 * t * t * t * t * t : 1 + 16 * --t * t * t * t * t;
                        },
                    },
                    equalArray: function (t, e) {
                        if (t.length !== e.length) return !1;
                        for (var i = 0, n = t.length; i < n; i++) if (t[i] != e[i]) return !1;
                        return !0;
                    },
                    extend: Rr,
                    fillIfDefined: function t(e, i) {
                        var n = arguments.length > 2 && void 0 !== arguments[2] && arguments[2];
                        for (var s in e)
                            if (void 0 !== i[s])
                                if (null === i[s] || "object" !== sr(i[s])) Or(e, i, s, n);
                                else {
                                    var r = e[s],
                                        o = i[s];
                                    Nr(r) && Nr(o) && t(r, o, n);
                                }
                    },
                    forEach: function (t, e) {
                        if (er(t)) for (var i = t.length, n = 0; n < i; n++) e(t[n], n, t);
                        else for (var s in t) Object.prototype.hasOwnProperty.call(t, s) && e(t[s], s, t);
                    },
                    getAbsoluteLeft: function (t) {
                        return t.getBoundingClientRect().left;
                    },
                    getAbsoluteRight: function (t) {
                        return t.getBoundingClientRect().right;
                    },
                    getAbsoluteTop: function (t) {
                        return t.getBoundingClientRect().top;
                    },
                    getScrollBarWidth: function () {
                        var t = document.createElement("p");
                        (t.style.width = "100%"), (t.style.height = "200px");
                        var e = document.createElement("div");
                        (e.style.position = "absolute"),
                            (e.style.top = "0px"),
                            (e.style.left = "0px"),
                            (e.style.visibility = "hidden"),
                            (e.style.width = "200px"),
                            (e.style.height = "150px"),
                            (e.style.overflow = "hidden"),
                            e.appendChild(t),
                            document.body.appendChild(e);
                        var i = t.offsetWidth;
                        e.style.overflow = "scroll";
                        var n = t.offsetWidth;
                        return i == n && (n = e.clientWidth), document.body.removeChild(e), i - n;
                    },
                    getTarget: function () {
                        var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : window.event,
                            e = null;
                        return t && (t.target ? (e = t.target) : t.srcElement && (e = t.srcElement)), e instanceof Element && (null == e.nodeType || 3 != e.nodeType || (e = e.parentNode) instanceof Element) ? e : null;
                    },
                    getType: Lr,
                    hasParent: function (t, e) {
                        for (var i = t; i; ) {
                            if (i === e) return !0;
                            if (!i.parentNode) return !1;
                            i = i.parentNode;
                        }
                        return !1;
                    },
                    hexToHSV: qr,
                    hexToRGB: zr,
                    insertSort: function (t, e) {
                        for (var i = 0; i < t.length; i++) {
                            var n = t[i],
                                s = void 0;
                            for (s = i; s > 0 && e(n, t[s - 1]) < 0; s--) t[s] = t[s - 1];
                            t[s] = n;
                        }
                        return t;
                    },
                    isDate: function (t) {
                        if (t instanceof Date) return !0;
                        if (Ar(t)) {
                            if (Ir.exec(t)) return !0;
                            if (!isNaN(Date.parse(t))) return !0;
                        }
                        return !1;
                    },
                    isNumber: Mr,
                    isObject: Nr,
                    isString: Ar,
                    isValidHex: Xr,
                    isValidRGB: Kr,
                    isValidRGBA: function (t) {
                        return Dr.test(t);
                    },
                    mergeOptions: function (t, e, i) {
                        var n = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : {},
                            s = function (t) {
                                return null != t;
                            },
                            r = function (t) {
                                return null !== t && "object" === sr(t);
                            },
                            o = function (t) {
                                for (var e in t) if (Object.prototype.hasOwnProperty.call(t, e)) return !1;
                                return !0;
                            };
                        if (!r(t)) throw new Error("Parameter mergeTarget must be an object");
                        if (!r(e)) throw new Error("Parameter options must be an object");
                        if (!s(i)) throw new Error("Parameter option must have a value");
                        if (!r(n)) throw new Error("Parameter globalOptions must be an object");
                        var a = function (t, e, i) {
                                r(t[i]) || (t[i] = {});
                                var n = e[i],
                                    s = t[i];
                                for (var o in n) Object.prototype.hasOwnProperty.call(n, o) && (s[o] = n[o]);
                            },
                            l = e[i],
                            h = r(n) && !o(n),
                            c = h ? n[i] : void 0,
                            d = c ? c.enabled : void 0;
                        if (void 0 !== l) {
                            if ("boolean" == typeof l) return r(t[i]) || (t[i] = {}), void (t[i].enabled = l);
                            if (null === l && !r(t[i])) {
                                if (!s(c)) return;
                                t[i] = rn(c);
                            }
                            if (r(l)) {
                                var u = !0;
                                void 0 !== l.enabled ? (u = l.enabled) : void 0 !== d && (u = c.enabled), a(t, e, i), (t[i].enabled = u);
                            }
                        }
                    },
                    option: Fr,
                    overrideOpacity: function (t, e) {
                        if (-1 !== ps(t).call(t, "rgba")) return t;
                        if (-1 !== ps(t).call(t, "rgb")) {
                            var i = t
                                .substr(ps(t).call(t, "(") + 1)
                                .replace(")", "")
                                .split(",");
                            return "rgba(" + i[0] + "," + i[1] + "," + i[2] + "," + e + ")";
                        }
                        var n = zr(t);
                        return null == n ? t : "rgba(" + n.r + "," + n.g + "," + n.b + "," + e + ")";
                    },
                    parseColor: function (t, e) {
                        if (Ar(t)) {
                            var i = t;
                            if (Kr(i)) {
                                var n,
                                    s = tr(
                                        (n = i
                                            .substr(4)
                                            .substr(0, i.length - 5)
                                            .split(","))
                                    ).call(n, function (t) {
                                        return Vn(t);
                                    });
                                i = Hr(s[0], s[1], s[2]);
                            }
                            if (!0 === Xr(i)) {
                                var r = qr(i),
                                    o = { h: r.h, s: 0.8 * r.s, v: Math.min(1, 1.02 * r.v) },
                                    a = { h: r.h, s: Math.min(1, 1.25 * r.s), v: 0.8 * r.v },
                                    l = Gr(a.h, a.s, a.v),
                                    h = Gr(o.h, o.s, o.v);
                                return { background: i, border: l, highlight: { background: h, border: l }, hover: { background: h, border: l } };
                            }
                            return { background: i, border: i, highlight: { background: i, border: i }, hover: { background: i, border: i } };
                        }
                        return e
                            ? {
                                  background: t.background || e.background,
                                  border: t.border || e.border,
                                  highlight: Ar(t.highlight)
                                      ? { border: t.highlight, background: t.highlight }
                                      : { background: (t.highlight && t.highlight.background) || e.highlight.background, border: (t.highlight && t.highlight.border) || e.highlight.border },
                                  hover: Ar(t.hover) ? { border: t.hover, background: t.hover } : { border: (t.hover && t.hover.border) || e.hover.border, background: (t.hover && t.hover.background) || e.hover.background },
                              }
                            : {
                                  background: t.background || void 0,
                                  border: t.border || void 0,
                                  highlight: Ar(t.highlight) ? { border: t.highlight, background: t.highlight } : { background: (t.highlight && t.highlight.background) || void 0, border: (t.highlight && t.highlight.border) || void 0 },
                                  hover: Ar(t.hover) ? { border: t.hover, background: t.hover } : { border: (t.hover && t.hover.border) || void 0, background: (t.hover && t.hover.background) || void 0 },
                              };
                    },
                    preventDefault: function (t) {
                        t || (t = window.event), t && (t.preventDefault ? t.preventDefault() : (t.returnValue = !1));
                    },
                    pureDeepObjectAssign: wr,
                    recursiveDOMDelete: function t(e) {
                        if (e)
                            for (; !0 === e.hasChildNodes(); ) {
                                var i = e.firstChild;
                                i && (t(i), e.removeChild(i));
                            }
                    },
                    removeClassName: function (t, e) {
                        var i = t.className.split(" "),
                            n = e.split(" ");
                        (i = is(i).call(i, function (t) {
                            return ps(n).call(n, t) < 0;
                        })),
                            (t.className = i.join(" "));
                    },
                    removeCssText: function (t, e) {
                        var i = Br(t.style.cssText),
                            n = Br(e);
                        for (var s in n) Object.prototype.hasOwnProperty.call(n, s) && delete i[s];
                        t.style.cssText = Yr(i);
                    },
                    removeEventListener: function (t, e, i, n) {
                        var s;
                        t.removeEventListener ? (void 0 === n && (n = !1), "mousewheel" === e && ps((s = navigator.userAgent)).call(s, "Firefox") >= 0 && (e = "DOMMouseScroll"), t.removeEventListener(e, i, n)) : t.detachEvent("on" + e, i);
                    },
                    selectiveBridgeObject: function (t, e) {
                        if (null !== e && "object" === sr(e)) {
                            for (var i = rn(e), n = 0; n < t.length; n++) Object.prototype.hasOwnProperty.call(e, t[n]) && "object" == sr(e[t[n]]) && (i[t[n]] = Zr(e[t[n]]));
                            return i;
                        }
                        return null;
                    },
                    selectiveDeepExtend: function (t, e, i) {
                        var n = arguments.length > 3 && void 0 !== arguments[3] && arguments[3];
                        if (er(i)) throw new TypeError("Arrays are not supported by deepExtend");
                        for (var s = 0; s < t.length; s++) {
                            var r = t[s];
                            if (Object.prototype.hasOwnProperty.call(i, r))
                                if (i[r] && i[r].constructor === Object) void 0 === e[r] && (e[r] = {}), e[r].constructor === Object ? Vr(e[r], i[r], !1, n) : Or(e, i, r, n);
                                else {
                                    if (er(i[r])) throw new TypeError("Arrays are not supported by deepExtend");
                                    Or(e, i, r, n);
                                }
                        }
                        return e;
                    },
                    selectiveExtend: function (t, e) {
                        if (!er(t)) throw new Error("Array with property names expected as first argument");
                        for (var i = arguments.length, n = new Array(i > 2 ? i - 2 : 0), s = 2; s < i; s++) n[s - 2] = arguments[s];
                        for (var r = 0, o = n; r < o.length; r++)
                            for (var a = o[r], l = 0; l < t.length; l++) {
                                var h = t[l];
                                a && Object.prototype.hasOwnProperty.call(a, h) && (e[h] = a[h]);
                            }
                        return e;
                    },
                    selectiveNotDeepExtend: function (t, e, i) {
                        var n = arguments.length > 3 && void 0 !== arguments[3] && arguments[3];
                        if (er(i)) throw new TypeError("Arrays are not supported by deepExtend");
                        for (var s in i)
                            if (Object.prototype.hasOwnProperty.call(i, s) && -1 === ps(t).call(t, s))
                                if (i[s] && i[s].constructor === Object) void 0 === e[s] && (e[s] = {}), e[s].constructor === Object ? Vr(e[s], i[s]) : Or(e, i, s, n);
                                else if (er(i[s])) {
                                    e[s] = [];
                                    for (var r = 0; r < i[s].length; r++) e[s].push(i[s][r]);
                                } else Or(e, i, s, n);
                        return e;
                    },
                    throttle: function (t) {
                        var e = !1;
                        return function () {
                            e ||
                                ((e = !0),
                                requestAnimationFrame(function () {
                                    (e = !1), t();
                                }));
                        };
                    },
                    toArray: jr,
                    topMost: function (t, e) {
                        var i;
                        er(e) || (e = [e]);
                        var n,
                            s = vr(t);
                        try {
                            for (s.s(); !(n = s.n()).done; ) {
                                var r = n.value;
                                if (r) {
                                    i = r[e[0]];
                                    for (var o = 1; o < e.length; o++) i && (i = i[e[o]]);
                                    if (void 0 !== i) break;
                                }
                            }
                        } catch (t) {
                            s.e(t);
                        } finally {
                            s.f();
                        }
                        return i;
                    },
                    updateProperty: function (t, e, i) {
                        return t[e] !== i && ((t[e] = i), !0);
                    },
                });
                function Qr(t) {
                    for (var e in t) t.hasOwnProperty(e) && ((t[e].redundant = t[e].used), (t[e].used = []));
                }
                function to(t) {
                    for (var e in t)
                        if (t.hasOwnProperty(e) && t[e].redundant) {
                            for (var i = 0; i < t[e].redundant.length; i++) t[e].redundant[i].parentNode.removeChild(t[e].redundant[i]);
                            t[e].redundant = [];
                        }
                }
                function eo(t) {
                    Qr(t), to(t), Qr(t);
                }
                function io(t, e, i) {
                    var n;
                    return (
                        e.hasOwnProperty(t)
                            ? e[t].redundant.length > 0
                                ? ((n = e[t].redundant[0]), e[t].redundant.shift())
                                : ((n = document.createElementNS("http://www.w3.org/2000/svg", t)), i.appendChild(n))
                            : ((n = document.createElementNS("http://www.w3.org/2000/svg", t)), (e[t] = { used: [], redundant: [] }), i.appendChild(n)),
                        e[t].used.push(n),
                        n
                    );
                }
                function no(t, e, i, n) {
                    var s;
                    return (
                        e.hasOwnProperty(t)
                            ? e[t].redundant.length > 0
                                ? ((s = e[t].redundant[0]), e[t].redundant.shift())
                                : ((s = document.createElement(t)), void 0 !== n ? i.insertBefore(s, n) : i.appendChild(s))
                            : ((s = document.createElement(t)), (e[t] = { used: [], redundant: [] }), void 0 !== n ? i.insertBefore(s, n) : i.appendChild(s)),
                        e[t].used.push(s),
                        s
                    );
                }
                function so(t, e, i, n, s, r) {
                    var o;
                    if (
                        ("circle" == i.style
                            ? ((o = io("circle", n, s)).setAttributeNS(null, "cx", t), o.setAttributeNS(null, "cy", e), o.setAttributeNS(null, "r", 0.5 * i.size))
                            : ((o = io("rect", n, s)).setAttributeNS(null, "x", t - 0.5 * i.size), o.setAttributeNS(null, "y", e - 0.5 * i.size), o.setAttributeNS(null, "width", i.size), o.setAttributeNS(null, "height", i.size)),
                        void 0 !== i.styles && o.setAttributeNS(null, "style", i.styles),
                        o.setAttributeNS(null, "class", i.className + " vis-point"),
                        r)
                    ) {
                        var a = io("text", n, s);
                        r.xOffset && (t += r.xOffset),
                            r.yOffset && (e += r.yOffset),
                            r.content && (a.textContent = r.content),
                            r.className && a.setAttributeNS(null, "class", r.className + " vis-label"),
                            a.setAttributeNS(null, "x", t),
                            a.setAttributeNS(null, "y", e);
                    }
                    return o;
                }
                function ro(t, e, i, n, s, r, o, a) {
                    if (0 != n) {
                        n < 0 && (e -= n *= -1);
                        var l = io("rect", r, o);
                        l.setAttributeNS(null, "x", t - 0.5 * i),
                            l.setAttributeNS(null, "y", e),
                            l.setAttributeNS(null, "width", i),
                            l.setAttributeNS(null, "height", n),
                            l.setAttributeNS(null, "class", s),
                            a && l.setAttributeNS(null, "style", a);
                    }
                }
                function oo() {
                    try {
                        return navigator ? (navigator.languages && navigator.languages.length ? navigator.languages : navigator.userLanguage || navigator.language || navigator.browserLanguage || "en") : "en";
                    } catch (t) {
                        return "en";
                    }
                }
                var ao = [].slice,
                    lo = {},
                    ho = function (t, e, i) {
                        if (!(e in lo)) {
                            for (var n = [], s = 0; s < e; s++) n[s] = "a[" + s + "]";
                            lo[e] = Function("C,a", "return new C(" + n.join(",") + ")");
                        }
                        return lo[e](t, i);
                    },
                    co =
                        Function.bind ||
                        function (t) {
                            var e = z(this),
                                i = ao.call(arguments, 1),
                                n = function () {
                                    var s = i.concat(ao.call(arguments));
                                    return this instanceof n ? ho(e, s.length, s) : e.apply(t, s);
                                };
                            return k(e.prototype) && (n.prototype = e.prototype), n;
                        },
                    uo = gt("Reflect", "construct"),
                    po = d(function () {
                        function t() {}
                        return !(uo(function () {}, [], t) instanceof t);
                    }),
                    fo = !d(function () {
                        uo(function () {});
                    }),
                    mo = po || fo;
                X(
                    { target: "Reflect", stat: !0, forced: mo, sham: mo },
                    {
                        construct: function (t, e) {
                            z(t), W(e);
                            var i = arguments.length < 3 ? t : z(arguments[2]);
                            if (fo && !po) return uo(t, e, i);
                            if (t == i) {
                                switch (e.length) {
                                    case 0:
                                        return new t();
                                    case 1:
                                        return new t(e[0]);
                                    case 2:
                                        return new t(e[0], e[1]);
                                    case 3:
                                        return new t(e[0], e[1], e[2]);
                                    case 4:
                                        return new t(e[0], e[1], e[2], e[3]);
                                }
                                var n = [null];
                                return n.push.apply(n, e), new (co.apply(t, n))();
                            }
                            var s = i.prototype,
                                r = Bt(k(s) ? s : Object.prototype),
                                o = Function.apply.call(t, r, e);
                            return k(o) ? o : r;
                        },
                    }
                );
                var go = F.Reflect.construct,
                    vo = gn("Array").entries,
                    bo = Array.prototype,
                    yo = { DOMTokenList: !0, NodeList: !0 },
                    wo = function (t) {
                        var e = t.entries;
                        return t === bo || (t instanceof Array && e === bo.entries) || yo.hasOwnProperty(ae(t)) ? vo : e;
                    },
                    xo = gt("JSON", "stringify"),
                    _o = /[\uD800-\uDFFF]/g,
                    ko = /^[\uD800-\uDBFF]$/,
                    Po = /^[\uDC00-\uDFFF]$/,
                    So = function (t, e, i) {
                        var n = i.charAt(e - 1),
                            s = i.charAt(e + 1);
                        return (ko.test(t) && !Po.test(s)) || (Po.test(t) && !ko.test(n)) ? "\\u" + t.charCodeAt(0).toString(16) : t;
                    },
                    Co = d(function () {
                        return '"\\udf06\\ud834"' !== xo("\udf06\ud834") || '"\\udead"' !== xo("\udead");
                    });
                xo &&
                    X(
                        { target: "JSON", stat: !0, forced: Co },
                        {
                            stringify: function (t, e, i) {
                                var n = xo.apply(null, arguments);
                                return "string" == typeof n ? n.replace(_o, So) : n;
                            },
                        }
                    ),
                    F.JSON || (F.JSON = { stringify: JSON.stringify });
                var Io = function (t, e, i) {
                        return F.JSON.stringify.apply(null, arguments);
                    },
                    To = gn("Array").values,
                    $o = Array.prototype,
                    Eo = { DOMTokenList: !0, NodeList: !0 },
                    Do = function (t) {
                        var e = t.values;
                        return t === $o || (t instanceof Array && e === $o.values) || Eo.hasOwnProperty(ae(t)) ? To : e;
                    },
                    Mo = gn("Array").keys,
                    Ao = Array.prototype,
                    No = { DOMTokenList: !0, NodeList: !0 },
                    Oo = function (t) {
                        var e = t.keys;
                        return t === Ao || (t instanceof Array && e === Ao.keys) || No.hasOwnProperty(ae(t)) ? Mo : e;
                    },
                    Ro = Ee.some,
                    Vo = wn("some"),
                    Lo = Pn("some");
                X(
                    { target: "Array", proto: !0, forced: !Vo || !Lo },
                    {
                        some: function (t) {
                            return Ro(this, t, arguments.length > 1 ? arguments[1] : void 0);
                        },
                    }
                );
                var jo = gn("Array").some,
                    Fo = Array.prototype,
                    zo = function (t) {
                        var e = t.some;
                        return t === Fo || (t instanceof Array && e === Fo.some) ? jo : e;
                    };
                var Ho = function (t) {
                        if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                        return t;
                    },
                    Wo = sn;
                X({ target: "Object", stat: !0 }, { setPrototypeOf: wi });
                var Bo = F.Object.setPrototypeOf,
                    Yo = o(function (t) {
                        function e(i, n) {
                            return (
                                (t.exports = e =
                                    Bo ||
                                    function (t, e) {
                                        return (t.__proto__ = e), t;
                                    }),
                                e(i, n)
                            );
                        }
                        t.exports = e;
                    });
                var Uo = function (t, e) {
                    if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
                    (t.prototype = Wo(e && e.prototype, { constructor: { value: t, writable: !0, configurable: !0 } })), e && Yo(t, e);
                };
                var Go = function (t, e) {
                        return !e || ("object" !== sr(e) && "function" != typeof e) ? Ho(t) : e;
                    },
                    qo = ss,
                    Xo = o(function (t) {
                        function e(i) {
                            return (
                                (t.exports = e = Bo
                                    ? qo
                                    : function (t) {
                                          return t.__proto__ || qo(t);
                                      }),
                                e(i)
                            );
                        }
                        t.exports = e;
                    }),
                    Ko = [],
                    Zo = Ko.sort,
                    Jo = d(function () {
                        Ko.sort(void 0);
                    }),
                    Qo = d(function () {
                        Ko.sort(null);
                    }),
                    ta = wn("sort");
                X(
                    { target: "Array", proto: !0, forced: Jo || !Qo || !ta },
                    {
                        sort: function (t) {
                            return void 0 === t ? Zo.call(Et(this)) : Zo.call(Et(this), z(t));
                        },
                    }
                );
                var ea = gn("Array").sort,
                    ia = Array.prototype,
                    na = function (t) {
                        var e = t.sort;
                        return t === ia || (t instanceof Array && e === ia.sort) ? ea : e;
                    },
                    sa = !d(function () {
                        return Object.isExtensible(Object.preventExtensions({}));
                    }),
                    ra = o(function (t) {
                        var e = Y.f,
                            i = Vt("meta"),
                            n = 0,
                            s =
                                Object.isExtensible ||
                                function () {
                                    return !0;
                                },
                            r = function (t) {
                                e(t, i, { value: { objectID: "O" + ++n, weakData: {} } });
                            },
                            o = (t.exports = {
                                REQUIRED: !1,
                                fastKey: function (t, e) {
                                    if (!k(t)) return "symbol" == typeof t ? t : ("string" == typeof t ? "S" : "P") + t;
                                    if (!C(t, i)) {
                                        if (!s(t)) return "F";
                                        if (!e) return "E";
                                        r(t);
                                    }
                                    return t[i].objectID;
                                },
                                getWeakData: function (t, e) {
                                    if (!C(t, i)) {
                                        if (!s(t)) return !0;
                                        if (!e) return !1;
                                        r(t);
                                    }
                                    return t[i].weakData;
                                },
                                onFreeze: function (t) {
                                    return sa && o.REQUIRED && s(t) && !C(t, i) && r(t), t;
                                },
                            });
                        lt[i] = !0;
                    }),
                    oa = o(function (t) {
                        var e = function (t, e) {
                            (this.stopped = t), (this.result = e);
                        };
                        (t.exports = function (t, i, n, s, r) {
                            var o,
                                a,
                                l,
                                h,
                                c,
                                d,
                                u,
                                p = H(i, n, s ? 2 : 1);
                            if (r) o = t;
                            else {
                                if ("function" != typeof (a = Hi(t))) throw TypeError("Target is not iterable");
                                if (qi(a)) {
                                    for (l = 0, h = it(t.length); h > l; l++) if ((c = s ? p(W((u = t[l]))[0], u[1]) : p(t[l])) && c instanceof e) return c;
                                    return new e(!1);
                                }
                                o = a.call(t);
                            }
                            for (d = o.next; !(u = d.call(o)).done; ) if ("object" == typeof (c = Yi(o, p, u.value, s)) && c && c instanceof e) return c;
                            return new e(!1);
                        }).stop = function (t) {
                            return new e(!0, t);
                        };
                    }),
                    aa = function (t, e, i) {
                        if (!(t instanceof e)) throw TypeError("Incorrect " + (i ? i + " " : "") + "invocation");
                        return t;
                    },
                    la = Y.f,
                    ha = Ee.forEach,
                    ca = Se.set,
                    da = Se.getterFor,
                    ua = function (t, e, i) {
                        var n,
                            s = -1 !== t.indexOf("Map"),
                            r = -1 !== t.indexOf("Weak"),
                            o = s ? "set" : "add",
                            a = c[t],
                            l = a && a.prototype,
                            h = {};
                        if (
                            u &&
                            "function" == typeof a &&
                            (r ||
                                (l.forEach &&
                                    !d(function () {
                                        new a().entries().next();
                                    })))
                        ) {
                            n = e(function (e, i) {
                                ca(aa(e, n, t), { type: t, collection: new a() }), null != i && oa(i, e[o], e, s);
                            });
                            var p = da(t);
                            ha(["add", "clear", "delete", "forEach", "get", "has", "set", "keys", "values", "entries"], function (t) {
                                var e = "add" == t || "set" == t;
                                !(t in l) ||
                                    (r && "clear" == t) ||
                                    U(n.prototype, t, function (i, n) {
                                        var s = p(this).collection;
                                        if (!e && r && !k(i)) return "get" == t && void 0;
                                        var o = s[t](0 === i ? 0 : i, n);
                                        return e ? this : o;
                                    });
                            }),
                                r ||
                                    la(n.prototype, "size", {
                                        configurable: !0,
                                        get: function () {
                                            return p(this).collection.size;
                                        },
                                    });
                        } else (n = i.getConstructor(e, t, s, o)), (ra.REQUIRED = !0);
                        return de(n, t, !1, !0), (h[t] = n), X({ global: !0, forced: !0 }, h), r || i.setStrong(n, t, s), n;
                    },
                    pa = function (t, e, i) {
                        for (var n in e) i && i.unsafe && t[n] ? (t[n] = e[n]) : Xt(t, n, e[n], i);
                        return t;
                    },
                    fa = Qt("species"),
                    ma = Y.f,
                    ga = ra.fastKey,
                    va = Se.set,
                    ba = Se.getterFor,
                    ya = {
                        getConstructor: function (t, e, i, n) {
                            var s = t(function (t, r) {
                                    aa(t, s, e), va(t, { type: e, index: Bt(null), first: void 0, last: void 0, size: 0 }), u || (t.size = 0), null != r && oa(r, t[n], t, i);
                                }),
                                r = ba(e),
                                o = function (t, e, i) {
                                    var n,
                                        s,
                                        o = r(t),
                                        l = a(t, e);
                                    return (
                                        l
                                            ? (l.value = i)
                                            : ((o.last = l = { index: (s = ga(e, !0)), key: e, value: i, previous: (n = o.last), next: void 0, removed: !1 }),
                                              o.first || (o.first = l),
                                              n && (n.next = l),
                                              u ? o.size++ : t.size++,
                                              "F" !== s && (o.index[s] = l)),
                                        t
                                    );
                                },
                                a = function (t, e) {
                                    var i,
                                        n = r(t),
                                        s = ga(e);
                                    if ("F" !== s) return n.index[s];
                                    for (i = n.first; i; i = i.next) if (i.key == e) return i;
                                };
                            return (
                                pa(s.prototype, {
                                    clear: function () {
                                        for (var t = r(this), e = t.index, i = t.first; i; ) (i.removed = !0), i.previous && (i.previous = i.previous.next = void 0), delete e[i.index], (i = i.next);
                                        (t.first = t.last = void 0), u ? (t.size = 0) : (this.size = 0);
                                    },
                                    delete: function (t) {
                                        var e = this,
                                            i = r(e),
                                            n = a(e, t);
                                        if (n) {
                                            var s = n.next,
                                                o = n.previous;
                                            delete i.index[n.index], (n.removed = !0), o && (o.next = s), s && (s.previous = o), i.first == n && (i.first = s), i.last == n && (i.last = o), u ? i.size-- : e.size--;
                                        }
                                        return !!n;
                                    },
                                    forEach: function (t) {
                                        for (var e, i = r(this), n = H(t, arguments.length > 1 ? arguments[1] : void 0, 3); (e = e ? e.next : i.first); ) for (n(e.value, e.key, this); e && e.removed; ) e = e.previous;
                                    },
                                    has: function (t) {
                                        return !!a(this, t);
                                    },
                                }),
                                pa(
                                    s.prototype,
                                    i
                                        ? {
                                              get: function (t) {
                                                  var e = a(this, t);
                                                  return e && e.value;
                                              },
                                              set: function (t, e) {
                                                  return o(this, 0 === t ? 0 : t, e);
                                              },
                                          }
                                        : {
                                              add: function (t) {
                                                  return o(this, (t = 0 === t ? 0 : t), t);
                                              },
                                          }
                                ),
                                u &&
                                    ma(s.prototype, "size", {
                                        get: function () {
                                            return r(this).size;
                                        },
                                    }),
                                s
                            );
                        },
                        setStrong: function (t, e, i) {
                            var n = e + " Iterator",
                                s = ba(e),
                                r = ba(n);
                            Ti(
                                t,
                                e,
                                function (t, e) {
                                    va(this, { type: n, target: t, state: s(t), kind: e, last: void 0 });
                                },
                                function () {
                                    for (var t = r(this), e = t.kind, i = t.last; i && i.removed; ) i = i.previous;
                                    return t.target && (t.last = i = i ? i.next : t.state.first)
                                        ? "keys" == e
                                            ? { value: i.key, done: !1 }
                                            : "values" == e
                                            ? { value: i.value, done: !1 }
                                            : { value: [i.key, i.value], done: !1 }
                                        : ((t.target = void 0), { value: void 0, done: !0 });
                                },
                                i ? "entries" : "values",
                                !i,
                                !0
                            ),
                                (function (t) {
                                    var e = gt(t),
                                        i = Y.f;
                                    u &&
                                        e &&
                                        !e[fa] &&
                                        i(e, fa, {
                                            configurable: !0,
                                            get: function () {
                                                return this;
                                            },
                                        });
                                })(e);
                        },
                    },
                    wa =
                        (ua(
                            "Set",
                            function (t) {
                                return function () {
                                    return t(this, arguments.length ? arguments[0] : void 0);
                                };
                            },
                            ya
                        ),
                        F.Set),
                    xa =
                        (ua(
                            "Map",
                            function (t) {
                                return function () {
                                    return t(this, arguments.length ? arguments[0] : void 0);
                                };
                            },
                            ya
                        ),
                        F.Map),
                    _a = o(function (t) {
                        var e = (function (t) {
                            var e,
                                i = Object.prototype,
                                n = i.hasOwnProperty,
                                s = "function" == typeof Symbol ? Symbol : {},
                                r = s.iterator || "@@iterator",
                                o = s.asyncIterator || "@@asyncIterator",
                                a = s.toStringTag || "@@toStringTag";
                            function l(t, e, i) {
                                return Object.defineProperty(t, e, { value: i, enumerable: !0, configurable: !0, writable: !0 }), t[e];
                            }
                            try {
                                l({}, "");
                            } catch (t) {
                                l = function (t, e, i) {
                                    return (t[e] = i);
                                };
                            }
                            function h(t, e, i, n) {
                                var s = e && e.prototype instanceof g ? e : g,
                                    r = Object.create(s.prototype),
                                    o = new T(n || []);
                                return (
                                    (r._invoke = (function (t, e, i) {
                                        var n = d;
                                        return function (s, r) {
                                            if (n === p) throw new Error("Generator is already running");
                                            if (n === f) {
                                                if ("throw" === s) throw r;
                                                return E();
                                            }
                                            for (i.method = s, i.arg = r; ; ) {
                                                var o = i.delegate;
                                                if (o) {
                                                    var a = S(o, i);
                                                    if (a) {
                                                        if (a === m) continue;
                                                        return a;
                                                    }
                                                }
                                                if ("next" === i.method) i.sent = i._sent = i.arg;
                                                else if ("throw" === i.method) {
                                                    if (n === d) throw ((n = f), i.arg);
                                                    i.dispatchException(i.arg);
                                                } else "return" === i.method && i.abrupt("return", i.arg);
                                                n = p;
                                                var l = c(t, e, i);
                                                if ("normal" === l.type) {
                                                    if (((n = i.done ? f : u), l.arg === m)) continue;
                                                    return { value: l.arg, done: i.done };
                                                }
                                                "throw" === l.type && ((n = f), (i.method = "throw"), (i.arg = l.arg));
                                            }
                                        };
                                    })(t, i, o)),
                                    r
                                );
                            }
                            function c(t, e, i) {
                                try {
                                    return { type: "normal", arg: t.call(e, i) };
                                } catch (t) {
                                    return { type: "throw", arg: t };
                                }
                            }
                            t.wrap = h;
                            var d = "suspendedStart",
                                u = "suspendedYield",
                                p = "executing",
                                f = "completed",
                                m = {};
                            function g() {}
                            function v() {}
                            function b() {}
                            var y = {};
                            y[r] = function () {
                                return this;
                            };
                            var w = Object.getPrototypeOf,
                                x = w && w(w($([])));
                            x && x !== i && n.call(x, r) && (y = x);
                            var _ = (b.prototype = g.prototype = Object.create(y));
                            function k(t) {
                                ["next", "throw", "return"].forEach(function (e) {
                                    l(t, e, function (t) {
                                        return this._invoke(e, t);
                                    });
                                });
                            }
                            function P(t, e) {
                                function i(s, r, o, a) {
                                    var l = c(t[s], t, r);
                                    if ("throw" !== l.type) {
                                        var h = l.arg,
                                            d = h.value;
                                        return d && "object" == typeof d && n.call(d, "__await")
                                            ? e.resolve(d.__await).then(
                                                  function (t) {
                                                      i("next", t, o, a);
                                                  },
                                                  function (t) {
                                                      i("throw", t, o, a);
                                                  }
                                              )
                                            : e.resolve(d).then(
                                                  function (t) {
                                                      (h.value = t), o(h);
                                                  },
                                                  function (t) {
                                                      return i("throw", t, o, a);
                                                  }
                                              );
                                    }
                                    a(l.arg);
                                }
                                var s;
                                this._invoke = function (t, n) {
                                    function r() {
                                        return new e(function (e, s) {
                                            i(t, n, e, s);
                                        });
                                    }
                                    return (s = s ? s.then(r, r) : r());
                                };
                            }
                            function S(t, i) {
                                var n = t.iterator[i.method];
                                if (n === e) {
                                    if (((i.delegate = null), "throw" === i.method)) {
                                        if (t.iterator.return && ((i.method = "return"), (i.arg = e), S(t, i), "throw" === i.method)) return m;
                                        (i.method = "throw"), (i.arg = new TypeError("The iterator does not provide a 'throw' method"));
                                    }
                                    return m;
                                }
                                var s = c(n, t.iterator, i.arg);
                                if ("throw" === s.type) return (i.method = "throw"), (i.arg = s.arg), (i.delegate = null), m;
                                var r = s.arg;
                                return r
                                    ? r.done
                                        ? ((i[t.resultName] = r.value), (i.next = t.nextLoc), "return" !== i.method && ((i.method = "next"), (i.arg = e)), (i.delegate = null), m)
                                        : r
                                    : ((i.method = "throw"), (i.arg = new TypeError("iterator result is not an object")), (i.delegate = null), m);
                            }
                            function C(t) {
                                var e = { tryLoc: t[0] };
                                1 in t && (e.catchLoc = t[1]), 2 in t && ((e.finallyLoc = t[2]), (e.afterLoc = t[3])), this.tryEntries.push(e);
                            }
                            function I(t) {
                                var e = t.completion || {};
                                (e.type = "normal"), delete e.arg, (t.completion = e);
                            }
                            function T(t) {
                                (this.tryEntries = [{ tryLoc: "root" }]), t.forEach(C, this), this.reset(!0);
                            }
                            function $(t) {
                                if (t) {
                                    var i = t[r];
                                    if (i) return i.call(t);
                                    if ("function" == typeof t.next) return t;
                                    if (!isNaN(t.length)) {
                                        var s = -1,
                                            o = function i() {
                                                for (; ++s < t.length; ) if (n.call(t, s)) return (i.value = t[s]), (i.done = !1), i;
                                                return (i.value = e), (i.done = !0), i;
                                            };
                                        return (o.next = o);
                                    }
                                }
                                return { next: E };
                            }
                            function E() {
                                return { value: e, done: !0 };
                            }
                            return (
                                (v.prototype = _.constructor = b),
                                (b.constructor = v),
                                (v.displayName = l(b, a, "GeneratorFunction")),
                                (t.isGeneratorFunction = function (t) {
                                    var e = "function" == typeof t && t.constructor;
                                    return !!e && (e === v || "GeneratorFunction" === (e.displayName || e.name));
                                }),
                                (t.mark = function (t) {
                                    return Object.setPrototypeOf ? Object.setPrototypeOf(t, b) : ((t.__proto__ = b), l(t, a, "GeneratorFunction")), (t.prototype = Object.create(_)), t;
                                }),
                                (t.awrap = function (t) {
                                    return { __await: t };
                                }),
                                k(P.prototype),
                                (P.prototype[o] = function () {
                                    return this;
                                }),
                                (t.AsyncIterator = P),
                                (t.async = function (e, i, n, s, r) {
                                    void 0 === r && (r = Promise);
                                    var o = new P(h(e, i, n, s), r);
                                    return t.isGeneratorFunction(i)
                                        ? o
                                        : o.next().then(function (t) {
                                              return t.done ? t.value : o.next();
                                          });
                                }),
                                k(_),
                                l(_, a, "Generator"),
                                (_[r] = function () {
                                    return this;
                                }),
                                (_.toString = function () {
                                    return "[object Generator]";
                                }),
                                (t.keys = function (t) {
                                    var e = [];
                                    for (var i in t) e.push(i);
                                    return (
                                        e.reverse(),
                                        function i() {
                                            for (; e.length; ) {
                                                var n = e.pop();
                                                if (n in t) return (i.value = n), (i.done = !1), i;
                                            }
                                            return (i.done = !0), i;
                                        }
                                    );
                                }),
                                (t.values = $),
                                (T.prototype = {
                                    constructor: T,
                                    reset: function (t) {
                                        if (((this.prev = 0), (this.next = 0), (this.sent = this._sent = e), (this.done = !1), (this.delegate = null), (this.method = "next"), (this.arg = e), this.tryEntries.forEach(I), !t))
                                            for (var i in this) "t" === i.charAt(0) && n.call(this, i) && !isNaN(+i.slice(1)) && (this[i] = e);
                                    },
                                    stop: function () {
                                        this.done = !0;
                                        var t = this.tryEntries[0].completion;
                                        if ("throw" === t.type) throw t.arg;
                                        return this.rval;
                                    },
                                    dispatchException: function (t) {
                                        if (this.done) throw t;
                                        var i = this;
                                        function s(n, s) {
                                            return (a.type = "throw"), (a.arg = t), (i.next = n), s && ((i.method = "next"), (i.arg = e)), !!s;
                                        }
                                        for (var r = this.tryEntries.length - 1; r >= 0; --r) {
                                            var o = this.tryEntries[r],
                                                a = o.completion;
                                            if ("root" === o.tryLoc) return s("end");
                                            if (o.tryLoc <= this.prev) {
                                                var l = n.call(o, "catchLoc"),
                                                    h = n.call(o, "finallyLoc");
                                                if (l && h) {
                                                    if (this.prev < o.catchLoc) return s(o.catchLoc, !0);
                                                    if (this.prev < o.finallyLoc) return s(o.finallyLoc);
                                                } else if (l) {
                                                    if (this.prev < o.catchLoc) return s(o.catchLoc, !0);
                                                } else {
                                                    if (!h) throw new Error("try statement without catch or finally");
                                                    if (this.prev < o.finallyLoc) return s(o.finallyLoc);
                                                }
                                            }
                                        }
                                    },
                                    abrupt: function (t, e) {
                                        for (var i = this.tryEntries.length - 1; i >= 0; --i) {
                                            var s = this.tryEntries[i];
                                            if (s.tryLoc <= this.prev && n.call(s, "finallyLoc") && this.prev < s.finallyLoc) {
                                                var r = s;
                                                break;
                                            }
                                        }
                                        r && ("break" === t || "continue" === t) && r.tryLoc <= e && e <= r.finallyLoc && (r = null);
                                        var o = r ? r.completion : {};
                                        return (o.type = t), (o.arg = e), r ? ((this.method = "next"), (this.next = r.finallyLoc), m) : this.complete(o);
                                    },
                                    complete: function (t, e) {
                                        if ("throw" === t.type) throw t.arg;
                                        return (
                                            "break" === t.type || "continue" === t.type
                                                ? (this.next = t.arg)
                                                : "return" === t.type
                                                ? ((this.rval = this.arg = t.arg), (this.method = "return"), (this.next = "end"))
                                                : "normal" === t.type && e && (this.next = e),
                                            m
                                        );
                                    },
                                    finish: function (t) {
                                        for (var e = this.tryEntries.length - 1; e >= 0; --e) {
                                            var i = this.tryEntries[e];
                                            if (i.finallyLoc === t) return this.complete(i.completion, i.afterLoc), I(i), m;
                                        }
                                    },
                                    catch: function (t) {
                                        for (var e = this.tryEntries.length - 1; e >= 0; --e) {
                                            var i = this.tryEntries[e];
                                            if (i.tryLoc === t) {
                                                var n = i.completion;
                                                if ("throw" === n.type) {
                                                    var s = n.arg;
                                                    I(i);
                                                }
                                                return s;
                                            }
                                        }
                                        throw new Error("illegal catch attempt");
                                    },
                                    delegateYield: function (t, i, n) {
                                        return (this.delegate = { iterator: $(t), resultName: i, nextLoc: n }), "next" === this.method && (this.arg = e), m;
                                    },
                                }),
                                t
                            );
                        })(t.exports);
                        try {
                            regeneratorRuntime = e;
                        } catch (t) {
                            Function("r", "regeneratorRuntime = r")(e);
                        }
                    }),
                    ka = ir,
                    Pa = Kn("splice"),
                    Sa = Pn("splice", { ACCESSORS: !0, 0: 0, 1: 2 }),
                    Ca = Math.max,
                    Ia = Math.min,
                    Ta = 9007199254740991,
                    $a = "Maximum allowed length exceeded";
                X(
                    { target: "Array", proto: !0, forced: !Pa || !Sa },
                    {
                        splice: function (t, e) {
                            var i,
                                n,
                                s,
                                r,
                                o,
                                a,
                                l = Et(this),
                                h = it(l.length),
                                c = rt(t, h),
                                d = arguments.length;
                            if ((0 === d ? (i = n = 0) : 1 === d ? ((i = 0), (n = h - c)) : ((i = d - 2), (n = Ia(Ca(tt(e), 0), h - c))), h + i - n > Ta)) throw TypeError($a);
                            for (s = Ie(l, n), r = 0; r < n; r++) (o = c + r) in l && xt(s, r, l[o]);
                            if (((s.length = n), i < n)) {
                                for (r = c; r < h - n; r++) (a = r + i), (o = r + n) in l ? (l[a] = l[o]) : delete l[a];
                                for (r = h; r > h - n + i; r--) delete l[r - 1];
                            } else if (i > n) for (r = h - n; r > c; r--) (a = r + i - 1), (o = r + n - 1) in l ? (l[a] = l[o]) : delete l[a];
                            for (r = 0; r < i; r++) l[r + c] = arguments[r + 2];
                            return (l.length = h - n + i), s;
                        },
                    }
                );
                var Ea = gn("Array").splice,
                    Da = Array.prototype,
                    Ma = function (t) {
                        var e = t.splice;
                        return t === Da || (t instanceof Array && e === Da.splice) ? Ea : e;
                    },
                    Aa = [].slice,
                    Na = /MSIE .\./.test(Bn),
                    Oa = function (t) {
                        return function (e, i) {
                            var n = arguments.length > 2,
                                s = n ? Aa.call(arguments, 2) : void 0;
                            return t(
                                n
                                    ? function () {
                                          ("function" == typeof e ? e : Function(e)).apply(this, s);
                                      }
                                    : e,
                                i
                            );
                        };
                    };
                X({ global: !0, bind: !0, forced: Na }, { setTimeout: Oa(c.setTimeout), setInterval: Oa(c.setInterval) });
                var Ra = F.setTimeout,
                    Va = ra.getWeakData,
                    La = Se.set,
                    ja = Se.getterFor,
                    Fa = Ee.find,
                    za = Ee.findIndex,
                    Ha = 0,
                    Wa = function (t) {
                        return t.frozen || (t.frozen = new Ba());
                    },
                    Ba = function () {
                        this.entries = [];
                    },
                    Ya = function (t, e) {
                        return Fa(t.entries, function (t) {
                            return t[0] === e;
                        });
                    };
                Ba.prototype = {
                    get: function (t) {
                        var e = Ya(this, t);
                        if (e) return e[1];
                    },
                    has: function (t) {
                        return !!Ya(this, t);
                    },
                    set: function (t, e) {
                        var i = Ya(this, t);
                        i ? (i[1] = e) : this.entries.push([t, e]);
                    },
                    delete: function (t) {
                        var e = za(this.entries, function (e) {
                            return e[0] === t;
                        });
                        return ~e && this.entries.splice(e, 1), !!~e;
                    },
                };
                var Ua = {
                        getConstructor: function (t, e, i, n) {
                            var s = t(function (t, r) {
                                    aa(t, s, e), La(t, { type: e, id: Ha++, frozen: void 0 }), null != r && oa(r, t[n], t, i);
                                }),
                                r = ja(e),
                                o = function (t, e, i) {
                                    var n = r(t),
                                        s = Va(W(e), !0);
                                    return !0 === s ? Wa(n).set(e, i) : (s[n.id] = i), t;
                                };
                            return (
                                pa(s.prototype, {
                                    delete: function (t) {
                                        var e = r(this);
                                        if (!k(t)) return !1;
                                        var i = Va(t);
                                        return !0 === i ? Wa(e).delete(t) : i && C(i, e.id) && delete i[e.id];
                                    },
                                    has: function (t) {
                                        var e = r(this);
                                        if (!k(t)) return !1;
                                        var i = Va(t);
                                        return !0 === i ? Wa(e).has(t) : i && C(i, e.id);
                                    },
                                }),
                                pa(
                                    s.prototype,
                                    i
                                        ? {
                                              get: function (t) {
                                                  var e = r(this);
                                                  if (k(t)) {
                                                      var i = Va(t);
                                                      return !0 === i ? Wa(e).get(t) : i ? i[e.id] : void 0;
                                                  }
                                              },
                                              set: function (t, e) {
                                                  return o(this, t, e);
                                              },
                                          }
                                        : {
                                              add: function (t) {
                                                  return o(this, t, !0);
                                              },
                                          }
                                ),
                                s
                            );
                        },
                    },
                    Ga =
                        (o(function (t) {
                            var e,
                                i = Se.enforce,
                                n = !c.ActiveXObject && "ActiveXObject" in c,
                                s = Object.isExtensible,
                                r = function (t) {
                                    return function () {
                                        return t(this, arguments.length ? arguments[0] : void 0);
                                    };
                                },
                                o = (t.exports = ua("WeakMap", r, Ua));
                            if (be && n) {
                                (e = Ua.getConstructor(r, "WeakMap", !0)), (ra.REQUIRED = !0);
                                var a = o.prototype,
                                    l = a.delete,
                                    h = a.has,
                                    d = a.get,
                                    u = a.set;
                                pa(a, {
                                    delete: function (t) {
                                        if (k(t) && !s(t)) {
                                            var n = i(this);
                                            return n.frozen || (n.frozen = new e()), l.call(this, t) || n.frozen.delete(t);
                                        }
                                        return l.call(this, t);
                                    },
                                    has: function (t) {
                                        if (k(t) && !s(t)) {
                                            var n = i(this);
                                            return n.frozen || (n.frozen = new e()), h.call(this, t) || n.frozen.has(t);
                                        }
                                        return h.call(this, t);
                                    },
                                    get: function (t) {
                                        if (k(t) && !s(t)) {
                                            var n = i(this);
                                            return n.frozen || (n.frozen = new e()), h.call(this, t) ? d.call(this, t) : n.frozen.get(t);
                                        }
                                        return d.call(this, t);
                                    },
                                    set: function (t, n) {
                                        if (k(t) && !s(t)) {
                                            var r = i(this);
                                            r.frozen || (r.frozen = new e()), h.call(this, t) ? u.call(this, t, n) : r.frozen.set(t, n);
                                        } else u.call(this, t, n);
                                        return this;
                                    },
                                });
                            }
                        }),
                        F.WeakMap),
                    qa = function (t, e, i, n, s, r, o, a) {
                        for (var l, h = s, c = 0, d = !!o && H(o, a, 3); c < n; ) {
                            if (c in i) {
                                if (((l = d ? d(i[c], c, e) : i[c]), r > 0 && $t(l))) h = qa(t, e, l, it(l.length), h, r - 1) - 1;
                                else {
                                    if (h >= 9007199254740991) throw TypeError("Exceed the acceptable array length");
                                    t[h] = l;
                                }
                                h++;
                            }
                            c++;
                        }
                        return h;
                    },
                    Xa = qa;
                X(
                    { target: "Array", proto: !0 },
                    {
                        flatMap: function (t) {
                            var e,
                                i = Et(this),
                                n = it(i.length);
                            return z(t), ((e = Ie(i, 0)).length = Xa(e, i, i, n, 0, 1, t, arguments.length > 1 ? arguments[1] : void 0)), e;
                        },
                    }
                );
                var Ka = gn("Array").flatMap,
                    Za = Array.prototype,
                    Ja = function (t) {
                        var e = t.flatMap;
                        return t === Za || (t instanceof Array && e === Za.flatMap) ? Ka : e;
                    },
                    Qa = function (t) {
                        return function (e, i, n, s) {
                            z(i);
                            var r = Et(e),
                                o = w(r),
                                a = it(r.length),
                                l = t ? a - 1 : 0,
                                h = t ? -1 : 1;
                            if (n < 2)
                                for (;;) {
                                    if (l in o) {
                                        (s = o[l]), (l += h);
                                        break;
                                    }
                                    if (((l += h), t ? l < 0 : a <= l)) throw TypeError("Reduce of empty array with no initial value");
                                }
                            for (; t ? l >= 0 : a > l; l += h) l in o && (s = i(s, o[l], l, r));
                            return s;
                        };
                    },
                    tl = { left: Qa(!1), right: Qa(!0) }.left,
                    el = wn("reduce"),
                    il = Pn("reduce", { 1: 0 });
                X(
                    { target: "Array", proto: !0, forced: !el || !il },
                    {
                        reduce: function (t) {
                            return tl(this, t, arguments.length, arguments.length > 1 ? arguments[1] : void 0);
                        },
                    }
                );
                var nl = gn("Array").reduce,
                    sl = Array.prototype,
                    rl = function (t) {
                        var e = t.reduce;
                        return t === sl || (t instanceof Array && e === sl.reduce) ? nl : e;
                    };
                X({ target: "Function", proto: !0 }, { bind: co });
                var ol = gn("Function").bind,
                    al = Function.prototype,
                    ll = function (t) {
                        var e = t.bind;
                        return t === al || (t instanceof Function && e === al.bind) ? ol : e;
                    };
                var hl = function (t, e) {
                    if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function");
                };
                function cl(t, e) {
                    for (var i = 0; i < e.length; i++) {
                        var n = e[i];
                        (n.enumerable = n.enumerable || !1), (n.configurable = !0), "value" in n && (n.writable = !0), on(t, n.key, n);
                    }
                }
                var dl = function (t, e, i) {
                        return e && cl(t.prototype, e), i && cl(t, i), t;
                    },
                    ul =
                        ("undefined" != typeof crypto && crypto.getRandomValues && crypto.getRandomValues.bind(crypto)) ||
                        ("undefined" != typeof msCrypto && "function" == typeof msCrypto.getRandomValues && msCrypto.getRandomValues.bind(msCrypto)),
                    pl = new Uint8Array(16);
                function fl() {
                    if (!ul) throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");
                    return ul(pl);
                }
                for (var ml, gl = [], vl = 0; vl < 256; ++vl) gl[vl] = (vl + 256).toString(16).substr(1);
                function bl(t, e, i) {
                    var n = (e && i) || 0;
                    "string" == typeof t && ((e = "binary" === t ? new Array(16) : null), (t = null));
                    var s = (t = t || {}).random || (t.rng || fl)();
                    if (((s[6] = (15 & s[6]) | 64), (s[8] = (63 & s[8]) | 128), e)) for (var r = 0; r < 16; ++r) e[n + r] = s[r];
                    return (
                        e ||
                        (function (t, e) {
                            var i = e || 0,
                                n = gl;
                            return [n[t[i++]], n[t[i++]], n[t[i++]], n[t[i++]], "-", n[t[i++]], n[t[i++]], "-", n[t[i++]], n[t[i++]], "-", n[t[i++]], n[t[i++]], "-", n[t[i++]], n[t[i++]], n[t[i++]], n[t[i++]], n[t[i++]], n[t[i++]]].join(
                                ""
                            );
                        })(s)
                    );
                }
                function yl(t, e) {
                    var i = qs(t);
                    if (ci) {
                        var n = ci(t);
                        e &&
                            (n = is(n).call(n, function (e) {
                                return Ct(t, e).enumerable;
                            })),
                            i.push.apply(i, n);
                    }
                    return i;
                }
                function wl(t) {
                    for (var e = 1; e < arguments.length; e++) {
                        var i,
                            n = null != arguments[e] ? arguments[e] : {};
                        if (e % 2)
                            Mn((i = yl(Object(n), !0))).call(i, function (e) {
                                ln(t, e, n[e]);
                            });
                        else if (_t) ft(t, _t(n));
                        else {
                            var s;
                            Mn((s = yl(Object(n)))).call(s, function (e) {
                                Z(t, e, Ct(n, e));
                            });
                        }
                    }
                    return t;
                }
                function xl(t) {
                    var e = (function () {
                        if ("undefined" == typeof Reflect || !go) return !1;
                        if (go.sham) return !1;
                        if ("function" == typeof Proxy) return !0;
                        try {
                            return Date.prototype.toString.call(go(Date, [], function () {})), !0;
                        } catch (t) {
                            return !1;
                        }
                    })();
                    return function () {
                        var i,
                            n = Xo(t);
                        if (e) {
                            var s = Xo(this).constructor;
                            i = go(n, arguments, s);
                        } else i = n.apply(this, arguments);
                        return Go(this, i);
                    };
                }
                function _l(t, e) {
                    var i;
                    if (void 0 === fr || null == Bi(t)) {
                        if (
                            er(t) ||
                            (i = (function (t, e) {
                                var i;
                                if (!t) return;
                                if ("string" == typeof t) return kl(t, e);
                                var n = or((i = Object.prototype.toString.call(t))).call(i, 8, -1);
                                "Object" === n && t.constructor && (n = t.constructor.name);
                                if ("Map" === n || "Set" === n) return en(t);
                                if ("Arguments" === n || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return kl(t, e);
                            })(t)) ||
                            (e && t && "number" == typeof t.length)
                        ) {
                            i && (t = i);
                            var n = 0,
                                s = function () {};
                            return {
                                s,
                                n: function () {
                                    return n >= t.length ? { done: !0 } : { done: !1, value: t[n++] };
                                },
                                e: function (t) {
                                    throw t;
                                },
                                f: s,
                            };
                        }
                        throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
                    }
                    var r,
                        o = !0,
                        a = !1;
                    return {
                        s: function () {
                            i = Wi(t);
                        },
                        n: function () {
                            var t = i.next();
                            return (o = t.done), t;
                        },
                        e: function (t) {
                            (a = !0), (r = t);
                        },
                        f: function () {
                            try {
                                o || null == i.return || i.return();
                            } finally {
                                if (a) throw r;
                            }
                        },
                    };
                }
                function kl(t, e) {
                    (null == e || e > t.length) && (e = t.length);
                    for (var i = 0, n = new Array(e); i < e; i++) n[i] = t[i];
                    return n;
                }
                function Pl(t, e) {
                    if (!e.has(t)) throw new TypeError("attempted to get private field on non-instance");
                    return e.get(t);
                }
                function Sl(t, e, i) {
                    if (!e.has(t)) throw new TypeError("attempted to set private field on non-instance");
                    return e.set(t, i), i;
                }
                function Cl(t) {
                    return new Dl(t);
                }
                var Il,
                    Tl,
                    $l,
                    El = (function () {
                        function t(e, i, n) {
                            var s, r, o;
                            hl(this, t),
                                (this._source = e),
                                (this._transformers = i),
                                (this._target = n),
                                (this._listeners = { add: ll((s = this._add)).call(s, this), remove: ll((r = this._remove)).call(r, this), update: ll((o = this._update)).call(o, this) });
                        }
                        return (
                            dl(t, [
                                {
                                    key: "all",
                                    value: function () {
                                        return this._target.update(this._transformItems(this._source.get())), this;
                                    },
                                },
                                {
                                    key: "start",
                                    value: function () {
                                        return this._source.on("add", this._listeners.add), this._source.on("remove", this._listeners.remove), this._source.on("update", this._listeners.update), this;
                                    },
                                },
                                {
                                    key: "stop",
                                    value: function () {
                                        return this._source.off("add", this._listeners.add), this._source.off("remove", this._listeners.remove), this._source.off("update", this._listeners.update), this;
                                    },
                                },
                                {
                                    key: "_transformItems",
                                    value: function (t) {
                                        var e;
                                        return rl((e = this._transformers)).call(
                                            e,
                                            function (t, e) {
                                                return e(t);
                                            },
                                            t
                                        );
                                    },
                                },
                                {
                                    key: "_add",
                                    value: function (t, e) {
                                        null != e && this._target.add(this._transformItems(this._source.get(e.items)));
                                    },
                                },
                                {
                                    key: "_update",
                                    value: function (t, e) {
                                        null != e && this._target.update(this._transformItems(this._source.get(e.items)));
                                    },
                                },
                                {
                                    key: "_remove",
                                    value: function (t, e) {
                                        null != e && this._target.remove(this._transformItems(e.oldData));
                                    },
                                },
                            ]),
                            t
                        );
                    })(),
                    Dl = (function () {
                        function t(e) {
                            hl(this, t), (this._source = e), ml.set(this, []);
                        }
                        return (
                            dl(t, [
                                {
                                    key: "filter",
                                    value: function (t) {
                                        return (
                                            Pl(this, ml).push(function (e) {
                                                return is(e).call(e, t);
                                            }),
                                            this
                                        );
                                    },
                                },
                                {
                                    key: "map",
                                    value: function (t) {
                                        return (
                                            Pl(this, ml).push(function (e) {
                                                return tr(e).call(e, t);
                                            }),
                                            this
                                        );
                                    },
                                },
                                {
                                    key: "flatMap",
                                    value: function (t) {
                                        return (
                                            Pl(this, ml).push(function (e) {
                                                return Ja(e).call(e, t);
                                            }),
                                            this
                                        );
                                    },
                                },
                                {
                                    key: "to",
                                    value: function (t) {
                                        return new El(this._source, Pl(this, ml), t);
                                    },
                                },
                            ]),
                            t
                        );
                    })();
                function Ml(t) {
                    return "string" == typeof t || "number" == typeof t;
                }
                ml = new Ga();
                var Al,
                    Nl = (function () {
                        function t(e) {
                            hl(this, t), Il.set(this, []), Tl.set(this, null), $l.set(this, null), (this.delay = null), (this.max = 1 / 0), this.setOptions(e);
                        }
                        return (
                            dl(
                                t,
                                [
                                    {
                                        key: "setOptions",
                                        value: function (t) {
                                            t && void 0 !== t.delay && (this.delay = t.delay), t && void 0 !== t.max && (this.max = t.max), this._flushIfNeeded();
                                        },
                                    },
                                    {
                                        key: "destroy",
                                        value: function () {
                                            if ((this.flush(), Pl(this, $l))) {
                                                for (var t = Pl(this, $l).object, e = Pl(this, $l).methods, i = 0; i < e.length; i++) {
                                                    var n = e[i];
                                                    n.original ? (t[n.name] = n.original) : delete t[n.name];
                                                }
                                                Sl(this, $l, null);
                                            }
                                        },
                                    },
                                    {
                                        key: "replace",
                                        value: function (t, e) {
                                            var i = this,
                                                n = t[e];
                                            if (!n) throw new Error("Method " + e + " undefined");
                                            t[e] = function () {
                                                for (var t = arguments.length, e = new Array(t), s = 0; s < t; s++) e[s] = arguments[s];
                                                i.queue({ args: e, fn: n, context: this });
                                            };
                                        },
                                    },
                                    {
                                        key: "queue",
                                        value: function (t) {
                                            "function" == typeof t ? Pl(this, Il).push({ fn: t }) : Pl(this, Il).push(t), this._flushIfNeeded();
                                        },
                                    },
                                    {
                                        key: "_flushIfNeeded",
                                        value: function () {
                                            var t = this;
                                            Pl(this, Il).length > this.max && this.flush(),
                                                null != Pl(this, Tl) && (clearTimeout(Pl(this, Tl)), Sl(this, Tl, null)),
                                                this.queue.length > 0 &&
                                                    "number" == typeof this.delay &&
                                                    Sl(
                                                        this,
                                                        Tl,
                                                        Ra(function () {
                                                            t.flush();
                                                        }, this.delay)
                                                    );
                                        },
                                    },
                                    {
                                        key: "flush",
                                        value: function () {
                                            var t, e;
                                            Mn((t = Ma((e = Pl(this, Il))).call(e, 0))).call(t, function (t) {
                                                t.fn.apply(t.context || t.fn, t.args || []);
                                            });
                                        },
                                    },
                                ],
                                [
                                    {
                                        key: "extend",
                                        value: function (e, i) {
                                            var n = new t(i);
                                            if (void 0 !== e.flush) throw new Error("Target object already has a property flush");
                                            e.flush = function () {
                                                n.flush();
                                            };
                                            var s = [{ name: "flush", original: void 0 }];
                                            if (i && i.replace)
                                                for (var r = 0; r < i.replace.length; r++) {
                                                    var o = i.replace[r];
                                                    s.push({ name: o, original: e[o] }), n.replace(e, o);
                                                }
                                            return Sl(n, $l, { object: e, methods: s }), n;
                                        },
                                    },
                                ]
                            ),
                            t
                        );
                    })();
                (Il = new Ga()), (Tl = new Ga()), ($l = new Ga());
                var Ol,
                    Rl = (function () {
                        function t() {
                            hl(this, t), Al.set(this, { "*": [], add: [], remove: [], update: [] }), (this.subscribe = t.prototype.on), (this.unsubscribe = t.prototype.off);
                        }
                        return (
                            dl(t, [
                                {
                                    key: "_trigger",
                                    value: function (t, e, i) {
                                        var n, s;
                                        if ("*" === t) throw new Error("Cannot trigger event *");
                                        Mn((n = pr((s = [])).call(s, cr(Pl(this, Al)[t]), cr(Pl(this, Al)["*"])))).call(n, function (n) {
                                            n(t, e, null != i ? i : null);
                                        });
                                    },
                                },
                                {
                                    key: "on",
                                    value: function (t, e) {
                                        "function" == typeof e && Pl(this, Al)[t].push(e);
                                    },
                                },
                                {
                                    key: "off",
                                    value: function (t, e) {
                                        var i;
                                        Pl(this, Al)[t] = is((i = Pl(this, Al)[t])).call(i, function (t) {
                                            return t !== e;
                                        });
                                    },
                                },
                            ]),
                            t
                        );
                    })();
                Al = new Ga();
                var Vl,
                    Ll,
                    jl,
                    Fl,
                    zl = (function () {
                        function t(e) {
                            hl(this, t), Ol.set(this, void 0), Sl(this, Ol, e);
                        }
                        return (
                            dl(t, [
                                {
                                    key: ((Ol = new Ga()), ka),
                                    value: _a.mark(function t() {
                                        var e, i, n, s, r;
                                        return _a.wrap(
                                            function (t) {
                                                for (;;)
                                                    switch ((t.prev = t.next)) {
                                                        case 0:
                                                            (e = _l(Pl(this, Ol))), (t.prev = 1), e.s();
                                                        case 3:
                                                            if ((i = e.n()).done) {
                                                                t.next = 9;
                                                                break;
                                                            }
                                                            return (n = Ys(i.value, 2)), (s = n[0]), (r = n[1]), (t.next = 7), [s, r];
                                                        case 7:
                                                            t.next = 3;
                                                            break;
                                                        case 9:
                                                            t.next = 14;
                                                            break;
                                                        case 11:
                                                            (t.prev = 11), (t.t0 = t.catch(1)), e.e(t.t0);
                                                        case 14:
                                                            return (t.prev = 14), e.f(), t.finish(14);
                                                        case 17:
                                                        case "end":
                                                            return t.stop();
                                                    }
                                            },
                                            t,
                                            this,
                                            [[1, 11, 14, 17]]
                                        );
                                    }),
                                },
                                {
                                    key: "entries",
                                    value: _a.mark(function t() {
                                        var e, i, n, s, r;
                                        return _a.wrap(
                                            function (t) {
                                                for (;;)
                                                    switch ((t.prev = t.next)) {
                                                        case 0:
                                                            (e = _l(Pl(this, Ol))), (t.prev = 1), e.s();
                                                        case 3:
                                                            if ((i = e.n()).done) {
                                                                t.next = 9;
                                                                break;
                                                            }
                                                            return (n = Ys(i.value, 2)), (s = n[0]), (r = n[1]), (t.next = 7), [s, r];
                                                        case 7:
                                                            t.next = 3;
                                                            break;
                                                        case 9:
                                                            t.next = 14;
                                                            break;
                                                        case 11:
                                                            (t.prev = 11), (t.t0 = t.catch(1)), e.e(t.t0);
                                                        case 14:
                                                            return (t.prev = 14), e.f(), t.finish(14);
                                                        case 17:
                                                        case "end":
                                                            return t.stop();
                                                    }
                                            },
                                            t,
                                            this,
                                            [[1, 11, 14, 17]]
                                        );
                                    }),
                                },
                                {
                                    key: "keys",
                                    value: _a.mark(function t() {
                                        var e, i, n, s;
                                        return _a.wrap(
                                            function (t) {
                                                for (;;)
                                                    switch ((t.prev = t.next)) {
                                                        case 0:
                                                            (e = _l(Pl(this, Ol))), (t.prev = 1), e.s();
                                                        case 3:
                                                            if ((i = e.n()).done) {
                                                                t.next = 9;
                                                                break;
                                                            }
                                                            return (n = Ys(i.value, 1)), (s = n[0]), (t.next = 7), s;
                                                        case 7:
                                                            t.next = 3;
                                                            break;
                                                        case 9:
                                                            t.next = 14;
                                                            break;
                                                        case 11:
                                                            (t.prev = 11), (t.t0 = t.catch(1)), e.e(t.t0);
                                                        case 14:
                                                            return (t.prev = 14), e.f(), t.finish(14);
                                                        case 17:
                                                        case "end":
                                                            return t.stop();
                                                    }
                                            },
                                            t,
                                            this,
                                            [[1, 11, 14, 17]]
                                        );
                                    }),
                                },
                                {
                                    key: "values",
                                    value: _a.mark(function t() {
                                        var e, i, n, s;
                                        return _a.wrap(
                                            function (t) {
                                                for (;;)
                                                    switch ((t.prev = t.next)) {
                                                        case 0:
                                                            (e = _l(Pl(this, Ol))), (t.prev = 1), e.s();
                                                        case 3:
                                                            if ((i = e.n()).done) {
                                                                t.next = 9;
                                                                break;
                                                            }
                                                            return (n = Ys(i.value, 2)), (s = n[1]), (t.next = 7), s;
                                                        case 7:
                                                            t.next = 3;
                                                            break;
                                                        case 9:
                                                            t.next = 14;
                                                            break;
                                                        case 11:
                                                            (t.prev = 11), (t.t0 = t.catch(1)), e.e(t.t0);
                                                        case 14:
                                                            return (t.prev = 14), e.f(), t.finish(14);
                                                        case 17:
                                                        case "end":
                                                            return t.stop();
                                                    }
                                            },
                                            t,
                                            this,
                                            [[1, 11, 14, 17]]
                                        );
                                    }),
                                },
                                {
                                    key: "toIdArray",
                                    value: function () {
                                        var t;
                                        return tr((t = cr(Pl(this, Ol)))).call(t, function (t) {
                                            return t[0];
                                        });
                                    },
                                },
                                {
                                    key: "toItemArray",
                                    value: function () {
                                        var t;
                                        return tr((t = cr(Pl(this, Ol)))).call(t, function (t) {
                                            return t[1];
                                        });
                                    },
                                },
                                {
                                    key: "toEntryArray",
                                    value: function () {
                                        return cr(Pl(this, Ol));
                                    },
                                },
                                {
                                    key: "toObjectMap",
                                    value: function () {
                                        var t,
                                            e = rn(null),
                                            i = _l(Pl(this, Ol));
                                        try {
                                            for (i.s(); !(t = i.n()).done; ) {
                                                var n = Ys(t.value, 2),
                                                    s = n[0],
                                                    r = n[1];
                                                e[s] = r;
                                            }
                                        } catch (t) {
                                            i.e(t);
                                        } finally {
                                            i.f();
                                        }
                                        return e;
                                    },
                                },
                                {
                                    key: "toMap",
                                    value: function () {
                                        return new xa(Pl(this, Ol));
                                    },
                                },
                                {
                                    key: "toIdSet",
                                    value: function () {
                                        return new wa(this.toIdArray());
                                    },
                                },
                                {
                                    key: "toItemSet",
                                    value: function () {
                                        return new wa(this.toItemArray());
                                    },
                                },
                                {
                                    key: "cache",
                                    value: function () {
                                        return new t(cr(Pl(this, Ol)));
                                    },
                                },
                                {
                                    key: "distinct",
                                    value: function (t) {
                                        var e,
                                            i = new wa(),
                                            n = _l(Pl(this, Ol));
                                        try {
                                            for (n.s(); !(e = n.n()).done; ) {
                                                var s = Ys(e.value, 2),
                                                    r = s[0],
                                                    o = s[1];
                                                i.add(t(o, r));
                                            }
                                        } catch (t) {
                                            n.e(t);
                                        } finally {
                                            n.f();
                                        }
                                        return i;
                                    },
                                },
                                {
                                    key: "filter",
                                    value: function (e) {
                                        var i = Pl(this, Ol);
                                        return new t(
                                            ln(
                                                {},
                                                ka,
                                                _a.mark(function t() {
                                                    var n, s, r, o, a;
                                                    return _a.wrap(
                                                        function (t) {
                                                            for (;;)
                                                                switch ((t.prev = t.next)) {
                                                                    case 0:
                                                                        (n = _l(i)), (t.prev = 1), n.s();
                                                                    case 3:
                                                                        if ((s = n.n()).done) {
                                                                            t.next = 10;
                                                                            break;
                                                                        }
                                                                        if (((r = Ys(s.value, 2)), (o = r[0]), (a = r[1]), !e(a, o))) {
                                                                            t.next = 8;
                                                                            break;
                                                                        }
                                                                        return (t.next = 8), [o, a];
                                                                    case 8:
                                                                        t.next = 3;
                                                                        break;
                                                                    case 10:
                                                                        t.next = 15;
                                                                        break;
                                                                    case 12:
                                                                        (t.prev = 12), (t.t0 = t.catch(1)), n.e(t.t0);
                                                                    case 15:
                                                                        return (t.prev = 15), n.f(), t.finish(15);
                                                                    case 18:
                                                                    case "end":
                                                                        return t.stop();
                                                                }
                                                        },
                                                        t,
                                                        null,
                                                        [[1, 12, 15, 18]]
                                                    );
                                                })
                                            )
                                        );
                                    },
                                },
                                {
                                    key: "forEach",
                                    value: function (t) {
                                        var e,
                                            i = _l(Pl(this, Ol));
                                        try {
                                            for (i.s(); !(e = i.n()).done; ) {
                                                var n = Ys(e.value, 2),
                                                    s = n[0];
                                                t(n[1], s);
                                            }
                                        } catch (t) {
                                            i.e(t);
                                        } finally {
                                            i.f();
                                        }
                                    },
                                },
                                {
                                    key: "map",
                                    value: function (e) {
                                        var i = Pl(this, Ol);
                                        return new t(
                                            ln(
                                                {},
                                                ka,
                                                _a.mark(function t() {
                                                    var n, s, r, o, a;
                                                    return _a.wrap(
                                                        function (t) {
                                                            for (;;)
                                                                switch ((t.prev = t.next)) {
                                                                    case 0:
                                                                        (n = _l(i)), (t.prev = 1), n.s();
                                                                    case 3:
                                                                        if ((s = n.n()).done) {
                                                                            t.next = 9;
                                                                            break;
                                                                        }
                                                                        return (r = Ys(s.value, 2)), (o = r[0]), (a = r[1]), (t.next = 7), [o, e(a, o)];
                                                                    case 7:
                                                                        t.next = 3;
                                                                        break;
                                                                    case 9:
                                                                        t.next = 14;
                                                                        break;
                                                                    case 11:
                                                                        (t.prev = 11), (t.t0 = t.catch(1)), n.e(t.t0);
                                                                    case 14:
                                                                        return (t.prev = 14), n.f(), t.finish(14);
                                                                    case 17:
                                                                    case "end":
                                                                        return t.stop();
                                                                }
                                                        },
                                                        t,
                                                        null,
                                                        [[1, 11, 14, 17]]
                                                    );
                                                })
                                            )
                                        );
                                    },
                                },
                                {
                                    key: "max",
                                    value: function (t) {
                                        var e = Wi(Pl(this, Ol)),
                                            i = e.next();
                                        if (i.done) return null;
                                        for (var n = i.value[1], s = t(i.value[1], i.value[0]); !(i = e.next()).done; ) {
                                            var r = Ys(i.value, 2),
                                                o = r[0],
                                                a = r[1],
                                                l = t(a, o);
                                            l > s && ((s = l), (n = a));
                                        }
                                        return n;
                                    },
                                },
                                {
                                    key: "min",
                                    value: function (t) {
                                        var e = Wi(Pl(this, Ol)),
                                            i = e.next();
                                        if (i.done) return null;
                                        for (var n = i.value[1], s = t(i.value[1], i.value[0]); !(i = e.next()).done; ) {
                                            var r = Ys(i.value, 2),
                                                o = r[0],
                                                a = r[1],
                                                l = t(a, o);
                                            l < s && ((s = l), (n = a));
                                        }
                                        return n;
                                    },
                                },
                                {
                                    key: "reduce",
                                    value: function (t, e) {
                                        var i,
                                            n = _l(Pl(this, Ol));
                                        try {
                                            for (n.s(); !(i = n.n()).done; ) {
                                                var s = Ys(i.value, 2),
                                                    r = s[0];
                                                e = t(e, s[1], r);
                                            }
                                        } catch (t) {
                                            n.e(t);
                                        } finally {
                                            n.f();
                                        }
                                        return e;
                                    },
                                },
                                {
                                    key: "sort",
                                    value: function (e) {
                                        var i = this;
                                        return new t(
                                            ln({}, ka, function () {
                                                var t;
                                                return Wi(
                                                    na((t = cr(Pl(i, Ol)))).call(t, function (t, i) {
                                                        var n = Ys(t, 2),
                                                            s = n[0],
                                                            r = n[1],
                                                            o = Ys(i, 2),
                                                            a = o[0],
                                                            l = o[1];
                                                        return e(r, l, s, a);
                                                    })
                                                );
                                            })
                                        );
                                    },
                                },
                            ]),
                            t
                        );
                    })();
                var Hl,
                    Wl,
                    Bl,
                    Yl,
                    Ul = (function (t) {
                        Uo(i, t);
                        var e = xl(i);
                        function i(t, n) {
                            var s;
                            return (
                                hl(this, i),
                                (s = e.call(this)),
                                Vl.set(Ho(s), void 0),
                                Ll.set(Ho(s), void 0),
                                jl.set(Ho(s), void 0),
                                Fl.set(Ho(s), null),
                                t && !er(t) && ((n = t), (t = [])),
                                Sl(Ho(s), Vl, n || {}),
                                Sl(Ho(s), Ll, new xa()),
                                (s.length = 0),
                                Sl(Ho(s), jl, Pl(Ho(s), Vl).fieldId || "id"),
                                t && t.length && s.add(t),
                                s.setOptions(n),
                                s
                            );
                        }
                        return (
                            dl(i, [
                                {
                                    key: "setOptions",
                                    value: function (t) {
                                        t &&
                                            void 0 !== t.queue &&
                                            (!1 === t.queue
                                                ? Pl(this, Fl) && (Pl(this, Fl).destroy(), Sl(this, Fl, null))
                                                : (Pl(this, Fl) || Sl(this, Fl, Nl.extend(this, { replace: ["add", "update", "remove"] })), t.queue && "object" === sr(t.queue) && Pl(this, Fl).setOptions(t.queue)));
                                    },
                                },
                                {
                                    key: "add",
                                    value: function (t, e) {
                                        var i,
                                            n = this,
                                            s = [];
                                        if (er(t)) {
                                            var r = tr(t).call(t, function (t) {
                                                return t[Pl(n, jl)];
                                            });
                                            if (
                                                zo(r).call(r, function (t) {
                                                    return Pl(n, Ll).has(t);
                                                })
                                            )
                                                throw new Error("A duplicate id was found in the parameter array.");
                                            for (var o = 0, a = t.length; o < a; o++) (i = this._addItem(t[o])), s.push(i);
                                        } else {
                                            if (!t || "object" !== sr(t)) throw new Error("Unknown dataType");
                                            (i = this._addItem(t)), s.push(i);
                                        }
                                        return s.length && this._trigger("add", { items: s }, e), s;
                                    },
                                },
                                {
                                    key: "update",
                                    value: function (t, e) {
                                        var i = this,
                                            n = [],
                                            s = [],
                                            r = [],
                                            o = [],
                                            a = Pl(this, jl),
                                            l = function (t) {
                                                var e = t[a];
                                                if (null != e && Pl(i, Ll).has(e)) {
                                                    var l = t,
                                                        h = vs({}, Pl(i, Ll).get(e)),
                                                        c = i._updateItem(l);
                                                    s.push(c), o.push(l), r.push(h);
                                                } else {
                                                    var d = i._addItem(t);
                                                    n.push(d);
                                                }
                                            };
                                        if (er(t)) for (var h = 0, c = t.length; h < c; h++) t[h] && "object" === sr(t[h]) ? l(t[h]) : console.warn("Ignoring input item, which is not an object at index " + h);
                                        else {
                                            if (!t || "object" !== sr(t)) throw new Error("Unknown dataType");
                                            l(t);
                                        }
                                        if ((n.length && this._trigger("add", { items: n }, e), s.length)) {
                                            var d = { items: s, oldData: r, data: o };
                                            this._trigger("update", d, e);
                                        }
                                        return pr(n).call(n, s);
                                    },
                                },
                                {
                                    key: "updateOnly",
                                    value: function (t, e) {
                                        var i,
                                            n = this;
                                        er(t) || (t = [t]);
                                        var s = tr(
                                            (i = tr(t).call(t, function (t) {
                                                var e = Pl(n, Ll).get(t[Pl(n, jl)]);
                                                if (null == e) throw new Error("Updating non-existent items is not allowed.");
                                                return { oldData: e, update: t };
                                            }))
                                        ).call(i, function (t) {
                                            var e = t.oldData,
                                                i = t.update,
                                                s = e[Pl(n, jl)],
                                                r = wr(e, i);
                                            return Pl(n, Ll).set(s, r), { id: s, oldData: e, updatedData: r };
                                        });
                                        if (s.length) {
                                            var r = {
                                                items: tr(s).call(s, function (t) {
                                                    return t.id;
                                                }),
                                                oldData: tr(s).call(s, function (t) {
                                                    return t.oldData;
                                                }),
                                                data: tr(s).call(s, function (t) {
                                                    return t.updatedData;
                                                }),
                                            };
                                            return this._trigger("update", r, e), r.items;
                                        }
                                        return [];
                                    },
                                },
                                {
                                    key: "get",
                                    value: function (t, e) {
                                        var i = void 0,
                                            n = void 0,
                                            s = void 0;
                                        Ml(t) ? ((i = t), (s = e)) : er(t) ? ((n = t), (s = e)) : (s = t);
                                        var r = s && "Object" === s.returnType ? "Object" : "Array",
                                            o = s && is(s),
                                            a = [],
                                            l = void 0,
                                            h = void 0,
                                            c = void 0;
                                        if (null != i) (l = Pl(this, Ll).get(i)) && o && !o(l) && (l = void 0);
                                        else if (null != n) for (var d = 0, u = n.length; d < u; d++) null == (l = Pl(this, Ll).get(n[d])) || (o && !o(l)) || a.push(l);
                                        else for (var p, f = 0, m = (h = cr(Oo((p = Pl(this, Ll))).call(p))).length; f < m; f++) (c = h[f]), null == (l = Pl(this, Ll).get(c)) || (o && !o(l)) || a.push(l);
                                        if ((s && s.order && null == i && this._sort(a, s.order), s && s.fields)) {
                                            var g = s.fields;
                                            if (null != i && null != l) l = this._filterFields(l, g);
                                            else for (var v = 0, b = a.length; v < b; v++) a[v] = this._filterFields(a[v], g);
                                        }
                                        if ("Object" == r) {
                                            for (var y = {}, w = 0, x = a.length; w < x; w++) {
                                                var _ = a[w];
                                                y[_[Pl(this, jl)]] = _;
                                            }
                                            return y;
                                        }
                                        return null != i ? (null != l ? l : null) : a;
                                    },
                                },
                                {
                                    key: "getIds",
                                    value: function (t) {
                                        var e = Pl(this, Ll),
                                            i = t && is(t),
                                            n = t && t.order,
                                            s = cr(Oo(e).call(e)),
                                            r = [];
                                        if (i)
                                            if (n) {
                                                for (var o = [], a = 0, l = s.length; a < l; a++) {
                                                    var h = s[a],
                                                        c = Pl(this, Ll).get(h);
                                                    null != c && i(c) && o.push(c);
                                                }
                                                this._sort(o, n);
                                                for (var d = 0, u = o.length; d < u; d++) r.push(o[d][Pl(this, jl)]);
                                            } else
                                                for (var p = 0, f = s.length; p < f; p++) {
                                                    var m = s[p],
                                                        g = Pl(this, Ll).get(m);
                                                    null != g && i(g) && r.push(g[Pl(this, jl)]);
                                                }
                                        else if (n) {
                                            for (var v = [], b = 0, y = s.length; b < y; b++) {
                                                var w = s[b];
                                                v.push(e.get(w));
                                            }
                                            this._sort(v, n);
                                            for (var x = 0, _ = v.length; x < _; x++) r.push(v[x][Pl(this, jl)]);
                                        } else
                                            for (var k = 0, P = s.length; k < P; k++) {
                                                var S = s[k],
                                                    C = e.get(S);
                                                null != C && r.push(C[Pl(this, jl)]);
                                            }
                                        return r;
                                    },
                                },
                                {
                                    key: "getDataSet",
                                    value: function () {
                                        return this;
                                    },
                                },
                                {
                                    key: "forEach",
                                    value: function (t, e) {
                                        var i = e && is(e),
                                            n = Pl(this, Ll),
                                            s = cr(Oo(n).call(n));
                                        if (e && e.order)
                                            for (var r = this.get(e), o = 0, a = r.length; o < a; o++) {
                                                var l = r[o];
                                                t(l, l[Pl(this, jl)]);
                                            }
                                        else
                                            for (var h = 0, c = s.length; h < c; h++) {
                                                var d = s[h],
                                                    u = Pl(this, Ll).get(d);
                                                null == u || (i && !i(u)) || t(u, d);
                                            }
                                    },
                                },
                                {
                                    key: "map",
                                    value: function (t, e) {
                                        for (var i = e && is(e), n = [], s = Pl(this, Ll), r = cr(Oo(s).call(s)), o = 0, a = r.length; o < a; o++) {
                                            var l = r[o],
                                                h = Pl(this, Ll).get(l);
                                            null == h || (i && !i(h)) || n.push(t(h, l));
                                        }
                                        return e && e.order && this._sort(n, e.order), n;
                                    },
                                },
                                {
                                    key: "_filterFields",
                                    value: function (t, e) {
                                        var i;
                                        return t
                                            ? rl((i = er(e) ? e : qs(e))).call(
                                                  i,
                                                  function (e, i) {
                                                      return (e[i] = t[i]), e;
                                                  },
                                                  {}
                                              )
                                            : t;
                                    },
                                },
                                {
                                    key: "_sort",
                                    value: function (t, e) {
                                        if ("string" == typeof e) {
                                            var i = e;
                                            na(t).call(t, function (t, e) {
                                                var n = t[i],
                                                    s = e[i];
                                                return n > s ? 1 : n < s ? -1 : 0;
                                            });
                                        } else {
                                            if ("function" != typeof e) throw new TypeError("Order must be a function or a string");
                                            na(t).call(t, e);
                                        }
                                    },
                                },
                                {
                                    key: "remove",
                                    value: function (t, e) {
                                        for (var i = [], n = [], s = er(t) ? t : [t], r = 0, o = s.length; r < o; r++) {
                                            var a = this._remove(s[r]);
                                            if (a) {
                                                var l = a[Pl(this, jl)];
                                                null != l && (i.push(l), n.push(a));
                                            }
                                        }
                                        return i.length && this._trigger("remove", { items: i, oldData: n }, e), i;
                                    },
                                },
                                {
                                    key: "_remove",
                                    value: function (t) {
                                        var e;
                                        if ((Ml(t) ? (e = t) : t && "object" === sr(t) && (e = t[Pl(this, jl)]), null != e && Pl(this, Ll).has(e))) {
                                            var i = Pl(this, Ll).get(e) || null;
                                            return Pl(this, Ll).delete(e), --this.length, i;
                                        }
                                        return null;
                                    },
                                },
                                {
                                    key: "clear",
                                    value: function (t) {
                                        for (var e, i = cr(Oo((e = Pl(this, Ll))).call(e)), n = [], s = 0, r = i.length; s < r; s++) n.push(Pl(this, Ll).get(i[s]));
                                        return Pl(this, Ll).clear(), (this.length = 0), this._trigger("remove", { items: i, oldData: n }, t), i;
                                    },
                                },
                                {
                                    key: "max",
                                    value: function (t) {
                                        var e,
                                            i,
                                            n = null,
                                            s = null,
                                            r = _l(Do((e = Pl(this, Ll))).call(e));
                                        try {
                                            for (r.s(); !(i = r.n()).done; ) {
                                                var o = i.value,
                                                    a = o[t];
                                                "number" == typeof a && (null == s || a > s) && ((n = o), (s = a));
                                            }
                                        } catch (t) {
                                            r.e(t);
                                        } finally {
                                            r.f();
                                        }
                                        return n || null;
                                    },
                                },
                                {
                                    key: "min",
                                    value: function (t) {
                                        var e,
                                            i,
                                            n = null,
                                            s = null,
                                            r = _l(Do((e = Pl(this, Ll))).call(e));
                                        try {
                                            for (r.s(); !(i = r.n()).done; ) {
                                                var o = i.value,
                                                    a = o[t];
                                                "number" == typeof a && (null == s || a < s) && ((n = o), (s = a));
                                            }
                                        } catch (t) {
                                            r.e(t);
                                        } finally {
                                            r.f();
                                        }
                                        return n || null;
                                    },
                                },
                                {
                                    key: "distinct",
                                    value: function (t) {
                                        for (var e = Pl(this, Ll), i = cr(Oo(e).call(e)), n = [], s = 0, r = 0, o = i.length; r < o; r++) {
                                            for (var a = i[r], l = e.get(a)[t], h = !1, c = 0; c < s; c++)
                                                if (n[c] == l) {
                                                    h = !0;
                                                    break;
                                                }
                                            h || void 0 === l || ((n[s] = l), s++);
                                        }
                                        return n;
                                    },
                                },
                                {
                                    key: "_addItem",
                                    value: function (t) {
                                        var e = (function (t, e) {
                                                return null == t[e] && (t[e] = bl()), t;
                                            })(t, Pl(this, jl)),
                                            i = e[Pl(this, jl)];
                                        if (Pl(this, Ll).has(i)) throw new Error("Cannot add item: item with id " + i + " already exists");
                                        return Pl(this, Ll).set(i, e), ++this.length, i;
                                    },
                                },
                                {
                                    key: "_updateItem",
                                    value: function (t) {
                                        var e = t[Pl(this, jl)];
                                        if (null == e) throw new Error("Cannot update item: item has no id (item: " + Io(t) + ")");
                                        var i = Pl(this, Ll).get(e);
                                        if (!i) throw new Error("Cannot update item: no item with id " + e + " found");
                                        return Pl(this, Ll).set(e, wl(wl({}, i), t)), e;
                                    },
                                },
                                {
                                    key: "stream",
                                    value: function (t) {
                                        if (t) {
                                            var e = Pl(this, Ll);
                                            return new zl(
                                                ln(
                                                    {},
                                                    ka,
                                                    _a.mark(function i() {
                                                        var n, s, r, o;
                                                        return _a.wrap(
                                                            function (i) {
                                                                for (;;)
                                                                    switch ((i.prev = i.next)) {
                                                                        case 0:
                                                                            (n = _l(t)), (i.prev = 1), n.s();
                                                                        case 3:
                                                                            if ((s = n.n()).done) {
                                                                                i.next = 11;
                                                                                break;
                                                                            }
                                                                            if (((r = s.value), null == (o = e.get(r)))) {
                                                                                i.next = 9;
                                                                                break;
                                                                            }
                                                                            return (i.next = 9), [r, o];
                                                                        case 9:
                                                                            i.next = 3;
                                                                            break;
                                                                        case 11:
                                                                            i.next = 16;
                                                                            break;
                                                                        case 13:
                                                                            (i.prev = 13), (i.t0 = i.catch(1)), n.e(i.t0);
                                                                        case 16:
                                                                            return (i.prev = 16), n.f(), i.finish(16);
                                                                        case 19:
                                                                        case "end":
                                                                            return i.stop();
                                                                    }
                                                            },
                                                            i,
                                                            null,
                                                            [[1, 13, 16, 19]]
                                                        );
                                                    })
                                                )
                                            );
                                        }
                                        var i;
                                        return new zl(ln({}, ka, ll((i = wo(Pl(this, Ll)))).call(i, Pl(this, Ll))));
                                    },
                                },
                                {
                                    key: "idProp",
                                    get: function () {
                                        return Pl(this, jl);
                                    },
                                },
                            ]),
                            i
                        );
                    })(Rl);
                (Vl = new Ga()), (Ll = new Ga()), (jl = new Ga()), (Fl = new Ga());
                var Gl = (function (t) {
                    Uo(i, t);
                    var e = xl(i);
                    function i(t, n) {
                        var s, r;
                        return (
                            hl(this, i),
                            ((r = e.call(this)).length = 0),
                            Hl.set(Ho(r), void 0),
                            Wl.set(Ho(r), void 0),
                            Bl.set(Ho(r), new wa()),
                            Yl.set(Ho(r), void 0),
                            Sl(Ho(r), Yl, n || {}),
                            Sl(Ho(r), Hl, ll((s = r._onEvent)).call(s, Ho(r))),
                            r.setData(t),
                            r
                        );
                    }
                    return (
                        dl(i, [
                            {
                                key: "setData",
                                value: function (t) {
                                    if (Pl(this, Wl)) {
                                        Pl(this, Wl).off && Pl(this, Wl).off("*", Pl(this, Hl));
                                        var e = Pl(this, Wl).getIds({ filter: is(Pl(this, Yl)) }),
                                            i = Pl(this, Wl).get(e);
                                        Pl(this, Bl).clear(), (this.length = 0), this._trigger("remove", { items: e, oldData: i });
                                    }
                                    if (null != t) {
                                        Sl(this, Wl, t);
                                        for (var n = Pl(this, Wl).getIds({ filter: is(Pl(this, Yl)) }), s = 0, r = n.length; s < r; s++) {
                                            var o = n[s];
                                            Pl(this, Bl).add(o);
                                        }
                                        (this.length = n.length), this._trigger("add", { items: n });
                                    } else Sl(this, Wl, new Ul());
                                    Pl(this, Wl).on && Pl(this, Wl).on("*", Pl(this, Hl));
                                },
                            },
                            {
                                key: "refresh",
                                value: function () {
                                    for (var t = Pl(this, Wl).getIds({ filter: is(Pl(this, Yl)) }), e = cr(Pl(this, Bl)), i = {}, n = [], s = [], r = [], o = 0, a = t.length; o < a; o++) {
                                        var l = t[o];
                                        (i[l] = !0), Pl(this, Bl).has(l) || (n.push(l), Pl(this, Bl).add(l));
                                    }
                                    for (var h = 0, c = e.length; h < c; h++) {
                                        var d = e[h],
                                            u = Pl(this, Wl).get(d);
                                        null == u ? console.error("If you see this, report it please.") : i[d] || (s.push(d), r.push(u), Pl(this, Bl).delete(d));
                                    }
                                    (this.length += n.length - s.length), n.length && this._trigger("add", { items: n }), s.length && this._trigger("remove", { items: s, oldData: r });
                                },
                            },
                            {
                                key: "get",
                                value: function (t, e) {
                                    if (null == Pl(this, Wl)) return null;
                                    var i,
                                        n = null;
                                    Ml(t) || er(t) ? ((n = t), (i = e)) : (i = t);
                                    var s = vs({}, Pl(this, Yl), i),
                                        r = is(Pl(this, Yl)),
                                        o = i && is(i);
                                    return (
                                        r &&
                                            o &&
                                            (s.filter = function (t) {
                                                return r(t) && o(t);
                                            }),
                                        null == n ? Pl(this, Wl).get(s) : Pl(this, Wl).get(n, s)
                                    );
                                },
                            },
                            {
                                key: "getIds",
                                value: function (t) {
                                    if (Pl(this, Wl).length) {
                                        var e,
                                            i = is(Pl(this, Yl)),
                                            n = null != t ? is(t) : null;
                                        return (
                                            (e = n
                                                ? i
                                                    ? function (t) {
                                                          return i(t) && n(t);
                                                      }
                                                    : n
                                                : i),
                                            Pl(this, Wl).getIds({ filter: e, order: t && t.order })
                                        );
                                    }
                                    return [];
                                },
                            },
                            {
                                key: "forEach",
                                value: function (t, e) {
                                    if (Pl(this, Wl)) {
                                        var i,
                                            n,
                                            s = is(Pl(this, Yl)),
                                            r = e && is(e);
                                        (n = r
                                            ? s
                                                ? function (t) {
                                                      return s(t) && r(t);
                                                  }
                                                : r
                                            : s),
                                            Mn((i = Pl(this, Wl))).call(i, t, { filter: n, order: e && e.order });
                                    }
                                },
                            },
                            {
                                key: "map",
                                value: function (t, e) {
                                    if (Pl(this, Wl)) {
                                        var i,
                                            n,
                                            s = is(Pl(this, Yl)),
                                            r = e && is(e);
                                        return (
                                            (n = r
                                                ? s
                                                    ? function (t) {
                                                          return s(t) && r(t);
                                                      }
                                                    : r
                                                : s),
                                            tr((i = Pl(this, Wl))).call(i, t, { filter: n, order: e && e.order })
                                        );
                                    }
                                    return [];
                                },
                            },
                            {
                                key: "getDataSet",
                                value: function () {
                                    return Pl(this, Wl).getDataSet();
                                },
                            },
                            {
                                key: "stream",
                                value: function (t) {
                                    var e;
                                    return Pl(this, Wl).stream(t || ln({}, ka, ll((e = Oo(Pl(this, Bl)))).call(e, Pl(this, Bl))));
                                },
                            },
                            {
                                key: "dispose",
                                value: function () {
                                    var t;
                                    (null === (t = Pl(this, Wl)) || void 0 === t ? void 0 : t.off) && Pl(this, Wl).off("*", Pl(this, Hl));
                                    var e,
                                        n = "This data view has already been disposed of.",
                                        s = {
                                            get: function () {
                                                throw new Error(n);
                                            },
                                            set: function () {
                                                throw new Error(n);
                                            },
                                            configurable: !1,
                                        },
                                        r = _l(rr(i.prototype));
                                    try {
                                        for (r.s(); !(e = r.n()).done; ) {
                                            var o = e.value;
                                            Z(this, o, s);
                                        }
                                    } catch (t) {
                                        r.e(t);
                                    } finally {
                                        r.f();
                                    }
                                },
                            },
                            {
                                key: "_onEvent",
                                value: function (t, e, i) {
                                    if (e && e.items && Pl(this, Wl)) {
                                        var n = e.items,
                                            s = [],
                                            r = [],
                                            o = [],
                                            a = [],
                                            l = [],
                                            h = [];
                                        switch (t) {
                                            case "add":
                                                for (var c = 0, d = n.length; c < d; c++) {
                                                    var u = n[c];
                                                    this.get(u) && (Pl(this, Bl).add(u), s.push(u));
                                                }
                                                break;
                                            case "update":
                                                for (var p = 0, f = n.length; p < f; p++) {
                                                    var m = n[p];
                                                    this.get(m)
                                                        ? Pl(this, Bl).has(m)
                                                            ? (r.push(m), l.push(e.data[p]), a.push(e.oldData[p]))
                                                            : (Pl(this, Bl).add(m), s.push(m))
                                                        : Pl(this, Bl).has(m) && (Pl(this, Bl).delete(m), o.push(m), h.push(e.oldData[p]));
                                                }
                                                break;
                                            case "remove":
                                                for (var g = 0, v = n.length; g < v; g++) {
                                                    var b = n[g];
                                                    Pl(this, Bl).has(b) && (Pl(this, Bl).delete(b), o.push(b), h.push(e.oldData[g]));
                                                }
                                        }
                                        (this.length += s.length - o.length),
                                            s.length && this._trigger("add", { items: s }, i),
                                            r.length && this._trigger("update", { items: r, oldData: a, data: l }, i),
                                            o.length && this._trigger("remove", { items: o, oldData: h }, i);
                                    }
                                },
                            },
                            {
                                key: "idProp",
                                get: function () {
                                    return this.getDataSet().idProp;
                                },
                            },
                        ]),
                        i
                    );
                })(Rl);
                function ql(t, e) {
                    return (
                        "object" === sr(e) &&
                        null !== e &&
                        t === e.idProp &&
                        "function" == typeof Mn(e) &&
                        "function" == typeof e.get &&
                        "function" == typeof e.getDataSet &&
                        "function" == typeof e.getIds &&
                        "number" == typeof e.length &&
                        "function" == typeof tr(e) &&
                        "function" == typeof e.off &&
                        "function" == typeof e.on &&
                        "function" == typeof e.stream &&
                        (function (t, e) {
                            return (
                                "object" === sr(e) &&
                                null !== e &&
                                t === e.idProp &&
                                "function" == typeof e.add &&
                                "function" == typeof e.clear &&
                                "function" == typeof e.distinct &&
                                "function" == typeof Mn(e) &&
                                "function" == typeof e.get &&
                                "function" == typeof e.getDataSet &&
                                "function" == typeof e.getIds &&
                                "number" == typeof e.length &&
                                "function" == typeof tr(e) &&
                                "function" == typeof e.max &&
                                "function" == typeof e.min &&
                                "function" == typeof e.off &&
                                "function" == typeof e.on &&
                                "function" == typeof e.remove &&
                                "function" == typeof e.setOptions &&
                                "function" == typeof e.stream &&
                                "function" == typeof e.update &&
                                "function" == typeof e.updateOnly
                            );
                        })(t, e.getDataSet())
                    );
                }
                (Hl = new Ga()), (Wl = new Ga()), (Bl = new Ga()), (Yl = new Ga());
                var Xl = ("undefined" != typeof window && window.moment) || l;
                function Kl(t, e) {
                    var i = qs(t);
                    if (ci) {
                        var n = ci(t);
                        e &&
                            (n = is(n).call(n, function (e) {
                                return Ct(t, e).enumerable;
                            })),
                            i.push.apply(i, n);
                    }
                    return i;
                }
                function Zl(t) {
                    for (var e = 1; e < arguments.length; e++) {
                        var i,
                            n = null != arguments[e] ? arguments[e] : {};
                        if (e % 2)
                            Mn((i = Kl(Object(n), !0))).call(i, function (e) {
                                ln(t, e, n[e]);
                            });
                        else if (_t) ft(t, _t(n));
                        else {
                            var s;
                            Mn((s = Kl(Object(n)))).call(s, function (e) {
                                Z(t, e, Ct(n, e));
                            });
                        }
                    }
                    return t;
                }
                var Jl = /^\/?Date\((-?\d+)/i,
                    Ql = /^\d+$/;
                function th(t, e) {
                    var i;
                    if (void 0 !== t) {
                        if (null === t) return null;
                        if (!e) return t;
                        if ("string" != typeof e && !(e instanceof String)) throw new Error("Type must be a string");
                        switch (e) {
                            case "boolean":
                            case "Boolean":
                                return Boolean(t);
                            case "number":
                            case "Number":
                                return Ar(t) && !isNaN(Date.parse(t)) ? l(t).valueOf() : Number(t.valueOf());
                            case "string":
                            case "String":
                                return String(t);
                            case "Date":
                                try {
                                    return th(t, "Moment").toDate();
                                } catch (i) {
                                    throw i instanceof TypeError ? new TypeError("Cannot convert object of type " + Lr(t) + " to type " + e) : i;
                                }
                            case "Moment":
                                if (Mr(t)) return l(t);
                                if (t instanceof Date) return l(t.valueOf());
                                if (l.isMoment(t)) return l(t);
                                if (Ar(t)) return (i = Jl.exec(t)) ? l(Number(i[1])) : ((i = Ql.exec(t)), l(i ? Number(t) : t));
                                throw new TypeError("Cannot convert object of type " + Lr(t) + " to type " + e);
                            case "ISODate":
                                if (Mr(t)) return new Date(t);
                                if (t instanceof Date) return t.toISOString();
                                if (l.isMoment(t)) return t.toDate().toISOString();
                                if (Ar(t)) return (i = Jl.exec(t)) ? new Date(Number(i[1])).toISOString() : l(t).format();
                                throw new Error("Cannot convert object of type " + Lr(t) + " to type ISODate");
                            case "ASPDate":
                                if (Mr(t)) return "/Date(" + t + ")/";
                                if (t instanceof Date || l.isMoment(t)) return "/Date(" + t.valueOf() + ")/";
                                if (Ar(t)) return "/Date(" + ((i = Jl.exec(t)) ? new Date(Number(i[1])).valueOf() : new Date(t).valueOf()) + ")/";
                                throw new Error("Cannot convert object of type " + Lr(t) + " to type ASPDate");
                            default:
                                throw new Error("Unknown type ".concat(e));
                        }
                    }
                }
                function eh(t) {
                    var e,
                        i,
                        n,
                        s,
                        r,
                        o,
                        a = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : { start: "Date", end: "Date" },
                        l = t._idProp,
                        h = new Ul({ fieldId: l }),
                        c = tr((e = Cl(t)))
                            .call(e, function (t) {
                                var e;
                                return rl((e = qs(t))).call(
                                    e,
                                    function (e, i) {
                                        return (e[i] = th(t[i], a[i])), e;
                                    },
                                    {}
                                );
                            })
                            .to(h);
                    return (
                        c.all().start(),
                        {
                            add: function () {
                                var e;
                                return (e = t.getDataSet()).add.apply(e, arguments);
                            },
                            remove: function () {
                                var e;
                                return (e = t.getDataSet()).remove.apply(e, arguments);
                            },
                            update: function () {
                                var e;
                                return (e = t.getDataSet()).update.apply(e, arguments);
                            },
                            updateOnly: function () {
                                var e;
                                return (e = t.getDataSet()).updateOnly.apply(e, arguments);
                            },
                            clear: function () {
                                var e;
                                return (e = t.getDataSet()).clear.apply(e, arguments);
                            },
                            forEach: ll((i = Mn(h))).call(i, h),
                            get: ll((n = h.get)).call(n, h),
                            getIds: ll((s = h.getIds)).call(s, h),
                            off: ll((r = h.off)).call(r, h),
                            on: ll((o = h.on)).call(o, h),
                            get length() {
                                return h.length;
                            },
                            idProp: l,
                            type: a,
                            rawDS: t,
                            coercedDS: h,
                            dispose: function () {
                                return c.stop();
                            },
                        }
                    );
                }
                var ih = Zl(Zl({}, Jr), {}, { convert: th }),
                    nh = fn.trim,
                    sh = c.parseFloat,
                    rh =
                        1 / sh(hn + "-0") != -1 / 0
                            ? function (t) {
                                  var e = nh(String(t)),
                                      i = sh(e);
                                  return 0 === i && "-" == e.charAt(0) ? -0 : i;
                              }
                            : sh;
                X({ global: !0, forced: parseFloat != rh }, { parseFloat: rh });
                var oh = F.parseFloat,
                    ah = (function () {
                        function t(e, i) {
                            hl(this, t), (this.options = null), (this.props = null);
                        }
                        return (
                            dl(t, [
                                {
                                    key: "setOptions",
                                    value: function (t) {
                                        t && ih.extend(this.options, t);
                                    },
                                },
                                {
                                    key: "redraw",
                                    value: function () {
                                        return !1;
                                    },
                                },
                                { key: "destroy", value: function () {} },
                                {
                                    key: "_isResized",
                                    value: function () {
                                        var t = this.props._previousWidth !== this.props.width || this.props._previousHeight !== this.props.height;
                                        return (this.props._previousWidth = this.props.width), (this.props._previousHeight = this.props.height), t;
                                    },
                                },
                            ]),
                            t
                        );
                    })();
                X(
                    { target: "String", proto: !0 },
                    {
                        repeat:
                            "".repeat ||
                            function (t) {
                                var e = String(x(this)),
                                    i = "",
                                    n = tt(t);
                                if (n < 0 || n == 1 / 0) throw RangeError("Wrong number of repetitions");
                                for (; n > 0; (n >>>= 1) && (e += e)) 1 & n && (i += e);
                                return i;
                            },
                    }
                );
                var lh = gn("String").repeat,
                    hh = String.prototype,
                    ch = function (t) {
                        var e = t.repeat;
                        return "string" == typeof t || t === hh || (t instanceof String && e === hh.repeat) ? lh : e;
                    };
                function dh(t, e, i) {
                    if (i && !er(i)) return dh(t, e, [i]);
                    if (((e.hiddenDates = []), i && 1 == er(i))) {
                        for (var n, s = 0; s < i.length; s++)
                            if (void 0 === ch(i[s])) {
                                var r = {};
                                (r.start = t(i[s].start).toDate().valueOf()), (r.end = t(i[s].end).toDate().valueOf()), e.hiddenDates.push(r);
                            }
                        na((n = e.hiddenDates)).call(n, function (t, e) {
                            return t.start - e.start;
                        });
                    }
                }
                function uh(t, e, i) {
                    if (i && !er(i)) return uh(t, e, [i]);
                    if (i && void 0 !== e.domProps.centerContainer.width) {
                        dh(t, e, i);
                        for (var n = t(e.range.start), s = t(e.range.end), r = (e.range.end - e.range.start) / e.domProps.centerContainer.width, o = 0; o < i.length; o++)
                            if (void 0 !== ch(i[o])) {
                                var a = t(i[o].start),
                                    l = t(i[o].end);
                                if ("Invalid Date" == a._d) throw new Error("Supplied start date is not valid: ".concat(i[o].start));
                                if ("Invalid Date" == l._d) throw new Error("Supplied end date is not valid: ".concat(i[o].end));
                                if (l - a >= 4 * r) {
                                    var h = 0,
                                        c = s.clone();
                                    switch (ch(i[o])) {
                                        case "daily":
                                            a.day() != l.day() && (h = 1), a.dayOfYear(n.dayOfYear()), a.year(n.year()), a.subtract(7, "days"), l.dayOfYear(n.dayOfYear()), l.year(n.year()), l.subtract(7 - h, "days"), c.add(1, "weeks");
                                            break;
                                        case "weekly":
                                            var d = l.diff(a, "days"),
                                                u = a.day();
                                            a.date(n.date()), a.month(n.month()), a.year(n.year()), (l = a.clone()), a.day(u), l.day(u), l.add(d, "days"), a.subtract(1, "weeks"), l.subtract(1, "weeks"), c.add(1, "weeks");
                                            break;
                                        case "monthly":
                                            a.month() != l.month() && (h = 1),
                                                a.month(n.month()),
                                                a.year(n.year()),
                                                a.subtract(1, "months"),
                                                l.month(n.month()),
                                                l.year(n.year()),
                                                l.subtract(1, "months"),
                                                l.add(h, "months"),
                                                c.add(1, "months");
                                            break;
                                        case "yearly":
                                            a.year() != l.year() && (h = 1), a.year(n.year()), a.subtract(1, "years"), l.year(n.year()), l.subtract(1, "years"), l.add(h, "years"), c.add(1, "years");
                                            break;
                                        default:
                                            return void console.log("Wrong repeat format, allowed are: daily, weekly, monthly, yearly. Given:", ch(i[o]));
                                    }
                                    for (; a < c; )
                                        switch ((e.hiddenDates.push({ start: a.valueOf(), end: l.valueOf() }), ch(i[o]))) {
                                            case "daily":
                                                a.add(1, "days"), l.add(1, "days");
                                                break;
                                            case "weekly":
                                                a.add(1, "weeks"), l.add(1, "weeks");
                                                break;
                                            case "monthly":
                                                a.add(1, "months"), l.add(1, "months");
                                                break;
                                            case "yearly":
                                                a.add(1, "y"), l.add(1, "y");
                                                break;
                                            default:
                                                return void console.log("Wrong repeat format, allowed are: daily, weekly, monthly, yearly. Given:", ch(i[o]));
                                        }
                                    e.hiddenDates.push({ start: a.valueOf(), end: l.valueOf() });
                                }
                            }
                        ph(e);
                        var p = kh(e.range.start, e.hiddenDates),
                            f = kh(e.range.end, e.hiddenDates),
                            m = e.range.start,
                            g = e.range.end;
                        1 == p.hidden && (m = 1 == e.range.startToFront ? p.startDate - 1 : p.endDate + 1),
                            1 == f.hidden && (g = 1 == e.range.endToFront ? f.startDate - 1 : f.endDate + 1),
                            (1 != p.hidden && 1 != f.hidden) || e.range._applyRange(m, g);
                    }
                }
                function ph(t) {
                    for (var e, i = t.hiddenDates, n = [], s = 0; s < i.length; s++)
                        for (var r = 0; r < i.length; r++)
                            s != r &&
                                1 != i[r].remove &&
                                1 != i[s].remove &&
                                (i[r].start >= i[s].start && i[r].end <= i[s].end
                                    ? (i[r].remove = !0)
                                    : i[r].start >= i[s].start && i[r].start <= i[s].end
                                    ? ((i[s].end = i[r].end), (i[r].remove = !0))
                                    : i[r].end >= i[s].start && i[r].end <= i[s].end && ((i[s].start = i[r].start), (i[r].remove = !0)));
                    for (s = 0; s < i.length; s++) !0 !== i[s].remove && n.push(i[s]);
                    (t.hiddenDates = n),
                        na((e = t.hiddenDates)).call(e, function (t, e) {
                            return t.start - e.start;
                        });
                }
                function fh(t, e, i) {
                    for (var n = !1, s = e.current.valueOf(), r = 0; r < e.hiddenDates.length; r++) {
                        var o = e.hiddenDates[r].start,
                            a = e.hiddenDates[r].end;
                        if (s >= o && s < a) {
                            n = !0;
                            break;
                        }
                    }
                    if (1 == n && s < e._end.valueOf() && s != i) {
                        var l = t(i),
                            h = t(a);
                        l.year() != h.year() ? (e.switchedYear = !0) : l.month() != h.month() ? (e.switchedMonth = !0) : l.dayOfYear() != h.dayOfYear() && (e.switchedDay = !0), (e.current = h);
                    }
                }
                function mh(t, e, i) {
                    var n;
                    if (0 == t.body.hiddenDates.length) return (n = t.range.conversion(i)), (e.valueOf() - n.offset) * n.scale;
                    var s = kh(e, t.body.hiddenDates);
                    1 == s.hidden && (e = s.startDate);
                    var r = vh(t.body.hiddenDates, t.range.start, t.range.end);
                    if (e < t.range.start) {
                        n = t.range.conversion(i, r);
                        var o = bh(t.body.hiddenDates, e, n.offset);
                        return (e = t.options.moment(e).toDate().valueOf()), (e += o), -(n.offset - e.valueOf()) * n.scale;
                    }
                    if (e > t.range.end) {
                        var a = { start: t.range.start, end: e };
                        return (e = yh(t.options.moment, t.body.hiddenDates, a, e)), (n = t.range.conversion(i, r)), (e.valueOf() - n.offset) * n.scale;
                    }
                    return (e = yh(t.options.moment, t.body.hiddenDates, t.range, e)), (n = t.range.conversion(i, r)), (e.valueOf() - n.offset) * n.scale;
                }
                function gh(t, e, i) {
                    if (0 == t.body.hiddenDates.length) {
                        var n = t.range.conversion(i);
                        return new Date(e / n.scale + n.offset);
                    }
                    var s = vh(t.body.hiddenDates, t.range.start, t.range.end),
                        r = ((t.range.end - t.range.start - s) * e) / i,
                        o = xh(t.body.hiddenDates, t.range, r);
                    return new Date(o + r + t.range.start);
                }
                function vh(t, e, i) {
                    for (var n = 0, s = 0; s < t.length; s++) {
                        var r = t[s].start,
                            o = t[s].end;
                        r >= e && o < i && (n += o - r);
                    }
                    return n;
                }
                function bh(t, e, i) {
                    for (var n = 0, s = 0; s < t.length; s++) {
                        var r = t[s].start,
                            o = t[s].end;
                        r >= e && o <= i && (n += o - r);
                    }
                    return n;
                }
                function yh(t, e, i, n) {
                    return (n = t(n).toDate().valueOf()), (n -= wh(t, e, i, n));
                }
                function wh(t, e, i, n) {
                    var s = 0;
                    n = t(n).toDate().valueOf();
                    for (var r = 0; r < e.length; r++) {
                        var o = e[r].start,
                            a = e[r].end;
                        o >= i.start && a < i.end && n >= a && (s += a - o);
                    }
                    return s;
                }
                function xh(t, e, i) {
                    for (var n = 0, s = 0, r = e.start, o = 0; o < t.length; o++) {
                        var a = t[o].start,
                            l = t[o].end;
                        if (a >= e.start && l < e.end) {
                            if (((s += a - r), (r = l), s >= i)) break;
                            n += l - a;
                        }
                    }
                    return n;
                }
                function _h(t, e, i, n) {
                    var s = kh(e, t);
                    return 1 == s.hidden ? (i < 0 ? (1 == n ? s.startDate - (s.endDate - e) - 1 : s.startDate - 1) : 1 == n ? s.endDate + (e - s.startDate) + 1 : s.endDate + 1) : e;
                }
                function kh(t, e) {
                    for (var i = 0; i < e.length; i++) {
                        var n = e[i].start,
                            s = e[i].end;
                        if (t >= n && t < s) return { hidden: !0, startDate: n, endDate: s };
                    }
                    return { hidden: !1, startDate: n, endDate: s };
                }
                function Ph(t) {
                    var e = (function () {
                        if ("undefined" == typeof Reflect || !go) return !1;
                        if (go.sham) return !1;
                        if ("function" == typeof Proxy) return !0;
                        try {
                            return Date.prototype.toString.call(go(Date, [], function () {})), !0;
                        } catch (t) {
                            return !1;
                        }
                    })();
                    return function () {
                        var i,
                            n = Xo(t);
                        if (e) {
                            var s = Xo(this).constructor;
                            i = go(n, arguments, s);
                        } else i = n.apply(this, arguments);
                        return Go(this, i);
                    };
                }
                var Sh = (function (t) {
                    Uo(i, t);
                    var e = Ph(i);
                    function i(t, n) {
                        var s, r, o, a, l, h, c, d;
                        hl(this, i), (d = e.call(this));
                        var u = Xl().hours(0).minutes(0).seconds(0).milliseconds(0),
                            p = u.clone().add(-3, "days").valueOf(),
                            f = u.clone().add(3, "days").valueOf();
                        return (
                            (d.millisecondsPerPixelCache = void 0),
                            void 0 === n ? ((d.start = p), (d.end = f)) : ((d.start = n.start || p), (d.end = n.end || f)),
                            (d.rolling = !1),
                            (d.body = t),
                            (d.deltaDifference = 0),
                            (d.scaleOffset = 0),
                            (d.startToFront = !1),
                            (d.endToFront = !0),
                            (d.defaultOptions = {
                                rtl: !1,
                                start: null,
                                end: null,
                                moment: Xl,
                                direction: "horizontal",
                                moveable: !0,
                                zoomable: !0,
                                min: null,
                                max: null,
                                zoomMin: 10,
                                zoomMax: 31536e10,
                                rollingMode: { follow: !1, offset: 0.5 },
                            }),
                            (d.options = ih.extend({}, d.defaultOptions)),
                            (d.props = { touch: {} }),
                            (d.animationTimer = null),
                            d.body.emitter.on("panstart", ll((s = d._onDragStart)).call(s, Ho(d))),
                            d.body.emitter.on("panmove", ll((r = d._onDrag)).call(r, Ho(d))),
                            d.body.emitter.on("panend", ll((o = d._onDragEnd)).call(o, Ho(d))),
                            d.body.emitter.on("mousewheel", ll((a = d._onMouseWheel)).call(a, Ho(d))),
                            d.body.emitter.on("touch", ll((l = d._onTouch)).call(l, Ho(d))),
                            d.body.emitter.on("pinch", ll((h = d._onPinch)).call(h, Ho(d))),
                            d.body.dom.rollingModeBtn.addEventListener("click", ll((c = d.startRolling)).call(c, Ho(d))),
                            d.setOptions(n),
                            d
                        );
                    }
                    return (
                        dl(
                            i,
                            [
                                {
                                    key: "setOptions",
                                    value: function (t) {
                                        if (t) {
                                            ih.selectiveExtend(
                                                [
                                                    "animation",
                                                    "direction",
                                                    "min",
                                                    "max",
                                                    "zoomMin",
                                                    "zoomMax",
                                                    "moveable",
                                                    "zoomable",
                                                    "moment",
                                                    "activate",
                                                    "hiddenDates",
                                                    "zoomKey",
                                                    "zoomFriction",
                                                    "rtl",
                                                    "showCurrentTime",
                                                    "rollingMode",
                                                    "horizontalScroll",
                                                ],
                                                this.options,
                                                t
                                            ),
                                                t.rollingMode && t.rollingMode.follow && this.startRolling(),
                                                ("start" in t || "end" in t) && this.setRange(t.start, t.end);
                                        }
                                    },
                                },
                                {
                                    key: "startRolling",
                                    value: function () {
                                        var t = this;
                                        !(function e() {
                                            t.stopRolling(), (t.rolling = !0);
                                            var i = t.end - t.start,
                                                n = ih.convert(new Date(), "Date").valueOf(),
                                                s = (t.options.rollingMode && t.options.rollingMode.offset) || 0.5,
                                                r = n - i * s,
                                                o = n + i * (1 - s);
                                            t.setRange(r, o, { animation: !1 }),
                                                (i = 1 / t.conversion(t.body.domProps.center.width).scale / 10) < 30 && (i = 30),
                                                i > 1e3 && (i = 1e3),
                                                (t.body.dom.rollingModeBtn.style.visibility = "hidden"),
                                                (t.currentTimeTimer = Ra(e, i));
                                        })();
                                    },
                                },
                                {
                                    key: "stopRolling",
                                    value: function () {
                                        void 0 !== this.currentTimeTimer && (clearTimeout(this.currentTimeTimer), (this.rolling = !1), (this.body.dom.rollingModeBtn.style.visibility = "visible"));
                                    },
                                },
                                {
                                    key: "setRange",
                                    value: function (t, e, i, n, s) {
                                        i || (i = {}), !0 !== i.byUser && (i.byUser = !1);
                                        var r = this,
                                            o = null != t ? ih.convert(t, "Date").valueOf() : null,
                                            a = null != e ? ih.convert(e, "Date").valueOf() : null;
                                        if ((this._cancelAnimation(), (this.millisecondsPerPixelCache = void 0), i.animation)) {
                                            var l,
                                                h = this.start,
                                                c = this.end,
                                                d = "object" === sr(i.animation) && "duration" in i.animation ? i.animation.duration : 500,
                                                u = "object" === sr(i.animation) && "easingFunction" in i.animation ? i.animation.easingFunction : "easeInOutQuad",
                                                p = ih.easingFunctions[u];
                                            if (!p) throw new Error(pr((l = "Unknown easing function ".concat(Io(u), ". Choose from: "))).call(l, qs(ih.easingFunctions).join(", ")));
                                            var f = Us(),
                                                m = !1;
                                            return (function t() {
                                                if (!r.props.touch.dragging) {
                                                    var e = Us() - f,
                                                        l = p(e / d),
                                                        u = e > d,
                                                        v = u || null === o ? o : h + (o - h) * l,
                                                        b = u || null === a ? a : c + (a - c) * l;
                                                    (g = r._applyRange(v, b)), uh(r.options.moment, r.body, r.options.hiddenDates), (m = m || g);
                                                    var y = { start: new Date(r.start), end: new Date(r.end), byUser: i.byUser, event: i.event };
                                                    if ((s && s(l, g, u), g && r.body.emitter.emit("rangechange", y), u)) {
                                                        if (m && (r.body.emitter.emit("rangechanged", y), n)) return n();
                                                    } else r.animationTimer = Ra(t, 20);
                                                }
                                            })();
                                        }
                                        var g = this._applyRange(o, a);
                                        if ((uh(this.options.moment, this.body, this.options.hiddenDates), g)) {
                                            var v = { start: new Date(this.start), end: new Date(this.end), byUser: i.byUser, event: i.event };
                                            if (
                                                (this.body.emitter.emit("rangechange", v),
                                                clearTimeout(r.timeoutID),
                                                (r.timeoutID = Ra(function () {
                                                    r.body.emitter.emit("rangechanged", v);
                                                }, 200)),
                                                n)
                                            )
                                                return n();
                                        }
                                    },
                                },
                                {
                                    key: "getMillisecondsPerPixel",
                                    value: function () {
                                        return void 0 === this.millisecondsPerPixelCache && (this.millisecondsPerPixelCache = (this.end - this.start) / this.body.dom.center.clientWidth), this.millisecondsPerPixelCache;
                                    },
                                },
                                {
                                    key: "_cancelAnimation",
                                    value: function () {
                                        this.animationTimer && (clearTimeout(this.animationTimer), (this.animationTimer = null));
                                    },
                                },
                                {
                                    key: "_applyRange",
                                    value: function (t, e) {
                                        var i,
                                            n = null != t ? ih.convert(t, "Date").valueOf() : this.start,
                                            s = null != e ? ih.convert(e, "Date").valueOf() : this.end,
                                            r = null != this.options.max ? ih.convert(this.options.max, "Date").valueOf() : null,
                                            o = null != this.options.min ? ih.convert(this.options.min, "Date").valueOf() : null;
                                        if (isNaN(n) || null === n) throw new Error('Invalid start "'.concat(t, '"'));
                                        if (isNaN(s) || null === s) throw new Error('Invalid end "'.concat(e, '"'));
                                        if (
                                            (s < n && (s = n),
                                            null !== o && n < o && ((n += i = o - n), (s += i), null != r && s > r && (s = r)),
                                            null !== r && s > r && ((n -= i = s - r), (s -= i), null != o && n < o && (n = o)),
                                            null !== this.options.zoomMin)
                                        ) {
                                            var a = oh(this.options.zoomMin);
                                            if ((a < 0 && (a = 0), s - n < a)) {
                                                this.end - this.start === a && n >= this.start - 0.5 && s <= this.end ? ((n = this.start), (s = this.end)) : ((n -= (i = a - (s - n)) / 2), (s += i / 2));
                                            }
                                        }
                                        if (null !== this.options.zoomMax) {
                                            var l = oh(this.options.zoomMax);
                                            l < 0 && (l = 0), s - n > l && (this.end - this.start === l && n < this.start && s > this.end ? ((n = this.start), (s = this.end)) : ((n += (i = s - n - l) / 2), (s -= i / 2)));
                                        }
                                        var h = this.start != n || this.end != s;
                                        return (
                                            (n >= this.start && n <= this.end) || (s >= this.start && s <= this.end) || (this.start >= n && this.start <= s) || (this.end >= n && this.end <= s) || this.body.emitter.emit("checkRangedItems"),
                                            (this.start = n),
                                            (this.end = s),
                                            h
                                        );
                                    },
                                },
                                {
                                    key: "getRange",
                                    value: function () {
                                        return { start: this.start, end: this.end };
                                    },
                                },
                                {
                                    key: "conversion",
                                    value: function (t, e) {
                                        return i.conversion(this.start, this.end, t, e);
                                    },
                                },
                                {
                                    key: "_onDragStart",
                                    value: function (t) {
                                        (this.deltaDifference = 0),
                                            (this.previousDelta = 0),
                                            this.options.moveable &&
                                                this._isInsideRange(t) &&
                                                this.props.touch.allowDragging &&
                                                (this.stopRolling(),
                                                (this.props.touch.start = this.start),
                                                (this.props.touch.end = this.end),
                                                (this.props.touch.dragging = !0),
                                                this.body.dom.root && (this.body.dom.root.style.cursor = "move"));
                                    },
                                },
                                {
                                    key: "_onDrag",
                                    value: function (t) {
                                        if (t && this.props.touch.dragging && this.options.moveable && this.props.touch.allowDragging) {
                                            var e = this.options.direction;
                                            Ch(e);
                                            var i = "horizontal" == e ? t.deltaX : t.deltaY;
                                            i -= this.deltaDifference;
                                            var n = this.props.touch.end - this.props.touch.start;
                                            n -= vh(this.body.hiddenDates, this.start, this.end);
                                            var s,
                                                r = "horizontal" == e ? this.body.domProps.center.width : this.body.domProps.center.height;
                                            s = this.options.rtl ? (i / r) * n : (-i / r) * n;
                                            var o = this.props.touch.start + s,
                                                a = this.props.touch.end + s,
                                                l = _h(this.body.hiddenDates, o, this.previousDelta - i, !0),
                                                h = _h(this.body.hiddenDates, a, this.previousDelta - i, !0);
                                            if (l != o || h != a) return (this.deltaDifference += i), (this.props.touch.start = l), (this.props.touch.end = h), void this._onDrag(t);
                                            (this.previousDelta = i), this._applyRange(o, a);
                                            var c = new Date(this.start),
                                                d = new Date(this.end);
                                            this.body.emitter.emit("rangechange", { start: c, end: d, byUser: !0, event: t }), this.body.emitter.emit("panmove");
                                        }
                                    },
                                },
                                {
                                    key: "_onDragEnd",
                                    value: function (t) {
                                        this.props.touch.dragging &&
                                            this.options.moveable &&
                                            this.props.touch.allowDragging &&
                                            ((this.props.touch.dragging = !1),
                                            this.body.dom.root && (this.body.dom.root.style.cursor = "auto"),
                                            this.body.emitter.emit("rangechanged", { start: new Date(this.start), end: new Date(this.end), byUser: !0, event: t }));
                                    },
                                },
                                {
                                    key: "_onMouseWheel",
                                    value: function (t) {
                                        var e = 0;
                                        if (
                                            (t.wheelDelta ? (e = t.wheelDelta / 120) : t.detail ? (e = -t.detail / 3) : t.deltaY && (e = -t.deltaY / 3),
                                            !((this.options.zoomKey && !t[this.options.zoomKey] && this.options.zoomable) || (!this.options.zoomable && this.options.moveable)) &&
                                                this.options.zoomable &&
                                                this.options.moveable &&
                                                this._isInsideRange(t) &&
                                                e)
                                        ) {
                                            var i,
                                                n,
                                                s = this.options.zoomFriction || 5;
                                            if (((i = e < 0 ? 1 - e / s : 1 / (1 + e / s)), this.rolling)) {
                                                var r = (this.options.rollingMode && this.options.rollingMode.offset) || 0.5;
                                                n = this.start + (this.end - this.start) * r;
                                            } else {
                                                var o = this.getPointer({ x: t.clientX, y: t.clientY }, this.body.dom.center);
                                                n = this._pointerToDate(o);
                                            }
                                            this.zoom(i, n, e, t), t.preventDefault();
                                        }
                                    },
                                },
                                {
                                    key: "_onTouch",
                                    value: function (t) {
                                        (this.props.touch.start = this.start),
                                            (this.props.touch.end = this.end),
                                            (this.props.touch.allowDragging = !0),
                                            (this.props.touch.center = null),
                                            (this.props.touch.centerDate = null),
                                            (this.scaleOffset = 0),
                                            (this.deltaDifference = 0),
                                            ih.preventDefault(t);
                                    },
                                },
                                {
                                    key: "_onPinch",
                                    value: function (t) {
                                        if (this.options.zoomable && this.options.moveable) {
                                            ih.preventDefault(t),
                                                (this.props.touch.allowDragging = !1),
                                                this.props.touch.center || ((this.props.touch.center = this.getPointer(t.center, this.body.dom.center)), (this.props.touch.centerDate = this._pointerToDate(this.props.touch.center))),
                                                this.stopRolling();
                                            var e = 1 / (t.scale + this.scaleOffset),
                                                i = this.props.touch.centerDate,
                                                n = vh(this.body.hiddenDates, this.start, this.end),
                                                s = wh(this.options.moment, this.body.hiddenDates, this, i),
                                                r = n - s,
                                                o = i - s + (this.props.touch.start - (i - s)) * e,
                                                a = i + r + (this.props.touch.end - (i + r)) * e;
                                            (this.startToFront = 1 - e <= 0), (this.endToFront = e - 1 <= 0);
                                            var l = _h(this.body.hiddenDates, o, 1 - e, !0),
                                                h = _h(this.body.hiddenDates, a, e - 1, !0);
                                            (l == o && h == a) || ((this.props.touch.start = l), (this.props.touch.end = h), (this.scaleOffset = 1 - t.scale), (o = l), (a = h));
                                            var c = { animation: !1, byUser: !0, event: t };
                                            this.setRange(o, a, c), (this.startToFront = !1), (this.endToFront = !0);
                                        }
                                    },
                                },
                                {
                                    key: "_isInsideRange",
                                    value: function (t) {
                                        var e = t.center ? t.center.x : t.clientX,
                                            i = this.body.dom.centerContainer.getBoundingClientRect(),
                                            n = this.options.rtl ? e - i.left : i.right - e,
                                            s = this.body.util.toTime(n);
                                        return s >= this.start && s <= this.end;
                                    },
                                },
                                {
                                    key: "_pointerToDate",
                                    value: function (t) {
                                        var e,
                                            i = this.options.direction;
                                        if ((Ch(i), "horizontal" == i)) return this.body.util.toTime(t.x).valueOf();
                                        var n = this.body.domProps.center.height;
                                        return (e = this.conversion(n)), t.y / e.scale + e.offset;
                                    },
                                },
                                {
                                    key: "getPointer",
                                    value: function (t, e) {
                                        var i = e.getBoundingClientRect();
                                        return this.options.rtl ? { x: i.right - t.x, y: t.y - i.top } : { x: t.x - i.left, y: t.y - i.top };
                                    },
                                },
                                {
                                    key: "zoom",
                                    value: function (t, e, i, n) {
                                        null == e && (e = (this.start + this.end) / 2);
                                        var s = vh(this.body.hiddenDates, this.start, this.end),
                                            r = wh(this.options.moment, this.body.hiddenDates, this, e),
                                            o = s - r,
                                            a = e - r + (this.start - (e - r)) * t,
                                            l = e + o + (this.end - (e + o)) * t;
                                        (this.startToFront = !(i > 0)), (this.endToFront = !(-i > 0));
                                        var h = _h(this.body.hiddenDates, a, i, !0),
                                            c = _h(this.body.hiddenDates, l, -i, !0);
                                        (h == a && c == l) || ((a = h), (l = c));
                                        var d = { animation: !1, byUser: !0, event: n };
                                        this.setRange(a, l, d), (this.startToFront = !1), (this.endToFront = !0);
                                    },
                                },
                                {
                                    key: "move",
                                    value: function (t) {
                                        var e = this.end - this.start,
                                            i = this.start + e * t,
                                            n = this.end + e * t;
                                        (this.start = i), (this.end = n);
                                    },
                                },
                                {
                                    key: "moveTo",
                                    value: function (t) {
                                        var e = (this.start + this.end) / 2 - t,
                                            i = this.start - e,
                                            n = this.end - e;
                                        this.setRange(i, n, { animation: !1, byUser: !0, event: null });
                                    },
                                },
                            ],
                            [
                                {
                                    key: "conversion",
                                    value: function (t, e, i, n) {
                                        return void 0 === n && (n = 0), 0 != i && e - t != 0 ? { offset: t, scale: i / (e - t - n) } : { offset: 0, scale: 1 };
                                    },
                                },
                            ]
                        ),
                        i
                    );
                })(ah);
                function Ch(t) {
                    if ("horizontal" != t && "vertical" != t) throw new TypeError('Unknown direction "'.concat(t, '". Choose "horizontal" or "vertical".'));
                }
                var Ih = F.setInterval,
                    Th = o(function (t) {
                        function e(t) {
                            if (t)
                                return (function (t) {
                                    for (var i in e.prototype) t[i] = e.prototype[i];
                                    return t;
                                })(t);
                        }
                        (t.exports = e),
                            (e.prototype.on = e.prototype.addEventListener = function (t, e) {
                                return (this._callbacks = this._callbacks || {}), (this._callbacks["$" + t] = this._callbacks["$" + t] || []).push(e), this;
                            }),
                            (e.prototype.once = function (t, e) {
                                function i() {
                                    this.off(t, i), e.apply(this, arguments);
                                }
                                return (i.fn = e), this.on(t, i), this;
                            }),
                            (e.prototype.off = e.prototype.removeListener = e.prototype.removeAllListeners = e.prototype.removeEventListener = function (t, e) {
                                if (((this._callbacks = this._callbacks || {}), 0 == arguments.length)) return (this._callbacks = {}), this;
                                var i,
                                    n = this._callbacks["$" + t];
                                if (!n) return this;
                                if (1 == arguments.length) return delete this._callbacks["$" + t], this;
                                for (var s = 0; s < n.length; s++)
                                    if ((i = n[s]) === e || i.fn === e) {
                                        n.splice(s, 1);
                                        break;
                                    }
                                return 0 === n.length && delete this._callbacks["$" + t], this;
                            }),
                            (e.prototype.emit = function (t) {
                                this._callbacks = this._callbacks || {};
                                for (var e = new Array(arguments.length - 1), i = this._callbacks["$" + t], n = 1; n < arguments.length; n++) e[n - 1] = arguments[n];
                                if (i) {
                                    n = 0;
                                    for (var s = (i = i.slice(0)).length; n < s; ++n) i[n].apply(this, e);
                                }
                                return this;
                            }),
                            (e.prototype.listeners = function (t) {
                                return (this._callbacks = this._callbacks || {}), this._callbacks["$" + t] || [];
                            }),
                            (e.prototype.hasListeners = function (t) {
                                return !!this.listeners(t).length;
                            });
                    }),
                    $h = null;
                function Eh() {
                    return (Eh =
                        Object.assign ||
                        function (t) {
                            for (var e = 1; e < arguments.length; e++) {
                                var i = arguments[e];
                                for (var n in i) Object.prototype.hasOwnProperty.call(i, n) && (t[n] = i[n]);
                            }
                            return t;
                        }).apply(this, arguments);
                }
                function Dh(t, e) {
                    (t.prototype = Object.create(e.prototype)), (t.prototype.constructor = t), (t.__proto__ = e);
                }
                function Mh(t) {
                    if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                    return t;
                }
                var Ah,
                    Nh =
                        "function" != typeof Object.assign
                            ? function (t) {
                                  if (null == t) throw new TypeError("Cannot convert undefined or null to object");
                                  for (var e = Object(t), i = 1; i < arguments.length; i++) {
                                      var n = arguments[i];
                                      if (null != n) for (var s in n) n.hasOwnProperty(s) && (e[s] = n[s]);
                                  }
                                  return e;
                              }
                            : Object.assign,
                    Oh = ["", "webkit", "Moz", "MS", "ms", "o"],
                    Rh = "undefined" == typeof document ? { style: {} } : document.createElement("div"),
                    Vh = Math.round,
                    Lh = Math.abs,
                    jh = Date.now;
                function Fh(t, e) {
                    for (var i, n, s = e[0].toUpperCase() + e.slice(1), r = 0; r < Oh.length; ) {
                        if ((n = (i = Oh[r]) ? i + s : e) in t) return n;
                        r++;
                    }
                }
                Ah = "undefined" == typeof window ? {} : window;
                var zh = Fh(Rh.style, "touchAction"),
                    Hh = void 0 !== zh;
                var Wh = "compute",
                    Bh = "auto",
                    Yh = "manipulation",
                    Uh = "none",
                    Gh = "pan-x",
                    qh = "pan-y",
                    Xh = (function () {
                        if (!Hh) return !1;
                        var t = {},
                            e = Ah.CSS && Ah.CSS.supports;
                        return (
                            ["auto", "manipulation", "pan-y", "pan-x", "pan-x pan-y", "none"].forEach(function (i) {
                                return (t[i] = !e || Ah.CSS.supports("touch-action", i));
                            }),
                            t
                        );
                    })(),
                    Kh = "ontouchstart" in Ah,
                    Zh = void 0 !== Fh(Ah, "PointerEvent"),
                    Jh = Kh && /mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),
                    Qh = "touch",
                    tc = "mouse",
                    ec = 16,
                    ic = 24,
                    nc = ["x", "y"],
                    sc = ["clientX", "clientY"];
                function rc(t, e, i) {
                    var n;
                    if (t)
                        if (t.forEach) t.forEach(e, i);
                        else if (void 0 !== t.length) for (n = 0; n < t.length; ) e.call(i, t[n], n, t), n++;
                        else for (n in t) t.hasOwnProperty(n) && e.call(i, t[n], n, t);
                }
                function oc(t, e) {
                    return "function" == typeof t ? t.apply((e && e[0]) || void 0, e) : t;
                }
                function ac(t, e) {
                    return t.indexOf(e) > -1;
                }
                var lc = (function () {
                    function t(t, e) {
                        (this.manager = t), this.set(e);
                    }
                    var e = t.prototype;
                    return (
                        (e.set = function (t) {
                            t === Wh && (t = this.compute()), Hh && this.manager.element.style && Xh[t] && (this.manager.element.style[zh] = t), (this.actions = t.toLowerCase().trim());
                        }),
                        (e.update = function () {
                            this.set(this.manager.options.touchAction);
                        }),
                        (e.compute = function () {
                            var t = [];
                            return (
                                rc(this.manager.recognizers, function (e) {
                                    oc(e.options.enable, [e]) && (t = t.concat(e.getTouchAction()));
                                }),
                                (function (t) {
                                    if (ac(t, Uh)) return Uh;
                                    var e = ac(t, Gh),
                                        i = ac(t, qh);
                                    return e && i ? Uh : e || i ? (e ? Gh : qh) : ac(t, Yh) ? Yh : Bh;
                                })(t.join(" "))
                            );
                        }),
                        (e.preventDefaults = function (t) {
                            var e = t.srcEvent,
                                i = t.offsetDirection;
                            if (this.manager.session.prevented) e.preventDefault();
                            else {
                                var n = this.actions,
                                    s = ac(n, Uh) && !Xh.none,
                                    r = ac(n, qh) && !Xh["pan-y"],
                                    o = ac(n, Gh) && !Xh["pan-x"];
                                if (s) {
                                    var a = 1 === t.pointers.length,
                                        l = t.distance < 2,
                                        h = t.deltaTime < 250;
                                    if (a && l && h) return;
                                }
                                if (!o || !r) return s || (r && 6 & i) || (o && i & ic) ? this.preventSrc(e) : void 0;
                            }
                        }),
                        (e.preventSrc = function (t) {
                            (this.manager.session.prevented = !0), t.preventDefault();
                        }),
                        t
                    );
                })();
                function hc(t, e) {
                    for (; t; ) {
                        if (t === e) return !0;
                        t = t.parentNode;
                    }
                    return !1;
                }
                function cc(t) {
                    var e = t.length;
                    if (1 === e) return { x: Vh(t[0].clientX), y: Vh(t[0].clientY) };
                    for (var i = 0, n = 0, s = 0; s < e; ) (i += t[s].clientX), (n += t[s].clientY), s++;
                    return { x: Vh(i / e), y: Vh(n / e) };
                }
                function dc(t) {
                    for (var e = [], i = 0; i < t.pointers.length; ) (e[i] = { clientX: Vh(t.pointers[i].clientX), clientY: Vh(t.pointers[i].clientY) }), i++;
                    return { timeStamp: jh(), pointers: e, center: cc(e), deltaX: t.deltaX, deltaY: t.deltaY };
                }
                function uc(t, e, i) {
                    i || (i = nc);
                    var n = e[i[0]] - t[i[0]],
                        s = e[i[1]] - t[i[1]];
                    return Math.sqrt(n * n + s * s);
                }
                function pc(t, e, i) {
                    i || (i = nc);
                    var n = e[i[0]] - t[i[0]],
                        s = e[i[1]] - t[i[1]];
                    return (180 * Math.atan2(s, n)) / Math.PI;
                }
                function fc(t, e) {
                    return t === e ? 1 : Lh(t) >= Lh(e) ? (t < 0 ? 2 : 4) : e < 0 ? 8 : ec;
                }
                function mc(t, e, i) {
                    return { x: e / t || 0, y: i / t || 0 };
                }
                function gc(t, e) {
                    var i = t.session,
                        n = e.pointers,
                        s = n.length;
                    i.firstInput || (i.firstInput = dc(e)), s > 1 && !i.firstMultiple ? (i.firstMultiple = dc(e)) : 1 === s && (i.firstMultiple = !1);
                    var r = i.firstInput,
                        o = i.firstMultiple,
                        a = o ? o.center : r.center,
                        l = (e.center = cc(n));
                    (e.timeStamp = jh()),
                        (e.deltaTime = e.timeStamp - r.timeStamp),
                        (e.angle = pc(a, l)),
                        (e.distance = uc(a, l)),
                        (function (t, e) {
                            var i = e.center,
                                n = t.offsetDelta || {},
                                s = t.prevDelta || {},
                                r = t.prevInput || {};
                            (1 !== e.eventType && 4 !== r.eventType) || ((s = t.prevDelta = { x: r.deltaX || 0, y: r.deltaY || 0 }), (n = t.offsetDelta = { x: i.x, y: i.y })), (e.deltaX = s.x + (i.x - n.x)), (e.deltaY = s.y + (i.y - n.y));
                        })(i, e),
                        (e.offsetDirection = fc(e.deltaX, e.deltaY));
                    var h,
                        c,
                        d = mc(e.deltaTime, e.deltaX, e.deltaY);
                    (e.overallVelocityX = d.x),
                        (e.overallVelocityY = d.y),
                        (e.overallVelocity = Lh(d.x) > Lh(d.y) ? d.x : d.y),
                        (e.scale = o ? ((h = o.pointers), uc((c = n)[0], c[1], sc) / uc(h[0], h[1], sc)) : 1),
                        (e.rotation = o
                            ? (function (t, e) {
                                  return pc(e[1], e[0], sc) + pc(t[1], t[0], sc);
                              })(o.pointers, n)
                            : 0),
                        (e.maxPointers = i.prevInput ? (e.pointers.length > i.prevInput.maxPointers ? e.pointers.length : i.prevInput.maxPointers) : e.pointers.length),
                        (function (t, e) {
                            var i,
                                n,
                                s,
                                r,
                                o = t.lastInterval || e,
                                a = e.timeStamp - o.timeStamp;
                            if (8 !== e.eventType && (a > 25 || void 0 === o.velocity)) {
                                var l = e.deltaX - o.deltaX,
                                    h = e.deltaY - o.deltaY,
                                    c = mc(a, l, h);
                                (n = c.x), (s = c.y), (i = Lh(c.x) > Lh(c.y) ? c.x : c.y), (r = fc(l, h)), (t.lastInterval = e);
                            } else (i = o.velocity), (n = o.velocityX), (s = o.velocityY), (r = o.direction);
                            (e.velocity = i), (e.velocityX = n), (e.velocityY = s), (e.direction = r);
                        })(i, e);
                    var u,
                        p = t.element,
                        f = e.srcEvent;
                    hc((u = f.composedPath ? f.composedPath()[0] : f.path ? f.path[0] : f.target), p) && (p = u), (e.target = p);
                }
                function vc(t, e, i) {
                    var n = i.pointers.length,
                        s = i.changedPointers.length,
                        r = 1 & e && n - s == 0,
                        o = 12 & e && n - s == 0;
                    (i.isFirst = !!r), (i.isFinal = !!o), r && (t.session = {}), (i.eventType = e), gc(t, i), t.emit("hammer.input", i), t.recognize(i), (t.session.prevInput = i);
                }
                function bc(t) {
                    return t.trim().split(/\s+/g);
                }
                function yc(t, e, i) {
                    rc(bc(e), function (e) {
                        t.addEventListener(e, i, !1);
                    });
                }
                function wc(t, e, i) {
                    rc(bc(e), function (e) {
                        t.removeEventListener(e, i, !1);
                    });
                }
                function xc(t) {
                    var e = t.ownerDocument || t;
                    return e.defaultView || e.parentWindow || window;
                }
                var _c = (function () {
                    function t(t, e) {
                        var i = this;
                        (this.manager = t),
                            (this.callback = e),
                            (this.element = t.element),
                            (this.target = t.options.inputTarget),
                            (this.domHandler = function (e) {
                                oc(t.options.enable, [t]) && i.handler(e);
                            }),
                            this.init();
                    }
                    var e = t.prototype;
                    return (
                        (e.handler = function () {}),
                        (e.init = function () {
                            this.evEl && yc(this.element, this.evEl, this.domHandler), this.evTarget && yc(this.target, this.evTarget, this.domHandler), this.evWin && yc(xc(this.element), this.evWin, this.domHandler);
                        }),
                        (e.destroy = function () {
                            this.evEl && wc(this.element, this.evEl, this.domHandler), this.evTarget && wc(this.target, this.evTarget, this.domHandler), this.evWin && wc(xc(this.element), this.evWin, this.domHandler);
                        }),
                        t
                    );
                })();
                function kc(t, e, i) {
                    if (t.indexOf && !i) return t.indexOf(e);
                    for (var n = 0; n < t.length; ) {
                        if ((i && t[n][i] == e) || (!i && t[n] === e)) return n;
                        n++;
                    }
                    return -1;
                }
                var Pc = { pointerdown: 1, pointermove: 2, pointerup: 4, pointercancel: 8, pointerout: 8 },
                    Sc = { 2: Qh, 3: "pen", 4: tc, 5: "kinect" },
                    Cc = "pointerdown",
                    Ic = "pointermove pointerup pointercancel";
                Ah.MSPointerEvent && !Ah.PointerEvent && ((Cc = "MSPointerDown"), (Ic = "MSPointerMove MSPointerUp MSPointerCancel"));
                var Tc = (function (t) {
                    function e() {
                        var i,
                            n = e.prototype;
                        return (n.evEl = Cc), (n.evWin = Ic), ((i = t.apply(this, arguments) || this).store = i.manager.session.pointerEvents = []), i;
                    }
                    return (
                        Dh(e, t),
                        (e.prototype.handler = function (t) {
                            var e = this.store,
                                i = !1,
                                n = t.type.toLowerCase().replace("ms", ""),
                                s = Pc[n],
                                r = Sc[t.pointerType] || t.pointerType,
                                o = r === Qh,
                                a = kc(e, t.pointerId, "pointerId");
                            1 & s && (0 === t.button || o) ? a < 0 && (e.push(t), (a = e.length - 1)) : 12 & s && (i = !0),
                                a < 0 || ((e[a] = t), this.callback(this.manager, s, { pointers: e, changedPointers: [t], pointerType: r, srcEvent: t }), i && e.splice(a, 1));
                        }),
                        e
                    );
                })(_c);
                function $c(t) {
                    return Array.prototype.slice.call(t, 0);
                }
                function Ec(t, e, i) {
                    for (var n = [], s = [], r = 0; r < t.length; ) {
                        var o = e ? t[r][e] : t[r];
                        kc(s, o) < 0 && n.push(t[r]), (s[r] = o), r++;
                    }
                    return (
                        i &&
                            (n = e
                                ? n.sort(function (t, i) {
                                      return t[e] > i[e];
                                  })
                                : n.sort()),
                        n
                    );
                }
                var Dc = { touchstart: 1, touchmove: 2, touchend: 4, touchcancel: 8 },
                    Mc = "touchstart touchmove touchend touchcancel",
                    Ac = (function (t) {
                        function e() {
                            var i;
                            return (e.prototype.evTarget = Mc), ((i = t.apply(this, arguments) || this).targetIds = {}), i;
                        }
                        return (
                            Dh(e, t),
                            (e.prototype.handler = function (t) {
                                var e = Dc[t.type],
                                    i = Nc.call(this, t, e);
                                i && this.callback(this.manager, e, { pointers: i[0], changedPointers: i[1], pointerType: Qh, srcEvent: t });
                            }),
                            e
                        );
                    })(_c);
                function Nc(t, e) {
                    var i,
                        n,
                        s = $c(t.touches),
                        r = this.targetIds;
                    if (3 & e && 1 === s.length) return (r[s[0].identifier] = !0), [s, s];
                    var o = $c(t.changedTouches),
                        a = [],
                        l = this.target;
                    if (
                        ((n = s.filter(function (t) {
                            return hc(t.target, l);
                        })),
                        1 === e)
                    )
                        for (i = 0; i < n.length; ) (r[n[i].identifier] = !0), i++;
                    for (i = 0; i < o.length; ) r[o[i].identifier] && a.push(o[i]), 12 & e && delete r[o[i].identifier], i++;
                    return a.length ? [Ec(n.concat(a), "identifier", !0), a] : void 0;
                }
                var Oc = { mousedown: 1, mousemove: 2, mouseup: 4 },
                    Rc = "mousedown",
                    Vc = "mousemove mouseup",
                    Lc = (function (t) {
                        function e() {
                            var i,
                                n = e.prototype;
                            return (n.evEl = Rc), (n.evWin = Vc), ((i = t.apply(this, arguments) || this).pressed = !1), i;
                        }
                        return (
                            Dh(e, t),
                            (e.prototype.handler = function (t) {
                                var e = Oc[t.type];
                                1 & e && 0 === t.button && (this.pressed = !0),
                                    2 & e && 1 !== t.which && (e = 4),
                                    this.pressed && (4 & e && (this.pressed = !1), this.callback(this.manager, e, { pointers: [t], changedPointers: [t], pointerType: tc, srcEvent: t }));
                            }),
                            e
                        );
                    })(_c);
                function jc(t) {
                    var e = t.changedPointers[0];
                    if (e.identifier === this.primaryTouch) {
                        var i = { x: e.clientX, y: e.clientY },
                            n = this.lastTouches;
                        this.lastTouches.push(i);
                        setTimeout(function () {
                            var t = n.indexOf(i);
                            t > -1 && n.splice(t, 1);
                        }, 2500);
                    }
                }
                function Fc(t, e) {
                    1 & t ? ((this.primaryTouch = e.changedPointers[0].identifier), jc.call(this, e)) : 12 & t && jc.call(this, e);
                }
                function zc(t) {
                    for (var e = t.srcEvent.clientX, i = t.srcEvent.clientY, n = 0; n < this.lastTouches.length; n++) {
                        var s = this.lastTouches[n],
                            r = Math.abs(e - s.x),
                            o = Math.abs(i - s.y);
                        if (r <= 25 && o <= 25) return !0;
                    }
                    return !1;
                }
                var Hc = (function () {
                    return (function (t) {
                        function e(e, i) {
                            var n;
                            return (
                                ((n = t.call(this, e, i) || this).handler = function (t, e, i) {
                                    var s = i.pointerType === Qh,
                                        r = i.pointerType === tc;
                                    if (!(r && i.sourceCapabilities && i.sourceCapabilities.firesTouchEvents)) {
                                        if (s) Fc.call(Mh(Mh(n)), e, i);
                                        else if (r && zc.call(Mh(Mh(n)), i)) return;
                                        n.callback(t, e, i);
                                    }
                                }),
                                (n.touch = new Ac(n.manager, n.handler)),
                                (n.mouse = new Lc(n.manager, n.handler)),
                                (n.primaryTouch = null),
                                (n.lastTouches = []),
                                n
                            );
                        }
                        return (
                            Dh(e, t),
                            (e.prototype.destroy = function () {
                                this.touch.destroy(), this.mouse.destroy();
                            }),
                            e
                        );
                    })(_c);
                })();
                function Wc(t, e, i) {
                    return !!Array.isArray(t) && (rc(t, i[e], i), !0);
                }
                var Bc = 32,
                    Yc = 1;
                function Uc(t, e) {
                    var i = e.manager;
                    return i ? i.get(t) : t;
                }
                function Gc(t) {
                    return 16 & t ? "cancel" : 8 & t ? "end" : 4 & t ? "move" : 2 & t ? "start" : "";
                }
                var qc = (function () {
                        function t(t) {
                            void 0 === t && (t = {}), (this.options = Eh({ enable: !0 }, t)), (this.id = Yc++), (this.manager = null), (this.state = 1), (this.simultaneous = {}), (this.requireFail = []);
                        }
                        var e = t.prototype;
                        return (
                            (e.set = function (t) {
                                return Nh(this.options, t), this.manager && this.manager.touchAction.update(), this;
                            }),
                            (e.recognizeWith = function (t) {
                                if (Wc(t, "recognizeWith", this)) return this;
                                var e = this.simultaneous;
                                return e[(t = Uc(t, this)).id] || ((e[t.id] = t), t.recognizeWith(this)), this;
                            }),
                            (e.dropRecognizeWith = function (t) {
                                return Wc(t, "dropRecognizeWith", this) || ((t = Uc(t, this)), delete this.simultaneous[t.id]), this;
                            }),
                            (e.requireFailure = function (t) {
                                if (Wc(t, "requireFailure", this)) return this;
                                var e = this.requireFail;
                                return -1 === kc(e, (t = Uc(t, this))) && (e.push(t), t.requireFailure(this)), this;
                            }),
                            (e.dropRequireFailure = function (t) {
                                if (Wc(t, "dropRequireFailure", this)) return this;
                                t = Uc(t, this);
                                var e = kc(this.requireFail, t);
                                return e > -1 && this.requireFail.splice(e, 1), this;
                            }),
                            (e.hasRequireFailures = function () {
                                return this.requireFail.length > 0;
                            }),
                            (e.canRecognizeWith = function (t) {
                                return !!this.simultaneous[t.id];
                            }),
                            (e.emit = function (t) {
                                var e = this,
                                    i = this.state;
                                function n(i) {
                                    e.manager.emit(i, t);
                                }
                                i < 8 && n(e.options.event + Gc(i)), n(e.options.event), t.additionalEvent && n(t.additionalEvent), i >= 8 && n(e.options.event + Gc(i));
                            }),
                            (e.tryEmit = function (t) {
                                if (this.canEmit()) return this.emit(t);
                                this.state = Bc;
                            }),
                            (e.canEmit = function () {
                                for (var t = 0; t < this.requireFail.length; ) {
                                    if (!(33 & this.requireFail[t].state)) return !1;
                                    t++;
                                }
                                return !0;
                            }),
                            (e.recognize = function (t) {
                                var e = Nh({}, t);
                                if (!oc(this.options.enable, [this, e])) return this.reset(), void (this.state = Bc);
                                56 & this.state && (this.state = 1), (this.state = this.process(e)), 30 & this.state && this.tryEmit(e);
                            }),
                            (e.process = function (t) {}),
                            (e.getTouchAction = function () {}),
                            (e.reset = function () {}),
                            t
                        );
                    })(),
                    Xc = (function (t) {
                        function e(e) {
                            var i;
                            return (
                                void 0 === e && (e = {}),
                                ((i = t.call(this, Eh({ event: "tap", pointers: 1, taps: 1, interval: 300, time: 250, threshold: 9, posThreshold: 10 }, e)) || this).pTime = !1),
                                (i.pCenter = !1),
                                (i._timer = null),
                                (i._input = null),
                                (i.count = 0),
                                i
                            );
                        }
                        Dh(e, t);
                        var i = e.prototype;
                        return (
                            (i.getTouchAction = function () {
                                return [Yh];
                            }),
                            (i.process = function (t) {
                                var e = this,
                                    i = this.options,
                                    n = t.pointers.length === i.pointers,
                                    s = t.distance < i.threshold,
                                    r = t.deltaTime < i.time;
                                if ((this.reset(), 1 & t.eventType && 0 === this.count)) return this.failTimeout();
                                if (s && r && n) {
                                    if (4 !== t.eventType) return this.failTimeout();
                                    var o = !this.pTime || t.timeStamp - this.pTime < i.interval,
                                        a = !this.pCenter || uc(this.pCenter, t.center) < i.posThreshold;
                                    if (((this.pTime = t.timeStamp), (this.pCenter = t.center), a && o ? (this.count += 1) : (this.count = 1), (this._input = t), 0 === this.count % i.taps))
                                        return this.hasRequireFailures()
                                            ? ((this._timer = setTimeout(function () {
                                                  (e.state = 8), e.tryEmit();
                                              }, i.interval)),
                                              2)
                                            : 8;
                                }
                                return Bc;
                            }),
                            (i.failTimeout = function () {
                                var t = this;
                                return (
                                    (this._timer = setTimeout(function () {
                                        t.state = Bc;
                                    }, this.options.interval)),
                                    Bc
                                );
                            }),
                            (i.reset = function () {
                                clearTimeout(this._timer);
                            }),
                            (i.emit = function () {
                                8 === this.state && ((this._input.tapCount = this.count), this.manager.emit(this.options.event, this._input));
                            }),
                            e
                        );
                    })(qc),
                    Kc = (function (t) {
                        function e(e) {
                            return void 0 === e && (e = {}), t.call(this, Eh({ pointers: 1 }, e)) || this;
                        }
                        Dh(e, t);
                        var i = e.prototype;
                        return (
                            (i.attrTest = function (t) {
                                var e = this.options.pointers;
                                return 0 === e || t.pointers.length === e;
                            }),
                            (i.process = function (t) {
                                var e = this.state,
                                    i = t.eventType,
                                    n = 6 & e,
                                    s = this.attrTest(t);
                                return n && (8 & i || !s) ? 16 | e : n || s ? (4 & i ? 8 | e : 2 & e ? 4 | e : 2) : Bc;
                            }),
                            e
                        );
                    })(qc);
                function Zc(t) {
                    return t === ec ? "down" : 8 === t ? "up" : 2 === t ? "left" : 4 === t ? "right" : "";
                }
                var Jc = (function (t) {
                        function e(e) {
                            var i;
                            return void 0 === e && (e = {}), ((i = t.call(this, Eh({ event: "pan", threshold: 10, pointers: 1, direction: 30 }, e)) || this).pX = null), (i.pY = null), i;
                        }
                        Dh(e, t);
                        var i = e.prototype;
                        return (
                            (i.getTouchAction = function () {
                                var t = this.options.direction,
                                    e = [];
                                return 6 & t && e.push(qh), t & ic && e.push(Gh), e;
                            }),
                            (i.directionTest = function (t) {
                                var e = this.options,
                                    i = !0,
                                    n = t.distance,
                                    s = t.direction,
                                    r = t.deltaX,
                                    o = t.deltaY;
                                return (
                                    s & e.direction ||
                                        (6 & e.direction ? ((s = 0 === r ? 1 : r < 0 ? 2 : 4), (i = r !== this.pX), (n = Math.abs(t.deltaX))) : ((s = 0 === o ? 1 : o < 0 ? 8 : ec), (i = o !== this.pY), (n = Math.abs(t.deltaY)))),
                                    (t.direction = s),
                                    i && n > e.threshold && s & e.direction
                                );
                            }),
                            (i.attrTest = function (t) {
                                return Kc.prototype.attrTest.call(this, t) && (2 & this.state || (!(2 & this.state) && this.directionTest(t)));
                            }),
                            (i.emit = function (e) {
                                (this.pX = e.deltaX), (this.pY = e.deltaY);
                                var i = Zc(e.direction);
                                i && (e.additionalEvent = this.options.event + i), t.prototype.emit.call(this, e);
                            }),
                            e
                        );
                    })(Kc),
                    Qc = (function (t) {
                        function e(e) {
                            return void 0 === e && (e = {}), t.call(this, Eh({ event: "swipe", threshold: 10, velocity: 0.3, direction: 30, pointers: 1 }, e)) || this;
                        }
                        Dh(e, t);
                        var i = e.prototype;
                        return (
                            (i.getTouchAction = function () {
                                return Jc.prototype.getTouchAction.call(this);
                            }),
                            (i.attrTest = function (e) {
                                var i,
                                    n = this.options.direction;
                                return (
                                    30 & n ? (i = e.overallVelocity) : 6 & n ? (i = e.overallVelocityX) : n & ic && (i = e.overallVelocityY),
                                    t.prototype.attrTest.call(this, e) && n & e.offsetDirection && e.distance > this.options.threshold && e.maxPointers === this.options.pointers && Lh(i) > this.options.velocity && 4 & e.eventType
                                );
                            }),
                            (i.emit = function (t) {
                                var e = Zc(t.offsetDirection);
                                e && this.manager.emit(this.options.event + e, t), this.manager.emit(this.options.event, t);
                            }),
                            e
                        );
                    })(Kc),
                    td = (function (t) {
                        function e(e) {
                            return void 0 === e && (e = {}), t.call(this, Eh({ event: "pinch", threshold: 0, pointers: 2 }, e)) || this;
                        }
                        Dh(e, t);
                        var i = e.prototype;
                        return (
                            (i.getTouchAction = function () {
                                return [Uh];
                            }),
                            (i.attrTest = function (e) {
                                return t.prototype.attrTest.call(this, e) && (Math.abs(e.scale - 1) > this.options.threshold || 2 & this.state);
                            }),
                            (i.emit = function (e) {
                                if (1 !== e.scale) {
                                    var i = e.scale < 1 ? "in" : "out";
                                    e.additionalEvent = this.options.event + i;
                                }
                                t.prototype.emit.call(this, e);
                            }),
                            e
                        );
                    })(Kc),
                    ed = (function (t) {
                        function e(e) {
                            return void 0 === e && (e = {}), t.call(this, Eh({ event: "rotate", threshold: 0, pointers: 2 }, e)) || this;
                        }
                        Dh(e, t);
                        var i = e.prototype;
                        return (
                            (i.getTouchAction = function () {
                                return [Uh];
                            }),
                            (i.attrTest = function (e) {
                                return t.prototype.attrTest.call(this, e) && (Math.abs(e.rotation) > this.options.threshold || 2 & this.state);
                            }),
                            e
                        );
                    })(Kc),
                    id = (function (t) {
                        function e(e) {
                            var i;
                            return void 0 === e && (e = {}), ((i = t.call(this, Eh({ event: "press", pointers: 1, time: 251, threshold: 9 }, e)) || this)._timer = null), (i._input = null), i;
                        }
                        Dh(e, t);
                        var i = e.prototype;
                        return (
                            (i.getTouchAction = function () {
                                return [Bh];
                            }),
                            (i.process = function (t) {
                                var e = this,
                                    i = this.options,
                                    n = t.pointers.length === i.pointers,
                                    s = t.distance < i.threshold,
                                    r = t.deltaTime > i.time;
                                if (((this._input = t), !s || !n || (12 & t.eventType && !r))) this.reset();
                                else if (1 & t.eventType)
                                    this.reset(),
                                        (this._timer = setTimeout(function () {
                                            (e.state = 8), e.tryEmit();
                                        }, i.time));
                                else if (4 & t.eventType) return 8;
                                return Bc;
                            }),
                            (i.reset = function () {
                                clearTimeout(this._timer);
                            }),
                            (i.emit = function (t) {
                                8 === this.state && (t && 4 & t.eventType ? this.manager.emit(this.options.event + "up", t) : ((this._input.timeStamp = jh()), this.manager.emit(this.options.event, this._input)));
                            }),
                            e
                        );
                    })(qc),
                    nd = {
                        domEvents: !1,
                        touchAction: Wh,
                        enable: !0,
                        inputTarget: null,
                        inputClass: null,
                        cssProps: { userSelect: "none", touchSelect: "none", touchCallout: "none", contentZooming: "none", userDrag: "none", tapHighlightColor: "rgba(0,0,0,0)" },
                    },
                    sd = [[ed, { enable: !1 }], [td, { enable: !1 }, ["rotate"]], [Qc, { direction: 6 }], [Jc, { direction: 6 }, ["swipe"]], [Xc], [Xc, { event: "doubletap", taps: 2 }, ["tap"]], [id]];
                function rd(t, e) {
                    var i,
                        n = t.element;
                    n.style &&
                        (rc(t.options.cssProps, function (s, r) {
                            (i = Fh(n.style, r)), e ? ((t.oldCssProps[i] = n.style[i]), (n.style[i] = s)) : (n.style[i] = t.oldCssProps[i] || "");
                        }),
                        e || (t.oldCssProps = {}));
                }
                var od = (function () {
                        function t(t, e) {
                            var i,
                                n = this;
                            (this.options = Nh({}, nd, e || {})),
                                (this.options.inputTarget = this.options.inputTarget || t),
                                (this.handlers = {}),
                                (this.session = {}),
                                (this.recognizers = []),
                                (this.oldCssProps = {}),
                                (this.element = t),
                                (this.input = new ((i = this).options.inputClass || (Zh ? Tc : Jh ? Ac : Kh ? Hc : Lc))(i, vc)),
                                (this.touchAction = new lc(this, this.options.touchAction)),
                                rd(this, !0),
                                rc(
                                    this.options.recognizers,
                                    function (t) {
                                        var e = n.add(new t[0](t[1]));
                                        t[2] && e.recognizeWith(t[2]), t[3] && e.requireFailure(t[3]);
                                    },
                                    this
                                );
                        }
                        var e = t.prototype;
                        return (
                            (e.set = function (t) {
                                return Nh(this.options, t), t.touchAction && this.touchAction.update(), t.inputTarget && (this.input.destroy(), (this.input.target = t.inputTarget), this.input.init()), this;
                            }),
                            (e.stop = function (t) {
                                this.session.stopped = t ? 2 : 1;
                            }),
                            (e.recognize = function (t) {
                                var e = this.session;
                                if (!e.stopped) {
                                    var i;
                                    this.touchAction.preventDefaults(t);
                                    var n = this.recognizers,
                                        s = e.curRecognizer;
                                    (!s || (s && 8 & s.state)) && ((e.curRecognizer = null), (s = null));
                                    for (var r = 0; r < n.length; ) (i = n[r]), 2 === e.stopped || (s && i !== s && !i.canRecognizeWith(s)) ? i.reset() : i.recognize(t), !s && 14 & i.state && ((e.curRecognizer = i), (s = i)), r++;
                                }
                            }),
                            (e.get = function (t) {
                                if (t instanceof qc) return t;
                                for (var e = this.recognizers, i = 0; i < e.length; i++) if (e[i].options.event === t) return e[i];
                                return null;
                            }),
                            (e.add = function (t) {
                                if (Wc(t, "add", this)) return this;
                                var e = this.get(t.options.event);
                                return e && this.remove(e), this.recognizers.push(t), (t.manager = this), this.touchAction.update(), t;
                            }),
                            (e.remove = function (t) {
                                if (Wc(t, "remove", this)) return this;
                                var e = this.get(t);
                                if (t) {
                                    var i = this.recognizers,
                                        n = kc(i, e);
                                    -1 !== n && (i.splice(n, 1), this.touchAction.update());
                                }
                                return this;
                            }),
                            (e.on = function (t, e) {
                                if (void 0 === t || void 0 === e) return this;
                                var i = this.handlers;
                                return (
                                    rc(bc(t), function (t) {
                                        (i[t] = i[t] || []), i[t].push(e);
                                    }),
                                    this
                                );
                            }),
                            (e.off = function (t, e) {
                                if (void 0 === t) return this;
                                var i = this.handlers;
                                return (
                                    rc(bc(t), function (t) {
                                        e ? i[t] && i[t].splice(kc(i[t], e), 1) : delete i[t];
                                    }),
                                    this
                                );
                            }),
                            (e.emit = function (t, e) {
                                this.options.domEvents &&
                                    (function (t, e) {
                                        var i = document.createEvent("Event");
                                        i.initEvent(t, !0, !0), (i.gesture = e), e.target.dispatchEvent(i);
                                    })(t, e);
                                var i = this.handlers[t] && this.handlers[t].slice();
                                if (i && i.length) {
                                    (e.type = t),
                                        (e.preventDefault = function () {
                                            e.srcEvent.preventDefault();
                                        });
                                    for (var n = 0; n < i.length; ) i[n](e), n++;
                                }
                            }),
                            (e.destroy = function () {
                                this.element && rd(this, !1), (this.handlers = {}), (this.session = {}), this.input.destroy(), (this.element = null);
                            }),
                            t
                        );
                    })(),
                    ad = { touchstart: 1, touchmove: 2, touchend: 4, touchcancel: 8 },
                    ld = "touchstart",
                    hd = "touchstart touchmove touchend touchcancel",
                    cd = (function (t) {
                        function e() {
                            var i,
                                n = e.prototype;
                            return (n.evTarget = ld), (n.evWin = hd), ((i = t.apply(this, arguments) || this).started = !1), i;
                        }
                        return (
                            Dh(e, t),
                            (e.prototype.handler = function (t) {
                                var e = ad[t.type];
                                if ((1 === e && (this.started = !0), this.started)) {
                                    var i = dd.call(this, t, e);
                                    12 & e && i[0].length - i[1].length == 0 && (this.started = !1), this.callback(this.manager, e, { pointers: i[0], changedPointers: i[1], pointerType: Qh, srcEvent: t });
                                }
                            }),
                            e
                        );
                    })(_c);
                function dd(t, e) {
                    var i = $c(t.touches),
                        n = $c(t.changedTouches);
                    return 12 & e && (i = Ec(i.concat(n), "identifier", !0)), [i, n];
                }
                function ud(t, e, i) {
                    var n = "DEPRECATED METHOD: " + e + "\n" + i + " AT \n";
                    return function () {
                        var e = new Error("get-stack-trace"),
                            i =
                                e && e.stack
                                    ? e.stack
                                          .replace(/^[^\(]+?[\n$]/gm, "")
                                          .replace(/^\s+at\s+/gm, "")
                                          .replace(/^Object.<anonymous>\s*\(/gm, "{anonymous}()@")
                                    : "Unknown Stack Trace",
                            s = window.console && (window.console.warn || window.console.log);
                        return s && s.call(window.console, n, i), t.apply(this, arguments);
                    };
                }
                var pd = ud(
                        function (t, e, i) {
                            for (var n = Object.keys(e), s = 0; s < n.length; ) (!i || (i && void 0 === t[n[s]])) && (t[n[s]] = e[n[s]]), s++;
                            return t;
                        },
                        "extend",
                        "Use `assign`."
                    ),
                    fd = ud(
                        function (t, e) {
                            return pd(t, e, !0);
                        },
                        "merge",
                        "Use `assign`."
                    );
                function md(t, e, i) {
                    var n,
                        s = e.prototype;
                    ((n = t.prototype = Object.create(s)).constructor = t), (n._super = s), i && Nh(n, i);
                }
                function gd(t, e) {
                    return function () {
                        return t.apply(e, arguments);
                    };
                }
                var vd,
                    bd = (function () {
                        var t = function (t, e) {
                            return void 0 === e && (e = {}), new od(t, Eh({ recognizers: sd.concat() }, e));
                        };
                        return (
                            (t.VERSION = "2.0.17-rc"),
                            (t.DIRECTION_ALL = 30),
                            (t.DIRECTION_DOWN = ec),
                            (t.DIRECTION_LEFT = 2),
                            (t.DIRECTION_RIGHT = 4),
                            (t.DIRECTION_UP = 8),
                            (t.DIRECTION_HORIZONTAL = 6),
                            (t.DIRECTION_VERTICAL = ic),
                            (t.DIRECTION_NONE = 1),
                            (t.DIRECTION_DOWN = ec),
                            (t.INPUT_START = 1),
                            (t.INPUT_MOVE = 2),
                            (t.INPUT_END = 4),
                            (t.INPUT_CANCEL = 8),
                            (t.STATE_POSSIBLE = 1),
                            (t.STATE_BEGAN = 2),
                            (t.STATE_CHANGED = 4),
                            (t.STATE_ENDED = 8),
                            (t.STATE_RECOGNIZED = 8),
                            (t.STATE_CANCELLED = 16),
                            (t.STATE_FAILED = Bc),
                            (t.Manager = od),
                            (t.Input = _c),
                            (t.TouchAction = lc),
                            (t.TouchInput = Ac),
                            (t.MouseInput = Lc),
                            (t.PointerEventInput = Tc),
                            (t.TouchMouseInput = Hc),
                            (t.SingleTouchInput = cd),
                            (t.Recognizer = qc),
                            (t.AttrRecognizer = Kc),
                            (t.Tap = Xc),
                            (t.Pan = Jc),
                            (t.Swipe = Qc),
                            (t.Pinch = td),
                            (t.Rotate = ed),
                            (t.Press = id),
                            (t.on = yc),
                            (t.off = wc),
                            (t.each = rc),
                            (t.merge = fd),
                            (t.extend = pd),
                            (t.bindFn = gd),
                            (t.assign = Nh),
                            (t.inherit = md),
                            (t.bindFn = gd),
                            (t.prefixed = Fh),
                            (t.toArray = $c),
                            (t.inArray = kc),
                            (t.uniqueArray = Ec),
                            (t.splitStr = bc),
                            (t.boolOrFn = oc),
                            (t.hasParent = hc),
                            (t.addEventListeners = yc),
                            (t.removeEventListeners = wc),
                            (t.defaults = Nh({}, nd, { preset: sd })),
                            t
                        );
                    })();
                "undefined" != typeof window
                    ? (vd = (function t(e, i) {
                          var n = i || { preventDefault: !1 };
                          if (e.Manager) {
                              var s = e,
                                  r = function (e, i) {
                                      var r = Object.create(n);
                                      return i && s.assign(r, i), t(new s(e, r), r);
                                  };
                              return (
                                  s.assign(r, s),
                                  (r.Manager = function (e, i) {
                                      var r = Object.create(n);
                                      return i && s.assign(r, i), t(new s.Manager(e, r), r);
                                  }),
                                  r
                              );
                          }
                          var o = Object.create(e),
                              a = e.element;
                          function l(t) {
                              return t.match(/[^ ]+/g);
                          }
                          function h(t) {
                              if ("hammer.input" !== t.type) {
                                  if ((t.srcEvent._handled || (t.srcEvent._handled = {}), t.srcEvent._handled[t.type])) return;
                                  t.srcEvent._handled[t.type] = !0;
                              }
                              var e = !1;
                              t.stopPropagation = function () {
                                  e = !0;
                              };
                              var i = t.srcEvent.stopPropagation.bind(t.srcEvent);
                              "function" == typeof i &&
                                  (t.srcEvent.stopPropagation = function () {
                                      i(), t.stopPropagation();
                                  }),
                                  (t.firstTarget = $h);
                              for (var n = $h; n && !e; ) {
                                  var s = n.hammer;
                                  if (s) for (var r, o = 0; o < s.length; o++) if ((r = s[o]._handlers[t.type])) for (var a = 0; a < r.length && !e; a++) r[a](t);
                                  n = n.parentNode;
                              }
                          }
                          return (
                              a.hammer || (a.hammer = []),
                              a.hammer.push(o),
                              e.on("hammer.input", function (t) {
                                  (!0 !== n.preventDefault && n.preventDefault !== t.pointerType) || t.preventDefault(), t.isFirst && ($h = t.target);
                              }),
                              (o._handlers = {}),
                              (o.on = function (t, i) {
                                  return (
                                      l(t).forEach(function (t) {
                                          var n = o._handlers[t];
                                          n || ((o._handlers[t] = n = []), e.on(t, h)), n.push(i);
                                      }),
                                      o
                                  );
                              }),
                              (o.off = function (t, i) {
                                  return (
                                      l(t).forEach(function (t) {
                                          var n = o._handlers[t];
                                          n &&
                                              ((n = i
                                                  ? n.filter(function (t) {
                                                        return t !== i;
                                                    })
                                                  : []).length > 0
                                                  ? (o._handlers[t] = n)
                                                  : (e.off(t, h), delete o._handlers[t]));
                                      }),
                                      o
                                  );
                              }),
                              (o.emit = function (t, i) {
                                  ($h = i.target), e.emit(t, i);
                              }),
                              (o.destroy = function () {
                                  var t = e.element.hammer,
                                      i = t.indexOf(o);
                                  -1 !== i && t.splice(i, 1), t.length || delete e.element.hammer, (o._handlers = {}), e.destroy();
                              }),
                              o
                          );
                      })(window.Hammer || bd, { preventDefault: "mouse" }))
                    : (vd = function () {
                          return {
                              on: (t = function () {}),
                              off: t,
                              destroy: t,
                              emit: t,
                              get: function (e) {
                                  return { set: t };
                              },
                          };
                          var t;
                      });
                var yd = vd;
                function wd(t, e) {
                    (e.inputHandler = function (t) {
                        t.isFirst && e(t);
                    }),
                        t.on("hammer.input", e.inputHandler);
                }
                var xd = (function () {
                    function t(e, i, n, s, r) {
                        hl(this, t),
                            (this.moment = (r && r.moment) || Xl),
                            (this.options = r || {}),
                            (this.current = this.moment()),
                            (this._start = this.moment()),
                            (this._end = this.moment()),
                            (this.autoScale = !0),
                            (this.scale = "day"),
                            (this.step = 1),
                            this.setRange(e, i, n),
                            (this.switchedDay = !1),
                            (this.switchedMonth = !1),
                            (this.switchedYear = !1),
                            er(s) ? (this.hiddenDates = s) : (this.hiddenDates = null != s ? [s] : []),
                            (this.format = t.FORMAT);
                    }
                    return (
                        dl(
                            t,
                            [
                                {
                                    key: "setMoment",
                                    value: function (t) {
                                        (this.moment = t), (this.current = this.moment(this.current.valueOf())), (this._start = this.moment(this._start.valueOf())), (this._end = this.moment(this._end.valueOf()));
                                    },
                                },
                                {
                                    key: "setFormat",
                                    value: function (e) {
                                        var i = ih.deepExtend({}, t.FORMAT);
                                        this.format = ih.deepExtend(i, e);
                                    },
                                },
                                {
                                    key: "setRange",
                                    value: function (t, e, i) {
                                        if (!(t instanceof Date && e instanceof Date)) throw "No legal start or end date in method setRange";
                                        (this._start = null != t ? this.moment(t.valueOf()) : Us()), (this._end = null != e ? this.moment(e.valueOf()) : Us()), this.autoScale && this.setMinimumStep(i);
                                    },
                                },
                                {
                                    key: "start",
                                    value: function () {
                                        (this.current = this._start.clone()), this.roundToMinor();
                                    },
                                },
                                {
                                    key: "roundToMinor",
                                    value: function () {
                                        switch (("week" == this.scale && this.current.weekday(0), this.scale)) {
                                            case "year":
                                                this.current.year(this.step * Math.floor(this.current.year() / this.step)), this.current.month(0);
                                            case "month":
                                                this.current.date(1);
                                            case "week":
                                            case "day":
                                            case "weekday":
                                                this.current.hours(0);
                                            case "hour":
                                                this.current.minutes(0);
                                            case "minute":
                                                this.current.seconds(0);
                                            case "second":
                                                this.current.milliseconds(0);
                                        }
                                        if (1 != this.step) {
                                            var t = this.current.clone();
                                            switch (this.scale) {
                                                case "millisecond":
                                                    this.current.subtract(this.current.milliseconds() % this.step, "milliseconds");
                                                    break;
                                                case "second":
                                                    this.current.subtract(this.current.seconds() % this.step, "seconds");
                                                    break;
                                                case "minute":
                                                    this.current.subtract(this.current.minutes() % this.step, "minutes");
                                                    break;
                                                case "hour":
                                                    this.current.subtract(this.current.hours() % this.step, "hours");
                                                    break;
                                                case "weekday":
                                                case "day":
                                                    this.current.subtract((this.current.date() - 1) % this.step, "day");
                                                    break;
                                                case "week":
                                                    this.current.subtract(this.current.week() % this.step, "week");
                                                    break;
                                                case "month":
                                                    this.current.subtract(this.current.month() % this.step, "month");
                                                    break;
                                                case "year":
                                                    this.current.subtract(this.current.year() % this.step, "year");
                                            }
                                            t.isSame(this.current) || (this.current = this.moment(_h(this.hiddenDates, this.current.valueOf(), -1, !0)));
                                        }
                                    },
                                },
                                {
                                    key: "hasNext",
                                    value: function () {
                                        return this.current.valueOf() <= this._end.valueOf();
                                    },
                                },
                                {
                                    key: "next",
                                    value: function () {
                                        var t = this.current.valueOf();
                                        switch (this.scale) {
                                            case "millisecond":
                                                this.current.add(this.step, "millisecond");
                                                break;
                                            case "second":
                                                this.current.add(this.step, "second");
                                                break;
                                            case "minute":
                                                this.current.add(this.step, "minute");
                                                break;
                                            case "hour":
                                                this.current.add(this.step, "hour"),
                                                    this.current.month() < 6
                                                        ? this.current.subtract(this.current.hours() % this.step, "hour")
                                                        : this.current.hours() % this.step != 0 && this.current.add(this.step - (this.current.hours() % this.step), "hour");
                                                break;
                                            case "weekday":
                                            case "day":
                                                this.current.add(this.step, "day");
                                                break;
                                            case "week":
                                                if (0 !== this.current.weekday()) this.current.weekday(0), this.current.add(this.step, "week");
                                                else if (!1 === this.options.showMajorLabels) this.current.add(this.step, "week");
                                                else {
                                                    var e = this.current.clone();
                                                    e.add(1, "week"), e.isSame(this.current, "month") ? this.current.add(this.step, "week") : (this.current.add(this.step, "week"), this.current.date(1));
                                                }
                                                break;
                                            case "month":
                                                this.current.add(this.step, "month");
                                                break;
                                            case "year":
                                                this.current.add(this.step, "year");
                                        }
                                        if (1 != this.step)
                                            switch (this.scale) {
                                                case "millisecond":
                                                    this.current.milliseconds() > 0 && this.current.milliseconds() < this.step && this.current.milliseconds(0);
                                                    break;
                                                case "second":
                                                    this.current.seconds() > 0 && this.current.seconds() < this.step && this.current.seconds(0);
                                                    break;
                                                case "minute":
                                                    this.current.minutes() > 0 && this.current.minutes() < this.step && this.current.minutes(0);
                                                    break;
                                                case "hour":
                                                    this.current.hours() > 0 && this.current.hours() < this.step && this.current.hours(0);
                                                    break;
                                                case "weekday":
                                                case "day":
                                                    this.current.date() < this.step + 1 && this.current.date(1);
                                                    break;
                                                case "week":
                                                    this.current.week() < this.step && this.current.week(1);
                                                    break;
                                                case "month":
                                                    this.current.month() < this.step && this.current.month(0);
                                            }
                                        this.current.valueOf() == t && (this.current = this._end.clone()), (this.switchedDay = !1), (this.switchedMonth = !1), (this.switchedYear = !1), fh(this.moment, this, t);
                                    },
                                },
                                {
                                    key: "getCurrent",
                                    value: function () {
                                        return this.current.clone();
                                    },
                                },
                                {
                                    key: "setScale",
                                    value: function (t) {
                                        t && "string" == typeof t.scale && ((this.scale = t.scale), (this.step = t.step > 0 ? t.step : 1), (this.autoScale = !1));
                                    },
                                },
                                {
                                    key: "setAutoScale",
                                    value: function (t) {
                                        this.autoScale = t;
                                    },
                                },
                                {
                                    key: "setMinimumStep",
                                    value: function (t) {
                                        if (null != t) {
                                            var e = 31104e6,
                                                i = 2592e6,
                                                n = 864e5,
                                                s = 36e5,
                                                r = 6e4,
                                                o = 1e3;
                                            1e3 * e > t && ((this.scale = "year"), (this.step = 1e3)),
                                                500 * e > t && ((this.scale = "year"), (this.step = 500)),
                                                100 * e > t && ((this.scale = "year"), (this.step = 100)),
                                                50 * e > t && ((this.scale = "year"), (this.step = 50)),
                                                10 * e > t && ((this.scale = "year"), (this.step = 10)),
                                                5 * e > t && ((this.scale = "year"), (this.step = 5)),
                                                e > t && ((this.scale = "year"), (this.step = 1)),
                                                7776e6 > t && ((this.scale = "month"), (this.step = 3)),
                                                i > t && ((this.scale = "month"), (this.step = 1)),
                                                6048e5 > t && this.options.showWeekScale && ((this.scale = "week"), (this.step = 1)),
                                                1728e5 > t && ((this.scale = "day"), (this.step = 2)),
                                                n > t && ((this.scale = "day"), (this.step = 1)),
                                                432e5 > t && ((this.scale = "weekday"), (this.step = 1)),
                                                144e5 > t && ((this.scale = "hour"), (this.step = 4)),
                                                s > t && ((this.scale = "hour"), (this.step = 1)),
                                                9e5 > t && ((this.scale = "minute"), (this.step = 15)),
                                                6e5 > t && ((this.scale = "minute"), (this.step = 10)),
                                                3e5 > t && ((this.scale = "minute"), (this.step = 5)),
                                                r > t && ((this.scale = "minute"), (this.step = 1)),
                                                15e3 > t && ((this.scale = "second"), (this.step = 15)),
                                                1e4 > t && ((this.scale = "second"), (this.step = 10)),
                                                5e3 > t && ((this.scale = "second"), (this.step = 5)),
                                                o > t && ((this.scale = "second"), (this.step = 1)),
                                                200 > t && ((this.scale = "millisecond"), (this.step = 200)),
                                                100 > t && ((this.scale = "millisecond"), (this.step = 100)),
                                                50 > t && ((this.scale = "millisecond"), (this.step = 50)),
                                                10 > t && ((this.scale = "millisecond"), (this.step = 10)),
                                                5 > t && ((this.scale = "millisecond"), (this.step = 5)),
                                                1 > t && ((this.scale = "millisecond"), (this.step = 1));
                                        }
                                    },
                                },
                                {
                                    key: "isMajor",
                                    value: function () {
                                        if (1 == this.switchedYear)
                                            switch (this.scale) {
                                                case "year":
                                                case "month":
                                                case "week":
                                                case "weekday":
                                                case "day":
                                                case "hour":
                                                case "minute":
                                                case "second":
                                                case "millisecond":
                                                    return !0;
                                                default:
                                                    return !1;
                                            }
                                        else if (1 == this.switchedMonth)
                                            switch (this.scale) {
                                                case "week":
                                                case "weekday":
                                                case "day":
                                                case "hour":
                                                case "minute":
                                                case "second":
                                                case "millisecond":
                                                    return !0;
                                                default:
                                                    return !1;
                                            }
                                        else if (1 == this.switchedDay)
                                            switch (this.scale) {
                                                case "millisecond":
                                                case "second":
                                                case "minute":
                                                case "hour":
                                                    return !0;
                                                default:
                                                    return !1;
                                            }
                                        var t = this.moment(this.current);
                                        switch (this.scale) {
                                            case "millisecond":
                                                return 0 == t.milliseconds();
                                            case "second":
                                                return 0 == t.seconds();
                                            case "minute":
                                                return 0 == t.hours() && 0 == t.minutes();
                                            case "hour":
                                                return 0 == t.hours();
                                            case "weekday":
                                            case "day":
                                            case "week":
                                                return 1 == t.date();
                                            case "month":
                                                return 0 == t.month();
                                            case "year":
                                            default:
                                                return !1;
                                        }
                                    },
                                },
                                {
                                    key: "getLabelMinor",
                                    value: function (t) {
                                        if ((null == t && (t = this.current), t instanceof Date && (t = this.moment(t)), "function" == typeof this.format.minorLabels)) return this.format.minorLabels(t, this.scale, this.step);
                                        var e = this.format.minorLabels[this.scale];
                                        switch (this.scale) {
                                            case "week":
                                                if (1 === t.date() && 0 !== t.weekday()) return "";
                                            default:
                                                return e && e.length > 0 ? this.moment(t).format(e) : "";
                                        }
                                    },
                                },
                                {
                                    key: "getLabelMajor",
                                    value: function (t) {
                                        if ((null == t && (t = this.current), t instanceof Date && (t = this.moment(t)), "function" == typeof this.format.majorLabels)) return this.format.majorLabels(t, this.scale, this.step);
                                        var e = this.format.majorLabels[this.scale];
                                        return e && e.length > 0 ? this.moment(t).format(e) : "";
                                    },
                                },
                                {
                                    key: "getClassName",
                                    value: function () {
                                        var t,
                                            e = this.moment,
                                            i = this.moment(this.current),
                                            n = i.locale ? i.locale("en") : i.lang("en"),
                                            s = this.step,
                                            r = [];
                                        function o(t) {
                                            return (t / s) % 2 == 0 ? " vis-even" : " vis-odd";
                                        }
                                        function a(t) {
                                            return t.isSame(Us(), "day") ? " vis-today" : t.isSame(e().add(1, "day"), "day") ? " vis-tomorrow" : t.isSame(e().add(-1, "day"), "day") ? " vis-yesterday" : "";
                                        }
                                        function l(t) {
                                            return t.isSame(Us(), "week") ? " vis-current-week" : "";
                                        }
                                        function h(t) {
                                            return t.isSame(Us(), "month") ? " vis-current-month" : "";
                                        }
                                        switch (this.scale) {
                                            case "millisecond":
                                                r.push(a(n)), r.push(o(n.milliseconds()));
                                                break;
                                            case "second":
                                                r.push(a(n)), r.push(o(n.seconds()));
                                                break;
                                            case "minute":
                                                r.push(a(n)), r.push(o(n.minutes()));
                                                break;
                                            case "hour":
                                                r.push(pr((t = "vis-h".concat(n.hours()))).call(t, 4 == this.step ? "-h" + (n.hours() + 4) : "")), r.push(a(n)), r.push(o(n.hours()));
                                                break;
                                            case "weekday":
                                                r.push("vis-".concat(n.format("dddd").toLowerCase())), r.push(a(n)), r.push(l(n)), r.push(o(n.date()));
                                                break;
                                            case "day":
                                                r.push("vis-day".concat(n.date())),
                                                    r.push("vis-".concat(n.format("MMMM").toLowerCase())),
                                                    r.push(a(n)),
                                                    r.push(h(n)),
                                                    r.push(this.step <= 2 ? a(n) : ""),
                                                    r.push(this.step <= 2 ? "vis-".concat(n.format("dddd").toLowerCase()) : ""),
                                                    r.push(o(n.date() - 1));
                                                break;
                                            case "week":
                                                r.push("vis-week".concat(n.format("w"))), r.push(l(n)), r.push(o(n.week()));
                                                break;
                                            case "month":
                                                r.push("vis-".concat(n.format("MMMM").toLowerCase())), r.push(h(n)), r.push(o(n.month()));
                                                break;
                                            case "year":
                                                r.push("vis-year".concat(n.year())),
                                                    r.push(
                                                        (function (t) {
                                                            return t.isSame(Us(), "year") ? " vis-current-year" : "";
                                                        })(n)
                                                    ),
                                                    r.push(o(n.year()));
                                        }
                                        return is(r).call(r, String).join(" ");
                                    },
                                },
                            ],
                            [
                                {
                                    key: "snap",
                                    value: function (t, e, i) {
                                        var n = Xl(t);
                                        if ("year" == e) {
                                            var s = n.year() + Math.round(n.month() / 12);
                                            n.year(Math.round(s / i) * i), n.month(0), n.date(0), n.hours(0), n.minutes(0), n.seconds(0), n.milliseconds(0);
                                        } else if ("month" == e) n.date() > 15 ? (n.date(1), n.add(1, "month")) : n.date(1), n.hours(0), n.minutes(0), n.seconds(0), n.milliseconds(0);
                                        else if ("week" == e) n.weekday() > 2 ? (n.weekday(0), n.add(1, "week")) : n.weekday(0), n.hours(0), n.minutes(0), n.seconds(0), n.milliseconds(0);
                                        else if ("day" == e) {
                                            switch (i) {
                                                case 5:
                                                case 2:
                                                    n.hours(24 * Math.round(n.hours() / 24));
                                                    break;
                                                default:
                                                    n.hours(12 * Math.round(n.hours() / 12));
                                            }
                                            n.minutes(0), n.seconds(0), n.milliseconds(0);
                                        } else if ("weekday" == e) {
                                            switch (i) {
                                                case 5:
                                                case 2:
                                                    n.hours(12 * Math.round(n.hours() / 12));
                                                    break;
                                                default:
                                                    n.hours(6 * Math.round(n.hours() / 6));
                                            }
                                            n.minutes(0), n.seconds(0), n.milliseconds(0);
                                        } else if ("hour" == e) {
                                            switch (i) {
                                                case 4:
                                                    n.minutes(60 * Math.round(n.minutes() / 60));
                                                    break;
                                                default:
                                                    n.minutes(30 * Math.round(n.minutes() / 30));
                                            }
                                            n.seconds(0), n.milliseconds(0);
                                        } else if ("minute" == e) {
                                            switch (i) {
                                                case 15:
                                                case 10:
                                                    n.minutes(5 * Math.round(n.minutes() / 5)), n.seconds(0);
                                                    break;
                                                case 5:
                                                    n.seconds(60 * Math.round(n.seconds() / 60));
                                                    break;
                                                default:
                                                    n.seconds(30 * Math.round(n.seconds() / 30));
                                            }
                                            n.milliseconds(0);
                                        } else if ("second" == e)
                                            switch (i) {
                                                case 15:
                                                case 10:
                                                    n.seconds(5 * Math.round(n.seconds() / 5)), n.milliseconds(0);
                                                    break;
                                                case 5:
                                                    n.milliseconds(1e3 * Math.round(n.milliseconds() / 1e3));
                                                    break;
                                                default:
                                                    n.milliseconds(500 * Math.round(n.milliseconds() / 500));
                                            }
                                        else if ("millisecond" == e) {
                                            var r = i > 5 ? i / 2 : 1;
                                            n.milliseconds(Math.round(n.milliseconds() / r) * r);
                                        }
                                        return n;
                                    },
                                },
                            ]
                        ),
                        t
                    );
                })();
                function _d(t, e) {
                    void 0 === e && (e = {});
                    var i = e.insertAt;
                    if (t && "undefined" != typeof document) {
                        var n = document.head || document.getElementsByTagName("head")[0],
                            s = document.createElement("style");
                        (s.type = "text/css"), "top" === i && n.firstChild ? n.insertBefore(s, n.firstChild) : n.appendChild(s), s.styleSheet ? (s.styleSheet.cssText = t) : s.appendChild(document.createTextNode(t));
                    }
                }
                xd.FORMAT = {
                    minorLabels: { millisecond: "SSS", second: "s", minute: "HH:mm", hour: "HH:mm", weekday: "ddd D", day: "D", week: "w", month: "MMM", year: "YYYY" },
                    majorLabels: { millisecond: "HH:mm:ss", second: "D MMMM HH:mm", minute: "ddd D MMMM", hour: "ddd D MMMM", weekday: "MMMM YYYY", day: "MMMM YYYY", week: "MMMM YYYY", month: "YYYY", year: "" },
                };
                function kd(t) {
                    var e = (function () {
                        if ("undefined" == typeof Reflect || !go) return !1;
                        if (go.sham) return !1;
                        if ("function" == typeof Proxy) return !0;
                        try {
                            return Date.prototype.toString.call(go(Date, [], function () {})), !0;
                        } catch (t) {
                            return !1;
                        }
                    })();
                    return function () {
                        var i,
                            n = Xo(t);
                        if (e) {
                            var s = Xo(this).constructor;
                            i = go(n, arguments, s);
                        } else i = n.apply(this, arguments);
                        return Go(this, i);
                    };
                }
                _d(
                    ".vis-time-axis {\n  position: relative;\n  overflow: hidden;\n}\n\n.vis-time-axis.vis-foreground {\n  top: 0;\n  left: 0;\n  width: 100%;\n}\n\n.vis-time-axis.vis-background {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n}\n\n.vis-time-axis .vis-text {\n  position: absolute;\n  color: #4d4d4d;\n  padding: 3px;\n  overflow: hidden;\n  box-sizing: border-box;\n\n  white-space: nowrap;\n}\n\n.vis-time-axis .vis-text.vis-measure {\n  position: absolute;\n  padding-left: 0;\n  padding-right: 0;\n  margin-left: 0;\n  margin-right: 0;\n  visibility: hidden;\n}\n\n.vis-time-axis .vis-grid.vis-vertical {\n  position: absolute;\n  border-left: 1px solid;\n}\n\n.vis-time-axis .vis-grid.vis-vertical-rtl {\n  position: absolute;\n  border-right: 1px solid;\n}\n\n.vis-time-axis .vis-grid.vis-minor {\n  border-color: #e5e5e5;\n}\n\n.vis-time-axis .vis-grid.vis-major {\n  border-color: #bfbfbf;\n}\n"
                );
                var Pd = (function (t) {
                        Uo(i, t);
                        var e = kd(i);
                        function i(t, n) {
                            var s;
                            return (
                                hl(this, i),
                                ((s = e.call(this)).dom = { foreground: null, lines: [], majorTexts: [], minorTexts: [], redundant: { lines: [], majorTexts: [], minorTexts: [] } }),
                                (s.props = { range: { start: 0, end: 0, minimumStep: 0 }, lineTop: 0 }),
                                (s.defaultOptions = { orientation: { axis: "bottom" }, showMinorLabels: !0, showMajorLabels: !0, showWeekScale: !1, maxMinorChars: 7, format: ih.extend({}, xd.FORMAT), moment: Xl, timeAxis: null }),
                                (s.options = ih.extend({}, s.defaultOptions)),
                                (s.body = t),
                                s._create(),
                                s.setOptions(n),
                                s
                            );
                        }
                        return (
                            dl(i, [
                                {
                                    key: "setOptions",
                                    value: function (t) {
                                        t &&
                                            (ih.selectiveExtend(["showMinorLabels", "showMajorLabels", "showWeekScale", "maxMinorChars", "hiddenDates", "timeAxis", "moment", "rtl"], this.options, t),
                                            ih.selectiveDeepExtend(["format"], this.options, t),
                                            "orientation" in t &&
                                                ("string" == typeof t.orientation
                                                    ? (this.options.orientation.axis = t.orientation)
                                                    : "object" === sr(t.orientation) && "axis" in t.orientation && (this.options.orientation.axis = t.orientation.axis)),
                                            "locale" in t && ("function" == typeof Xl.locale ? Xl.locale(t.locale) : Xl.lang(t.locale)));
                                    },
                                },
                                {
                                    key: "_create",
                                    value: function () {
                                        (this.dom.foreground = document.createElement("div")),
                                            (this.dom.background = document.createElement("div")),
                                            (this.dom.foreground.className = "vis-time-axis vis-foreground"),
                                            (this.dom.background.className = "vis-time-axis vis-background");
                                    },
                                },
                                {
                                    key: "destroy",
                                    value: function () {
                                        this.dom.foreground.parentNode && this.dom.foreground.parentNode.removeChild(this.dom.foreground),
                                            this.dom.background.parentNode && this.dom.background.parentNode.removeChild(this.dom.background),
                                            (this.body = null);
                                    },
                                },
                                {
                                    key: "redraw",
                                    value: function () {
                                        var t = this.props,
                                            e = this.dom.foreground,
                                            i = this.dom.background,
                                            n = "top" == this.options.orientation.axis ? this.body.dom.top : this.body.dom.bottom,
                                            s = e.parentNode !== n;
                                        this._calculateCharSize();
                                        var r = this.options.showMinorLabels && "none" !== this.options.orientation.axis,
                                            o = this.options.showMajorLabels && "none" !== this.options.orientation.axis;
                                        (t.minorLabelHeight = r ? t.minorCharHeight : 0),
                                            (t.majorLabelHeight = o ? t.majorCharHeight : 0),
                                            (t.height = t.minorLabelHeight + t.majorLabelHeight),
                                            (t.width = e.offsetWidth),
                                            (t.minorLineHeight = this.body.domProps.root.height - t.majorLabelHeight - ("top" == this.options.orientation.axis ? this.body.domProps.bottom.height : this.body.domProps.top.height)),
                                            (t.minorLineWidth = 1),
                                            (t.majorLineHeight = t.minorLineHeight + t.majorLabelHeight),
                                            (t.majorLineWidth = 1);
                                        var a = e.nextSibling,
                                            l = i.nextSibling;
                                        return (
                                            e.parentNode && e.parentNode.removeChild(e),
                                            i.parentNode && i.parentNode.removeChild(i),
                                            (e.style.height = "".concat(this.props.height, "px")),
                                            this._repaintLabels(),
                                            a ? n.insertBefore(e, a) : n.appendChild(e),
                                            l ? this.body.dom.backgroundVertical.insertBefore(i, l) : this.body.dom.backgroundVertical.appendChild(i),
                                            this._isResized() || s
                                        );
                                    },
                                },
                                {
                                    key: "_repaintLabels",
                                    value: function () {
                                        var t = this.options.orientation.axis,
                                            e = ih.convert(this.body.range.start, "Number"),
                                            i = ih.convert(this.body.range.end, "Number"),
                                            n = this.body.util.toTime((this.props.minorCharWidth || 10) * this.options.maxMinorChars).valueOf(),
                                            s = n - wh(this.options.moment, this.body.hiddenDates, this.body.range, n);
                                        s -= this.body.util.toTime(0).valueOf();
                                        var r = new xd(new Date(e), new Date(i), s, this.body.hiddenDates, this.options);
                                        r.setMoment(this.options.moment), this.options.format && r.setFormat(this.options.format), this.options.timeAxis && r.setScale(this.options.timeAxis), (this.step = r);
                                        var o,
                                            a,
                                            l,
                                            h,
                                            c,
                                            d,
                                            u = this.dom;
                                        (u.redundant.lines = u.lines), (u.redundant.majorTexts = u.majorTexts), (u.redundant.minorTexts = u.minorTexts), (u.lines = []), (u.majorTexts = []), (u.minorTexts = []);
                                        var p,
                                            f,
                                            m,
                                            g = 0,
                                            v = void 0,
                                            b = 0,
                                            y = 1e3;
                                        for (r.start(), a = r.getCurrent(), h = this.body.util.toScreen(a); r.hasNext() && b < y; ) {
                                            switch ((b++, (c = r.isMajor()), (m = r.getClassName()), (o = a), (l = h), r.next(), (a = r.getCurrent()), (p = g), (g = (h = this.body.util.toScreen(a)) - l), r.scale)) {
                                                case "week":
                                                    d = !0;
                                                    break;
                                                default:
                                                    d = g >= 0.4 * p;
                                            }
                                            if (this.options.showMinorLabels && d) {
                                                var w = this._repaintMinorText(l, r.getLabelMinor(o), t, m);
                                                w.style.width = "".concat(g, "px");
                                            }
                                            c && this.options.showMajorLabels
                                                ? (l > 0 && (null == v && (v = l), (w = this._repaintMajorText(l, r.getLabelMajor(o), t, m))), (f = this._repaintMajorLine(l, g, t, m)))
                                                : d
                                                ? (f = this._repaintMinorLine(l, g, t, m))
                                                : f && (f.style.width = "".concat(Vn(f.style.width) + g, "px"));
                                        }
                                        if ((b !== y || Sd || (console.warn("Something is wrong with the Timeline scale. Limited drawing of grid lines to ".concat(y, " lines.")), (Sd = !0)), this.options.showMajorLabels)) {
                                            var x = this.body.util.toTime(0),
                                                _ = r.getLabelMajor(x),
                                                k = _.length * (this.props.majorCharWidth || 10) + 10;
                                            (null == v || k < v) && this._repaintMajorText(0, _, t, m);
                                        }
                                        Mn(ih).call(ih, this.dom.redundant, function (t) {
                                            for (; t.length; ) {
                                                var e = t.pop();
                                                e && e.parentNode && e.parentNode.removeChild(e);
                                            }
                                        });
                                    },
                                },
                                {
                                    key: "_repaintMinorText",
                                    value: function (t, e, i, n) {
                                        var s = this.dom.redundant.minorTexts.shift();
                                        if (!s) {
                                            var r = document.createTextNode("");
                                            (s = document.createElement("div")).appendChild(r), this.dom.foreground.appendChild(s);
                                        }
                                        this.dom.minorTexts.push(s), (s.innerHTML = e);
                                        var o = "top" == i ? this.props.majorLabelHeight : 0;
                                        return this._setXY(s, t, o), (s.className = "vis-text vis-minor ".concat(n)), s;
                                    },
                                },
                                {
                                    key: "_repaintMajorText",
                                    value: function (t, e, i, n) {
                                        var s = this.dom.redundant.majorTexts.shift();
                                        if (!s) {
                                            var r = document.createElement("div");
                                            (s = document.createElement("div")).appendChild(r), this.dom.foreground.appendChild(s);
                                        }
                                        (s.childNodes[0].innerHTML = e), (s.className = "vis-text vis-major ".concat(n));
                                        var o = "top" == i ? 0 : this.props.minorLabelHeight;
                                        return this._setXY(s, t, o), this.dom.majorTexts.push(s), s;
                                    },
                                },
                                {
                                    key: "_setXY",
                                    value: function (t, e, i) {
                                        var n,
                                            s = this.options.rtl ? -1 * e : e;
                                        t.style.transform = pr((n = "translate(".concat(s, "px, "))).call(n, i, "px)");
                                    },
                                },
                                {
                                    key: "_repaintMinorLine",
                                    value: function (t, e, i, n) {
                                        var s,
                                            r = this.dom.redundant.lines.shift();
                                        r || ((r = document.createElement("div")), this.dom.background.appendChild(r)), this.dom.lines.push(r);
                                        var o = this.props;
                                        (r.style.width = "".concat(e, "px")), (r.style.height = "".concat(o.minorLineHeight, "px"));
                                        var a = "top" == i ? o.majorLabelHeight : this.body.domProps.top.height,
                                            l = t - o.minorLineWidth / 2;
                                        return this._setXY(r, l, a), (r.className = pr((s = "vis-grid ".concat(this.options.rtl ? "vis-vertical-rtl" : "vis-vertical", " vis-minor "))).call(s, n)), r;
                                    },
                                },
                                {
                                    key: "_repaintMajorLine",
                                    value: function (t, e, i, n) {
                                        var s,
                                            r = this.dom.redundant.lines.shift();
                                        r || ((r = document.createElement("div")), this.dom.background.appendChild(r)), this.dom.lines.push(r);
                                        var o = this.props;
                                        (r.style.width = "".concat(e, "px")), (r.style.height = "".concat(o.majorLineHeight, "px"));
                                        var a = "top" == i ? 0 : this.body.domProps.top.height,
                                            l = t - o.majorLineWidth / 2;
                                        return this._setXY(r, l, a), (r.className = pr((s = "vis-grid ".concat(this.options.rtl ? "vis-vertical-rtl" : "vis-vertical", " vis-major "))).call(s, n)), r;
                                    },
                                },
                                {
                                    key: "_calculateCharSize",
                                    value: function () {
                                        this.dom.measureCharMinor ||
                                            ((this.dom.measureCharMinor = document.createElement("DIV")),
                                            (this.dom.measureCharMinor.className = "vis-text vis-minor vis-measure"),
                                            (this.dom.measureCharMinor.style.position = "absolute"),
                                            this.dom.measureCharMinor.appendChild(document.createTextNode("0")),
                                            this.dom.foreground.appendChild(this.dom.measureCharMinor)),
                                            (this.props.minorCharHeight = this.dom.measureCharMinor.clientHeight),
                                            (this.props.minorCharWidth = this.dom.measureCharMinor.clientWidth),
                                            this.dom.measureCharMajor ||
                                                ((this.dom.measureCharMajor = document.createElement("DIV")),
                                                (this.dom.measureCharMajor.className = "vis-text vis-major vis-measure"),
                                                (this.dom.measureCharMajor.style.position = "absolute"),
                                                this.dom.measureCharMajor.appendChild(document.createTextNode("0")),
                                                this.dom.foreground.appendChild(this.dom.measureCharMajor)),
                                            (this.props.majorCharHeight = this.dom.measureCharMajor.clientHeight),
                                            (this.props.majorCharWidth = this.dom.measureCharMajor.clientWidth);
                                    },
                                },
                            ]),
                            i
                        );
                    })(ah),
                    Sd = !1;
                function Cd(t) {
                    var e, i;
                    (this.active = !1),
                        (this.dom = { container: t }),
                        (this.dom.overlay = document.createElement("div")),
                        (this.dom.overlay.className = "vis-overlay"),
                        this.dom.container.appendChild(this.dom.overlay),
                        (this.hammer = yd(this.dom.overlay)),
                        this.hammer.on("tap", ll((e = this._onTapOverlay)).call(e, this));
                    var n = this,
                        s = ["tap", "doubletap", "press", "pinch", "pan", "panstart", "panmove", "panend"];
                    Mn(s).call(s, function (t) {
                        n.hammer.on(t, function (t) {
                            t.stopPropagation();
                        });
                    }),
                        document &&
                            document.body &&
                            ((this.onClick = function (e) {
                                (function (t, e) {
                                    for (; t; ) {
                                        if (t === e) return !0;
                                        t = t.parentNode;
                                    }
                                    return !1;
                                })(e.target, t) || n.deactivate();
                            }),
                            document.body.addEventListener("click", this.onClick)),
                        void 0 !== this.keycharm && this.keycharm.destroy(),
                        (this.keycharm = (function (t) {
                            var e,
                                i = (t && t.preventDefault) || !1,
                                n = (t && t.container) || window,
                                s = {},
                                r = { keydown: {}, keyup: {} },
                                o = {};
                            for (e = 97; e <= 122; e++) o[String.fromCharCode(e)] = { code: e - 97 + 65, shift: !1 };
                            for (e = 65; e <= 90; e++) o[String.fromCharCode(e)] = { code: e, shift: !0 };
                            for (e = 0; e <= 9; e++) o["" + e] = { code: 48 + e, shift: !1 };
                            for (e = 1; e <= 12; e++) o["F" + e] = { code: 111 + e, shift: !1 };
                            for (e = 0; e <= 9; e++) o["num" + e] = { code: 96 + e, shift: !1 };
                            (o["num*"] = { code: 106, shift: !1 }),
                                (o["num+"] = { code: 107, shift: !1 }),
                                (o["num-"] = { code: 109, shift: !1 }),
                                (o["num/"] = { code: 111, shift: !1 }),
                                (o["num."] = { code: 110, shift: !1 }),
                                (o.left = { code: 37, shift: !1 }),
                                (o.up = { code: 38, shift: !1 }),
                                (o.right = { code: 39, shift: !1 }),
                                (o.down = { code: 40, shift: !1 }),
                                (o.space = { code: 32, shift: !1 }),
                                (o.enter = { code: 13, shift: !1 }),
                                (o.shift = { code: 16, shift: void 0 }),
                                (o.esc = { code: 27, shift: !1 }),
                                (o.backspace = { code: 8, shift: !1 }),
                                (o.tab = { code: 9, shift: !1 }),
                                (o.ctrl = { code: 17, shift: !1 }),
                                (o.alt = { code: 18, shift: !1 }),
                                (o.delete = { code: 46, shift: !1 }),
                                (o.pageup = { code: 33, shift: !1 }),
                                (o.pagedown = { code: 34, shift: !1 }),
                                (o["="] = { code: 187, shift: !1 }),
                                (o["-"] = { code: 189, shift: !1 }),
                                (o["]"] = { code: 221, shift: !1 }),
                                (o["["] = { code: 219, shift: !1 });
                            var a = function (t) {
                                    h(t, "keydown");
                                },
                                l = function (t) {
                                    h(t, "keyup");
                                },
                                h = function (t, e) {
                                    if (void 0 !== r[e][t.keyCode]) {
                                        for (var n = r[e][t.keyCode], s = 0; s < n.length; s++) (void 0 === n[s].shift || (1 == n[s].shift && 1 == t.shiftKey) || (0 == n[s].shift && 0 == t.shiftKey)) && n[s].fn(t);
                                        1 == i && t.preventDefault();
                                    }
                                };
                            return (
                                (s.bind = function (t, e, i) {
                                    if ((void 0 === i && (i = "keydown"), void 0 === o[t])) throw new Error("unsupported key: " + t);
                                    void 0 === r[i][o[t].code] && (r[i][o[t].code] = []), r[i][o[t].code].push({ fn: e, shift: o[t].shift });
                                }),
                                (s.bindAll = function (t, e) {
                                    for (var i in (void 0 === e && (e = "keydown"), o)) o.hasOwnProperty(i) && s.bind(i, t, e);
                                }),
                                (s.getKey = function (t) {
                                    for (var e in o)
                                        if (o.hasOwnProperty(e)) {
                                            if (1 == t.shiftKey && 1 == o[e].shift && t.keyCode == o[e].code) return e;
                                            if (0 == t.shiftKey && 0 == o[e].shift && t.keyCode == o[e].code) return e;
                                            if (t.keyCode == o[e].code && "shift" == e) return e;
                                        }
                                    return "unknown key, currently not supported";
                                }),
                                (s.unbind = function (t, e, i) {
                                    if ((void 0 === i && (i = "keydown"), void 0 === o[t])) throw new Error("unsupported key: " + t);
                                    if (void 0 !== e) {
                                        var n = [],
                                            s = r[i][o[t].code];
                                        if (void 0 !== s) for (var a = 0; a < s.length; a++) (s[a].fn == e && s[a].shift == o[t].shift) || n.push(r[i][o[t].code][a]);
                                        r[i][o[t].code] = n;
                                    } else r[i][o[t].code] = [];
                                }),
                                (s.reset = function () {
                                    r = { keydown: {}, keyup: {} };
                                }),
                                (s.destroy = function () {
                                    (r = { keydown: {}, keyup: {} }), n.removeEventListener("keydown", a, !0), n.removeEventListener("keyup", l, !0);
                                }),
                                n.addEventListener("keydown", a, !0),
                                n.addEventListener("keyup", l, !0),
                                s
                            );
                        })()),
                        (this.escListener = ll((i = this.deactivate)).call(i, this));
                }
                _d(
                    ".vis .overlay {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n\n  /* Must be displayed above for example selected Timeline items */\n  z-index: 10;\n}\n\n.vis-active {\n  box-shadow: 0 0 10px #86d5f8;\n}\n"
                ),
                    Th(Cd.prototype),
                    (Cd.current = null),
                    (Cd.prototype.destroy = function () {
                        this.deactivate(),
                            this.dom.overlay.parentNode.removeChild(this.dom.overlay),
                            this.onClick && document.body.removeEventListener("click", this.onClick),
                            void 0 !== this.keycharm && this.keycharm.destroy(),
                            (this.keycharm = null),
                            this.hammer.destroy(),
                            (this.hammer = null);
                    }),
                    (Cd.prototype.activate = function () {
                        var t;
                        Cd.current && Cd.current.deactivate(),
                            (Cd.current = this),
                            (this.active = !0),
                            (this.dom.overlay.style.display = "none"),
                            ih.addClassName(this.dom.container, "vis-active"),
                            this.emit("change"),
                            this.emit("activate"),
                            ll((t = this.keycharm)).call(t, "esc", this.escListener);
                    }),
                    (Cd.prototype.deactivate = function () {
                        Cd.current === this && (Cd.current = null),
                            (this.active = !1),
                            (this.dom.overlay.style.display = ""),
                            ih.removeClassName(this.dom.container, "vis-active"),
                            this.keycharm.unbind("esc", this.escListener),
                            this.emit("change"),
                            this.emit("deactivate");
                    }),
                    (Cd.prototype._onTapOverlay = function (t) {
                        this.activate(), t.stopPropagation();
                    });
                var Id = { current: "current", time: "time", deleteSelected: "Delete selected" },
                    Td = { current: "attuale", time: "tempo", deleteSelected: "Cancella la selezione" },
                    $d = { current: "huidige", time: "tijd", deleteSelected: "Selectie verwijderen" },
                    Ed = { current: "Aktuelle", time: "Zeit", deleteSelected: "Lsche Auswahl" },
                    Dd = { current: "actuel", time: "heure", deleteSelected: "Effacer la selection" },
                    Md = { current: "corriente", time: "hora", deleteSelected: "Eliminar seleccin" },
                    Ad = { current: "", time: "", deleteSelected: " " },
                    Nd = { current: "", time: "", deleteSelected: " " },
                    Od = { current: "aktualny", time: "czas", deleteSelected: "Usu wybrane" },
                    Rd = { current: "atual", time: "data", deleteSelected: "Apagar selecionado" },
                    Vd = { current: "", time: "", deleteSelected: "" },
                    Ld = {
                        en: Id,
                        en_EN: Id,
                        en_US: Id,
                        it: Td,
                        it_IT: Td,
                        it_CH: Td,
                        nl: $d,
                        nl_NL: $d,
                        nl_BE: $d,
                        de: Ed,
                        de_DE: Ed,
                        fr: Dd,
                        fr_FR: Dd,
                        fr_CA: Dd,
                        fr_BE: Dd,
                        es: Md,
                        es_ES: Md,
                        uk: Ad,
                        uk_UA: Ad,
                        ru: Nd,
                        ru_RU: Nd,
                        pl: Od,
                        pl_PL: Od,
                        pt: Rd,
                        pt_BR: Rd,
                        pt_PT: Rd,
                        ja: Vd,
                        ja_JP: Vd,
                    };
                function jd(t) {
                    var e = (function () {
                        if ("undefined" == typeof Reflect || !go) return !1;
                        if (go.sham) return !1;
                        if ("function" == typeof Proxy) return !0;
                        try {
                            return Date.prototype.toString.call(go(Date, [], function () {})), !0;
                        } catch (t) {
                            return !1;
                        }
                    })();
                    return function () {
                        var i,
                            n = Xo(t);
                        if (e) {
                            var s = Xo(this).constructor;
                            i = go(n, arguments, s);
                        } else i = n.apply(this, arguments);
                        return Go(this, i);
                    };
                }
                _d(
                    ".vis-custom-time {\n  background-color: #6E94FF;\n  width: 2px;\n  cursor: move;\n  z-index: 1;\n}\n\n.vis-custom-time > .vis-custom-time-marker {\n  background-color: inherit;\n  color: white;\n  font-size: 12px;\n  white-space: nowrap;\n  padding: 3px 5px;\n  top: 0px;\n  cursor: initial;\n  z-index: inherit;\n}"
                );
                var Fd = (function (t) {
                    Uo(i, t);
                    var e = jd(i);
                    function i(t, n) {
                        var s, r;
                        hl(this, i),
                            ((r = e.call(this)).body = t),
                            (r.defaultOptions = { moment: Xl, locales: Ld, locale: "en", id: void 0, title: void 0 }),
                            (r.options = ih.extend({}, r.defaultOptions)),
                            r.setOptions(n),
                            (r.options.locales = ih.extend({}, Ld, r.options.locales));
                        var o = r.defaultOptions.locales[r.defaultOptions.locale];
                        return (
                            Mn((s = qs(r.options.locales))).call(s, function (t) {
                                r.options.locales[t] = ih.extend({}, o, r.options.locales[t]);
                            }),
                            n && null != n.time ? (r.customTime = n.time) : (r.customTime = new Date()),
                            (r.eventParams = {}),
                            r._create(),
                            r
                        );
                    }
                    return (
                        dl(
                            i,
                            [
                                {
                                    key: "setOptions",
                                    value: function (t) {
                                        t && ih.selectiveExtend(["moment", "locale", "locales", "id", "title", "rtl", "snap"], this.options, t);
                                    },
                                },
                                {
                                    key: "_create",
                                    value: function () {
                                        var t,
                                            e,
                                            i,
                                            n = document.createElement("div");
                                        (n["custom-time"] = this), (n.className = "vis-custom-time ".concat(this.options.id || "")), (n.style.position = "absolute"), (n.style.top = "0px"), (n.style.height = "100%"), (this.bar = n);
                                        var s = document.createElement("div");
                                        function r(t) {
                                            this.body.range._onMouseWheel(t);
                                        }
                                        (s.style.position = "relative"),
                                            (s.style.top = "0px"),
                                            this.options.rtl ? (s.style.right = "-10px") : (s.style.left = "-10px"),
                                            (s.style.height = "100%"),
                                            (s.style.width = "20px"),
                                            s.addEventListener
                                                ? (s.addEventListener("mousewheel", ll(r).call(r, this), !1), s.addEventListener("DOMMouseScroll", ll(r).call(r, this), !1))
                                                : s.attachEvent("onmousewheel", ll(r).call(r, this)),
                                            n.appendChild(s),
                                            (this.hammer = new yd(s)),
                                            this.hammer.on("panstart", ll((t = this._onDragStart)).call(t, this)),
                                            this.hammer.on("panmove", ll((e = this._onDrag)).call(e, this)),
                                            this.hammer.on("panend", ll((i = this._onDragEnd)).call(i, this)),
                                            this.hammer.get("pan").set({ threshold: 5, direction: yd.DIRECTION_ALL });
                                    },
                                },
                                {
                                    key: "destroy",
                                    value: function () {
                                        this.hide(), this.hammer.destroy(), (this.hammer = null), (this.body = null);
                                    },
                                },
                                {
                                    key: "redraw",
                                    value: function () {
                                        var t = this.body.dom.backgroundVertical;
                                        this.bar.parentNode != t && (this.bar.parentNode && this.bar.parentNode.removeChild(this.bar), t.appendChild(this.bar));
                                        var e = this.body.util.toScreen(this.customTime),
                                            i = this.options.locales[this.options.locale];
                                        i ||
                                            (this.warned || (console.warn("WARNING: options.locales['".concat(this.options.locale, "'] not found. See https://visjs.github.io/vis-timeline/docs/timeline/#Localization")), (this.warned = !0)),
                                            (i = this.options.locales.en));
                                        var n,
                                            s = this.options.title;
                                        void 0 === s
                                            ? (s = (s = pr((n = "".concat(i.time, ": "))).call(n, this.options.moment(this.customTime).format("dddd, MMMM Do YYYY, H:mm:ss"))).charAt(0).toUpperCase() + s.substring(1))
                                            : "function" == typeof s && (s = s.call(this, this.customTime));
                                        return this.options.rtl ? (this.bar.style.right = "".concat(e, "px")) : (this.bar.style.left = "".concat(e, "px")), (this.bar.title = s), !1;
                                    },
                                },
                                {
                                    key: "hide",
                                    value: function () {
                                        this.bar.parentNode && this.bar.parentNode.removeChild(this.bar);
                                    },
                                },
                                {
                                    key: "setCustomTime",
                                    value: function (t) {
                                        (this.customTime = ih.convert(t, "Date")), this.redraw();
                                    },
                                },
                                {
                                    key: "getCustomTime",
                                    value: function () {
                                        return new Date(this.customTime.valueOf());
                                    },
                                },
                                {
                                    key: "setCustomMarker",
                                    value: function (t, e) {
                                        var i,
                                            n,
                                            s = document.createElement("div");
                                        ((s.className = "vis-custom-time-marker"), (s.innerHTML = t), (s.style.position = "absolute"), e) &&
                                            (s.setAttribute("contenteditable", "true"),
                                            s.addEventListener("pointerdown", function () {
                                                s.focus();
                                            }),
                                            s.addEventListener("input", ll((i = this._onMarkerChange)).call(i, this)),
                                            (s.title = t),
                                            s.addEventListener(
                                                "blur",
                                                ll(
                                                    (n = function (t) {
                                                        this.title != t.target.innerHTML && (this._onMarkerChanged(t), (this.title = t.target.innerHTML));
                                                    })
                                                ).call(n, this)
                                            ));
                                        this.bar.appendChild(s);
                                    },
                                },
                                {
                                    key: "setCustomTitle",
                                    value: function (t) {
                                        this.options.title = t;
                                    },
                                },
                                {
                                    key: "_onDragStart",
                                    value: function (t) {
                                        (this.eventParams.dragging = !0), (this.eventParams.customTime = this.customTime), t.stopPropagation();
                                    },
                                },
                                {
                                    key: "_onDrag",
                                    value: function (t) {
                                        if (this.eventParams.dragging) {
                                            var e = this.options.rtl ? -1 * t.deltaX : t.deltaX,
                                                i = this.body.util.toScreen(this.eventParams.customTime) + e,
                                                n = this.body.util.toTime(i),
                                                s = this.body.util.getScale(),
                                                r = this.body.util.getStep(),
                                                o = this.options.snap,
                                                a = o ? o(n, s, r) : n;
                                            this.setCustomTime(a), this.body.emitter.emit("timechange", { id: this.options.id, time: new Date(this.customTime.valueOf()), event: t }), t.stopPropagation();
                                        }
                                    },
                                },
                                {
                                    key: "_onDragEnd",
                                    value: function (t) {
                                        this.eventParams.dragging && (this.body.emitter.emit("timechanged", { id: this.options.id, time: new Date(this.customTime.valueOf()), event: t }), t.stopPropagation());
                                    },
                                },
                                {
                                    key: "_onMarkerChange",
                                    value: function (t) {
                                        this.body.emitter.emit("markerchange", { id: this.options.id, title: t.target.innerHTML, event: t }), t.stopPropagation();
                                    },
                                },
                                {
                                    key: "_onMarkerChanged",
                                    value: function (t) {
                                        this.body.emitter.emit("markerchanged", { id: this.options.id, title: t.target.innerHTML, event: t }), t.stopPropagation();
                                    },
                                },
                            ],
                            [
                                {
                                    key: "customTimeFromTarget",
                                    value: function (t) {
                                        for (var e = t.target; e; ) {
                                            if (e.hasOwnProperty("custom-time")) return e["custom-time"];
                                            e = e.parentNode;
                                        }
                                        return null;
                                    },
                                },
                            ]
                        ),
                        i
                    );
                })(ah);
                _d(
                    ".vis-timeline {\n  /*\n  -webkit-transition: height .4s ease-in-out;\n  transition:         height .4s ease-in-out;\n  */\n}\n\n.vis-panel {\n  /*\n  -webkit-transition: height .4s ease-in-out, top .4s ease-in-out;\n  transition:         height .4s ease-in-out, top .4s ease-in-out;\n  */\n}\n\n.vis-axis {\n  /*\n  -webkit-transition: top .4s ease-in-out;\n  transition:         top .4s ease-in-out;\n  */\n}\n\n/* TODO: get animation working nicely\n\n.vis-item {\n  -webkit-transition: top .4s ease-in-out;\n  transition:         top .4s ease-in-out;\n}\n\n.vis-item.line {\n  -webkit-transition: height .4s ease-in-out, top .4s ease-in-out;\n  transition:         height .4s ease-in-out, top .4s ease-in-out;\n}\n/**/"
                );
                _d(
                    '.vis-current-time {\n  background-color: #FF7F6E;\n  width: 2px;\n  z-index: 1;\n  pointer-events: none;\n}\n\n.vis-rolling-mode-btn {\n  height: 40px;\n  width: 40px;\n  position: absolute;\n  top: 7px;\n  right: 20px;\n  border-radius: 50%;\n  font-size: 28px;\n  cursor: pointer;\n  opacity: 0.8;\n  color: white;\n  font-weight: bold;\n  text-align: center;\n  background: #3876c2;\n}\n.vis-rolling-mode-btn:before {\n  content: "\\26F6";\n}\n\n.vis-rolling-mode-btn:hover {\n  opacity: 1;\n}'
                );
                _d(
                    ".vis-panel {\n  position: absolute;\n\n  padding: 0;\n  margin: 0;\n\n  box-sizing: border-box;\n}\n\n.vis-panel.vis-center,\n.vis-panel.vis-left,\n.vis-panel.vis-right,\n.vis-panel.vis-top,\n.vis-panel.vis-bottom {\n  border: 1px #bfbfbf;\n}\n\n.vis-panel.vis-center,\n.vis-panel.vis-left,\n.vis-panel.vis-right {\n  border-top-style: solid;\n  border-bottom-style: solid;\n  overflow: hidden;\n}\n\n.vis-left.vis-panel.vis-vertical-scroll, .vis-right.vis-panel.vis-vertical-scroll {\n  height: 100%;\n  overflow-x: hidden;\n  overflow-y: scroll;\n} \n\n.vis-left.vis-panel.vis-vertical-scroll {\n  direction: rtl;\n}\n\n.vis-left.vis-panel.vis-vertical-scroll .vis-content {\n  direction: ltr;\n}\n\n.vis-right.vis-panel.vis-vertical-scroll {\n  direction: ltr;\n}\n\n.vis-right.vis-panel.vis-vertical-scroll .vis-content {\n  direction: rtl;\n}\n\n.vis-panel.vis-center,\n.vis-panel.vis-top,\n.vis-panel.vis-bottom {\n  border-left-style: solid;\n  border-right-style: solid;\n}\n\n.vis-background {\n  overflow: hidden;\n}\n\n.vis-panel > .vis-content {\n  position: relative;\n}\n\n.vis-panel .vis-shadow {\n  position: absolute;\n  width: 100%;\n  height: 1px;\n  box-shadow: 0 0 10px rgba(0,0,0,0.8);\n  /* TODO: find a nice way to ensure vis-shadows are drawn on top of items\n  z-index: 1;\n  */\n}\n\n.vis-panel .vis-shadow.vis-top {\n  top: -1px;\n  left: 0;\n}\n\n.vis-panel .vis-shadow.vis-bottom {\n  bottom: -1px;\n  left: 0;\n}"
                );
                _d(
                    ".vis-graph-group0 {\n    fill:#4f81bd;\n    fill-opacity:0;\n    stroke-width:2px;\n    stroke: #4f81bd;\n}\n\n.vis-graph-group1 {\n    fill:#f79646;\n    fill-opacity:0;\n    stroke-width:2px;\n    stroke: #f79646;\n}\n\n.vis-graph-group2 {\n    fill: #8c51cf;\n    fill-opacity:0;\n    stroke-width:2px;\n    stroke: #8c51cf;\n}\n\n.vis-graph-group3 {\n    fill: #75c841;\n    fill-opacity:0;\n    stroke-width:2px;\n    stroke: #75c841;\n}\n\n.vis-graph-group4 {\n    fill: #ff0100;\n    fill-opacity:0;\n    stroke-width:2px;\n    stroke: #ff0100;\n}\n\n.vis-graph-group5 {\n    fill: #37d8e6;\n    fill-opacity:0;\n    stroke-width:2px;\n    stroke: #37d8e6;\n}\n\n.vis-graph-group6 {\n    fill: #042662;\n    fill-opacity:0;\n    stroke-width:2px;\n    stroke: #042662;\n}\n\n.vis-graph-group7 {\n    fill:#00ff26;\n    fill-opacity:0;\n    stroke-width:2px;\n    stroke: #00ff26;\n}\n\n.vis-graph-group8 {\n    fill:#ff00ff;\n    fill-opacity:0;\n    stroke-width:2px;\n    stroke: #ff00ff;\n}\n\n.vis-graph-group9 {\n    fill: #8f3938;\n    fill-opacity:0;\n    stroke-width:2px;\n    stroke: #8f3938;\n}\n\n.vis-timeline .vis-fill {\n    fill-opacity:0.1;\n    stroke: none;\n}\n\n\n.vis-timeline .vis-bar {\n    fill-opacity:0.5;\n    stroke-width:1px;\n}\n\n.vis-timeline .vis-point {\n    stroke-width:2px;\n    fill-opacity:1.0;\n}\n\n\n.vis-timeline .vis-legend-background {\n    stroke-width:1px;\n    fill-opacity:0.9;\n    fill: #ffffff;\n    stroke: #c2c2c2;\n}\n\n\n.vis-timeline .vis-outline {\n    stroke-width:1px;\n    fill-opacity:1;\n    fill: #ffffff;\n    stroke: #e5e5e5;\n}\n\n.vis-timeline .vis-icon-fill {\n    fill-opacity:0.3;\n    stroke: none;\n}\n"
                );
                _d(
                    "\n.vis-timeline {\n  position: relative;\n  border: 1px solid #bfbfbf;\n  overflow: hidden;\n  padding: 0;\n  margin: 0;\n  box-sizing: border-box;\n}\n\n.vis-loading-screen {\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  top: 0;\n  left: 0;\n}"
                );
                _d('/* override some bootstrap styles screwing up the timelines css */\n\n.vis [class*="span"] {\n  min-height: 0;\n  width: auto;\n}\n');
                var zd = (function () {
                    function t() {
                        hl(this, t);
                    }
                    return (
                        dl(t, [
                            {
                                key: "_create",
                                value: function (t) {
                                    var e,
                                        i,
                                        n,
                                        s = this;
                                    (this.dom = {}),
                                        (this.dom.container = t),
                                        (this.dom.container.style.position = "relative"),
                                        (this.dom.root = document.createElement("div")),
                                        (this.dom.background = document.createElement("div")),
                                        (this.dom.backgroundVertical = document.createElement("div")),
                                        (this.dom.backgroundHorizontal = document.createElement("div")),
                                        (this.dom.centerContainer = document.createElement("div")),
                                        (this.dom.leftContainer = document.createElement("div")),
                                        (this.dom.rightContainer = document.createElement("div")),
                                        (this.dom.center = document.createElement("div")),
                                        (this.dom.left = document.createElement("div")),
                                        (this.dom.right = document.createElement("div")),
                                        (this.dom.top = document.createElement("div")),
                                        (this.dom.bottom = document.createElement("div")),
                                        (this.dom.shadowTop = document.createElement("div")),
                                        (this.dom.shadowBottom = document.createElement("div")),
                                        (this.dom.shadowTopLeft = document.createElement("div")),
                                        (this.dom.shadowBottomLeft = document.createElement("div")),
                                        (this.dom.shadowTopRight = document.createElement("div")),
                                        (this.dom.shadowBottomRight = document.createElement("div")),
                                        (this.dom.rollingModeBtn = document.createElement("div")),
                                        (this.dom.loadingScreen = document.createElement("div")),
                                        (this.dom.root.className = "vis-timeline"),
                                        (this.dom.background.className = "vis-panel vis-background"),
                                        (this.dom.backgroundVertical.className = "vis-panel vis-background vis-vertical"),
                                        (this.dom.backgroundHorizontal.className = "vis-panel vis-background vis-horizontal"),
                                        (this.dom.centerContainer.className = "vis-panel vis-center"),
                                        (this.dom.leftContainer.className = "vis-panel vis-left"),
                                        (this.dom.rightContainer.className = "vis-panel vis-right"),
                                        (this.dom.top.className = "vis-panel vis-top"),
                                        (this.dom.bottom.className = "vis-panel vis-bottom"),
                                        (this.dom.left.className = "vis-content"),
                                        (this.dom.center.className = "vis-content"),
                                        (this.dom.right.className = "vis-content"),
                                        (this.dom.shadowTop.className = "vis-shadow vis-top"),
                                        (this.dom.shadowBottom.className = "vis-shadow vis-bottom"),
                                        (this.dom.shadowTopLeft.className = "vis-shadow vis-top"),
                                        (this.dom.shadowBottomLeft.className = "vis-shadow vis-bottom"),
                                        (this.dom.shadowTopRight.className = "vis-shadow vis-top"),
                                        (this.dom.shadowBottomRight.className = "vis-shadow vis-bottom"),
                                        (this.dom.rollingModeBtn.className = "vis-rolling-mode-btn"),
                                        (this.dom.loadingScreen.className = "vis-loading-screen"),
                                        this.dom.root.appendChild(this.dom.background),
                                        this.dom.root.appendChild(this.dom.backgroundVertical),
                                        this.dom.root.appendChild(this.dom.backgroundHorizontal),
                                        this.dom.root.appendChild(this.dom.centerContainer),
                                        this.dom.root.appendChild(this.dom.leftContainer),
                                        this.dom.root.appendChild(this.dom.rightContainer),
                                        this.dom.root.appendChild(this.dom.top),
                                        this.dom.root.appendChild(this.dom.bottom),
                                        this.dom.root.appendChild(this.dom.rollingModeBtn),
                                        this.dom.centerContainer.appendChild(this.dom.center),
                                        this.dom.leftContainer.appendChild(this.dom.left),
                                        this.dom.rightContainer.appendChild(this.dom.right),
                                        this.dom.centerContainer.appendChild(this.dom.shadowTop),
                                        this.dom.centerContainer.appendChild(this.dom.shadowBottom),
                                        this.dom.leftContainer.appendChild(this.dom.shadowTopLeft),
                                        this.dom.leftContainer.appendChild(this.dom.shadowBottomLeft),
                                        this.dom.rightContainer.appendChild(this.dom.shadowTopRight),
                                        this.dom.rightContainer.appendChild(this.dom.shadowBottomRight),
                                        (this.props = {
                                            root: {},
                                            background: {},
                                            centerContainer: {},
                                            leftContainer: {},
                                            rightContainer: {},
                                            center: {},
                                            left: {},
                                            right: {},
                                            top: {},
                                            bottom: {},
                                            border: {},
                                            scrollTop: 0,
                                            scrollTopMin: 0,
                                        }),
                                        this.on("rangechange", function () {
                                            !0 === s.initialDrawDone && s._redraw();
                                        }),
                                        this.on("rangechanged", function () {
                                            s.initialRangeChangeDone || (s.initialRangeChangeDone = !0);
                                        }),
                                        this.on("touch", ll((e = this._onTouch)).call(e, this)),
                                        this.on("panmove", ll((i = this._onDrag)).call(i, this));
                                    var r = this;
                                    (this._origRedraw = ll((n = this._redraw)).call(n, this)),
                                        (this._redraw = ih.throttle(this._origRedraw)),
                                        this.on("_change", function (t) {
                                            r.itemSet && r.itemSet.initialItemSetDrawn && t && 1 == t.queue ? r._redraw() : r._origRedraw();
                                        }),
                                        (this.hammer = new yd(this.dom.root));
                                    var o = this.hammer.get("pinch").set({ enable: !0 });
                                    o &&
                                        (function (t) {
                                            t.getTouchAction = function () {
                                                return ["pan-y"];
                                            };
                                        })(o),
                                        this.hammer.get("pan").set({ threshold: 5, direction: yd.DIRECTION_ALL }),
                                        (this.timelineListeners = {});
                                    var a,
                                        l,
                                        h = ["tap", "doubletap", "press", "pinch", "pan", "panstart", "panmove", "panend"];
                                    function c(t) {
                                        this.isActive() && this.emit("mousewheel", t);
                                        var e = 0,
                                            i = 0;
                                        if (
                                            ("detail" in t && (i = -1 * t.detail),
                                            "wheelDelta" in t && (i = t.wheelDelta),
                                            "wheelDeltaY" in t && (i = t.wheelDeltaY),
                                            "wheelDeltaX" in t && (e = -1 * t.wheelDeltaX),
                                            "axis" in t && t.axis === t.HORIZONTAL_AXIS && ((e = -1 * i), (i = 0)),
                                            "deltaY" in t && (i = -1 * t.deltaY),
                                            "deltaX" in t && (e = t.deltaX),
                                            t.deltaMode && (1 === t.deltaMode ? ((e *= 40), (i *= 40)) : ((e *= 40), (i *= 800))),
                                            this.options.preferZoom)
                                        ) {
                                            if (!this.options.zoomKey || t[this.options.zoomKey]) return;
                                        } else if (this.options.zoomKey && t[this.options.zoomKey]) return;
                                        if (this.options.verticalScroll || this.options.horizontalScroll)
                                            if (this.options.verticalScroll && Math.abs(i) >= Math.abs(e)) {
                                                var n = this.props.scrollTop,
                                                    s = n + i;
                                                if (this.isActive()) this._setScrollTop(s) !== n && (this._redraw(), this.emit("scroll", t), t.preventDefault());
                                            } else if (this.options.horizontalScroll) {
                                                var r = (((Math.abs(e) >= Math.abs(i) ? e : i) / 120) * (this.range.end - this.range.start)) / 20,
                                                    o = this.range.start + r,
                                                    a = this.range.end + r,
                                                    l = { animation: !1, byUser: !0, event: t };
                                                this.range.setRange(o, a, l), t.preventDefault();
                                            }
                                    }
                                    Mn(h).call(h, function (t) {
                                        var e = function (e) {
                                            r.isActive() && r.emit(t, e);
                                        };
                                        r.hammer.on(t, e), (r.timelineListeners[t] = e);
                                    }),
                                        wd(this.hammer, function (t) {
                                            r.emit("touch", t);
                                        }),
                                        (a = this.hammer),
                                        ((l = function (t) {
                                            r.emit("release", t);
                                        }).inputHandler = function (t) {
                                            t.isFinal && l(t);
                                        }),
                                        a.on("hammer.input", l.inputHandler);
                                    var d = "onwheel" in document.createElement("div") ? "wheel" : void 0 !== document.onmousewheel ? "mousewheel" : this.dom.centerContainer.addEventListener ? "DOMMouseScroll" : "onmousewheel";
                                    function u(t) {
                                        if (r.options.verticalScroll)
                                            if (r._isProgramaticallyScrolled) r._isProgramaticallyScrolled = !1;
                                            else if ((t.preventDefault(), r.isActive())) {
                                                var e = -t.target.scrollTop;
                                                r._setScrollTop(e), r._redraw(), r.emit("scrollSide", t);
                                            }
                                    }
                                    this.dom.top.addEventListener,
                                        this.dom.bottom.addEventListener,
                                        this.dom.centerContainer.addEventListener(d, ll(c).call(c, this), !1),
                                        this.dom.top.addEventListener(d, ll(c).call(c, this), !1),
                                        this.dom.bottom.addEventListener(d, ll(c).call(c, this), !1),
                                        this.dom.left.parentNode.addEventListener("scroll", ll(u).call(u, this)),
                                        this.dom.right.parentNode.addEventListener("scroll", ll(u).call(u, this));
                                    var p = !1;
                                    function f(t) {
                                        var e;
                                        if ((t.preventDefault && (r.emit("dragover", r.getEventProperties(t)), t.preventDefault()), ps((e = t.target.className)).call(e, "timeline") > -1 && !p))
                                            return (t.dataTransfer.dropEffect = "move"), (p = !0), !1;
                                    }
                                    function m(t) {
                                        t.preventDefault && t.preventDefault(), t.stopPropagation && t.stopPropagation();
                                        try {
                                            var e = JSON.parse(t.dataTransfer.getData("text"));
                                            if (!e || !e.content) return;
                                        } catch (t) {
                                            return !1;
                                        }
                                        return (p = !1), (t.center = { x: t.clientX, y: t.clientY }), "item" !== e.target ? r.itemSet._onAddItem(t) : r.itemSet._onDropObjectOnItem(t), r.emit("drop", r.getEventProperties(t)), !1;
                                    }
                                    if (
                                        (this.dom.center.addEventListener("dragover", ll(f).call(f, this), !1),
                                        this.dom.center.addEventListener("drop", ll(m).call(m, this), !1),
                                        (this.customTimes = []),
                                        (this.touch = {}),
                                        (this.redrawCount = 0),
                                        (this.initialDrawDone = !1),
                                        (this.initialRangeChangeDone = !1),
                                        !t)
                                    )
                                        throw new Error("No container provided");
                                    t.appendChild(this.dom.root), t.appendChild(this.dom.loadingScreen);
                                },
                            },
                            {
                                key: "setOptions",
                                value: function (t) {
                                    var e;
                                    if (t) {
                                        if (
                                            (ih.selectiveExtend(
                                                [
                                                    "width",
                                                    "height",
                                                    "minHeight",
                                                    "maxHeight",
                                                    "autoResize",
                                                    "start",
                                                    "end",
                                                    "clickToUse",
                                                    "dataAttributes",
                                                    "hiddenDates",
                                                    "locale",
                                                    "locales",
                                                    "moment",
                                                    "preferZoom",
                                                    "rtl",
                                                    "zoomKey",
                                                    "horizontalScroll",
                                                    "verticalScroll",
                                                    "longSelectPressTime",
                                                    "snap",
                                                ],
                                                this.options,
                                                t
                                            ),
                                            (this.dom.rollingModeBtn.style.visibility = "hidden"),
                                            this.options.rtl && ((this.dom.container.style.direction = "rtl"), (this.dom.backgroundVertical.className = "vis-panel vis-background vis-vertical-rtl")),
                                            this.options.verticalScroll &&
                                                (this.options.rtl ? (this.dom.rightContainer.className = "vis-panel vis-right vis-vertical-scroll") : (this.dom.leftContainer.className = "vis-panel vis-left vis-vertical-scroll")),
                                            "object" !== sr(this.options.orientation) && (this.options.orientation = { item: void 0, axis: void 0 }),
                                            "orientation" in t &&
                                                ("string" == typeof t.orientation
                                                    ? (this.options.orientation = { item: t.orientation, axis: t.orientation })
                                                    : "object" === sr(t.orientation) &&
                                                      ("item" in t.orientation && (this.options.orientation.item = t.orientation.item), "axis" in t.orientation && (this.options.orientation.axis = t.orientation.axis))),
                                            "both" === this.options.orientation.axis)
                                        ) {
                                            if (!this.timeAxis2) {
                                                var i = (this.timeAxis2 = new Pd(this.body));
                                                (i.setOptions = function (t) {
                                                    var e = t ? ih.extend({}, t) : {};
                                                    (e.orientation = "top"), Pd.prototype.setOptions.call(i, e);
                                                }),
                                                    this.components.push(i);
                                            }
                                        } else if (this.timeAxis2) {
                                            var n,
                                                s,
                                                r = ps((n = this.components)).call(n, this.timeAxis2);
                                            if (-1 !== r) Ma((s = this.components)).call(s, r, 1);
                                            this.timeAxis2.destroy(), (this.timeAxis2 = null);
                                        }
                                        "function" == typeof t.drawPoints && (t.drawPoints = { onRender: t.drawPoints }),
                                            "hiddenDates" in this.options && dh(this.options.moment, this.body, this.options.hiddenDates),
                                            "clickToUse" in t && (t.clickToUse ? this.activator || (this.activator = new Cd(this.dom.root)) : this.activator && (this.activator.destroy(), delete this.activator)),
                                            this._initAutoResize();
                                    }
                                    if (
                                        (Mn((e = this.components)).call(e, function (e) {
                                            return e.setOptions(t);
                                        }),
                                        "configure" in t)
                                    ) {
                                        var o;
                                        this.configurator || (this.configurator = this._createConfigurator()), this.configurator.setOptions(t.configure);
                                        var a = ih.deepExtend({}, this.options);
                                        Mn((o = this.components)).call(o, function (t) {
                                            ih.deepExtend(a, t.options);
                                        }),
                                            this.configurator.setModuleOptions({ global: a });
                                    }
                                    this._redraw();
                                },
                            },
                            {
                                key: "isActive",
                                value: function () {
                                    return !this.activator || this.activator.active;
                                },
                            },
                            {
                                key: "destroy",
                                value: function () {
                                    var t;
                                    for (var e in (this.setItems(null),
                                    this.setGroups(null),
                                    this.off(),
                                    this._stopAutoResize(),
                                    this.dom.root.parentNode && this.dom.root.parentNode.removeChild(this.dom.root),
                                    (this.dom = null),
                                    this.activator && (this.activator.destroy(), delete this.activator),
                                    this.timelineListeners))
                                        this.timelineListeners.hasOwnProperty(e) && delete this.timelineListeners[e];
                                    (this.timelineListeners = null),
                                        this.hammer && this.hammer.destroy(),
                                        (this.hammer = null),
                                        Mn((t = this.components)).call(t, function (t) {
                                            return t.destroy();
                                        }),
                                        (this.body = null);
                                },
                            },
                            {
                                key: "setCustomTime",
                                value: function (t, e) {
                                    var i,
                                        n = is((i = this.customTimes)).call(i, function (t) {
                                            return e === t.options.id;
                                        });
                                    if (0 === n.length) throw new Error("No custom time bar found with id ".concat(Io(e)));
                                    n.length > 0 && n[0].setCustomTime(t);
                                },
                            },
                            {
                                key: "getCustomTime",
                                value: function (t) {
                                    var e,
                                        i = is((e = this.customTimes)).call(e, function (e) {
                                            return e.options.id === t;
                                        });
                                    if (0 === i.length) throw new Error("No custom time bar found with id ".concat(Io(t)));
                                    return i[0].getCustomTime();
                                },
                            },
                            {
                                key: "setCustomTimeMarker",
                                value: function (t, e, i) {
                                    var n,
                                        s = is((n = this.customTimes)).call(n, function (t) {
                                            return t.options.id === e;
                                        });
                                    if (0 === s.length) throw new Error("No custom time bar found with id ".concat(Io(e)));
                                    s.length > 0 && s[0].setCustomMarker(t, i);
                                },
                            },
                            {
                                key: "setCustomTimeTitle",
                                value: function (t, e) {
                                    var i,
                                        n = is((i = this.customTimes)).call(i, function (t) {
                                            return t.options.id === e;
                                        });
                                    if (0 === n.length) throw new Error("No custom time bar found with id ".concat(Io(e)));
                                    if (n.length > 0) return n[0].setCustomTitle(t);
                                },
                            },
                            {
                                key: "getEventProperties",
                                value: function (t) {
                                    return { event: t };
                                },
                            },
                            {
                                key: "addCustomTime",
                                value: function (t, e) {
                                    var i,
                                        n = void 0 !== t ? ih.convert(t, "Date") : new Date();
                                    if (
                                        zo((i = this.customTimes)).call(i, function (t) {
                                            return t.options.id === e;
                                        })
                                    )
                                        throw new Error("A custom time with id ".concat(Io(e), " already exists"));
                                    var s = new Fd(this.body, ih.extend({}, this.options, { time: n, id: e, snap: this.itemSet ? this.itemSet.options.snap : this.options.snap }));
                                    return this.customTimes.push(s), this.components.push(s), this._redraw(), e;
                                },
                            },
                            {
                                key: "removeCustomTime",
                                value: function (t) {
                                    var e,
                                        i = this,
                                        n = is((e = this.customTimes)).call(e, function (e) {
                                            return e.options.id === t;
                                        });
                                    if (0 === n.length) throw new Error("No custom time bar found with id ".concat(Io(t)));
                                    Mn(n).call(n, function (t) {
                                        var e, n, s, r;
                                        Ma((e = i.customTimes)).call(e, ps((n = i.customTimes)).call(n, t), 1), Ma((s = i.components)).call(s, ps((r = i.components)).call(r, t), 1), t.destroy();
                                    });
                                },
                            },
                            {
                                key: "getVisibleItems",
                                value: function () {
                                    return (this.itemSet && this.itemSet.getVisibleItems()) || [];
                                },
                            },
                            {
                                key: "getVisibleGroups",
                                value: function () {
                                    return (this.itemSet && this.itemSet.getVisibleGroups()) || [];
                                },
                            },
                            {
                                key: "fit",
                                value: function (t, e) {
                                    var i = this.getDataRange();
                                    if (null !== i.min || null !== i.max) {
                                        var n = i.max - i.min,
                                            s = new Date(i.min.valueOf() - 0.01 * n),
                                            r = new Date(i.max.valueOf() + 0.01 * n),
                                            o = !t || void 0 === t.animation || t.animation;
                                        this.range.setRange(s, r, { animation: o }, e);
                                    }
                                },
                            },
                            {
                                key: "getDataRange",
                                value: function () {
                                    throw new Error("Cannot invoke abstract method getDataRange");
                                },
                            },
                            {
                                key: "setWindow",
                                value: function (t, e, i, n) {
                                    var s, r;
                                    "function" == typeof arguments[2] && ((n = arguments[2]), (i = {})),
                                        1 == arguments.length
                                            ? ((s = void 0 === (r = arguments[0]).animation || r.animation), this.range.setRange(r.start, r.end, { animation: s }))
                                            : 2 == arguments.length && "function" == typeof arguments[1]
                                            ? ((n = arguments[1]), (s = void 0 === (r = arguments[0]).animation || r.animation), this.range.setRange(r.start, r.end, { animation: s }, n))
                                            : ((s = !i || void 0 === i.animation || i.animation), this.range.setRange(t, e, { animation: s }, n));
                                },
                            },
                            {
                                key: "moveTo",
                                value: function (t, e, i) {
                                    "function" == typeof arguments[1] && ((i = arguments[1]), (e = {}));
                                    var n = this.range.end - this.range.start,
                                        s = ih.convert(t, "Date").valueOf(),
                                        r = s - n / 2,
                                        o = s + n / 2,
                                        a = !e || void 0 === e.animation || e.animation;
                                    this.range.setRange(r, o, { animation: a }, i);
                                },
                            },
                            {
                                key: "getWindow",
                                value: function () {
                                    var t = this.range.getRange();
                                    return { start: new Date(t.start), end: new Date(t.end) };
                                },
                            },
                            {
                                key: "zoomIn",
                                value: function (t, e, i) {
                                    if (!(!t || t < 0 || t > 1)) {
                                        "function" == typeof arguments[1] && ((i = arguments[1]), (e = {}));
                                        var n = this.getWindow(),
                                            s = n.start.valueOf(),
                                            r = n.end.valueOf(),
                                            o = r - s,
                                            a = o / (1 + t),
                                            l = (o - a) / 2,
                                            h = s + l,
                                            c = r - l;
                                        this.setWindow(h, c, e, i);
                                    }
                                },
                            },
                            {
                                key: "zoomOut",
                                value: function (t, e, i) {
                                    if (!(!t || t < 0 || t > 1)) {
                                        "function" == typeof arguments[1] && ((i = arguments[1]), (e = {}));
                                        var n = this.getWindow(),
                                            s = n.start.valueOf(),
                                            r = n.end.valueOf(),
                                            o = r - s,
                                            a = s - (o * t) / 2,
                                            l = r + (o * t) / 2;
                                        this.setWindow(a, l, e, i);
                                    }
                                },
                            },
                            {
                                key: "redraw",
                                value: function () {
                                    this._redraw();
                                },
                            },
                            {
                                key: "_redraw",
                                value: function () {
                                    var t;
                                    this.redrawCount++;
                                    var e = this.dom;
                                    if (e && e.container && 0 != e.root.offsetWidth) {
                                        var i = !1,
                                            n = this.options,
                                            s = this.props;
                                        uh(this.options.moment, this.body, this.options.hiddenDates),
                                            "top" == n.orientation ? (ih.addClassName(e.root, "vis-top"), ih.removeClassName(e.root, "vis-bottom")) : (ih.removeClassName(e.root, "vis-top"), ih.addClassName(e.root, "vis-bottom")),
                                            n.rtl ? (ih.addClassName(e.root, "vis-rtl"), ih.removeClassName(e.root, "vis-ltr")) : (ih.addClassName(e.root, "vis-ltr"), ih.removeClassName(e.root, "vis-rtl")),
                                            (e.root.style.maxHeight = ih.option.asSize(n.maxHeight, "")),
                                            (e.root.style.minHeight = ih.option.asSize(n.minHeight, "")),
                                            (e.root.style.width = ih.option.asSize(n.width, ""));
                                        var r = e.root.offsetWidth;
                                        (s.border.left = 1),
                                            (s.border.right = 1),
                                            (s.border.top = 1),
                                            (s.border.bottom = 1),
                                            (s.center.height = e.center.offsetHeight),
                                            (s.left.height = e.left.offsetHeight),
                                            (s.right.height = e.right.offsetHeight),
                                            (s.top.height = e.top.clientHeight || -s.border.top),
                                            (s.bottom.height = e.bottom.clientHeight || -s.border.bottom);
                                        var o = Math.max(s.left.height, s.center.height, s.right.height),
                                            a = s.top.height + o + s.bottom.height + s.border.top + s.border.bottom;
                                        (e.root.style.height = ih.option.asSize(n.height, "".concat(a, "px"))), (s.root.height = e.root.offsetHeight), (s.background.height = s.root.height);
                                        var l = s.root.height - s.top.height - s.bottom.height;
                                        (s.centerContainer.height = l),
                                            (s.leftContainer.height = l),
                                            (s.rightContainer.height = s.leftContainer.height),
                                            (s.root.width = r),
                                            (s.background.width = s.root.width),
                                            this.initialDrawDone || (s.scrollbarWidth = ih.getScrollBarWidth());
                                        var h = e.leftContainer.clientWidth,
                                            c = e.rightContainer.clientWidth;
                                        n.verticalScroll
                                            ? n.rtl
                                                ? ((s.left.width = h || -s.border.left), (s.right.width = c + s.scrollbarWidth || -s.border.right))
                                                : ((s.left.width = h + s.scrollbarWidth || -s.border.left), (s.right.width = c || -s.border.right))
                                            : ((s.left.width = h || -s.border.left), (s.right.width = c || -s.border.right)),
                                            this._setDOM();
                                        var d = this._updateScrollTop();
                                        "top" != n.orientation.item && (d += Math.max(s.centerContainer.height - s.center.height - s.border.top - s.border.bottom, 0)), (e.center.style.transform = "translateY(".concat(d, "px)"));
                                        var u = 0 == s.scrollTop ? "hidden" : "",
                                            p = s.scrollTop == s.scrollTopMin ? "hidden" : "";
                                        (e.shadowTop.style.visibility = u),
                                            (e.shadowBottom.style.visibility = p),
                                            (e.shadowTopLeft.style.visibility = u),
                                            (e.shadowBottomLeft.style.visibility = p),
                                            (e.shadowTopRight.style.visibility = u),
                                            (e.shadowBottomRight.style.visibility = p),
                                            n.verticalScroll &&
                                                ((e.rightContainer.className = "vis-panel vis-right vis-vertical-scroll"),
                                                (e.leftContainer.className = "vis-panel vis-left vis-vertical-scroll"),
                                                (e.shadowTopRight.style.visibility = "hidden"),
                                                (e.shadowBottomRight.style.visibility = "hidden"),
                                                (e.shadowTopLeft.style.visibility = "hidden"),
                                                (e.shadowBottomLeft.style.visibility = "hidden"),
                                                (e.left.style.top = "0px"),
                                                (e.right.style.top = "0px")),
                                            (!n.verticalScroll || s.center.height < s.centerContainer.height) &&
                                                ((e.left.style.top = "".concat(d, "px")),
                                                (e.right.style.top = "".concat(d, "px")),
                                                (e.rightContainer.className = e.rightContainer.className.replace(new RegExp("(?:^|\\s)vis-vertical-scroll(?:\\s|$)"), " ")),
                                                (e.leftContainer.className = e.leftContainer.className.replace(new RegExp("(?:^|\\s)vis-vertical-scroll(?:\\s|$)"), " ")),
                                                (s.left.width = h || -s.border.left),
                                                (s.right.width = c || -s.border.right),
                                                this._setDOM());
                                        var f = s.center.height > s.centerContainer.height;
                                        this.hammer.get("pan").set({ direction: f ? yd.DIRECTION_ALL : yd.DIRECTION_HORIZONTAL }),
                                            this.hammer.get("press").set({ time: this.options.longSelectPressTime }),
                                            Mn((t = this.components)).call(t, function (t) {
                                                i = t.redraw() || i;
                                            });
                                        if (i) {
                                            if (this.redrawCount < 5) return void this.body.emitter.emit("_change");
                                            console.log("WARNING: infinite loop in redraw?");
                                        } else this.redrawCount = 0;
                                        this.body.emitter.emit("changed");
                                    }
                                },
                            },
                            {
                                key: "_setDOM",
                                value: function () {
                                    var t = this.props,
                                        e = this.dom;
                                    (t.leftContainer.width = t.left.width), (t.rightContainer.width = t.right.width);
                                    var i = t.root.width - t.left.width - t.right.width;
                                    (t.center.width = i),
                                        (t.centerContainer.width = i),
                                        (t.top.width = i),
                                        (t.bottom.width = i),
                                        (e.background.style.height = "".concat(t.background.height, "px")),
                                        (e.backgroundVertical.style.height = "".concat(t.background.height, "px")),
                                        (e.backgroundHorizontal.style.height = "".concat(t.centerContainer.height, "px")),
                                        (e.centerContainer.style.height = "".concat(t.centerContainer.height, "px")),
                                        (e.leftContainer.style.height = "".concat(t.leftContainer.height, "px")),
                                        (e.rightContainer.style.height = "".concat(t.rightContainer.height, "px")),
                                        (e.background.style.width = "".concat(t.background.width, "px")),
                                        (e.backgroundVertical.style.width = "".concat(t.centerContainer.width, "px")),
                                        (e.backgroundHorizontal.style.width = "".concat(t.background.width, "px")),
                                        (e.centerContainer.style.width = "".concat(t.center.width, "px")),
                                        (e.top.style.width = "".concat(t.top.width, "px")),
                                        (e.bottom.style.width = "".concat(t.bottom.width, "px")),
                                        (e.background.style.left = "0"),
                                        (e.background.style.top = "0"),
                                        (e.backgroundVertical.style.left = "".concat(t.left.width + t.border.left, "px")),
                                        (e.backgroundVertical.style.top = "0"),
                                        (e.backgroundHorizontal.style.left = "0"),
                                        (e.backgroundHorizontal.style.top = "".concat(t.top.height, "px")),
                                        (e.centerContainer.style.left = "".concat(t.left.width, "px")),
                                        (e.centerContainer.style.top = "".concat(t.top.height, "px")),
                                        (e.leftContainer.style.left = "0"),
                                        (e.leftContainer.style.top = "".concat(t.top.height, "px")),
                                        (e.rightContainer.style.left = "".concat(t.left.width + t.center.width, "px")),
                                        (e.rightContainer.style.top = "".concat(t.top.height, "px")),
                                        (e.top.style.left = "".concat(t.left.width, "px")),
                                        (e.top.style.top = "0"),
                                        (e.bottom.style.left = "".concat(t.left.width, "px")),
                                        (e.bottom.style.top = "".concat(t.top.height + t.centerContainer.height, "px")),
                                        (e.center.style.left = "0"),
                                        (e.left.style.left = "0"),
                                        (e.right.style.left = "0");
                                },
                            },
                            {
                                key: "setCurrentTime",
                                value: function (t) {
                                    if (!this.currentTime) throw new Error("Option showCurrentTime must be true");
                                    this.currentTime.setCurrentTime(t);
                                },
                            },
                            {
                                key: "getCurrentTime",
                                value: function () {
                                    if (!this.currentTime) throw new Error("Option showCurrentTime must be true");
                                    return this.currentTime.getCurrentTime();
                                },
                            },
                            {
                                key: "_toTime",
                                value: function (t) {
                                    return gh(this, t, this.props.center.width);
                                },
                            },
                            {
                                key: "_toGlobalTime",
                                value: function (t) {
                                    return gh(this, t, this.props.root.width);
                                },
                            },
                            {
                                key: "_toScreen",
                                value: function (t) {
                                    return mh(this, t, this.props.center.width);
                                },
                            },
                            {
                                key: "_toGlobalScreen",
                                value: function (t) {
                                    return mh(this, t, this.props.root.width);
                                },
                            },
                            {
                                key: "_initAutoResize",
                                value: function () {
                                    1 == this.options.autoResize ? this._startAutoResize() : this._stopAutoResize();
                                },
                            },
                            {
                                key: "_startAutoResize",
                                value: function () {
                                    var t = this;
                                    this._stopAutoResize(),
                                        (this._onResize = function () {
                                            if (1 == t.options.autoResize) {
                                                if (t.dom.root) {
                                                    var e = t.dom.root.offsetHeight,
                                                        i = t.dom.root.offsetWidth;
                                                    (i == t.props.lastWidth && e == t.props.lastHeight) ||
                                                        ((t.props.lastWidth = i), (t.props.lastHeight = e), (t.props.scrollbarWidth = ih.getScrollBarWidth()), t.body.emitter.emit("_change"));
                                                }
                                            } else t._stopAutoResize();
                                        }),
                                        ih.addEventListener(window, "resize", this._onResize),
                                        t.dom.root && ((t.props.lastWidth = t.dom.root.offsetWidth), (t.props.lastHeight = t.dom.root.offsetHeight)),
                                        (this.watchTimer = Ih(this._onResize, 1e3));
                                },
                            },
                            {
                                key: "_stopAutoResize",
                                value: function () {
                                    this.watchTimer && (clearInterval(this.watchTimer), (this.watchTimer = void 0)), this._onResize && (ih.removeEventListener(window, "resize", this._onResize), (this._onResize = null));
                                },
                            },
                            {
                                key: "_onTouch",
                                value: function (t) {
                                    (this.touch.allowDragging = !0), (this.touch.initialScrollTop = this.props.scrollTop);
                                },
                            },
                            {
                                key: "_onPinch",
                                value: function (t) {
                                    this.touch.allowDragging = !1;
                                },
                            },
                            {
                                key: "_onDrag",
                                value: function (t) {
                                    if (t && this.touch.allowDragging) {
                                        var e = t.deltaY,
                                            i = this._getScrollTop(),
                                            n = this._setScrollTop(this.touch.initialScrollTop + e);
                                        this.options.verticalScroll && ((this.dom.left.parentNode.scrollTop = -this.props.scrollTop), (this.dom.right.parentNode.scrollTop = -this.props.scrollTop)), n != i && this.emit("verticalDrag");
                                    }
                                },
                            },
                            {
                                key: "_setScrollTop",
                                value: function (t) {
                                    return (this.props.scrollTop = t), this._updateScrollTop(), this.props.scrollTop;
                                },
                            },
                            {
                                key: "_updateScrollTop",
                                value: function () {
                                    var t = Math.min(this.props.centerContainer.height - this.props.center.height, 0);
                                    return (
                                        t != this.props.scrollTopMin && ("top" != this.options.orientation.item && (this.props.scrollTop += t - this.props.scrollTopMin), (this.props.scrollTopMin = t)),
                                        this.props.scrollTop > 0 && (this.props.scrollTop = 0),
                                        this.props.scrollTop < t && (this.props.scrollTop = t),
                                        this.options.verticalScroll && ((this.dom.left.parentNode.scrollTop = -this.props.scrollTop), (this.dom.right.parentNode.scrollTop = -this.props.scrollTop)),
                                        (this._isProgramaticallyScrolled = !0),
                                        this.props.scrollTop
                                    );
                                },
                            },
                            {
                                key: "_getScrollTop",
                                value: function () {
                                    return this.props.scrollTop;
                                },
                            },
                            {
                                key: "_createConfigurator",
                                value: function () {
                                    throw new Error("Cannot invoke abstract method _createConfigurator");
                                },
                            },
                        ]),
                        t
                    );
                })();
                function Hd(t) {
                    var e = (function () {
                        if ("undefined" == typeof Reflect || !go) return !1;
                        if (go.sham) return !1;
                        if ("function" == typeof Proxy) return !0;
                        try {
                            return Date.prototype.toString.call(go(Date, [], function () {})), !0;
                        } catch (t) {
                            return !1;
                        }
                    })();
                    return function () {
                        var i,
                            n = Xo(t);
                        if (e) {
                            var s = Xo(this).constructor;
                            i = go(n, arguments, s);
                        } else i = n.apply(this, arguments);
                        return Go(this, i);
                    };
                }
                Th(zd.prototype);
                var Wd = (function (t) {
                        Uo(i, t);
                        var e = Hd(i);
                        function i(t, n) {
                            var s, r;
                            hl(this, i),
                                ((r = e.call(this)).body = t),
                                (r.defaultOptions = { rtl: !1, showCurrentTime: !0, alignCurrentTime: void 0, moment: Xl, locales: Ld, locale: "en" }),
                                (r.options = ih.extend({}, r.defaultOptions)),
                                r.setOptions(n),
                                (r.options.locales = ih.extend({}, Ld, r.options.locales));
                            var o = r.defaultOptions.locales[r.defaultOptions.locale];
                            return (
                                Mn((s = qs(r.options.locales))).call(s, function (t) {
                                    r.options.locales[t] = ih.extend({}, o, r.options.locales[t]);
                                }),
                                (r.offset = 0),
                                r._create(),
                                r
                            );
                        }
                        return (
                            dl(i, [
                                {
                                    key: "_create",
                                    value: function () {
                                        var t = document.createElement("div");
                                        (t.className = "vis-current-time"), (t.style.position = "absolute"), (t.style.top = "0px"), (t.style.height = "100%"), (this.bar = t);
                                    },
                                },
                                {
                                    key: "destroy",
                                    value: function () {
                                        (this.options.showCurrentTime = !1), this.redraw(), (this.body = null);
                                    },
                                },
                                {
                                    key: "setOptions",
                                    value: function (t) {
                                        t && ih.selectiveExtend(["rtl", "showCurrentTime", "alignCurrentTime", "moment", "locale", "locales"], this.options, t);
                                    },
                                },
                                {
                                    key: "redraw",
                                    value: function () {
                                        if (this.options.showCurrentTime) {
                                            var t,
                                                e,
                                                i = this.body.dom.backgroundVertical;
                                            this.bar.parentNode != i && (this.bar.parentNode && this.bar.parentNode.removeChild(this.bar), i.appendChild(this.bar), this.start());
                                            var n = this.options.moment(Us() + this.offset);
                                            this.options.alignCurrentTime && (n = n.startOf(this.options.alignCurrentTime));
                                            var s = this.body.util.toScreen(n),
                                                r = this.options.locales[this.options.locale];
                                            r ||
                                                (this.warned ||
                                                    (console.warn("WARNING: options.locales['".concat(this.options.locale, "'] not found. See https://visjs.github.io/vis-timeline/docs/timeline/#Localization")), (this.warned = !0)),
                                                (r = this.options.locales.en));
                                            var o = pr((t = pr((e = "".concat(r.current, " "))).call(e, r.time, ": "))).call(t, n.format("dddd, MMMM Do YYYY, H:mm:ss"));
                                            (o = o.charAt(0).toUpperCase() + o.substring(1)),
                                                this.options.rtl ? (this.bar.style.transform = "translateX(".concat(-1 * s, "px)")) : (this.bar.style.transform = "translateX(".concat(s, "px)")),
                                                (this.bar.title = o);
                                        } else this.bar.parentNode && this.bar.parentNode.removeChild(this.bar), this.stop();
                                        return !1;
                                    },
                                },
                                {
                                    key: "start",
                                    value: function () {
                                        var t = this;
                                        !(function e() {
                                            t.stop();
                                            var i = 1 / t.body.range.conversion(t.body.domProps.center.width).scale / 10;
                                            i < 30 && (i = 30), i > 1e3 && (i = 1e3), t.redraw(), t.body.emitter.emit("currentTimeTick"), (t.currentTimeTimer = Ra(e, i));
                                        })();
                                    },
                                },
                                {
                                    key: "stop",
                                    value: function () {
                                        void 0 !== this.currentTimeTimer && (clearTimeout(this.currentTimeTimer), delete this.currentTimeTimer);
                                    },
                                },
                                {
                                    key: "setCurrentTime",
                                    value: function (t) {
                                        var e = ih.convert(t, "Date").valueOf(),
                                            i = Us();
                                        (this.offset = e - i), this.redraw();
                                    },
                                },
                                {
                                    key: "getCurrentTime",
                                    value: function () {
                                        return new Date(Us() + this.offset);
                                    },
                                },
                            ]),
                            i
                        );
                    })(ah),
                    Bd = Ee.find,
                    Yd = "find",
                    Ud = !0,
                    Gd = Pn(Yd);
                Yd in [] &&
                    Array(1).find(function () {
                        Ud = !1;
                    }),
                    X(
                        { target: "Array", proto: !0, forced: Ud || !Gd },
                        {
                            find: function (t) {
                                return Bd(this, t, arguments.length > 1 ? arguments[1] : void 0);
                            },
                        }
                    );
                var qd = gn("Array").find,
                    Xd = Array.prototype,
                    Kd = function (t) {
                        var e = t.find;
                        return t === Xd || (t instanceof Array && e === Xd.find) ? qd : e;
                    },
                    Zd = at.includes,
                    Jd = Pn("indexOf", { ACCESSORS: !0, 1: 0 });
                X(
                    { target: "Array", proto: !0, forced: !Jd },
                    {
                        includes: function (t) {
                            return Zd(this, t, arguments.length > 1 ? arguments[1] : void 0);
                        },
                    }
                );
                var Qd = gn("Array").includes,
                    tu = Qt("match"),
                    eu = function (t) {
                        if (
                            (function (t) {
                                var e;
                                return k(t) && (void 0 !== (e = t[tu]) ? !!e : "RegExp" == b(t));
                            })(t)
                        )
                            throw TypeError("The method doesn't accept regular expressions");
                        return t;
                    },
                    iu = Qt("match");
                X(
                    {
                        target: "String",
                        proto: !0,
                        forced: !(function (t) {
                            var e = /./;
                            try {
                                "/./"[t](e);
                            } catch (i) {
                                try {
                                    return (e[iu] = !1), "/./"[t](e);
                                } catch (t) {}
                            }
                            return !1;
                        })("includes"),
                    },
                    {
                        includes: function (t) {
                            return !!~String(x(this)).indexOf(eu(t), arguments.length > 1 ? arguments[1] : void 0);
                        },
                    }
                );
                var nu = gn("String").includes,
                    su = Array.prototype,
                    ru = String.prototype,
                    ou = function (t) {
                        var e = t.includes;
                        return t === su || (t instanceof Array && e === su.includes) ? Qd : "string" == typeof t || t === ru || (t instanceof String && e === ru.includes) ? nu : e;
                    },
                    au = 0.001;
                function lu(t) {
                    na(t).call(t, function (t, e) {
                        return t.data.start - e.data.start;
                    });
                }
                function hu(t) {
                    na(t).call(t, function (t, e) {
                        return ("end" in t.data ? t.data.end : t.data.start) - ("end" in e.data ? e.data.end : e.data.start);
                    });
                }
                function cu(t, e, i, n) {
                    if (i) for (var s = 0; s < t.length; s++) t[s].top = null;
                    for (s = 0; s < t.length; s++) {
                        var r = t[s];
                        if (r.stack && null === r.top) {
                            r.top = e.axis;
                            var o = !1;
                            do {
                                for (var a = null, l = 0, h = t.length; l < h; l++) {
                                    var c = t[l];
                                    if ((o = n() || !1)) return !0;
                                    if (null !== c.top && c !== r && c.stack && mu(r, c, e.item, c.options.rtl)) {
                                        a = c;
                                        break;
                                    }
                                }
                                null != a && (r.top = a.top + a.height + e.item.vertical);
                            } while (a);
                        }
                    }
                    return o;
                }
                function du(t, e, i) {
                    for (var n = 0; n < t.length; n++) t[n].top = null;
                    var s = i.height;
                    for (n = 0; n < t.length; n++) {
                        var r = t[n];
                        if (r.stack && null === r.top) {
                            r.top = r.baseTop;
                            do {
                                for (var o = null, a = 0, l = t.length; a < l; a++) {
                                    var h = t[a];
                                    if (null !== h.top && h !== r && mu(r, h, e.item, h.options.rtl)) {
                                        o = h;
                                        break;
                                    }
                                }
                                null != o && (r.top = o.top + o.height + e.item.vertical), r.top + r.height > s && (s = r.top + r.height);
                            } while (o);
                        }
                    }
                    i.height = s - i.top + 0.5 * e.item.vertical;
                }
                function uu(t, e, i, n) {
                    for (var s = 0; s < t.length; s++)
                        if (null == t[s].data.subgroup) t[s].top = e.item.vertical;
                        else if (void 0 !== t[s].data.subgroup && n) {
                            var r = 0;
                            for (var o in i) i.hasOwnProperty(o) && 1 == i[o].visible && i[o].index < i[t[s].data.subgroup].index && ((r += i[o].height), (i[t[s].data.subgroup].top = r));
                            t[s].top = r + 0.5 * e.item.vertical;
                        }
                    n || pu(t, e, i);
                }
                function pu(t, e, i) {
                    for (var n in i)
                        if (i.hasOwnProperty(n)) {
                            i[n].top = 0;
                            do {
                                var s = null;
                                for (var r in i)
                                    if (null !== i[r].top && r !== n && i[n].index > i[r].index && gu(i[n], i[r])) {
                                        s = i[r];
                                        break;
                                    }
                                null != s && (i[n].top = s.top + s.height);
                            } while (s);
                        }
                    for (var o = 0; o < t.length; o++) void 0 !== t[o].data.subgroup && (t[o].top = i[t[o].data.subgroup].top + 0.5 * e.item.vertical);
                }
                function fu(t, e, i) {
                    var n = !1,
                        s = [];
                    for (var r in i) i[r].hasOwnProperty("index") ? (s[i[r].index] = r) : s.push(r);
                    for (var o = 0; o < s.length; o++)
                        if (((r = s[o]), i.hasOwnProperty(r))) {
                            for (var a in ((n = n || i[r].stack), (i[r].top = 0), i)) i[a].visible && i[r].index > i[a].index && (i[r].top += i[a].height);
                            for (var l = t[r], h = 0; h < l.length; h++) void 0 !== l[h].data.subgroup && ((l[h].top = i[l[h].data.subgroup].top + 0.5 * e.item.vertical), i[r].stack && (l[h].baseTop = l[h].top));
                            n && i[r].stack && du(t[r], e, i[r]);
                        }
                }
                function mu(t, e, i, n) {
                    return n
                        ? t.right - i.horizontal + au < e.right + e.width && t.right + t.width + i.horizontal - au > e.right && t.top - i.vertical + au < e.top + e.height && t.top + t.height + i.vertical - au > e.top
                        : t.left - i.horizontal + au < e.left + e.width && t.left + t.width + i.horizontal - au > e.left && t.top - i.vertical + au < e.top + e.height && t.top + t.height + i.vertical - au > e.top;
                }
                function gu(t, e) {
                    var i = t.start < e.end && t.end > e.start,
                        n = t.top < e.top + e.height && t.top + t.height > e.top;
                    return i && n;
                }
                var vu = "__background__",
                    bu = (function () {
                        function t(e, i, n) {
                            var s = this;
                            if (
                                (hl(this, t),
                                (this.groupId = e),
                                (this.subgroups = {}),
                                (this.subgroupStack = {}),
                                (this.subgroupStackAll = !1),
                                (this.subgroupVisibility = {}),
                                (this.doInnerStack = !1),
                                (this.shouldBailStackItems = !1),
                                (this.subgroupIndex = 0),
                                (this.subgroupOrderer = i && i.subgroupOrder),
                                (this.itemSet = n),
                                (this.isVisible = null),
                                (this.stackDirty = !0),
                                (this._disposeCallbacks = []),
                                i && i.nestedGroups && ((this.nestedGroups = i.nestedGroups), 0 == i.showNested ? (this.showNested = !1) : (this.showNested = !0)),
                                i && i.subgroupStack)
                            )
                                if ("boolean" == typeof i.subgroupStack) (this.doInnerStack = i.subgroupStack), (this.subgroupStackAll = i.subgroupStack);
                                else for (var r in i.subgroupStack) (this.subgroupStack[r] = i.subgroupStack[r]), (this.doInnerStack = this.doInnerStack || i.subgroupStack[r]);
                            i && i.heightMode ? (this.heightMode = i.heightMode) : (this.heightMode = n.options.groupHeightMode),
                                (this.nestedInGroup = null),
                                (this.dom = {}),
                                (this.props = { label: { width: 0, height: 0 } }),
                                (this.className = null),
                                (this.items = {}),
                                (this.visibleItems = []),
                                (this.itemsInRange = []),
                                (this.orderedItems = { byStart: [], byEnd: [] }),
                                (this.checkRangedItems = !1);
                            var o = function () {
                                s.checkRangedItems = !0;
                            };
                            this.itemSet.body.emitter.on("checkRangedItems", o),
                                this._disposeCallbacks.push(function () {
                                    s.itemSet.body.emitter.off("checkRangedItems", o);
                                }),
                                this._create(),
                                this.setData(i);
                        }
                        return (
                            dl(t, [
                                {
                                    key: "_create",
                                    value: function () {
                                        var t = document.createElement("div");
                                        this.itemSet.options.groupEditable.order ? (t.className = "vis-label draggable") : (t.className = "vis-label"), (this.dom.label = t);
                                        var e = document.createElement("div");
                                        (e.className = "vis-inner"), t.appendChild(e), (this.dom.inner = e);
                                        var i = document.createElement("div");
                                        (i.className = "vis-group"),
                                            (i["vis-group"] = this),
                                            (this.dom.foreground = i),
                                            (this.dom.background = document.createElement("div")),
                                            (this.dom.background.className = "vis-group"),
                                            (this.dom.axis = document.createElement("div")),
                                            (this.dom.axis.className = "vis-group"),
                                            (this.dom.marker = document.createElement("div")),
                                            (this.dom.marker.style.visibility = "hidden"),
                                            (this.dom.marker.style.position = "absolute"),
                                            (this.dom.marker.innerHTML = ""),
                                            this.dom.background.appendChild(this.dom.marker);
                                    },
                                },
                                {
                                    key: "setData",
                                    value: function (t) {
                                        if (!this.itemSet.groupTouchParams.isDragging) {
                                            var e, i, n;
                                            if (t && t.subgroupVisibility) for (var s in t.subgroupVisibility) this.subgroupVisibility[s] = t.subgroupVisibility[s];
                                            if (this.itemSet.options && this.itemSet.options.groupTemplate) e = (i = ll((n = this.itemSet.options.groupTemplate)).call(n, this))(t, this.dom.inner);
                                            else e = t && t.content;
                                            if (e instanceof Element) {
                                                for (; this.dom.inner.firstChild; ) this.dom.inner.removeChild(this.dom.inner.firstChild);
                                                this.dom.inner.appendChild(e);
                                            } else (e instanceof Object && e.isReactComponent) || (e instanceof Object ? i(t, this.dom.inner) : (this.dom.inner.innerHTML = null != e ? e : this.groupId || ""));
                                            (this.dom.label.title = (t && t.title) || ""),
                                                this.dom.inner.firstChild ? ih.removeClassName(this.dom.inner, "vis-hidden") : ih.addClassName(this.dom.inner, "vis-hidden"),
                                                t && t.nestedGroups
                                                    ? ((this.nestedGroups && this.nestedGroups == t.nestedGroups) || (this.nestedGroups = t.nestedGroups),
                                                      (void 0 === t.showNested && void 0 !== this.showNested) || (0 == t.showNested ? (this.showNested = !1) : (this.showNested = !0)),
                                                      ih.addClassName(this.dom.label, "vis-nesting-group"),
                                                      this.showNested
                                                          ? (ih.removeClassName(this.dom.label, "collapsed"), ih.addClassName(this.dom.label, "expanded"))
                                                          : (ih.removeClassName(this.dom.label, "expanded"), ih.addClassName(this.dom.label, "collapsed")))
                                                    : this.nestedGroups &&
                                                      ((this.nestedGroups = null), ih.removeClassName(this.dom.label, "collapsed"), ih.removeClassName(this.dom.label, "expanded"), ih.removeClassName(this.dom.label, "vis-nesting-group")),
                                                t && (t.treeLevel || t.nestedInGroup)
                                                    ? (ih.addClassName(this.dom.label, "vis-nested-group"),
                                                      t.treeLevel ? ih.addClassName(this.dom.label, "vis-group-level-" + t.treeLevel) : ih.addClassName(this.dom.label, "vis-group-level-unknown-but-gte1"))
                                                    : ih.addClassName(this.dom.label, "vis-group-level-0");
                                            var r = (t && t.className) || null;
                                            r != this.className &&
                                                (this.className &&
                                                    (ih.removeClassName(this.dom.label, this.className),
                                                    ih.removeClassName(this.dom.foreground, this.className),
                                                    ih.removeClassName(this.dom.background, this.className),
                                                    ih.removeClassName(this.dom.axis, this.className)),
                                                ih.addClassName(this.dom.label, r),
                                                ih.addClassName(this.dom.foreground, r),
                                                ih.addClassName(this.dom.background, r),
                                                ih.addClassName(this.dom.axis, r),
                                                (this.className = r)),
                                                this.style && (ih.removeCssText(this.dom.label, this.style), (this.style = null)),
                                                t && t.style && (ih.addCssText(this.dom.label, t.style), (this.style = t.style));
                                        }
                                    },
                                },
                                {
                                    key: "getLabelWidth",
                                    value: function () {
                                        return this.props.label.width;
                                    },
                                },
                                {
                                    key: "_didMarkerHeightChange",
                                    value: function () {
                                        var t = this.dom.marker.clientHeight;
                                        if (t != this.lastMarkerHeight) {
                                            this.lastMarkerHeight = t;
                                            var e = {},
                                                i = 0;
                                            if (
                                                (Mn(ih).call(ih, this.items, function (t, n) {
                                                    if (((t.dirty = !0), t.displayed)) {
                                                        (e[n] = t.redraw(!0)), (i = e[n].length);
                                                    }
                                                }),
                                                i > 0)
                                            )
                                                for (
                                                    var n = function (t) {
                                                            Mn(ih).call(ih, e, function (e) {
                                                                e[t]();
                                                            });
                                                        },
                                                        s = 0;
                                                    s < i;
                                                    s++
                                                )
                                                    n(s);
                                            return !0;
                                        }
                                        return !1;
                                    },
                                },
                                {
                                    key: "_calculateGroupSizeAndPosition",
                                    value: function () {
                                        var t = this.dom.foreground,
                                            e = t.offsetTop,
                                            i = t.offsetLeft,
                                            n = t.offsetWidth;
                                        (this.top = e), (this.right = i), (this.width = n);
                                    },
                                },
                                {
                                    key: "_shouldBailItemsRedraw",
                                    value: function () {
                                        var t = this,
                                            e = this.itemSet.options.onTimeout,
                                            i = { relativeBailingTime: this.itemSet.itemsSettingTime, bailTimeMs: e && e.timeoutMs, userBailFunction: e && e.callback, shouldBailStackItems: this.shouldBailStackItems },
                                            n = null;
                                        if (!this.itemSet.initialDrawDone) {
                                            if (i.shouldBailStackItems) return !0;
                                            Math.abs(Us() - new Date(i.relativeBailingTime)) > i.bailTimeMs &&
                                                (i.userBailFunction && null == this.itemSet.userContinueNotBail
                                                    ? i.userBailFunction(function (e) {
                                                          (t.itemSet.userContinueNotBail = e), (n = !e);
                                                      })
                                                    : (n = 0 == t.itemSet.userContinueNotBail));
                                        }
                                        return n;
                                    },
                                },
                                {
                                    key: "_redrawItems",
                                    value: function (t, e, i, n) {
                                        var s = this;
                                        if (t || this.stackDirty || (this.isVisible && !e)) {
                                            var r,
                                                o,
                                                a,
                                                l,
                                                h,
                                                c,
                                                d = {
                                                    byEnd: is((r = this.orderedItems.byEnd)).call(r, function (t) {
                                                        return !t.isCluster;
                                                    }),
                                                    byStart: is((o = this.orderedItems.byStart)).call(o, function (t) {
                                                        return !t.isCluster;
                                                    }),
                                                },
                                                u = {
                                                    byEnd: cr(
                                                        new wa(
                                                            is(
                                                                (a = tr((l = this.orderedItems.byEnd)).call(l, function (t) {
                                                                    return t.cluster;
                                                                }))
                                                            ).call(a, function (t) {
                                                                return !!t;
                                                            })
                                                        )
                                                    ),
                                                    byStart: cr(
                                                        new wa(
                                                            is(
                                                                (h = tr((c = this.orderedItems.byStart)).call(c, function (t) {
                                                                    return t.cluster;
                                                                }))
                                                            ).call(h, function (t) {
                                                                return !!t;
                                                            })
                                                        )
                                                    ),
                                                },
                                                p = function () {
                                                    var t,
                                                        e,
                                                        i,
                                                        r = s._updateItemsInRange(
                                                            d,
                                                            is((t = s.visibleItems)).call(t, function (t) {
                                                                return !t.isCluster;
                                                            }),
                                                            n
                                                        ),
                                                        o = s._updateClustersInRange(
                                                            u,
                                                            is((e = s.visibleItems)).call(e, function (t) {
                                                                return t.isCluster;
                                                            }),
                                                            n
                                                        );
                                                    return pr((i = [])).call(i, cr(r), cr(o));
                                                },
                                                f = function (t) {
                                                    var e = {},
                                                        i = function (i) {
                                                            var n,
                                                                r = is((n = s.visibleItems)).call(n, function (t) {
                                                                    return t.data.subgroup === i;
                                                                });
                                                            e[i] = t
                                                                ? na(r).call(r, function (e, i) {
                                                                      return t(e.data, i.data);
                                                                  })
                                                                : r;
                                                        };
                                                    for (var n in s.subgroups) i(n);
                                                    return e;
                                                };
                                            if ("function" == typeof this.itemSet.options.order) {
                                                var m = this;
                                                if (this.doInnerStack && this.itemSet.options.stackSubgroups) {
                                                    fu(f(this.itemSet.options.order), i, this.subgroups), (this.visibleItems = p()), this._updateSubGroupHeights(i);
                                                } else {
                                                    var g, v, b, y;
                                                    (this.visibleItems = p()), this._updateSubGroupHeights(i);
                                                    var w = na(
                                                        (g = is((v = or((b = this.visibleItems)).call(b))).call(v, function (t) {
                                                            return t.isCluster || (!t.isCluster && !t.cluster);
                                                        }))
                                                    ).call(g, function (t, e) {
                                                        return m.itemSet.options.order(t.data, e.data);
                                                    });
                                                    this.shouldBailStackItems = cu(w, i, !0, ll((y = this._shouldBailItemsRedraw)).call(y, this));
                                                }
                                            } else {
                                                var x;
                                                if (((this.visibleItems = p()), this._updateSubGroupHeights(i), this.itemSet.options.stack))
                                                    if (this.doInnerStack && this.itemSet.options.stackSubgroups) fu(f(), i, this.subgroups);
                                                    else this.shouldBailStackItems = cu(this.visibleItems, i, !0, ll((x = this._shouldBailItemsRedraw)).call(x, this));
                                                else uu(this.visibleItems, i, this.subgroups, this.itemSet.options.stackSubgroups);
                                            }
                                            for (var _ = 0; _ < this.visibleItems.length; _++)
                                                this.visibleItems[_].repositionX(),
                                                    void 0 !== this.subgroupVisibility[this.visibleItems[_].data.subgroup] && (this.subgroupVisibility[this.visibleItems[_].data.subgroup] || this.visibleItems[_].hide());
                                            this.itemSet.options.cluster &&
                                                Mn(ih).call(ih, this.items, function (t) {
                                                    t.cluster && t.displayed && t.hide();
                                                }),
                                                this.shouldBailStackItems && this.itemSet.body.emitter.emit("destroyTimeline"),
                                                (this.stackDirty = !1);
                                        }
                                    },
                                },
                                {
                                    key: "_didResize",
                                    value: function (t, e) {
                                        t = ih.updateProperty(this, "height", e) || t;
                                        var i = this.dom.inner.clientWidth,
                                            n = this.dom.inner.clientHeight;
                                        return (t = ih.updateProperty(this.props.label, "width", i) || t), (t = ih.updateProperty(this.props.label, "height", n) || t);
                                    },
                                },
                                {
                                    key: "_applyGroupHeight",
                                    value: function (t) {
                                        (this.dom.background.style.height = "".concat(t, "px")), (this.dom.foreground.style.height = "".concat(t, "px")), (this.dom.label.style.height = "".concat(t, "px"));
                                    },
                                },
                                {
                                    key: "_updateItemsVerticalPosition",
                                    value: function (t) {
                                        for (var e = 0, i = this.visibleItems.length; e < i; e++) {
                                            var n = this.visibleItems[e];
                                            n.repositionY(t), this.isVisible || this.groupId == vu || (n.displayed && n.hide());
                                        }
                                    },
                                },
                                {
                                    key: "redraw",
                                    value: function (t, e, i, n) {
                                        var s,
                                            r,
                                            o,
                                            a,
                                            l,
                                            h,
                                            c,
                                            d = this,
                                            u = !1,
                                            p = this.isVisible,
                                            f = [
                                                function () {
                                                    i = d._didMarkerHeightChange.call(d) || i;
                                                },
                                                ll((s = this._updateSubGroupHeights)).call(s, this, e),
                                                ll((r = this._calculateGroupSizeAndPosition)).call(r, this),
                                                function () {
                                                    var i;
                                                    d.isVisible = ll((i = d._isGroupVisible)).call(i, d)(t, e);
                                                },
                                                function () {
                                                    var n;
                                                    ll((n = d._redrawItems)).call(n, d)(i, p, e, t);
                                                },
                                                ll((o = this._updateSubgroupsSizes)).call(o, this),
                                                function () {
                                                    var t;
                                                    h = ll((t = d._calculateHeight)).call(t, d)(e);
                                                },
                                                ll((a = this._calculateGroupSizeAndPosition)).call(a, this),
                                                function () {
                                                    var t;
                                                    u = ll((t = d._didResize)).call(t, d)(u, h);
                                                },
                                                function () {
                                                    var t;
                                                    ll((t = d._applyGroupHeight)).call(t, d)(h);
                                                },
                                                function () {
                                                    var t;
                                                    ll((t = d._updateItemsVerticalPosition)).call(t, d)(e);
                                                },
                                                ll(
                                                    (l = function () {
                                                        return !d.isVisible && d.height && (u = !1), u;
                                                    })
                                                ).call(l, this),
                                            ];
                                        return n
                                            ? f
                                            : (Mn(f).call(f, function (t) {
                                                  c = t();
                                              }),
                                              c);
                                    },
                                },
                                {
                                    key: "_updateSubGroupHeights",
                                    value: function (t) {
                                        var e = this;
                                        if (qs(this.subgroups).length > 0) {
                                            var i = this;
                                            this._resetSubgroups(),
                                                Mn(ih).call(ih, this.visibleItems, function (n) {
                                                    void 0 !== n.data.subgroup &&
                                                        ((i.subgroups[n.data.subgroup].height = Math.max(i.subgroups[n.data.subgroup].height, n.height + t.item.vertical)),
                                                        (i.subgroups[n.data.subgroup].visible = void 0 === e.subgroupVisibility[n.data.subgroup] || Boolean(e.subgroupVisibility[n.data.subgroup])));
                                                });
                                        }
                                    },
                                },
                                {
                                    key: "_isGroupVisible",
                                    value: function (t, e) {
                                        return this.top <= t.body.domProps.centerContainer.height - t.body.domProps.scrollTop + e.axis && this.top + this.height + e.axis >= -t.body.domProps.scrollTop;
                                    },
                                },
                                {
                                    key: "_calculateHeight",
                                    value: function (t) {
                                        var e, i;
                                        if ((i = "fixed" === this.heightMode ? ih.toArray(this.items) : this.visibleItems).length > 0) {
                                            var n = i[0].top,
                                                s = i[0].top + i[0].height;
                                            if (
                                                (Mn(ih).call(ih, i, function (t) {
                                                    (n = Math.min(n, t.top)), (s = Math.max(s, t.top + t.height));
                                                }),
                                                n > t.axis)
                                            ) {
                                                var r = n - t.axis;
                                                (s -= r),
                                                    Mn(ih).call(ih, i, function (t) {
                                                        t.top -= r;
                                                    });
                                            }
                                            (e = Math.ceil(s + t.item.vertical / 2)), "fitItems" !== this.heightMode && (e = Math.max(e, this.props.label.height));
                                        } else e = this.props.label.height;
                                        return e;
                                    },
                                },
                                {
                                    key: "show",
                                    value: function () {
                                        this.dom.label.parentNode || this.itemSet.dom.labelSet.appendChild(this.dom.label),
                                            this.dom.foreground.parentNode || this.itemSet.dom.foreground.appendChild(this.dom.foreground),
                                            this.dom.background.parentNode || this.itemSet.dom.background.appendChild(this.dom.background),
                                            this.dom.axis.parentNode || this.itemSet.dom.axis.appendChild(this.dom.axis);
                                    },
                                },
                                {
                                    key: "hide",
                                    value: function () {
                                        var t = this.dom.label;
                                        t.parentNode && t.parentNode.removeChild(t);
                                        var e = this.dom.foreground;
                                        e.parentNode && e.parentNode.removeChild(e);
                                        var i = this.dom.background;
                                        i.parentNode && i.parentNode.removeChild(i);
                                        var n = this.dom.axis;
                                        n.parentNode && n.parentNode.removeChild(n);
                                    },
                                },
                                {
                                    key: "add",
                                    value: function (t) {
                                        var e;
                                        if (((this.items[t.id] = t), t.setParent(this), (this.stackDirty = !0), void 0 !== t.data.subgroup && (this._addToSubgroup(t), this.orderSubgroups()), !ou((e = this.visibleItems)).call(e, t))) {
                                            var i = this.itemSet.body.range;
                                            this._checkIfVisible(t, this.visibleItems, i);
                                        }
                                    },
                                },
                                {
                                    key: "_addToSubgroup",
                                    value: function (t) {
                                        var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : t.data.subgroup;
                                        null != e &&
                                            void 0 === this.subgroups[e] &&
                                            ((this.subgroups[e] = {
                                                height: 0,
                                                top: 0,
                                                start: t.data.start,
                                                end: t.data.end || t.data.start,
                                                visible: !1,
                                                index: this.subgroupIndex,
                                                items: [],
                                                stack: this.subgroupStackAll || this.subgroupStack[e] || !1,
                                            }),
                                            this.subgroupIndex++),
                                            new Date(t.data.start) < new Date(this.subgroups[e].start) && (this.subgroups[e].start = t.data.start);
                                        var i = t.data.end || t.data.start;
                                        new Date(i) > new Date(this.subgroups[e].end) && (this.subgroups[e].end = i), this.subgroups[e].items.push(t);
                                    },
                                },
                                {
                                    key: "_updateSubgroupsSizes",
                                    value: function () {
                                        var t = this;
                                        if (t.subgroups) {
                                            var e = function (e) {
                                                var i,
                                                    n = t.subgroups[e].items[0].data.end || t.subgroups[e].items[0].data.start,
                                                    s = t.subgroups[e].items[0].data.start,
                                                    r = n - 1;
                                                Mn((i = t.subgroups[e].items)).call(i, function (t) {
                                                    new Date(t.data.start) < new Date(s) && (s = t.data.start);
                                                    var e = t.data.end || t.data.start;
                                                    new Date(e) > new Date(r) && (r = e);
                                                }),
                                                    (t.subgroups[e].start = s),
                                                    (t.subgroups[e].end = new Date(r - 1));
                                            };
                                            for (var i in t.subgroups) e(i);
                                        }
                                    },
                                },
                                {
                                    key: "orderSubgroups",
                                    value: function () {
                                        if (void 0 !== this.subgroupOrderer) {
                                            var t = [];
                                            if ("string" == typeof this.subgroupOrderer) {
                                                for (var e in this.subgroups) t.push({ subgroup: e, sortField: this.subgroups[e].items[0].data[this.subgroupOrderer] });
                                                na(t).call(t, function (t, e) {
                                                    return t.sortField - e.sortField;
                                                });
                                            } else if ("function" == typeof this.subgroupOrderer) {
                                                for (var i in this.subgroups) t.push(this.subgroups[i].items[0].data);
                                                na(t).call(t, this.subgroupOrderer);
                                            }
                                            if (t.length > 0) for (var n = 0; n < t.length; n++) this.subgroups[t[n].subgroup].index = n;
                                        }
                                    },
                                },
                                {
                                    key: "_resetSubgroups",
                                    value: function () {
                                        for (var t in this.subgroups) this.subgroups.hasOwnProperty(t) && ((this.subgroups[t].visible = !1), (this.subgroups[t].height = 0));
                                    },
                                },
                                {
                                    key: "remove",
                                    value: function (t) {
                                        var e, i;
                                        delete this.items[t.id], t.setParent(null), (this.stackDirty = !0);
                                        var n = ps((e = this.visibleItems)).call(e, t);
                                        -1 != n && Ma((i = this.visibleItems)).call(i, n, 1), void 0 !== t.data.subgroup && (this._removeFromSubgroup(t), this.orderSubgroups());
                                    },
                                },
                                {
                                    key: "_removeFromSubgroup",
                                    value: function (t) {
                                        var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : t.data.subgroup;
                                        if (null != e) {
                                            var i = this.subgroups[e];
                                            if (i) {
                                                var n,
                                                    s,
                                                    r = ps((n = i.items)).call(n, t);
                                                if (r >= 0) Ma((s = i.items)).call(s, r, 1), i.items.length ? this._updateSubgroupsSizes() : delete this.subgroups[e];
                                            }
                                        }
                                    },
                                },
                                {
                                    key: "removeFromDataSet",
                                    value: function (t) {
                                        this.itemSet.removeItem(t.id);
                                    },
                                },
                                {
                                    key: "order",
                                    value: function () {
                                        for (var t = ih.toArray(this.items), e = [], i = [], n = 0; n < t.length; n++) void 0 !== t[n].data.end && i.push(t[n]), e.push(t[n]);
                                        (this.orderedItems = { byStart: e, byEnd: i }), lu(this.orderedItems.byStart), hu(this.orderedItems.byEnd);
                                    },
                                },
                                {
                                    key: "_updateItemsInRange",
                                    value: function (t, e, i) {
                                        var n = [],
                                            s = {};
                                        if (!this.isVisible && this.groupId != vu) {
                                            for (var r = 0; r < e.length; r++) {
                                                var o = e[r];
                                                o.displayed && o.hide();
                                            }
                                            return n;
                                        }
                                        var a = (i.end - i.start) / 4,
                                            l = i.start - a,
                                            h = i.end + a;
                                        if (e.length > 0) for (var c = 0; c < e.length; c++) this._checkIfVisibleWithReference(e[c], n, s, i);
                                        var d = ih.binarySearchCustom(
                                            t.byStart,
                                            function (t) {
                                                return t < l ? -1 : t <= h ? 0 : 1;
                                            },
                                            "data",
                                            "start"
                                        );
                                        if (
                                            (this._traceVisible(d, t.byStart, n, s, function (t) {
                                                return t.data.start < l || t.data.start > h;
                                            }),
                                            1 == this.checkRangedItems)
                                        ) {
                                            this.checkRangedItems = !1;
                                            for (var u = 0; u < t.byEnd.length; u++) this._checkIfVisibleWithReference(t.byEnd[u], n, s, i);
                                        } else {
                                            var p = ih.binarySearchCustom(
                                                t.byEnd,
                                                function (t) {
                                                    var e = t.start;
                                                    return t.end < l ? -1 : e <= h ? 0 : 1;
                                                },
                                                "data"
                                            );
                                            this._traceVisible(p, t.byEnd, n, s, function (t) {
                                                return t.data.end < l || t.data.start > h;
                                            });
                                        }
                                        for (var f = {}, m = 0, g = 0; g < n.length; g++) {
                                            var v = n[g];
                                            if (!v.displayed) {
                                                (f[g] = v.redraw(!0)), (m = f[g].length);
                                            }
                                        }
                                        if (m > 0)
                                            for (
                                                var b = function (t) {
                                                        Mn(ih).call(ih, f, function (e) {
                                                            e[t]();
                                                        });
                                                    },
                                                    y = 0;
                                                y < m;
                                                y++
                                            )
                                                b(y);
                                        for (var w = 0; w < n.length; w++) n[w].repositionX();
                                        return n;
                                    },
                                },
                                {
                                    key: "_traceVisible",
                                    value: function (t, e, i, n, s) {
                                        if (-1 != t) {
                                            for (var r = t; r >= 0; r--) {
                                                var o = e[r];
                                                if (s(o)) break;
                                                (o.isCluster && !o.hasItems()) || o.cluster || (void 0 === n[o.id] && ((n[o.id] = !0), i.push(o)));
                                            }
                                            for (var a = t + 1; a < e.length; a++) {
                                                var l = e[a];
                                                if (s(l)) break;
                                                (l.isCluster && !l.hasItems()) || l.cluster || (void 0 === n[l.id] && ((n[l.id] = !0), i.push(l)));
                                            }
                                        }
                                    },
                                },
                                {
                                    key: "_checkIfVisible",
                                    value: function (t, e, i) {
                                        t.isVisible(i) ? (t.displayed || t.show(), t.repositionX(), e.push(t)) : t.displayed && t.hide();
                                    },
                                },
                                {
                                    key: "_checkIfVisibleWithReference",
                                    value: function (t, e, i, n) {
                                        t.isVisible(n) ? void 0 === i[t.id] && ((i[t.id] = !0), e.push(t)) : t.displayed && t.hide();
                                    },
                                },
                                {
                                    key: "_updateClustersInRange",
                                    value: function (t, e, i) {
                                        var n = [],
                                            s = {};
                                        if (e.length > 0) for (var r = 0; r < e.length; r++) this._checkIfVisibleWithReference(e[r], n, s, i);
                                        for (var o = 0; o < t.byStart.length; o++) this._checkIfVisibleWithReference(t.byStart[o], n, s, i);
                                        for (var a = 0; a < t.byEnd.length; a++) this._checkIfVisibleWithReference(t.byEnd[a], n, s, i);
                                        for (var l = {}, h = 0, c = 0; c < n.length; c++) {
                                            var d = n[c];
                                            if (!d.displayed) {
                                                (l[c] = d.redraw(!0)), (h = l[c].length);
                                            }
                                        }
                                        if (h > 0)
                                            for (var u = 0; u < h; u++)
                                                Mn(ih).call(ih, l, function (t) {
                                                    t[u]();
                                                });
                                        for (var p = 0; p < n.length; p++) n[p].repositionX();
                                        return n;
                                    },
                                },
                                {
                                    key: "changeSubgroup",
                                    value: function (t, e, i) {
                                        this._removeFromSubgroup(t, e), this._addToSubgroup(t, i), this.orderSubgroups();
                                    },
                                },
                                {
                                    key: "dispose",
                                    value: function () {
                                        var t;
                                        for (this.hide(); (t = this._disposeCallbacks.pop()); ) t();
                                    },
                                },
                            ]),
                            t
                        );
                    })();
                function yu(t) {
                    var e = (function () {
                        if ("undefined" == typeof Reflect || !go) return !1;
                        if (go.sham) return !1;
                        if ("function" == typeof Proxy) return !0;
                        try {
                            return Date.prototype.toString.call(go(Date, [], function () {})), !0;
                        } catch (t) {
                            return !1;
                        }
                    })();
                    return function () {
                        var i,
                            n = Xo(t);
                        if (e) {
                            var s = Xo(this).constructor;
                            i = go(n, arguments, s);
                        } else i = n.apply(this, arguments);
                        return Go(this, i);
                    };
                }
                var wu = (function (t) {
                    Uo(i, t);
                    var e = yu(i);
                    function i(t, n, s) {
                        var r;
                        return hl(this, i), ((r = e.call(this, t, n, s)).width = 0), (r.height = 0), (r.top = 0), (r.left = 0), r;
                    }
                    return (
                        dl(i, [
                            {
                                key: "redraw",
                                value: function (t, e, i) {
                                    (this.visibleItems = this._updateItemsInRange(this.orderedItems, this.visibleItems, t)), (this.width = this.dom.background.offsetWidth), (this.dom.background.style.height = "0");
                                    for (var n = 0, s = this.visibleItems.length; n < s; n++) {
                                        this.visibleItems[n].repositionY(e);
                                    }
                                    return !1;
                                },
                            },
                            {
                                key: "show",
                                value: function () {
                                    this.dom.background.parentNode || this.itemSet.dom.background.appendChild(this.dom.background);
                                },
                            },
                        ]),
                        i
                    );
                })(bu);
                function xu(t, e) {
                    var i;
                    if (void 0 === fr || null == Bi(t)) {
                        if (
                            er(t) ||
                            (i = (function (t, e) {
                                var i;
                                if (!t) return;
                                if ("string" == typeof t) return _u(t, e);
                                var n = or((i = Object.prototype.toString.call(t))).call(i, 8, -1);
                                "Object" === n && t.constructor && (n = t.constructor.name);
                                if ("Map" === n || "Set" === n) return en(t);
                                if ("Arguments" === n || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _u(t, e);
                            })(t)) ||
                            (e && t && "number" == typeof t.length)
                        ) {
                            i && (t = i);
                            var n = 0,
                                s = function () {};
                            return {
                                s,
                                n: function () {
                                    return n >= t.length ? { done: !0 } : { done: !1, value: t[n++] };
                                },
                                e: function (t) {
                                    throw t;
                                },
                                f: s,
                            };
                        }
                        throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
                    }
                    var r,
                        o = !0,
                        a = !1;
                    return {
                        s: function () {
                            i = Wi(t);
                        },
                        n: function () {
                            var t = i.next();
                            return (o = t.done), t;
                        },
                        e: function (t) {
                            (a = !0), (r = t);
                        },
                        f: function () {
                            try {
                                o || null == i.return || i.return();
                            } finally {
                                if (a) throw r;
                            }
                        },
                    };
                }
                function _u(t, e) {
                    (null == e || e > t.length) && (e = t.length);
                    for (var i = 0, n = new Array(e); i < e; i++) n[i] = t[i];
                    return n;
                }
                _d(
                    '\n.vis-item {\n  position: absolute;\n  color: #1A1A1A;\n  border-color: #97B0F8;\n  border-width: 1px;\n  background-color: #D5DDF6;\n  display: inline-block;\n  z-index: 1;\n  /*overflow: hidden;*/\n}\n\n.vis-item.vis-selected {\n  border-color: #FFC200;\n  background-color: #FFF785;\n\n  /* z-index must be higher than the z-index of custom time bar and current time bar */\n  z-index: 2;\n}\n\n.vis-editable.vis-selected {\n  cursor: move;\n}\n\n.vis-item.vis-point.vis-selected {\n  background-color: #FFF785;\n}\n\n.vis-item.vis-box {\n  text-align: center;\n  border-style: solid;\n  border-radius: 2px;\n}\n\n.vis-item.vis-point {\n  background: none;\n}\n\n.vis-item.vis-dot {\n  position: absolute;\n  padding: 0;\n  border-width: 4px;\n  border-style: solid;\n  border-radius: 4px;\n}\n\n.vis-item.vis-range {\n  border-style: solid;\n  border-radius: 2px;\n  box-sizing: border-box;\n}\n\n.vis-item.vis-background {\n  border: none;\n  background-color: rgba(213, 221, 246, 0.4);\n  box-sizing: border-box;\n  padding: 0;\n  margin: 0;\n}\n\n.vis-item .vis-item-overflow {\n  position: relative;\n  width: 100%;\n  height: 100%;\n  padding: 0;\n  margin: 0;\n  overflow: hidden;\n}\n\n.vis-item-visible-frame {\n  white-space: nowrap;\n}\n\n.vis-item.vis-range .vis-item-content {\n  position: relative;\n  display: inline-block;\n}\n\n.vis-item.vis-background .vis-item-content {\n  position: absolute;\n  display: inline-block;\n}\n\n.vis-item.vis-line {\n  padding: 0;\n  position: absolute;\n  width: 0;\n  border-left-width: 1px;\n  border-left-style: solid;\n}\n\n.vis-item .vis-item-content {\n  white-space: nowrap;\n  box-sizing: border-box;\n  padding: 5px;\n}\n\n.vis-item .vis-onUpdateTime-tooltip {\n  position: absolute;\n  background: #4f81bd;\n  color: white;\n  width: 200px;\n  text-align: center;\n  white-space: nowrap;\n  padding: 5px;\n  border-radius: 1px;\n  transition: 0.4s;\n  -o-transition: 0.4s;\n  -moz-transition: 0.4s;\n  -webkit-transition: 0.4s;\n}\n\n.vis-item .vis-delete, .vis-item .vis-delete-rtl {\n  position: absolute;\n  top: 0px;\n  width: 24px;\n  height: 24px;\n  box-sizing: border-box;\n  padding: 0px 5px;\n  cursor: pointer;\n\n  -webkit-transition: background 0.2s linear;\n  -moz-transition: background 0.2s linear;\n  -ms-transition: background 0.2s linear;\n  -o-transition: background 0.2s linear;\n  transition: background 0.2s linear;\n}\n\n.vis-item .vis-delete {\n  right: -24px;\n}\n\n.vis-item .vis-delete-rtl {\n  left: -24px;\n}\n\n.vis-item .vis-delete:after, .vis-item .vis-delete-rtl:after {\n  content: "\\00D7"; /* MULTIPLICATION SIGN */\n  color: red;\n  font-family: arial, sans-serif;\n  font-size: 22px;\n  font-weight: bold;\n\n  -webkit-transition: color 0.2s linear;\n  -moz-transition: color 0.2s linear;\n  -ms-transition: color 0.2s linear;\n  -o-transition: color 0.2s linear;\n  transition: color 0.2s linear;\n}\n\n.vis-item .vis-delete:hover, .vis-item .vis-delete-rtl:hover {\n  background: red;\n}\n\n.vis-item .vis-delete:hover:after, .vis-item .vis-delete-rtl:hover:after {\n  color: white;\n}\n\n.vis-item .vis-drag-center {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  top: 0;\n  left: 0px;\n  cursor: move;\n}\n\n.vis-item.vis-range .vis-drag-left {\n  position: absolute;\n  width: 24px;\n  max-width: 20%;\n  min-width: 2px;\n  height: 100%;\n  top: 0;\n  left: -4px;\n\n  cursor: w-resize;\n}\n\n.vis-item.vis-range .vis-drag-right {\n  position: absolute;\n  width: 24px;\n  max-width: 20%;\n  min-width: 2px;\n  height: 100%;\n  top: 0;\n  right: -4px;\n\n  cursor: e-resize;\n}\n\n.vis-range.vis-item.vis-readonly .vis-drag-left,\n.vis-range.vis-item.vis-readonly .vis-drag-right {\n  cursor: auto;\n}\n\n.vis-item.vis-cluster {\n  vertical-align: center;\n  text-align: center;\n  border-style: solid;\n  border-radius: 2px;\n}\n\n.vis-item.vis-cluster-line {\n  padding: 0;\n  position: absolute;\n  width: 0;\n  border-left-width: 1px;\n  border-left-style: solid;\n}\n\n.vis-item.vis-cluster-dot {\n  position: absolute;\n  padding: 0;\n  border-width: 4px;\n  border-style: solid;\n  border-radius: 4px;\n}'
                );
                var ku = (function () {
                    function t(e, i, n) {
                        var s,
                            r = this;
                        hl(this, t),
                            (this.id = null),
                            (this.parent = null),
                            (this.data = e),
                            (this.dom = null),
                            (this.conversion = i || {}),
                            (this.defaultOptions = { locales: Ld, locale: "en" }),
                            (this.options = ih.extend({}, this.defaultOptions, n)),
                            (this.options.locales = ih.extend({}, Ld, this.options.locales));
                        var o = this.defaultOptions.locales[this.defaultOptions.locale];
                        Mn((s = qs(this.options.locales))).call(s, function (t) {
                            r.options.locales[t] = ih.extend({}, o, r.options.locales[t]);
                        }),
                            (this.selected = !1),
                            (this.displayed = !1),
                            (this.groupShowing = !0),
                            (this.selectable = (n && n.selectable) || !1),
                            (this.dirty = !0),
                            (this.top = null),
                            (this.right = null),
                            (this.left = null),
                            (this.width = null),
                            (this.height = null),
                            this.setSelectability(e),
                            (this.editable = null),
                            this._updateEditStatus();
                    }
                    return (
                        dl(t, [
                            {
                                key: "select",
                                value: function () {
                                    this.selectable && ((this.selected = !0), (this.dirty = !0), this.displayed && this.redraw());
                                },
                            },
                            {
                                key: "unselect",
                                value: function () {
                                    (this.selected = !1), (this.dirty = !0), this.displayed && this.redraw();
                                },
                            },
                            {
                                key: "setData",
                                value: function (t) {
                                    null != t.group && this.data.group != t.group && null != this.parent && this.parent.itemSet._moveToGroup(this, t.group),
                                        this.setSelectability(t),
                                        this.parent && (this.parent.stackDirty = !0),
                                        null != t.subgroup && this.data.subgroup != t.subgroup && null != this.parent && this.parent.changeSubgroup(this, this.data.subgroup, t.subgroup),
                                        (this.data = t),
                                        this._updateEditStatus(),
                                        (this.dirty = !0),
                                        this.displayed && this.redraw();
                                },
                            },
                            {
                                key: "setSelectability",
                                value: function (t) {
                                    t && (this.selectable = void 0 === t.selectable || Boolean(t.selectable));
                                },
                            },
                            {
                                key: "setParent",
                                value: function (t) {
                                    this.displayed ? (this.hide(), (this.parent = t), this.parent && this.show()) : (this.parent = t);
                                },
                            },
                            {
                                key: "isVisible",
                                value: function (t) {
                                    return !1;
                                },
                            },
                            {
                                key: "show",
                                value: function () {
                                    return !1;
                                },
                            },
                            {
                                key: "hide",
                                value: function () {
                                    return !1;
                                },
                            },
                            { key: "redraw", value: function () {} },
                            { key: "repositionX", value: function () {} },
                            { key: "repositionY", value: function () {} },
                            {
                                key: "_repaintDragCenter",
                                value: function () {
                                    if (this.selected && this.editable.updateTime && !this.dom.dragCenter) {
                                        var t,
                                            e,
                                            i = this,
                                            n = document.createElement("div");
                                        (n.className = "vis-drag-center"),
                                            (n.dragCenterItem = this),
                                            (this.hammerDragCenter = new yd(n)),
                                            this.hammerDragCenter.on("tap", function (t) {
                                                i.parent.itemSet.body.emitter.emit("click", { event: t, item: i.id });
                                            }),
                                            this.hammerDragCenter.on("doubletap", function (t) {
                                                t.stopPropagation(), i.parent.itemSet._onUpdateItem(i), i.parent.itemSet.body.emitter.emit("doubleClick", { event: t, item: i.id });
                                            }),
                                            this.hammerDragCenter.on("panstart", function (t) {
                                                t.stopPropagation(), i.parent.itemSet._onDragStart(t);
                                            }),
                                            this.hammerDragCenter.on("panmove", ll((t = i.parent.itemSet._onDrag)).call(t, i.parent.itemSet)),
                                            this.hammerDragCenter.on("panend", ll((e = i.parent.itemSet._onDragEnd)).call(e, i.parent.itemSet)),
                                            this.dom.box ? (this.dom.dragLeft ? this.dom.box.insertBefore(n, this.dom.dragLeft) : this.dom.box.appendChild(n)) : this.dom.point && this.dom.point.appendChild(n),
                                            (this.dom.dragCenter = n);
                                    } else
                                        !this.selected &&
                                            this.dom.dragCenter &&
                                            (this.dom.dragCenter.parentNode && this.dom.dragCenter.parentNode.removeChild(this.dom.dragCenter),
                                            (this.dom.dragCenter = null),
                                            this.hammerDragCenter && (this.hammerDragCenter.destroy(), (this.hammerDragCenter = null)));
                                },
                            },
                            {
                                key: "_repaintDeleteButton",
                                value: function (t) {
                                    var e = ((this.options.editable.overrideItems || null == this.editable) && this.options.editable.remove) || (!this.options.editable.overrideItems && null != this.editable && this.editable.remove);
                                    if (this.selected && e && !this.dom.deleteButton) {
                                        var i = this,
                                            n = document.createElement("div");
                                        this.options.rtl ? (n.className = "vis-delete-rtl") : (n.className = "vis-delete");
                                        var s = this.options.locales[this.options.locale];
                                        s ||
                                            (this.warned || (console.warn("WARNING: options.locales['".concat(this.options.locale, "'] not found. See https://visjs.github.io/vis-timeline/docs/timeline/#Localization")), (this.warned = !0)),
                                            (s = this.options.locales.en)),
                                            (n.title = s.deleteSelected),
                                            (this.hammerDeleteButton = new yd(n).on("tap", function (t) {
                                                t.stopPropagation(), i.parent.removeFromDataSet(i);
                                            })),
                                            t.appendChild(n),
                                            (this.dom.deleteButton = n);
                                    } else
                                        !this.selected &&
                                            this.dom.deleteButton &&
                                            (this.dom.deleteButton.parentNode && this.dom.deleteButton.parentNode.removeChild(this.dom.deleteButton),
                                            (this.dom.deleteButton = null),
                                            this.hammerDeleteButton && (this.hammerDeleteButton.destroy(), (this.hammerDeleteButton = null)));
                                },
                            },
                            {
                                key: "_repaintOnItemUpdateTimeTooltip",
                                value: function (t) {
                                    if (this.options.tooltipOnItemUpdateTime) {
                                        var e = (this.options.editable.updateTime || !0 === this.data.editable) && !1 !== this.data.editable;
                                        if (this.selected && e && !this.dom.onItemUpdateTimeTooltip) {
                                            var i = document.createElement("div");
                                            (i.className = "vis-onUpdateTime-tooltip"), t.appendChild(i), (this.dom.onItemUpdateTimeTooltip = i);
                                        } else
                                            !this.selected &&
                                                this.dom.onItemUpdateTimeTooltip &&
                                                (this.dom.onItemUpdateTimeTooltip.parentNode && this.dom.onItemUpdateTimeTooltip.parentNode.removeChild(this.dom.onItemUpdateTimeTooltip), (this.dom.onItemUpdateTimeTooltip = null));
                                        if (this.dom.onItemUpdateTimeTooltip) {
                                            (this.dom.onItemUpdateTimeTooltip.style.visibility = this.parent.itemSet.touchParams.itemIsDragging ? "visible" : "hidden"),
                                                (this.dom.onItemUpdateTimeTooltip.style.transform = "translateX(-50%)"),
                                                (this.dom.onItemUpdateTimeTooltip.style.left = "50%");
                                            var n,
                                                s,
                                                r = this.parent.itemSet.body.domProps.scrollTop;
                                            if (
                                                (("top" == this.options.orientation.item ? this.top : this.parent.height - this.top - this.height) + this.parent.top - 50 < -r
                                                    ? ((this.dom.onItemUpdateTimeTooltip.style.bottom = ""), (this.dom.onItemUpdateTimeTooltip.style.top = "".concat(this.height + 2, "px")))
                                                    : ((this.dom.onItemUpdateTimeTooltip.style.top = ""), (this.dom.onItemUpdateTimeTooltip.style.bottom = "".concat(this.height + 2, "px"))),
                                                this.options.tooltipOnItemUpdateTime && this.options.tooltipOnItemUpdateTime.template)
                                            )
                                                n = ll((s = this.options.tooltipOnItemUpdateTime.template)).call(s, this)(this.data);
                                            else (n = "start: ".concat(Xl(this.data.start).format("MM/DD/YYYY hh:mm"))), this.data.end && (n += "<br> end: ".concat(Xl(this.data.end).format("MM/DD/YYYY hh:mm")));
                                            this.dom.onItemUpdateTimeTooltip.innerHTML = n;
                                        }
                                    }
                                },
                            },
                            {
                                key: "_getItemData",
                                value: function () {
                                    return this.parent.itemSet.itemsData.get(this.id);
                                },
                            },
                            {
                                key: "_updateContents",
                                value: function (t) {
                                    var e,
                                        i,
                                        n,
                                        s,
                                        r,
                                        o,
                                        a = this._getItemData(),
                                        l = (this.dom.box || this.dom.point).getElementsByClassName("vis-item-visible-frame")[0];
                                    this.options.visibleFrameTemplate ? (n = (s = ll((r = this.options.visibleFrameTemplate)).call(r, this))(a, l)) : (n = "");
                                    if (l)
                                        if (n instanceof Object && !(n instanceof Element)) s(a, l);
                                        else if (this._contentToString(this.itemVisibleFrameContent) !== this._contentToString(n)) {
                                            if (n instanceof Element) (l.innerHTML = ""), l.appendChild(n);
                                            else if (null != n) l.innerHTML = n;
                                            else if ("background" != this.data.type || void 0 !== this.data.content) throw new Error('Property "content" missing in item '.concat(this.id));
                                            this.itemVisibleFrameContent = n;
                                        }
                                    this.options.template ? (e = (i = ll((o = this.options.template)).call(o, this))(a, t, this.data)) : (e = this.data.content);
                                    if (e instanceof Object && !(e instanceof Element)) i(a, t);
                                    else if (this._contentToString(this.content) !== this._contentToString(e)) {
                                        if (e instanceof Element) (t.innerHTML = ""), t.appendChild(e);
                                        else if (null != e) t.innerHTML = e;
                                        else if ("background" != this.data.type || void 0 !== this.data.content) throw new Error('Property "content" missing in item '.concat(this.id));
                                        this.content = e;
                                    }
                                },
                            },
                            {
                                key: "_updateDataAttributes",
                                value: function (t) {
                                    if (this.options.dataAttributes && this.options.dataAttributes.length > 0) {
                                        var e = [];
                                        if (er(this.options.dataAttributes)) e = this.options.dataAttributes;
                                        else {
                                            if ("all" != this.options.dataAttributes) return;
                                            e = qs(this.data);
                                        }
                                        var i,
                                            n = xu(e);
                                        try {
                                            for (n.s(); !(i = n.n()).done; ) {
                                                var s = i.value,
                                                    r = this.data[s];
                                                null != r ? t.setAttribute("data-".concat(s), r) : t.removeAttribute("data-".concat(s));
                                            }
                                        } catch (t) {
                                            n.e(t);
                                        } finally {
                                            n.f();
                                        }
                                    }
                                },
                            },
                            {
                                key: "_updateStyle",
                                value: function (t) {
                                    this.style && (ih.removeCssText(t, this.style), (this.style = null)), this.data.style && (ih.addCssText(t, this.data.style), (this.style = this.data.style));
                                },
                            },
                            {
                                key: "_contentToString",
                                value: function (t) {
                                    return "string" == typeof t ? t : t && "outerHTML" in t ? t.outerHTML : t;
                                },
                            },
                            {
                                key: "_updateEditStatus",
                                value: function () {
                                    this.options &&
                                        ("boolean" == typeof this.options.editable
                                            ? (this.editable = { updateTime: this.options.editable, updateGroup: this.options.editable, remove: this.options.editable })
                                            : "object" === sr(this.options.editable) && ((this.editable = {}), ih.selectiveExtend(["updateTime", "updateGroup", "remove"], this.editable, this.options.editable))),
                                        (this.options && this.options.editable && !0 === this.options.editable.overrideItems) ||
                                            (this.data &&
                                                ("boolean" == typeof this.data.editable
                                                    ? (this.editable = { updateTime: this.data.editable, updateGroup: this.data.editable, remove: this.data.editable })
                                                    : "object" === sr(this.data.editable) && ((this.editable = {}), ih.selectiveExtend(["updateTime", "updateGroup", "remove"], this.editable, this.data.editable))));
                                },
                            },
                            {
                                key: "getWidthLeft",
                                value: function () {
                                    return 0;
                                },
                            },
                            {
                                key: "getWidthRight",
                                value: function () {
                                    return 0;
                                },
                            },
                            {
                                key: "getTitle",
                                value: function () {
                                    var t;
                                    return this.options.tooltip && this.options.tooltip.template ? ll((t = this.options.tooltip.template)).call(t, this)(this._getItemData(), this.data) : this.data.title;
                                },
                            },
                        ]),
                        t
                    );
                })();
                function Pu(t) {
                    var e = (function () {
                        if ("undefined" == typeof Reflect || !go) return !1;
                        if (go.sham) return !1;
                        if ("function" == typeof Proxy) return !0;
                        try {
                            return Date.prototype.toString.call(go(Date, [], function () {})), !0;
                        } catch (t) {
                            return !1;
                        }
                    })();
                    return function () {
                        var i,
                            n = Xo(t);
                        if (e) {
                            var s = Xo(this).constructor;
                            i = go(n, arguments, s);
                        } else i = n.apply(this, arguments);
                        return Go(this, i);
                    };
                }
                ku.prototype.stack = !0;
                var Su = (function (t) {
                    Uo(i, t);
                    var e = Pu(i);
                    function i(t, n, s) {
                        var r;
                        if ((hl(this, i), ((r = e.call(this, t, n, s)).props = { dot: { width: 0, height: 0 }, line: { width: 0, height: 0 } }), t && null == t.start)) throw new Error('Property "start" missing in item '.concat(t));
                        return r;
                    }
                    return (
                        dl(i, [
                            {
                                key: "isVisible",
                                value: function (t) {
                                    if (this.cluster) return !1;
                                    var e,
                                        i = this.data.align || this.options.align,
                                        n = this.width * t.getMillisecondsPerPixel();
                                    return (
                                        (e =
                                            "right" == i
                                                ? this.data.start.getTime() > t.start && this.data.start.getTime() - n < t.end
                                                : "left" == i
                                                ? this.data.start.getTime() + n > t.start && this.data.start.getTime() < t.end
                                                : this.data.start.getTime() + n / 2 > t.start && this.data.start.getTime() - n / 2 < t.end),
                                        e
                                    );
                                },
                            },
                            {
                                key: "_createDomElement",
                                value: function () {
                                    this.dom ||
                                        ((this.dom = {}),
                                        (this.dom.box = document.createElement("DIV")),
                                        (this.dom.content = document.createElement("DIV")),
                                        (this.dom.content.className = "vis-item-content"),
                                        this.dom.box.appendChild(this.dom.content),
                                        (this.dom.line = document.createElement("DIV")),
                                        (this.dom.line.className = "vis-line"),
                                        (this.dom.dot = document.createElement("DIV")),
                                        (this.dom.dot.className = "vis-dot"),
                                        (this.dom.box["vis-item"] = this),
                                        (this.dirty = !0));
                                },
                            },
                            {
                                key: "_appendDomElement",
                                value: function () {
                                    if (!this.parent) throw new Error("Cannot redraw item: no parent attached");
                                    if (!this.dom.box.parentNode) {
                                        var t = this.parent.dom.foreground;
                                        if (!t) throw new Error("Cannot redraw item: parent has no foreground container element");
                                        t.appendChild(this.dom.box);
                                    }
                                    if (!this.dom.line.parentNode) {
                                        var e = this.parent.dom.background;
                                        if (!e) throw new Error("Cannot redraw item: parent has no background container element");
                                        e.appendChild(this.dom.line);
                                    }
                                    if (!this.dom.dot.parentNode) {
                                        var i = this.parent.dom.axis;
                                        if (!e) throw new Error("Cannot redraw item: parent has no axis container element");
                                        i.appendChild(this.dom.dot);
                                    }
                                    this.displayed = !0;
                                },
                            },
                            {
                                key: "_updateDirtyDomComponents",
                                value: function () {
                                    if (this.dirty) {
                                        this._updateContents(this.dom.content), this._updateDataAttributes(this.dom.box), this._updateStyle(this.dom.box);
                                        var t = this.editable.updateTime || this.editable.updateGroup,
                                            e = (this.data.className ? " " + this.data.className : "") + (this.selected ? " vis-selected" : "") + (t ? " vis-editable" : " vis-readonly");
                                        (this.dom.box.className = "vis-item vis-box".concat(e)), (this.dom.line.className = "vis-item vis-line".concat(e)), (this.dom.dot.className = "vis-item vis-dot".concat(e));
                                    }
                                },
                            },
                            {
                                key: "_getDomComponentsSizes",
                                value: function () {
                                    return {
                                        previous: { right: this.dom.box.style.right, left: this.dom.box.style.left },
                                        dot: { height: this.dom.dot.offsetHeight, width: this.dom.dot.offsetWidth },
                                        line: { width: this.dom.line.offsetWidth },
                                        box: { width: this.dom.box.offsetWidth, height: this.dom.box.offsetHeight },
                                    };
                                },
                            },
                            {
                                key: "_updateDomComponentsSizes",
                                value: function (t) {
                                    this.options.rtl ? (this.dom.box.style.right = "0px") : (this.dom.box.style.left = "0px"),
                                        (this.props.dot.height = t.dot.height),
                                        (this.props.dot.width = t.dot.width),
                                        (this.props.line.width = t.line.width),
                                        (this.width = t.box.width),
                                        (this.height = t.box.height),
                                        this.options.rtl ? (this.dom.box.style.right = t.previous.right) : (this.dom.box.style.left = t.previous.left),
                                        (this.dirty = !1);
                                },
                            },
                            {
                                key: "_repaintDomAdditionals",
                                value: function () {
                                    this._repaintOnItemUpdateTimeTooltip(this.dom.box), this._repaintDragCenter(), this._repaintDeleteButton(this.dom.box);
                                },
                            },
                            {
                                key: "redraw",
                                value: function (t) {
                                    var e,
                                        i,
                                        n,
                                        s,
                                        r,
                                        o,
                                        a = this,
                                        l = [
                                            ll((e = this._createDomElement)).call(e, this),
                                            ll((i = this._appendDomElement)).call(i, this),
                                            ll((n = this._updateDirtyDomComponents)).call(n, this),
                                            function () {
                                                a.dirty && (r = a._getDomComponentsSizes());
                                            },
                                            function () {
                                                var t;
                                                a.dirty && ll((t = a._updateDomComponentsSizes)).call(t, a)(r);
                                            },
                                            ll((s = this._repaintDomAdditionals)).call(s, this),
                                        ];
                                    return t
                                        ? l
                                        : (Mn(l).call(l, function (t) {
                                              o = t();
                                          }),
                                          o);
                                },
                            },
                            {
                                key: "show",
                                value: function (t) {
                                    if (!this.displayed) return this.redraw(t);
                                },
                            },
                            {
                                key: "hide",
                                value: function () {
                                    if (this.displayed) {
                                        var t = this.dom;
                                        t.box.remove ? t.box.remove() : t.box.parentNode && t.box.parentNode.removeChild(t.box),
                                            t.line.remove ? t.line.remove() : t.line.parentNode && t.line.parentNode.removeChild(t.line),
                                            t.dot.remove ? t.dot.remove() : t.dot.parentNode && t.dot.parentNode.removeChild(t.dot),
                                            (this.displayed = !1);
                                    }
                                },
                            },
                            {
                                key: "repositionXY",
                                value: function () {
                                    var t = this.options.rtl,
                                        e = function (t, e, i) {
                                            var n,
                                                s = arguments.length > 3 && void 0 !== arguments[3] && arguments[3];
                                            if (void 0 !== e || void 0 !== i) {
                                                var r = s ? -1 * e : e;
                                                t.style.transform = void 0 !== i ? (void 0 !== e ? pr((n = "translate(".concat(r, "px, "))).call(n, i, "px)") : "translateY(".concat(i, "px)")) : "translateX(".concat(r, "px)");
                                            }
                                        };
                                    e(this.dom.box, this.boxX, this.boxY, t), e(this.dom.dot, this.dotX, this.dotY, t), e(this.dom.line, this.lineX, this.lineY, t);
                                },
                            },
                            {
                                key: "repositionX",
                                value: function () {
                                    var t = this.conversion.toScreen(this.data.start),
                                        e = void 0 === this.data.align ? this.options.align : this.data.align,
                                        i = this.props.line.width,
                                        n = this.props.dot.width;
                                    "right" == e
                                        ? ((this.boxX = t - this.width), (this.lineX = t - i), (this.dotX = t - i / 2 - n / 2))
                                        : "left" == e
                                        ? ((this.boxX = t), (this.lineX = t), (this.dotX = t + i / 2 - n / 2))
                                        : ((this.boxX = t - this.width / 2), (this.lineX = this.options.rtl ? t - i : t - i / 2), (this.dotX = t - n / 2)),
                                        this.options.rtl ? (this.right = this.boxX) : (this.left = this.boxX),
                                        this.repositionXY();
                                },
                            },
                            {
                                key: "repositionY",
                                value: function () {
                                    var t = this.options.orientation.item,
                                        e = this.dom.line.style;
                                    if ("top" == t) {
                                        var i = this.parent.top + this.top + 1;
                                        (this.boxY = this.top || 0), (e.height = "".concat(i, "px")), (e.bottom = ""), (e.top = "0");
                                    } else {
                                        var n = this.parent.itemSet.props.height - this.parent.top - this.parent.height + this.top;
                                        (this.boxY = this.parent.height - this.top - (this.height || 0)), (e.height = "".concat(n, "px")), (e.top = ""), (e.bottom = "0");
                                    }
                                    (this.dotY = -this.props.dot.height / 2), this.repositionXY();
                                },
                            },
                            {
                                key: "getWidthLeft",
                                value: function () {
                                    return this.width / 2;
                                },
                            },
                            {
                                key: "getWidthRight",
                                value: function () {
                                    return this.width / 2;
                                },
                            },
                        ]),
                        i
                    );
                })(ku);
                function Cu(t) {
                    var e = (function () {
                        if ("undefined" == typeof Reflect || !go) return !1;
                        if (go.sham) return !1;
                        if ("function" == typeof Proxy) return !0;
                        try {
                            return Date.prototype.toString.call(go(Date, [], function () {})), !0;
                        } catch (t) {
                            return !1;
                        }
                    })();
                    return function () {
                        var i,
                            n = Xo(t);
                        if (e) {
                            var s = Xo(this).constructor;
                            i = go(n, arguments, s);
                        } else i = n.apply(this, arguments);
                        return Go(this, i);
                    };
                }
                var Iu = (function (t) {
                    Uo(i, t);
                    var e = Cu(i);
                    function i(t, n, s) {
                        var r;
                        if ((hl(this, i), ((r = e.call(this, t, n, s)).props = { dot: { top: 0, width: 0, height: 0 }, content: { height: 0, marginLeft: 0, marginRight: 0 } }), t && null == t.start))
                            throw new Error('Property "start" missing in item '.concat(t));
                        return r;
                    }
                    return (
                        dl(i, [
                            {
                                key: "isVisible",
                                value: function (t) {
                                    if (this.cluster) return !1;
                                    var e = this.width * t.getMillisecondsPerPixel();
                                    return this.data.start.getTime() + e > t.start && this.data.start < t.end;
                                },
                            },
                            {
                                key: "_createDomElement",
                                value: function () {
                                    this.dom ||
                                        ((this.dom = {}),
                                        (this.dom.point = document.createElement("div")),
                                        (this.dom.content = document.createElement("div")),
                                        (this.dom.content.className = "vis-item-content"),
                                        this.dom.point.appendChild(this.dom.content),
                                        (this.dom.dot = document.createElement("div")),
                                        this.dom.point.appendChild(this.dom.dot),
                                        (this.dom.point["vis-item"] = this),
                                        (this.dirty = !0));
                                },
                            },
                            {
                                key: "_appendDomElement",
                                value: function () {
                                    if (!this.parent) throw new Error("Cannot redraw item: no parent attached");
                                    if (!this.dom.point.parentNode) {
                                        var t = this.parent.dom.foreground;
                                        if (!t) throw new Error("Cannot redraw item: parent has no foreground container element");
                                        t.appendChild(this.dom.point);
                                    }
                                    this.displayed = !0;
                                },
                            },
                            {
                                key: "_updateDirtyDomComponents",
                                value: function () {
                                    if (this.dirty) {
                                        this._updateContents(this.dom.content), this._updateDataAttributes(this.dom.point), this._updateStyle(this.dom.point);
                                        var t = this.editable.updateTime || this.editable.updateGroup,
                                            e = (this.data.className ? " " + this.data.className : "") + (this.selected ? " vis-selected" : "") + (t ? " vis-editable" : " vis-readonly");
                                        (this.dom.point.className = "vis-item vis-point".concat(e)), (this.dom.dot.className = "vis-item vis-dot".concat(e));
                                    }
                                },
                            },
                            {
                                key: "_getDomComponentsSizes",
                                value: function () {
                                    return {
                                        dot: { width: this.dom.dot.offsetWidth, height: this.dom.dot.offsetHeight },
                                        content: { width: this.dom.content.offsetWidth, height: this.dom.content.offsetHeight },
                                        point: { width: this.dom.point.offsetWidth, height: this.dom.point.offsetHeight },
                                    };
                                },
                            },
                            {
                                key: "_updateDomComponentsSizes",
                                value: function (t) {
                                    (this.props.dot.width = t.dot.width),
                                        (this.props.dot.height = t.dot.height),
                                        (this.props.content.height = t.content.height),
                                        this.options.rtl ? (this.dom.content.style.marginRight = "".concat(2 * this.props.dot.width, "px")) : (this.dom.content.style.marginLeft = "".concat(2 * this.props.dot.width, "px")),
                                        (this.width = t.point.width),
                                        (this.height = t.point.height),
                                        (this.dom.dot.style.top = "".concat((this.height - this.props.dot.height) / 2, "px"));
                                    var e = this.props.dot.width,
                                        i = this.options.rtl ? (e / 2) * -1 : e / 2;
                                    (this.dom.dot.style.transform = "translateX(".concat(i, "px")), (this.dirty = !1);
                                },
                            },
                            {
                                key: "_repaintDomAdditionals",
                                value: function () {
                                    this._repaintOnItemUpdateTimeTooltip(this.dom.point), this._repaintDragCenter(), this._repaintDeleteButton(this.dom.point);
                                },
                            },
                            {
                                key: "redraw",
                                value: function (t) {
                                    var e,
                                        i,
                                        n,
                                        s,
                                        r,
                                        o,
                                        a = this,
                                        l = [
                                            ll((e = this._createDomElement)).call(e, this),
                                            ll((i = this._appendDomElement)).call(i, this),
                                            ll((n = this._updateDirtyDomComponents)).call(n, this),
                                            function () {
                                                a.dirty && (r = a._getDomComponentsSizes());
                                            },
                                            function () {
                                                var t;
                                                a.dirty && ll((t = a._updateDomComponentsSizes)).call(t, a)(r);
                                            },
                                            ll((s = this._repaintDomAdditionals)).call(s, this),
                                        ];
                                    return t
                                        ? l
                                        : (Mn(l).call(l, function (t) {
                                              o = t();
                                          }),
                                          o);
                                },
                            },
                            {
                                key: "repositionXY",
                                value: function () {
                                    var t = this.options.rtl,
                                        e = function (t, e, i) {
                                            var n,
                                                s = arguments.length > 3 && void 0 !== arguments[3] && arguments[3];
                                            if (void 0 !== e || void 0 !== i) {
                                                var r = s ? -1 * e : e;
                                                t.style.transform = void 0 !== i ? (void 0 !== e ? pr((n = "translate(".concat(r, "px, "))).call(n, i, "px)") : "translateY(".concat(i, "px)")) : "translateX(".concat(r, "px)");
                                            }
                                        };
                                    e(this.dom.point, this.pointX, this.pointY, t);
                                },
                            },
                            {
                                key: "show",
                                value: function (t) {
                                    if (!this.displayed) return this.redraw(t);
                                },
                            },
                            {
                                key: "hide",
                                value: function () {
                                    this.displayed && (this.dom.point.parentNode && this.dom.point.parentNode.removeChild(this.dom.point), (this.displayed = !1));
                                },
                            },
                            {
                                key: "repositionX",
                                value: function () {
                                    var t = this.conversion.toScreen(this.data.start);
                                    (this.pointX = t), this.options.rtl ? (this.right = t - this.props.dot.width) : (this.left = t - this.props.dot.width), this.repositionXY();
                                },
                            },
                            {
                                key: "repositionY",
                                value: function () {
                                    var t = this.options.orientation.item;
                                    (this.pointY = "top" == t ? this.top : this.parent.height - this.top - this.height), this.repositionXY();
                                },
                            },
                            {
                                key: "getWidthLeft",
                                value: function () {
                                    return this.props.dot.width;
                                },
                            },
                            {
                                key: "getWidthRight",
                                value: function () {
                                    return this.props.dot.width;
                                },
                            },
                        ]),
                        i
                    );
                })(ku);
                function Tu(t) {
                    var e = (function () {
                        if ("undefined" == typeof Reflect || !go) return !1;
                        if (go.sham) return !1;
                        if ("function" == typeof Proxy) return !0;
                        try {
                            return Date.prototype.toString.call(go(Date, [], function () {})), !0;
                        } catch (t) {
                            return !1;
                        }
                    })();
                    return function () {
                        var i,
                            n = Xo(t);
                        if (e) {
                            var s = Xo(this).constructor;
                            i = go(n, arguments, s);
                        } else i = n.apply(this, arguments);
                        return Go(this, i);
                    };
                }
                var $u = (function (t) {
                    Uo(i, t);
                    var e = Tu(i);
                    function i(t, n, s) {
                        var r;
                        if ((hl(this, i), ((r = e.call(this, t, n, s)).props = { content: { width: 0 } }), (r.overflow = !1), t)) {
                            if (null == t.start) throw new Error('Property "start" missing in item '.concat(t.id));
                            if (null == t.end) throw new Error('Property "end" missing in item '.concat(t.id));
                        }
                        return r;
                    }
                    return (
                        dl(i, [
                            {
                                key: "isVisible",
                                value: function (t) {
                                    return !this.cluster && this.data.start < t.end && this.data.end > t.start;
                                },
                            },
                            {
                                key: "_createDomElement",
                                value: function () {
                                    this.dom ||
                                        ((this.dom = {}),
                                        (this.dom.box = document.createElement("div")),
                                        (this.dom.frame = document.createElement("div")),
                                        (this.dom.frame.className = "vis-item-overflow"),
                                        this.dom.box.appendChild(this.dom.frame),
                                        (this.dom.visibleFrame = document.createElement("div")),
                                        (this.dom.visibleFrame.className = "vis-item-visible-frame"),
                                        this.dom.box.appendChild(this.dom.visibleFrame),
                                        (this.dom.content = document.createElement("div")),
                                        (this.dom.content.className = "vis-item-content"),
                                        this.dom.frame.appendChild(this.dom.content),
                                        (this.dom.box["vis-item"] = this),
                                        (this.dirty = !0));
                                },
                            },
                            {
                                key: "_appendDomElement",
                                value: function () {
                                    if (!this.parent) throw new Error("Cannot redraw item: no parent attached");
                                    if (!this.dom.box.parentNode) {
                                        var t = this.parent.dom.foreground;
                                        if (!t) throw new Error("Cannot redraw item: parent has no foreground container element");
                                        t.appendChild(this.dom.box);
                                    }
                                    this.displayed = !0;
                                },
                            },
                            {
                                key: "_updateDirtyDomComponents",
                                value: function () {
                                    if (this.dirty) {
                                        this._updateContents(this.dom.content), this._updateDataAttributes(this.dom.box), this._updateStyle(this.dom.box);
                                        var t = this.editable.updateTime || this.editable.updateGroup,
                                            e = (this.data.className ? " " + this.data.className : "") + (this.selected ? " vis-selected" : "") + (t ? " vis-editable" : " vis-readonly");
                                        (this.dom.box.className = this.baseClassName + e), (this.dom.content.style.maxWidth = "none");
                                    }
                                },
                            },
                            {
                                key: "_getDomComponentsSizes",
                                value: function () {
                                    return (
                                        (this.overflow = "hidden" !== window.getComputedStyle(this.dom.frame).overflow),
                                        (this.whiteSpace = "nowrap" !== window.getComputedStyle(this.dom.content).whiteSpace),
                                        { content: { width: this.dom.content.offsetWidth }, box: { height: this.dom.box.offsetHeight } }
                                    );
                                },
                            },
                            {
                                key: "_updateDomComponentsSizes",
                                value: function (t) {
                                    (this.props.content.width = t.content.width), (this.height = t.box.height), (this.dom.content.style.maxWidth = ""), (this.dirty = !1);
                                },
                            },
                            {
                                key: "_repaintDomAdditionals",
                                value: function () {
                                    this._repaintOnItemUpdateTimeTooltip(this.dom.box), this._repaintDeleteButton(this.dom.box), this._repaintDragCenter(), this._repaintDragLeft(), this._repaintDragRight();
                                },
                            },
                            {
                                key: "redraw",
                                value: function (t) {
                                    var e,
                                        i,
                                        n,
                                        s,
                                        r,
                                        o,
                                        a = this,
                                        l = [
                                            ll((e = this._createDomElement)).call(e, this),
                                            ll((i = this._appendDomElement)).call(i, this),
                                            ll((n = this._updateDirtyDomComponents)).call(n, this),
                                            function () {
                                                var t;
                                                a.dirty && (r = ll((t = a._getDomComponentsSizes)).call(t, a)());
                                            },
                                            function () {
                                                var t;
                                                a.dirty && ll((t = a._updateDomComponentsSizes)).call(t, a)(r);
                                            },
                                            ll((s = this._repaintDomAdditionals)).call(s, this),
                                        ];
                                    return t
                                        ? l
                                        : (Mn(l).call(l, function (t) {
                                              o = t();
                                          }),
                                          o);
                                },
                            },
                            {
                                key: "show",
                                value: function (t) {
                                    if (!this.displayed) return this.redraw(t);
                                },
                            },
                            {
                                key: "hide",
                                value: function () {
                                    if (this.displayed) {
                                        var t = this.dom.box;
                                        t.parentNode && t.parentNode.removeChild(t), (this.displayed = !1);
                                    }
                                },
                            },
                            {
                                key: "repositionX",
                                value: function (t) {
                                    var e,
                                        i,
                                        n = this.parent.width,
                                        s = this.conversion.toScreen(this.data.start),
                                        r = this.conversion.toScreen(this.data.end),
                                        o = void 0 === this.data.align ? this.options.align : this.data.align;
                                    !1 === this.data.limitSize || (void 0 !== t && !0 !== t) || (s < -n && (s = -n), r > 2 * n && (r = 2 * n));
                                    var a = Math.max(Math.round(1e3 * (r - s)) / 1e3, 1);
                                    switch (
                                        (this.overflow
                                            ? (this.options.rtl ? (this.right = s) : (this.left = s), (this.width = a + this.props.content.width), (i = this.props.content.width))
                                            : (this.options.rtl ? (this.right = s) : (this.left = s), (this.width = a), (i = Math.min(r - s, this.props.content.width))),
                                        this.options.rtl ? (this.dom.box.style.transform = "translateX(".concat(-1 * this.right, "px)")) : (this.dom.box.style.transform = "translateX(".concat(this.left, "px)")),
                                        (this.dom.box.style.width = "".concat(a, "px")),
                                        this.whiteSpace && (this.height = this.dom.box.offsetHeight),
                                        o)
                                    ) {
                                        case "left":
                                            this.dom.content.style.transform = "translateX(0)";
                                            break;
                                        case "right":
                                            if (this.options.rtl) {
                                                var l = -1 * Math.max(a - i, 0);
                                                this.dom.content.style.transform = "translateX(".concat(l, "px)");
                                            } else this.dom.content.style.transform = "translateX(".concat(Math.max(a - i, 0), "px)");
                                            break;
                                        case "center":
                                            if (this.options.rtl) {
                                                var h = -1 * Math.max((a - i) / 2, 0);
                                                this.dom.content.style.transform = "translateX(".concat(h, "px)");
                                            } else this.dom.content.style.transform = "translateX(".concat(Math.max((a - i) / 2, 0), "px)");
                                            break;
                                        default:
                                            if (((e = this.overflow ? (r > 0 ? Math.max(-s, 0) : -i) : s < 0 ? -s : 0), this.options.rtl)) {
                                                var c = -1 * e;
                                                this.dom.content.style.transform = "translateX(".concat(c, "px)");
                                            } else this.dom.content.style.transform = "translateX(".concat(e, "px)");
                                    }
                                },
                            },
                            {
                                key: "repositionY",
                                value: function () {
                                    var t = this.options.orientation.item,
                                        e = this.dom.box;
                                    e.style.top = "".concat("top" == t ? this.top : this.parent.height - this.top - this.height, "px");
                                },
                            },
                            {
                                key: "_repaintDragLeft",
                                value: function () {
                                    if ((this.selected || this.options.itemsAlwaysDraggable.range) && this.editable.updateTime && !this.dom.dragLeft) {
                                        var t = document.createElement("div");
                                        (t.className = "vis-drag-left"), (t.dragLeftItem = this), this.dom.box.appendChild(t), (this.dom.dragLeft = t);
                                    } else
                                        this.selected ||
                                            this.options.itemsAlwaysDraggable.range ||
                                            !this.dom.dragLeft ||
                                            (this.dom.dragLeft.parentNode && this.dom.dragLeft.parentNode.removeChild(this.dom.dragLeft), (this.dom.dragLeft = null));
                                },
                            },
                            {
                                key: "_repaintDragRight",
                                value: function () {
                                    if ((this.selected || this.options.itemsAlwaysDraggable.range) && this.editable.updateTime && !this.dom.dragRight) {
                                        var t = document.createElement("div");
                                        (t.className = "vis-drag-right"), (t.dragRightItem = this), this.dom.box.appendChild(t), (this.dom.dragRight = t);
                                    } else
                                        this.selected ||
                                            this.options.itemsAlwaysDraggable.range ||
                                            !this.dom.dragRight ||
                                            (this.dom.dragRight.parentNode && this.dom.dragRight.parentNode.removeChild(this.dom.dragRight), (this.dom.dragRight = null));
                                },
                            },
                        ]),
                        i
                    );
                })(ku);
                function Eu(t) {
                    var e = (function () {
                        if ("undefined" == typeof Reflect || !go) return !1;
                        if (go.sham) return !1;
                        if ("function" == typeof Proxy) return !0;
                        try {
                            return Date.prototype.toString.call(go(Date, [], function () {})), !0;
                        } catch (t) {
                            return !1;
                        }
                    })();
                    return function () {
                        var i,
                            n = Xo(t);
                        if (e) {
                            var s = Xo(this).constructor;
                            i = go(n, arguments, s);
                        } else i = n.apply(this, arguments);
                        return Go(this, i);
                    };
                }
                $u.prototype.baseClassName = "vis-item vis-range";
                var Du = (function (t) {
                    Uo(i, t);
                    var e = Eu(i);
                    function i(t, n, s) {
                        var r;
                        if ((hl(this, i), ((r = e.call(this, t, n, s)).props = { content: { width: 0 } }), (r.overflow = !1), t)) {
                            if (null == t.start) throw new Error('Property "start" missing in item '.concat(t.id));
                            if (null == t.end) throw new Error('Property "end" missing in item '.concat(t.id));
                        }
                        return r;
                    }
                    return (
                        dl(i, [
                            {
                                key: "isVisible",
                                value: function (t) {
                                    return this.data.start < t.end && this.data.end > t.start;
                                },
                            },
                            {
                                key: "_createDomElement",
                                value: function () {
                                    this.dom ||
                                        ((this.dom = {}),
                                        (this.dom.box = document.createElement("div")),
                                        (this.dom.frame = document.createElement("div")),
                                        (this.dom.frame.className = "vis-item-overflow"),
                                        this.dom.box.appendChild(this.dom.frame),
                                        (this.dom.content = document.createElement("div")),
                                        (this.dom.content.className = "vis-item-content"),
                                        this.dom.frame.appendChild(this.dom.content),
                                        (this.dirty = !0));
                                },
                            },
                            {
                                key: "_appendDomElement",
                                value: function () {
                                    if (!this.parent) throw new Error("Cannot redraw item: no parent attached");
                                    if (!this.dom.box.parentNode) {
                                        var t = this.parent.dom.background;
                                        if (!t) throw new Error("Cannot redraw item: parent has no background container element");
                                        t.appendChild(this.dom.box);
                                    }
                                    this.displayed = !0;
                                },
                            },
                            {
                                key: "_updateDirtyDomComponents",
                                value: function () {
                                    if (this.dirty) {
                                        this._updateContents(this.dom.content), this._updateDataAttributes(this.dom.content), this._updateStyle(this.dom.box);
                                        var t = (this.data.className ? " " + this.data.className : "") + (this.selected ? " vis-selected" : "");
                                        this.dom.box.className = this.baseClassName + t;
                                    }
                                },
                            },
                            {
                                key: "_getDomComponentsSizes",
                                value: function () {
                                    return (this.overflow = "hidden" !== window.getComputedStyle(this.dom.content).overflow), { content: { width: this.dom.content.offsetWidth } };
                                },
                            },
                            {
                                key: "_updateDomComponentsSizes",
                                value: function (t) {
                                    (this.props.content.width = t.content.width), (this.height = 0), (this.dirty = !1);
                                },
                            },
                            { key: "_repaintDomAdditionals", value: function () {} },
                            {
                                key: "redraw",
                                value: function (t) {
                                    var e,
                                        i,
                                        n,
                                        s,
                                        r,
                                        o,
                                        a = this,
                                        l = [
                                            ll((e = this._createDomElement)).call(e, this),
                                            ll((i = this._appendDomElement)).call(i, this),
                                            ll((n = this._updateDirtyDomComponents)).call(n, this),
                                            function () {
                                                var t;
                                                a.dirty && (r = ll((t = a._getDomComponentsSizes)).call(t, a)());
                                            },
                                            function () {
                                                var t;
                                                a.dirty && ll((t = a._updateDomComponentsSizes)).call(t, a)(r);
                                            },
                                            ll((s = this._repaintDomAdditionals)).call(s, this),
                                        ];
                                    return t
                                        ? l
                                        : (Mn(l).call(l, function (t) {
                                              o = t();
                                          }),
                                          o);
                                },
                            },
                            {
                                key: "repositionY",
                                value: function (t) {
                                    var e,
                                        i = this.options.orientation.item;
                                    if (void 0 !== this.data.subgroup) {
                                        var n = this.data.subgroup;
                                        (this.dom.box.style.height = "".concat(this.parent.subgroups[n].height, "px")),
                                            (this.dom.box.style.top = "".concat(
                                                "top" == i ? this.parent.top + this.parent.subgroups[n].top : this.parent.top + this.parent.height - this.parent.subgroups[n].top - this.parent.subgroups[n].height,
                                                "px"
                                            )),
                                            (this.dom.box.style.bottom = "");
                                    } else
                                        this.parent instanceof wu
                                            ? ((e = Math.max(this.parent.height, this.parent.itemSet.body.domProps.center.height, this.parent.itemSet.body.domProps.centerContainer.height)),
                                              (this.dom.box.style.bottom = "bottom" == i ? "0" : ""),
                                              (this.dom.box.style.top = "top" == i ? "0" : ""))
                                            : ((e = this.parent.height), (this.dom.box.style.top = "".concat(this.parent.top, "px")), (this.dom.box.style.bottom = ""));
                                    this.dom.box.style.height = "".concat(e, "px");
                                },
                            },
                        ]),
                        i
                    );
                })(ku);
                (Du.prototype.baseClassName = "vis-item vis-background"), (Du.prototype.stack = !1), (Du.prototype.show = $u.prototype.show), (Du.prototype.hide = $u.prototype.hide), (Du.prototype.repositionX = $u.prototype.repositionX);
                _d(
                    "div.vis-tooltip {\n  position: absolute;\n  visibility: hidden;\n  padding: 5px;\n  white-space: nowrap;\n\n  font-family: verdana;\n  font-size:14px;\n  color:#000000;\n  background-color: #f5f4ed;\n\n  -moz-border-radius: 3px;\n  -webkit-border-radius: 3px;\n  border-radius: 3px;\n  border: 1px solid #808074;\n\n  box-shadow: 3px 3px 10px rgba(0, 0, 0, 0.2);\n  pointer-events: none;\n\n  z-index: 5;\n}\n"
                );
                var Mu = (function () {
                        function t(e, i) {
                            hl(this, t),
                                (this.container = e),
                                (this.overflowMethod = i || "cap"),
                                (this.x = 0),
                                (this.y = 0),
                                (this.padding = 5),
                                (this.hidden = !1),
                                (this.frame = document.createElement("div")),
                                (this.frame.className = "vis-tooltip"),
                                this.container.appendChild(this.frame);
                        }
                        return (
                            dl(t, [
                                {
                                    key: "setPosition",
                                    value: function (t, e) {
                                        (this.x = Vn(t)), (this.y = Vn(e));
                                    },
                                },
                                {
                                    key: "setText",
                                    value: function (t) {
                                        t instanceof Element ? ((this.frame.innerHTML = ""), this.frame.appendChild(t)) : (this.frame.innerHTML = t);
                                    },
                                },
                                {
                                    key: "show",
                                    value: function (t) {
                                        if ((void 0 === t && (t = !0), !0 === t)) {
                                            var e = this.frame.clientHeight,
                                                i = this.frame.clientWidth,
                                                n = this.frame.parentNode.clientHeight,
                                                s = this.frame.parentNode.clientWidth,
                                                r = 0,
                                                o = 0;
                                            if ("flip" == this.overflowMethod || "none" == this.overflowMethod) {
                                                var a = !1,
                                                    l = !0;
                                                "flip" == this.overflowMethod && (this.y - e < this.padding && (l = !1), this.x + i > s - this.padding && (a = !0)), (r = a ? this.x - i : this.x), (o = l ? this.y - e : this.y);
                                            } else
                                                (o = this.y - e) + e + this.padding > n && (o = n - e - this.padding),
                                                    o < this.padding && (o = this.padding),
                                                    (r = this.x) + i + this.padding > s && (r = s - i - this.padding),
                                                    r < this.padding && (r = this.padding);
                                            (this.frame.style.left = r + "px"), (this.frame.style.top = o + "px"), (this.frame.style.visibility = "visible"), (this.hidden = !1);
                                        } else this.hide();
                                    },
                                },
                                {
                                    key: "hide",
                                    value: function () {
                                        (this.hidden = !0), (this.frame.style.left = "0"), (this.frame.style.top = "0"), (this.frame.style.visibility = "hidden");
                                    },
                                },
                                {
                                    key: "destroy",
                                    value: function () {
                                        this.frame.parentNode.removeChild(this.frame);
                                    },
                                },
                            ]),
                            t
                        );
                    })(),
                    Au = Ee.every,
                    Nu = wn("every"),
                    Ou = Pn("every");
                X(
                    { target: "Array", proto: !0, forced: !Nu || !Ou },
                    {
                        every: function (t) {
                            return Au(this, t, arguments.length > 1 ? arguments[1] : void 0);
                        },
                    }
                );
                var Ru = gn("Array").every,
                    Vu = Array.prototype,
                    Lu = function (t) {
                        var e = t.every;
                        return t === Vu || (t instanceof Array && e === Vu.every) ? Ru : e;
                    };
                function ju(t, e) {
                    var i;
                    if (void 0 === fr || null == Bi(t)) {
                        if (
                            er(t) ||
                            (i = (function (t, e) {
                                var i;
                                if (!t) return;
                                if ("string" == typeof t) return Fu(t, e);
                                var n = or((i = Object.prototype.toString.call(t))).call(i, 8, -1);
                                "Object" === n && t.constructor && (n = t.constructor.name);
                                if ("Map" === n || "Set" === n) return en(t);
                                if ("Arguments" === n || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return Fu(t, e);
                            })(t)) ||
                            (e && t && "number" == typeof t.length)
                        ) {
                            i && (t = i);
                            var n = 0,
                                s = function () {};
                            return {
                                s,
                                n: function () {
                                    return n >= t.length ? { done: !0 } : { done: !1, value: t[n++] };
                                },
                                e: function (t) {
                                    throw t;
                                },
                                f: s,
                            };
                        }
                        throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
                    }
                    var r,
                        o = !0,
                        a = !1;
                    return {
                        s: function () {
                            i = Wi(t);
                        },
                        n: function () {
                            var t = i.next();
                            return (o = t.done), t;
                        },
                        e: function (t) {
                            (a = !0), (r = t);
                        },
                        f: function () {
                            try {
                                o || null == i.return || i.return();
                            } finally {
                                if (a) throw r;
                            }
                        },
                    };
                }
                function Fu(t, e) {
                    (null == e || e > t.length) && (e = t.length);
                    for (var i = 0, n = new Array(e); i < e; i++) n[i] = t[i];
                    return n;
                }
                function zu(t) {
                    var e = (function () {
                        if ("undefined" == typeof Reflect || !go) return !1;
                        if (go.sham) return !1;
                        if ("function" == typeof Proxy) return !0;
                        try {
                            return Date.prototype.toString.call(go(Date, [], function () {})), !0;
                        } catch (t) {
                            return !1;
                        }
                    })();
                    return function () {
                        var i,
                            n = Xo(t);
                        if (e) {
                            var s = Xo(this).constructor;
                            i = go(n, arguments, s);
                        } else i = n.apply(this, arguments);
                        return Go(this, i);
                    };
                }
                var Hu = (function (t) {
                    Uo(i, t);
                    var e = zu(i);
                    function i(t, n, s) {
                        var r;
                        hl(this, i);
                        var o = vs({}, { fitOnDoubleClick: !0 }, s, { editable: !1 });
                        if ((((r = e.call(this, t, n, o)).props = { content: { width: 0, height: 0 } }), !t || null == t.uiItems)) throw new Error('Property "uiItems" missing in item ' + t.id);
                        return (r.id = bl()), (r.group = t.group), r._setupRange(), (r.emitter = r.data.eventEmitter), (r.range = r.data.range), (r.attached = !1), (r.isCluster = !0), (r.data.isCluster = !0), r;
                    }
                    return (
                        dl(i, [
                            {
                                key: "hasItems",
                                value: function () {
                                    return this.data.uiItems && this.data.uiItems.length && this.attached;
                                },
                            },
                            {
                                key: "setUiItems",
                                value: function (t) {
                                    this.detach(), (this.data.uiItems = t), this._setupRange(), this.attach();
                                },
                            },
                            {
                                key: "isVisible",
                                value: function (t) {
                                    var e = this.data.end ? this.data.end - this.data.start : 0,
                                        i = this.width * t.getMillisecondsPerPixel(),
                                        n = Math.max(this.data.start.getTime() + e, this.data.start.getTime() + i);
                                    return this.data.start < t.end && n > t.start && this.hasItems();
                                },
                            },
                            {
                                key: "getData",
                                value: function () {
                                    return { isCluster: !0, id: this.id, items: this.data.items || [], data: this.data };
                                },
                            },
                            {
                                key: "redraw",
                                value: function (t) {
                                    var e,
                                        i,
                                        n,
                                        s,
                                        r,
                                        o,
                                        a,
                                        l,
                                        h = [
                                            ll((e = this._createDomElement)).call(e, this),
                                            ll((i = this._appendDomElement)).call(i, this),
                                            ll((n = this._updateDirtyDomComponents)).call(n, this),
                                            ll(
                                                (s = function () {
                                                    this.dirty && (a = this._getDomComponentsSizes());
                                                })
                                            ).call(s, this),
                                            ll(
                                                (r = function () {
                                                    var t;
                                                    this.dirty && ll((t = this._updateDomComponentsSizes)).call(t, this)(a);
                                                })
                                            ).call(r, this),
                                            ll((o = this._repaintDomAdditionals)).call(o, this),
                                        ];
                                    return t
                                        ? h
                                        : (Mn(h).call(h, function (t) {
                                              l = t();
                                          }),
                                          l);
                                },
                            },
                            {
                                key: "show",
                                value: function () {
                                    this.displayed || this.redraw();
                                },
                            },
                            {
                                key: "hide",
                                value: function () {
                                    if (this.displayed) {
                                        var t = this.dom;
                                        t.box.parentNode && t.box.parentNode.removeChild(t.box),
                                            this.options.showStipes && (t.line.parentNode && t.line.parentNode.removeChild(t.line), t.dot.parentNode && t.dot.parentNode.removeChild(t.dot)),
                                            (this.displayed = !1);
                                    }
                                },
                            },
                            {
                                key: "repositionX",
                                value: function () {
                                    var t = this.conversion.toScreen(this.data.start),
                                        e = this.data.end ? this.conversion.toScreen(this.data.end) : 0;
                                    if (e) this.repositionXWithRanges(t, e);
                                    else {
                                        var i = void 0 === this.data.align ? this.options.align : this.data.align;
                                        this.repositionXWithoutRanges(t, i);
                                    }
                                    this.options.showStipes &&
                                        ((this.dom.line.style.display = this._isStipeVisible() ? "block" : "none"),
                                        (this.dom.dot.style.display = this._isStipeVisible() ? "block" : "none"),
                                        this._isStipeVisible() && this.repositionStype(t, e));
                                },
                            },
                            {
                                key: "repositionStype",
                                value: function (t, e) {
                                    (this.dom.line.style.display = "block"), (this.dom.dot.style.display = "block");
                                    var i = this.dom.line.offsetWidth,
                                        n = this.dom.dot.offsetWidth;
                                    if (e) {
                                        var s = i + t + (e - t) / 2,
                                            r = s - n / 2,
                                            o = this.options.rtl ? -1 * s : s,
                                            a = this.options.rtl ? -1 * r : r;
                                        (this.dom.line.style.transform = "translateX(".concat(o, "px)")), (this.dom.dot.style.transform = "translateX(".concat(a, "px)"));
                                    } else {
                                        var l = this.options.rtl ? -1 * t : t,
                                            h = this.options.rtl ? -1 * (t - n / 2) : t - n / 2;
                                        (this.dom.line.style.transform = "translateX(".concat(l, "px)")), (this.dom.dot.style.transform = "translateX(".concat(h, "px)"));
                                    }
                                },
                            },
                            {
                                key: "repositionXWithoutRanges",
                                value: function (t, e) {
                                    "right" == e
                                        ? this.options.rtl
                                            ? ((this.right = t - this.width), (this.dom.box.style.right = this.right + "px"))
                                            : ((this.left = t - this.width), (this.dom.box.style.left = this.left + "px"))
                                        : "left" == e
                                        ? this.options.rtl
                                            ? ((this.right = t), (this.dom.box.style.right = this.right + "px"))
                                            : ((this.left = t), (this.dom.box.style.left = this.left + "px"))
                                        : this.options.rtl
                                        ? ((this.right = t - this.width / 2), (this.dom.box.style.right = this.right + "px"))
                                        : ((this.left = t - this.width / 2), (this.dom.box.style.left = this.left + "px"));
                                },
                            },
                            {
                                key: "repositionXWithRanges",
                                value: function (t, e) {
                                    var i = Math.round(Math.max(e - t + 0.5, 1));
                                    this.options.rtl ? (this.right = t) : (this.left = t),
                                        (this.width = Math.max(i, this.minWidth || 0)),
                                        this.options.rtl ? (this.dom.box.style.right = this.right + "px") : (this.dom.box.style.left = this.left + "px"),
                                        (this.dom.box.style.width = i + "px");
                                },
                            },
                            {
                                key: "repositionY",
                                value: function () {
                                    var t = this.options.orientation.item,
                                        e = this.dom.box;
                                    if (((e.style.top = "top" == t ? (this.top || 0) + "px" : (this.parent.height - this.top - this.height || 0) + "px"), this.options.showStipes)) {
                                        if ("top" == t) (this.dom.line.style.top = "0"), (this.dom.line.style.height = this.parent.top + this.top + 1 + "px"), (this.dom.line.style.bottom = "");
                                        else {
                                            var i = this.parent.itemSet.props.height,
                                                n = i - this.parent.top - this.parent.height + this.top;
                                            (this.dom.line.style.top = i - n + "px"), (this.dom.line.style.bottom = "0");
                                        }
                                        this.dom.dot.style.top = -this.dom.dot.offsetHeight / 2 + "px";
                                    }
                                },
                            },
                            {
                                key: "getWidthLeft",
                                value: function () {
                                    return this.width / 2;
                                },
                            },
                            {
                                key: "getWidthRight",
                                value: function () {
                                    return this.width / 2;
                                },
                            },
                            {
                                key: "move",
                                value: function () {
                                    this.repositionX(), this.repositionY();
                                },
                            },
                            {
                                key: "attach",
                                value: function () {
                                    var t,
                                        e,
                                        i = ju(this.data.uiItems);
                                    try {
                                        for (i.s(); !(e = i.n()).done; ) {
                                            e.value.cluster = this;
                                        }
                                    } catch (t) {
                                        i.e(t);
                                    } finally {
                                        i.f();
                                    }
                                    (this.data.items = tr((t = this.data.uiItems)).call(t, function (t) {
                                        return t.data;
                                    })),
                                        (this.attached = !0),
                                        (this.dirty = !0);
                                },
                            },
                            {
                                key: "detach",
                                value: function () {
                                    var t = arguments.length > 0 && void 0 !== arguments[0] && arguments[0];
                                    if (this.hasItems()) {
                                        var e,
                                            i = ju(this.data.uiItems);
                                        try {
                                            for (i.s(); !(e = i.n()).done; ) {
                                                var n = e.value;
                                                delete n.cluster;
                                            }
                                        } catch (t) {
                                            i.e(t);
                                        } finally {
                                            i.f();
                                        }
                                        (this.attached = !1), t && this.group && (this.group.remove(this), (this.group = null)), (this.data.items = []), (this.dirty = !0);
                                    }
                                },
                            },
                            {
                                key: "_onDoubleClick",
                                value: function () {
                                    this._fit();
                                },
                            },
                            {
                                key: "_setupRange",
                                value: function () {
                                    var t,
                                        e,
                                        i,
                                        n = tr((t = this.data.uiItems)).call(t, function (t) {
                                            return { start: t.data.start.valueOf(), end: t.data.end ? t.data.end.valueOf() : t.data.start.valueOf() };
                                        });
                                    (this.data.min = Math.min.apply(
                                        Math,
                                        cr(
                                            tr(n).call(n, function (t) {
                                                return Math.min(t.start, t.end || t.start);
                                            })
                                        )
                                    )),
                                        (this.data.max = Math.max.apply(
                                            Math,
                                            cr(
                                                tr(n).call(n, function (t) {
                                                    return Math.max(t.start, t.end || t.start);
                                                })
                                            )
                                        ));
                                    var s = tr((e = this.data.uiItems)).call(e, function (t) {
                                            return t.center;
                                        }),
                                        r =
                                            rl(s).call(
                                                s,
                                                function (t, e) {
                                                    return t + e;
                                                },
                                                0
                                            ) / this.data.uiItems.length;
                                    zo((i = this.data.uiItems)).call(i, function (t) {
                                        return t.data.end;
                                    })
                                        ? ((this.data.start = new Date(this.data.min)), (this.data.end = new Date(this.data.max)))
                                        : ((this.data.start = new Date(r)), (this.data.end = null));
                                },
                            },
                            {
                                key: "_getUiItems",
                                value: function () {
                                    var t,
                                        e = this;
                                    return this.data.uiItems && this.data.uiItems.length
                                        ? is((t = this.data.uiItems)).call(t, function (t) {
                                              return t.cluster === e;
                                          })
                                        : [];
                                },
                            },
                            {
                                key: "_createDomElement",
                                value: function () {
                                    if (!this.dom) {
                                        var t;
                                        if (
                                            ((this.dom = {}),
                                            (this.dom.box = document.createElement("DIV")),
                                            (this.dom.content = document.createElement("DIV")),
                                            (this.dom.content.className = "vis-item-content"),
                                            this.dom.box.appendChild(this.dom.content),
                                            this.options.showStipes &&
                                                ((this.dom.line = document.createElement("DIV")),
                                                (this.dom.line.className = "vis-cluster-line"),
                                                (this.dom.line.style.display = "none"),
                                                (this.dom.dot = document.createElement("DIV")),
                                                (this.dom.dot.className = "vis-cluster-dot"),
                                                (this.dom.dot.style.display = "none")),
                                            this.options.fitOnDoubleClick)
                                        )
                                            this.dom.box.ondblclick = ll((t = i.prototype._onDoubleClick)).call(t, this);
                                        (this.dom.box["vis-item"] = this), (this.dirty = !0);
                                    }
                                },
                            },
                            {
                                key: "_appendDomElement",
                                value: function () {
                                    if (!this.parent) throw new Error("Cannot redraw item: no parent attached");
                                    if (!this.dom.box.parentNode) {
                                        var t = this.parent.dom.foreground;
                                        if (!t) throw new Error("Cannot redraw item: parent has no foreground container element");
                                        t.appendChild(this.dom.box);
                                    }
                                    var e = this.parent.dom.background;
                                    if (this.options.showStipes) {
                                        if (!this.dom.line.parentNode) {
                                            if (!e) throw new Error("Cannot redraw item: parent has no background container element");
                                            e.appendChild(this.dom.line);
                                        }
                                        if (!this.dom.dot.parentNode) {
                                            var i = this.parent.dom.axis;
                                            if (!e) throw new Error("Cannot redraw item: parent has no axis container element");
                                            i.appendChild(this.dom.dot);
                                        }
                                    }
                                    this.displayed = !0;
                                },
                            },
                            {
                                key: "_updateDirtyDomComponents",
                                value: function () {
                                    if (this.dirty) {
                                        this._updateContents(this.dom.content), this._updateDataAttributes(this.dom.box), this._updateStyle(this.dom.box);
                                        var t = this.baseClassName + " " + (this.data.className ? " " + this.data.className : "") + (this.selected ? " vis-selected" : "") + " vis-readonly";
                                        (this.dom.box.className = "vis-item " + t),
                                            this.options.showStipes &&
                                                ((this.dom.line.className = "vis-item vis-cluster-line " + (this.selected ? " vis-selected" : "")),
                                                (this.dom.dot.className = "vis-item vis-cluster-dot " + (this.selected ? " vis-selected" : ""))),
                                            this.data.end && (this.dom.content.style.maxWidth = "none");
                                    }
                                },
                            },
                            {
                                key: "_getDomComponentsSizes",
                                value: function () {
                                    var t = { previous: { right: this.dom.box.style.right, left: this.dom.box.style.left }, box: { width: this.dom.box.offsetWidth, height: this.dom.box.offsetHeight } };
                                    return this.options.showStipes && ((t.dot = { height: this.dom.dot.offsetHeight, width: this.dom.dot.offsetWidth }), (t.line = { width: this.dom.line.offsetWidth })), t;
                                },
                            },
                            {
                                key: "_updateDomComponentsSizes",
                                value: function (t) {
                                    this.options.rtl ? (this.dom.box.style.right = "0px") : (this.dom.box.style.left = "0px"),
                                        this.data.end ? (this.minWidth = t.box.width) : (this.width = t.box.width),
                                        (this.height = t.box.height),
                                        this.options.rtl ? (this.dom.box.style.right = t.previous.right) : (this.dom.box.style.left = t.previous.left),
                                        (this.dirty = !1);
                                },
                            },
                            {
                                key: "_repaintDomAdditionals",
                                value: function () {
                                    this._repaintOnItemUpdateTimeTooltip(this.dom.box);
                                },
                            },
                            {
                                key: "_isStipeVisible",
                                value: function () {
                                    return this.minWidth >= this.width || !this.data.end;
                                },
                            },
                            {
                                key: "_getFitRange",
                                value: function () {
                                    var t = (0.05 * (this.data.max - this.data.min)) / 2;
                                    return { fitStart: this.data.min - t, fitEnd: this.data.max + t };
                                },
                            },
                            {
                                key: "_fit",
                                value: function () {
                                    if (this.emitter) {
                                        var t = this._getFitRange(),
                                            e = t.fitStart,
                                            i = t.fitEnd,
                                            n = { start: new Date(e), end: new Date(i), animation: !0 };
                                        this.emitter.emit("fit", n);
                                    }
                                },
                            },
                            {
                                key: "_getItemData",
                                value: function () {
                                    return this.data;
                                },
                            },
                        ]),
                        i
                    );
                })(ku);
                function Wu(t, e) {
                    var i;
                    if (void 0 === fr || null == Bi(t)) {
                        if (
                            er(t) ||
                            (i = (function (t, e) {
                                var i;
                                if (!t) return;
                                if ("string" == typeof t) return Bu(t, e);
                                var n = or((i = Object.prototype.toString.call(t))).call(i, 8, -1);
                                "Object" === n && t.constructor && (n = t.constructor.name);
                                if ("Map" === n || "Set" === n) return en(t);
                                if ("Arguments" === n || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return Bu(t, e);
                            })(t)) ||
                            (e && t && "number" == typeof t.length)
                        ) {
                            i && (t = i);
                            var n = 0,
                                s = function () {};
                            return {
                                s,
                                n: function () {
                                    return n >= t.length ? { done: !0 } : { done: !1, value: t[n++] };
                                },
                                e: function (t) {
                                    throw t;
                                },
                                f: s,
                            };
                        }
                        throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
                    }
                    var r,
                        o = !0,
                        a = !1;
                    return {
                        s: function () {
                            i = Wi(t);
                        },
                        n: function () {
                            var t = i.next();
                            return (o = t.done), t;
                        },
                        e: function (t) {
                            (a = !0), (r = t);
                        },
                        f: function () {
                            try {
                                o || null == i.return || i.return();
                            } finally {
                                if (a) throw r;
                            }
                        },
                    };
                }
                function Bu(t, e) {
                    (null == e || e > t.length) && (e = t.length);
                    for (var i = 0, n = new Array(e); i < e; i++) n[i] = t[i];
                    return n;
                }
                Hu.prototype.baseClassName = "vis-item vis-range vis-cluster";
                var Yu = "__ungrouped__",
                    Uu = (function () {
                        function t(e) {
                            hl(this, t), (this.itemSet = e), (this.groups = {}), (this.cache = {}), (this.cache[-1] = []);
                        }
                        return (
                            dl(t, [
                                {
                                    key: "createClusterItem",
                                    value: function (t, e, i) {
                                        return new Hu(t, e, i);
                                    },
                                },
                                {
                                    key: "setItems",
                                    value: function (t, e) {
                                        (this.items = t || []), (this.dataChanged = !0), (this.applyOnChangedLevel = !1), e && e.applyOnChangedLevel && (this.applyOnChangedLevel = e.applyOnChangedLevel);
                                    },
                                },
                                {
                                    key: "updateData",
                                    value: function () {
                                        (this.dataChanged = !0), (this.applyOnChangedLevel = !1);
                                    },
                                },
                                {
                                    key: "getClusters",
                                    value: function (t, e, i) {
                                        var n = "boolean" == typeof i ? {} : i,
                                            s = n.maxItems,
                                            r = n.clusterCriteria;
                                        r ||
                                            (r = function () {
                                                return !0;
                                            }),
                                            (s = s || 1);
                                        var o = -1,
                                            a = 0;
                                        if (e > 0) {
                                            if (e >= 1) return [];
                                            (o = Math.abs(Math.round(Math.log(100 / e) / Math.log(2)))), (a = Math.abs(Math.pow(2, o)));
                                        }
                                        if (this.dataChanged) {
                                            var l = o != this.cacheLevel;
                                            (!this.applyOnChangedLevel || l) && (this._dropLevelsCache(), this._filterData());
                                        }
                                        this.cacheLevel = o;
                                        var h = this.cache[o];
                                        if (!h) {
                                            for (var c in ((h = []), this.groups))
                                                if (this.groups.hasOwnProperty(c))
                                                    for (var d = this.groups[c], u = d.length, p = 0; p < u; ) {
                                                        for (var f = d[p], m = 1, g = p - 1; g >= 0 && f.center - d[g].center < a / 2; ) !d[g].cluster && r(f.data, d[g].data) && m++, g--;
                                                        for (var v = p + 1; v < d.length && d[v].center - f.center < a / 2; ) r(f.data, d[v].data) && m++, v++;
                                                        for (var b = h.length - 1; b >= 0 && f.center - h[b].center < a; ) f.group == h[b].group && r(f.data, h[b].data) && m++, b--;
                                                        if (m > s) {
                                                            for (var y = m - s + 1, w = [], x = p; w.length < y && x < d.length; ) r(d[p].data, d[x].data) && w.push(d[x]), x++;
                                                            var _ = this.itemSet.getGroupId(f.data),
                                                                k = this.itemSet.groups[_] || this.itemSet.groups[Yu],
                                                                P = this._getClusterForItems(w, k, t, i);
                                                            h.push(P), (p += y);
                                                        } else delete f.cluster, (p += 1);
                                                    }
                                            this.cache[o] = h;
                                        }
                                        return h;
                                    },
                                },
                                {
                                    key: "_filterData",
                                    value: function () {
                                        var t = {};
                                        this.groups = t;
                                        for (var e = 0, i = Wn(this.items); e < i.length; e++) {
                                            var n = i[e],
                                                s = n.parent ? n.parent.groupId : "",
                                                r = t[s];
                                            r || ((r = []), (t[s] = r)), r.push(n), n.data.start && (n.data.end ? (n.center = (n.data.start.valueOf() + n.data.end.valueOf()) / 2) : (n.center = n.data.start.valueOf()));
                                        }
                                        for (var o in t) {
                                            var a;
                                            if (t.hasOwnProperty(o))
                                                na((a = t[o])).call(a, function (t, e) {
                                                    return t.center - e.center;
                                                });
                                        }
                                        this.dataChanged = !1;
                                    },
                                },
                                {
                                    key: "_getClusterForItems",
                                    value: function (t, e, i, n) {
                                        var s,
                                            r,
                                            o = tr((s = i || [])).call(s, function (t) {
                                                var e;
                                                return {
                                                    cluster: t,
                                                    itemsIds: new wa(
                                                        tr((e = t.data.uiItems)).call(e, function (t) {
                                                            return t.id;
                                                        })
                                                    ),
                                                };
                                            });
                                        if (o.length) {
                                            var a,
                                                l = Wu(o);
                                            try {
                                                var h = function () {
                                                    var e = a.value;
                                                    if (
                                                        e.itemsIds.size === t.length &&
                                                        Lu(t).call(t, function (t) {
                                                            return e.itemsIds.has(t.id);
                                                        })
                                                    )
                                                        return (r = e.cluster), "break";
                                                };
                                                for (l.s(); !(a = l.n()).done; ) {
                                                    if ("break" === h()) break;
                                                }
                                            } catch (t) {
                                                l.e(t);
                                            } finally {
                                                l.f();
                                            }
                                        }
                                        if (r) return r.setUiItems(t), r.group !== e && (r.group && r.group.remove(r), e && (e.add(r), (r.group = e))), r;
                                        var c = n.titleTemplate || "",
                                            d = { toScreen: this.itemSet.body.util.toScreen, toTime: this.itemSet.body.util.toTime },
                                            u = c.replace(/{count}/, t.length),
                                            p = '<div title="' + u + '">' + t.length + "</div>",
                                            f = vs({}, n, this.itemSet.options),
                                            m = { content: p, title: u, group: e, uiItems: t, eventEmitter: this.itemSet.body.emitter, range: this.itemSet.body.range };
                                        return (r = this.createClusterItem(m, d, f)), e && (e.add(r), (r.group = e)), r.attach(), r;
                                    },
                                },
                                {
                                    key: "_dropLevelsCache",
                                    value: function () {
                                        (this.cache = {}), (this.cacheLevel = -1), (this.cache[this.cacheLevel] = []);
                                    },
                                },
                            ]),
                            t
                        );
                    })();
                _d(
                    '\n.vis-itemset {\n  position: relative;\n  padding: 0;\n  margin: 0;\n\n  box-sizing: border-box;\n}\n\n.vis-itemset .vis-background,\n.vis-itemset .vis-foreground {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  overflow: visible;\n}\n\n.vis-axis {\n  position: absolute;\n  width: 100%;\n  height: 0;\n  left: 0;\n  z-index: 1;\n}\n\n.vis-foreground .vis-group {\n  position: relative;\n  box-sizing: border-box;\n  border-bottom: 1px solid #bfbfbf;\n}\n\n.vis-foreground .vis-group:last-child {\n  border-bottom: none;\n}\n\n.vis-nesting-group {\n  cursor: pointer;\n}\n\n.vis-label.vis-nested-group.vis-group-level-unknown-but-gte1 {\n  background: #f5f5f5;\n}\n.vis-label.vis-nested-group.vis-group-level-0 {\n  background-color: #ffffff;\n}\n.vis-ltr .vis-label.vis-nested-group.vis-group-level-0 .vis-inner {\n  padding-left: 0;\n}\n.vis-rtl .vis-label.vis-nested-group.vis-group-level-0 .vis-inner {\n  padding-right: 0;\n}\n.vis-label.vis-nested-group.vis-group-level-1 {\n  background-color: rgba(0, 0, 0, 0.05);\n}\n.vis-ltr .vis-label.vis-nested-group.vis-group-level-1 .vis-inner {\n  padding-left: 15px;\n}\n.vis-rtl .vis-label.vis-nested-group.vis-group-level-1 .vis-inner {\n  padding-right: 15px;\n}\n.vis-label.vis-nested-group.vis-group-level-2 {\n  background-color: rgba(0, 0, 0, 0.1);\n}\n.vis-ltr .vis-label.vis-nested-group.vis-group-level-2 .vis-inner {\n  padding-left: 30px;\n}\n.vis-rtl .vis-label.vis-nested-group.vis-group-level-2 .vis-inner {\n  padding-right: 30px;\n}\n.vis-label.vis-nested-group.vis-group-level-3 {\n  background-color: rgba(0, 0, 0, 0.15);\n}\n.vis-ltr .vis-label.vis-nested-group.vis-group-level-3 .vis-inner {\n  padding-left: 45px;\n}\n.vis-rtl .vis-label.vis-nested-group.vis-group-level-3 .vis-inner {\n  padding-right: 45px;\n}\n.vis-label.vis-nested-group.vis-group-level-4 {\n  background-color: rgba(0, 0, 0, 0.2);\n}\n.vis-ltr .vis-label.vis-nested-group.vis-group-level-4 .vis-inner {\n  padding-left: 60px;\n}\n.vis-rtl .vis-label.vis-nested-group.vis-group-level-4 .vis-inner {\n  padding-right: 60px;\n}\n.vis-label.vis-nested-group.vis-group-level-5 {\n  background-color: rgba(0, 0, 0, 0.25);\n}\n.vis-ltr .vis-label.vis-nested-group.vis-group-level-5 .vis-inner {\n  padding-left: 75px;\n}\n.vis-rtl .vis-label.vis-nested-group.vis-group-level-5 .vis-inner {\n  padding-right: 75px;\n}\n.vis-label.vis-nested-group.vis-group-level-6 {\n  background-color: rgba(0, 0, 0, 0.3);\n}\n.vis-ltr .vis-label.vis-nested-group.vis-group-level-6 .vis-inner {\n  padding-left: 90px;\n}\n.vis-rtl .vis-label.vis-nested-group.vis-group-level-6 .vis-inner {\n  padding-right: 90px;\n}\n.vis-label.vis-nested-group.vis-group-level-7 {\n  background-color: rgba(0, 0, 0, 0.35);\n}\n.vis-ltr .vis-label.vis-nested-group.vis-group-level-7 .vis-inner {\n  padding-left: 105px;\n}\n.vis-rtl .vis-label.vis-nested-group.vis-group-level-7 .vis-inner {\n  padding-right: 105px;\n}\n.vis-label.vis-nested-group.vis-group-level-8 {\n  background-color: rgba(0, 0, 0, 0.4);\n}\n.vis-ltr .vis-label.vis-nested-group.vis-group-level-8 .vis-inner {\n  padding-left: 120px;\n}\n.vis-rtl .vis-label.vis-nested-group.vis-group-level-8 .vis-inner {\n  padding-right: 120px;\n}\n.vis-label.vis-nested-group.vis-group-level-9 {\n  background-color: rgba(0, 0, 0, 0.45);\n}\n.vis-ltr .vis-label.vis-nested-group.vis-group-level-9 .vis-inner {\n  padding-left: 135px;\n}\n.vis-rtl .vis-label.vis-nested-group.vis-group-level-9 .vis-inner {\n  padding-right: 135px;\n}\n/* default takes over beginning with level-10 (thats why we add .vis-nested-group\n  to the selectors above, to have higher specifity than these rules for the defaults) */\n.vis-label.vis-nested-group {\n  background-color: rgba(0, 0, 0, 0.5);\n}\n.vis-ltr .vis-label.vis-nested-group .vis-inner {\n  padding-left: 150px;\n}\n.vis-rtl .vis-label.vis-nested-group .vis-inner {\n  padding-right: 150px;\n}\n\n.vis-group-level-unknown-but-gte1 {\n  border: 1px solid red;\n}\n\n/* expanded/collapsed indicators */\n.vis-label.vis-nesting-group:before,\n.vis-label.vis-nesting-group:before {\n  display: inline-block;\n  width: 15px;\n}\n.vis-label.vis-nesting-group.expanded:before {\n  content: "\\25BC";\n}\n.vis-label.vis-nesting-group.collapsed:before {\n  content: "\\25B6";\n}\n.vis-rtl .vis-label.vis-nesting-group.collapsed:before {\n  content: "\\25C0";\n}\n/* compensate missing expanded/collapsed indicator, but only at levels > 0 */\n.vis-ltr .vis-label:not(.vis-nesting-group):not(.vis-group-level-0) {\n  padding-left: 15px;\n}\n.vis-rtl .vis-label:not(.vis-nesting-group):not(.vis-group-level-0) {\n  padding-right: 15px;\n}\n\n.vis-overlay {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  z-index: 10;\n}'
                );
                function Gu(t, e) {
                    var i;
                    if (void 0 === fr || null == Bi(t)) {
                        if (
                            er(t) ||
                            (i = (function (t, e) {
                                var i;
                                if (!t) return;
                                if ("string" == typeof t) return qu(t, e);
                                var n = or((i = Object.prototype.toString.call(t))).call(i, 8, -1);
                                "Object" === n && t.constructor && (n = t.constructor.name);
                                if ("Map" === n || "Set" === n) return en(t);
                                if ("Arguments" === n || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return qu(t, e);
                            })(t)) ||
                            (e && t && "number" == typeof t.length)
                        ) {
                            i && (t = i);
                            var n = 0,
                                s = function () {};
                            return {
                                s,
                                n: function () {
                                    return n >= t.length ? { done: !0 } : { done: !1, value: t[n++] };
                                },
                                e: function (t) {
                                    throw t;
                                },
                                f: s,
                            };
                        }
                        throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
                    }
                    var r,
                        o = !0,
                        a = !1;
                    return {
                        s: function () {
                            i = Wi(t);
                        },
                        n: function () {
                            var t = i.next();
                            return (o = t.done), t;
                        },
                        e: function (t) {
                            (a = !0), (r = t);
                        },
                        f: function () {
                            try {
                                o || null == i.return || i.return();
                            } finally {
                                if (a) throw r;
                            }
                        },
                    };
                }
                function qu(t, e) {
                    (null == e || e > t.length) && (e = t.length);
                    for (var i = 0, n = new Array(e); i < e; i++) n[i] = t[i];
                    return n;
                }
                function Xu(t) {
                    var e = (function () {
                        if ("undefined" == typeof Reflect || !go) return !1;
                        if (go.sham) return !1;
                        if ("function" == typeof Proxy) return !0;
                        try {
                            return Date.prototype.toString.call(go(Date, [], function () {})), !0;
                        } catch (t) {
                            return !1;
                        }
                    })();
                    return function () {
                        var i,
                            n = Xo(t);
                        if (e) {
                            var s = Xo(this).constructor;
                            i = go(n, arguments, s);
                        } else i = n.apply(this, arguments);
                        return Go(this, i);
                    };
                }
                _d(
                    "\n.vis-labelset {\n  position: relative;\n\n  overflow: hidden;\n\n  box-sizing: border-box;\n}\n\n.vis-labelset .vis-label {\n  position: relative;\n  left: 0;\n  top: 0;\n  width: 100%;\n  color: #4d4d4d;\n\n  box-sizing: border-box;\n}\n\n.vis-labelset .vis-label {\n  border-bottom: 1px solid #bfbfbf;\n}\n\n.vis-labelset .vis-label.draggable {\n  cursor: pointer;\n}\n\n.vis-group-is-dragging {\n  background: rgba(0, 0, 0, .1);\n}\n\n.vis-labelset .vis-label:last-child {\n  border-bottom: none;\n}\n\n.vis-labelset .vis-label .vis-inner {\n  display: inline-block;\n  padding: 5px;\n}\n\n.vis-labelset .vis-label .vis-inner.vis-hidden {\n  padding: 0;\n}\n"
                );
                var Ku = "__ungrouped__",
                    Zu = "__background__",
                    Ju = (function (t) {
                        Uo(i, t);
                        var e = Xu(i);
                        function i(t, n) {
                            var s;
                            hl(this, i),
                                ((s = e.call(this)).body = t),
                                (s.defaultOptions = {
                                    type: null,
                                    orientation: { item: "bottom" },
                                    align: "auto",
                                    stack: !0,
                                    stackSubgroups: !0,
                                    groupOrderSwap: function (t, e, i) {
                                        var n = e.order;
                                        (e.order = t.order), (t.order = n);
                                    },
                                    groupOrder: "order",
                                    selectable: !0,
                                    multiselect: !1,
                                    longSelectPressTime: 251,
                                    itemsAlwaysDraggable: { item: !1, range: !1 },
                                    editable: { updateTime: !1, updateGroup: !1, add: !1, remove: !1, overrideItems: !1 },
                                    groupEditable: { order: !1, add: !1, remove: !1 },
                                    snap: xd.snap,
                                    onDropObjectOnItem: function (t, e, i) {
                                        i(e);
                                    },
                                    onAdd: function (t, e) {
                                        e(t);
                                    },
                                    onUpdate: function (t, e) {
                                        e(t);
                                    },
                                    onMove: function (t, e) {
                                        e(t);
                                    },
                                    onRemove: function (t, e) {
                                        e(t);
                                    },
                                    onMoving: function (t, e) {
                                        e(t);
                                    },
                                    onAddGroup: function (t, e) {
                                        e(t);
                                    },
                                    onMoveGroup: function (t, e) {
                                        e(t);
                                    },
                                    onRemoveGroup: function (t, e) {
                                        e(t);
                                    },
                                    margin: { item: { horizontal: 10, vertical: 10 }, axis: 20 },
                                    showTooltips: !0,
                                    tooltip: { followMouse: !1, overflowMethod: "flip", delay: 500 },
                                    tooltipOnItemUpdateTime: !1,
                                }),
                                (s.options = ih.extend({}, s.defaultOptions)),
                                (s.options.rtl = n.rtl),
                                (s.options.onTimeout = n.onTimeout),
                                (s.conversion = { toScreen: t.util.toScreen, toTime: t.util.toTime }),
                                (s.dom = {}),
                                (s.props = {}),
                                (s.hammer = null);
                            var r = Ho(s);
                            return (
                                (s.itemsData = null),
                                (s.groupsData = null),
                                (s.itemsSettingTime = null),
                                (s.initialItemSetDrawn = !1),
                                (s.userContinueNotBail = null),
                                (s.sequentialSelection = !1),
                                (s.itemListeners = {
                                    add: function (t, e, i) {
                                        r._onAdd(e.items), r.options.cluster && r.clusterGenerator.setItems(r.items, { applyOnChangedLevel: !1 }), r.redraw();
                                    },
                                    update: function (t, e, i) {
                                        r._onUpdate(e.items), r.options.cluster && r.clusterGenerator.setItems(r.items, { applyOnChangedLevel: !1 }), r.redraw();
                                    },
                                    remove: function (t, e, i) {
                                        r._onRemove(e.items), r.options.cluster && r.clusterGenerator.setItems(r.items, { applyOnChangedLevel: !1 }), r.redraw();
                                    },
                                }),
                                (s.groupListeners = {
                                    add: function (t, e, i) {
                                        if ((r._onAddGroups(e.items), r.groupsData && r.groupsData.length > 0)) {
                                            var n,
                                                s = r.groupsData.getDataSet();
                                            Mn((n = s.get())).call(n, function (t) {
                                                if (t.nestedGroups) {
                                                    var e;
                                                    0 != t.showNested && (t.showNested = !0);
                                                    var n = [];
                                                    Mn((e = t.nestedGroups)).call(e, function (e) {
                                                        var i = s.get(e);
                                                        i && ((i.nestedInGroup = t.id), 0 == t.showNested && (i.visible = !1), (n = pr(n).call(n, i)));
                                                    }),
                                                        s.update(n, i);
                                                }
                                            });
                                        }
                                    },
                                    update: function (t, e, i) {
                                        r._onUpdateGroups(e.items);
                                    },
                                    remove: function (t, e, i) {
                                        r._onRemoveGroups(e.items);
                                    },
                                }),
                                (s.items = {}),
                                (s.groups = {}),
                                (s.groupIds = []),
                                (s.selection = []),
                                (s.popup = null),
                                (s.popupTimer = null),
                                (s.touchParams = {}),
                                (s.groupTouchParams = { group: null, isDragging: !1 }),
                                s._create(),
                                s.setOptions(n),
                                (s.clusters = []),
                                s
                            );
                        }
                        return (
                            dl(
                                i,
                                [
                                    {
                                        key: "_create",
                                        value: function () {
                                            var t,
                                                e,
                                                i,
                                                n,
                                                s,
                                                r,
                                                o,
                                                a,
                                                l,
                                                h,
                                                c,
                                                d,
                                                u,
                                                p,
                                                f,
                                                m = this,
                                                g = document.createElement("div");
                                            (g.className = "vis-itemset"), (g["vis-itemset"] = this), (this.dom.frame = g);
                                            var v = document.createElement("div");
                                            (v.className = "vis-background"), g.appendChild(v), (this.dom.background = v);
                                            var b = document.createElement("div");
                                            (b.className = "vis-foreground"), g.appendChild(b), (this.dom.foreground = b);
                                            var y = document.createElement("div");
                                            (y.className = "vis-axis"), (this.dom.axis = y);
                                            var w = document.createElement("div");
                                            (w.className = "vis-labelset"), (this.dom.labelSet = w), this._updateUngrouped();
                                            var x = new wu(Zu, null, this);
                                            x.show(),
                                                (this.groups[Zu] = x),
                                                (this.hammer = new yd(this.body.dom.centerContainer)),
                                                this.hammer.on("hammer.input", function (t) {
                                                    t.isFirst && m._onTouch(t);
                                                }),
                                                this.hammer.on("panstart", ll((t = this._onDragStart)).call(t, this)),
                                                this.hammer.on("panmove", ll((e = this._onDrag)).call(e, this)),
                                                this.hammer.on("panend", ll((i = this._onDragEnd)).call(i, this)),
                                                this.hammer.get("pan").set({ threshold: 5, direction: yd.ALL }),
                                                this.hammer.on("tap", ll((n = this._onSelectItem)).call(n, this)),
                                                this.hammer.on("press", ll((s = this._onMultiSelectItem)).call(s, this)),
                                                this.hammer.on("doubletap", ll((r = this._onAddItem)).call(r, this)),
                                                this.options.rtl ? (this.groupHammer = new yd(this.body.dom.rightContainer)) : (this.groupHammer = new yd(this.body.dom.leftContainer)),
                                                this.groupHammer.on("tap", ll((o = this._onGroupClick)).call(o, this)),
                                                this.groupHammer.on("panstart", ll((a = this._onGroupDragStart)).call(a, this)),
                                                this.groupHammer.on("panmove", ll((l = this._onGroupDrag)).call(l, this)),
                                                this.groupHammer.on("panend", ll((h = this._onGroupDragEnd)).call(h, this)),
                                                this.groupHammer.get("pan").set({ threshold: 5, direction: yd.DIRECTION_VERTICAL }),
                                                this.body.dom.centerContainer.addEventListener("mouseover", ll((c = this._onMouseOver)).call(c, this)),
                                                this.body.dom.centerContainer.addEventListener("mouseout", ll((d = this._onMouseOut)).call(d, this)),
                                                this.body.dom.centerContainer.addEventListener("mousemove", ll((u = this._onMouseMove)).call(u, this)),
                                                this.body.dom.centerContainer.addEventListener("contextmenu", ll((p = this._onDragEnd)).call(p, this)),
                                                this.body.dom.centerContainer.addEventListener("mousewheel", ll((f = this._onMouseWheel)).call(f, this)),
                                                this.show();
                                        },
                                    },
                                    {
                                        key: "setOptions",
                                        value: function (t) {
                                            var e = this;
                                            if (t) {
                                                var i, n;
                                                ih.selectiveExtend(
                                                    [
                                                        "type",
                                                        "rtl",
                                                        "align",
                                                        "order",
                                                        "stack",
                                                        "stackSubgroups",
                                                        "selectable",
                                                        "multiselect",
                                                        "sequentialSelection",
                                                        "multiselectPerGroup",
                                                        "longSelectPressTime",
                                                        "groupOrder",
                                                        "dataAttributes",
                                                        "template",
                                                        "groupTemplate",
                                                        "visibleFrameTemplate",
                                                        "hide",
                                                        "snap",
                                                        "groupOrderSwap",
                                                        "showTooltips",
                                                        "tooltip",
                                                        "tooltipOnItemUpdateTime",
                                                        "groupHeightMode",
                                                        "onTimeout",
                                                    ],
                                                    this.options,
                                                    t
                                                ),
                                                    "itemsAlwaysDraggable" in t &&
                                                        ("boolean" == typeof t.itemsAlwaysDraggable
                                                            ? ((this.options.itemsAlwaysDraggable.item = t.itemsAlwaysDraggable), (this.options.itemsAlwaysDraggable.range = !1))
                                                            : "object" === sr(t.itemsAlwaysDraggable) &&
                                                              (ih.selectiveExtend(["item", "range"], this.options.itemsAlwaysDraggable, t.itemsAlwaysDraggable),
                                                              this.options.itemsAlwaysDraggable.item || (this.options.itemsAlwaysDraggable.range = !1))),
                                                    "sequentialSelection" in t && "boolean" == typeof t.sequentialSelection && (this.options.sequentialSelection = t.sequentialSelection),
                                                    "orientation" in t &&
                                                        ("string" == typeof t.orientation
                                                            ? (this.options.orientation.item = "top" === t.orientation ? "top" : "bottom")
                                                            : "object" === sr(t.orientation) && "item" in t.orientation && (this.options.orientation.item = t.orientation.item)),
                                                    "margin" in t &&
                                                        ("number" == typeof t.margin
                                                            ? ((this.options.margin.axis = t.margin), (this.options.margin.item.horizontal = t.margin), (this.options.margin.item.vertical = t.margin))
                                                            : "object" === sr(t.margin) &&
                                                              (ih.selectiveExtend(["axis"], this.options.margin, t.margin),
                                                              "item" in t.margin &&
                                                                  ("number" == typeof t.margin.item
                                                                      ? ((this.options.margin.item.horizontal = t.margin.item), (this.options.margin.item.vertical = t.margin.item))
                                                                      : "object" === sr(t.margin.item) && ih.selectiveExtend(["horizontal", "vertical"], this.options.margin.item, t.margin.item)))),
                                                    Mn((i = ["locale", "locales"])).call(i, function (i) {
                                                        i in t && (e.options[i] = t[i]);
                                                    }),
                                                    "editable" in t &&
                                                        ("boolean" == typeof t.editable
                                                            ? ((this.options.editable.updateTime = t.editable),
                                                              (this.options.editable.updateGroup = t.editable),
                                                              (this.options.editable.add = t.editable),
                                                              (this.options.editable.remove = t.editable),
                                                              (this.options.editable.overrideItems = !1))
                                                            : "object" === sr(t.editable) && ih.selectiveExtend(["updateTime", "updateGroup", "add", "remove", "overrideItems"], this.options.editable, t.editable)),
                                                    "groupEditable" in t &&
                                                        ("boolean" == typeof t.groupEditable
                                                            ? ((this.options.groupEditable.order = t.groupEditable), (this.options.groupEditable.add = t.groupEditable), (this.options.groupEditable.remove = t.groupEditable))
                                                            : "object" === sr(t.groupEditable) && ih.selectiveExtend(["order", "add", "remove"], this.options.groupEditable, t.groupEditable));
                                                Mn((n = ["onDropObjectOnItem", "onAdd", "onUpdate", "onRemove", "onMove", "onMoving", "onAddGroup", "onMoveGroup", "onRemoveGroup"])).call(n, function (i) {
                                                    var n = t[i];
                                                    if (n) {
                                                        var s;
                                                        if ("function" != typeof n) throw new Error(pr((s = "option ".concat(i, " must be a function "))).call(s, i, "(item, callback)"));
                                                        e.options[i] = n;
                                                    }
                                                }),
                                                    t.cluster
                                                        ? (vs(this.options, { cluster: t.cluster }),
                                                          this.clusterGenerator || (this.clusterGenerator = new Uu(this)),
                                                          this.clusterGenerator.setItems(this.items, { applyOnChangedLevel: !1 }),
                                                          this.markDirty({ refreshItems: !0, restackGroups: !0 }),
                                                          this.redraw())
                                                        : this.clusterGenerator
                                                        ? (this._detachAllClusters(),
                                                          (this.clusters = []),
                                                          (this.clusterGenerator = null),
                                                          (this.options.cluster = void 0),
                                                          this.markDirty({ refreshItems: !0, restackGroups: !0 }),
                                                          this.redraw())
                                                        : this.markDirty();
                                            }
                                        },
                                    },
                                    {
                                        key: "markDirty",
                                        value: function (t) {
                                            (this.groupIds = []),
                                                t &&
                                                    (t.refreshItems &&
                                                        Mn(ih).call(ih, this.items, function (t) {
                                                            (t.dirty = !0), t.displayed && t.redraw();
                                                        }),
                                                    t.restackGroups &&
                                                        Mn(ih).call(ih, this.groups, function (t, e) {
                                                            e !== Zu && (t.stackDirty = !0);
                                                        }));
                                        },
                                    },
                                    {
                                        key: "destroy",
                                        value: function () {
                                            this.clearPopupTimer(),
                                                this.hide(),
                                                this.setItems(null),
                                                this.setGroups(null),
                                                this.hammer && this.hammer.destroy(),
                                                this.groupHammer && this.groupHammer.destroy(),
                                                (this.hammer = null),
                                                (this.body = null),
                                                (this.conversion = null);
                                        },
                                    },
                                    {
                                        key: "hide",
                                        value: function () {
                                            this.dom.frame.parentNode && this.dom.frame.parentNode.removeChild(this.dom.frame),
                                                this.dom.axis.parentNode && this.dom.axis.parentNode.removeChild(this.dom.axis),
                                                this.dom.labelSet.parentNode && this.dom.labelSet.parentNode.removeChild(this.dom.labelSet);
                                        },
                                    },
                                    {
                                        key: "show",
                                        value: function () {
                                            this.dom.frame.parentNode || this.body.dom.center.appendChild(this.dom.frame),
                                                this.dom.axis.parentNode || this.body.dom.backgroundVertical.appendChild(this.dom.axis),
                                                this.dom.labelSet.parentNode || (this.options.rtl ? this.body.dom.right.appendChild(this.dom.labelSet) : this.body.dom.left.appendChild(this.dom.labelSet));
                                        },
                                    },
                                    {
                                        key: "setPopupTimer",
                                        value: function (t) {
                                            if ((this.clearPopupTimer(), t)) {
                                                var e = this.options.tooltip.delay || "number" == typeof this.options.tooltip.delay ? this.options.tooltip.delay : 500;
                                                this.popupTimer = Ra(function () {
                                                    t.show();
                                                }, e);
                                            }
                                        },
                                    },
                                    {
                                        key: "clearPopupTimer",
                                        value: function () {
                                            null != this.popupTimer && (clearTimeout(this.popupTimer), (this.popupTimer = null));
                                        },
                                    },
                                    {
                                        key: "setSelection",
                                        value: function (t) {
                                            var e;
                                            null == t && (t = []), er(t) || (t = [t]);
                                            var i,
                                                n = Gu(
                                                    is((e = this.selection)).call(e, function (e) {
                                                        return -1 === ps(t).call(t, e);
                                                    })
                                                );
                                            try {
                                                for (n.s(); !(i = n.n()).done; ) {
                                                    var s = i.value,
                                                        r = this.getItemById(s);
                                                    r && r.unselect();
                                                }
                                            } catch (t) {
                                                n.e(t);
                                            } finally {
                                                n.f();
                                            }
                                            this.selection = cr(t);
                                            var o,
                                                a = Gu(t);
                                            try {
                                                for (a.s(); !(o = a.n()).done; ) {
                                                    var l = o.value,
                                                        h = this.getItemById(l);
                                                    h && h.select();
                                                }
                                            } catch (t) {
                                                a.e(t);
                                            } finally {
                                                a.f();
                                            }
                                        },
                                    },
                                    {
                                        key: "getSelection",
                                        value: function () {
                                            var t;
                                            return pr((t = this.selection)).call(t, []);
                                        },
                                    },
                                    {
                                        key: "getVisibleItems",
                                        value: function () {
                                            var t,
                                                e,
                                                i = this.body.range.getRange();
                                            this.options.rtl ? ((t = this.body.util.toScreen(i.start)), (e = this.body.util.toScreen(i.end))) : ((e = this.body.util.toScreen(i.start)), (t = this.body.util.toScreen(i.end)));
                                            var n = [];
                                            for (var s in this.groups)
                                                if (this.groups.hasOwnProperty(s)) {
                                                    var r,
                                                        o = this.groups[s],
                                                        a = Gu(o.isVisible ? o.visibleItems : []);
                                                    try {
                                                        for (a.s(); !(r = a.n()).done; ) {
                                                            var l = r.value;
                                                            this.options.rtl ? l.right < e && l.right + l.width > t && n.push(l.id) : l.left < t && l.left + l.width > e && n.push(l.id);
                                                        }
                                                    } catch (t) {
                                                        a.e(t);
                                                    } finally {
                                                        a.f();
                                                    }
                                                }
                                            return n;
                                        },
                                    },
                                    {
                                        key: "getVisibleGroups",
                                        value: function () {
                                            var t = [];
                                            for (var e in this.groups) {
                                                if (this.groups.hasOwnProperty(e)) this.groups[e].isVisible && t.push(e);
                                            }
                                            return t;
                                        },
                                    },
                                    {
                                        key: "getItemById",
                                        value: function (t) {
                                            var e;
                                            return (
                                                this.items[t] ||
                                                Kd((e = this.clusters)).call(e, function (e) {
                                                    return e.id === t;
                                                })
                                            );
                                        },
                                    },
                                    {
                                        key: "_deselect",
                                        value: function (t) {
                                            for (var e = this.selection, i = 0, n = e.length; i < n; i++)
                                                if (e[i] == t) {
                                                    Ma(e).call(e, i, 1);
                                                    break;
                                                }
                                        },
                                    },
                                    {
                                        key: "redraw",
                                        value: function () {
                                            var t = this,
                                                e = this.options.margin,
                                                i = this.body.range,
                                                n = ih.option.asSize,
                                                s = this.options,
                                                r = s.orientation.item,
                                                o = !1,
                                                a = this.dom.frame;
                                            (this.props.top = this.body.domProps.top.height + this.body.domProps.border.top),
                                                this.options.rtl ? (this.props.right = this.body.domProps.right.width + this.body.domProps.border.right) : (this.props.left = this.body.domProps.left.width + this.body.domProps.border.left),
                                                (a.className = "vis-itemset"),
                                                this.options.cluster && this._clusterItems(),
                                                (o = this._orderGroups() || o);
                                            var l = i.end - i.start,
                                                h = l != this.lastVisibleInterval || this.props.width != this.props.lastWidth,
                                                c = i.start != this.lastRangeStart,
                                                d = s.stack != this.lastStack,
                                                u = s.stackSubgroups != this.lastStackSubgroups,
                                                p = h || c || d || u;
                                            (this.lastVisibleInterval = l), (this.lastRangeStart = i.start), (this.lastStack = s.stack), (this.lastStackSubgroups = s.stackSubgroups), (this.props.lastWidth = this.props.width);
                                            var f = this._firstGroup(),
                                                m = { item: e.item, axis: e.axis },
                                                g = { item: e.item, axis: e.item.vertical / 2 },
                                                v = 0,
                                                b = e.axis + e.item.vertical;
                                            this.groups[Zu].redraw(i, g, p);
                                            var y = {},
                                                w = 0;
                                            return (
                                                Mn(ih).call(ih, this.groups, function (t, e) {
                                                    if (e !== Zu) {
                                                        var n = t == f ? m : g;
                                                        (y[e] = t.redraw(i, n, p, !0)), (w = y[e].length);
                                                    }
                                                }),
                                                w > 0 &&
                                                    (function () {
                                                        for (
                                                            var e = {},
                                                                i = function (t) {
                                                                    Mn(ih).call(ih, y, function (i, n) {
                                                                        e[n] = i[t]();
                                                                    });
                                                                },
                                                                n = 0;
                                                            n < w;
                                                            n++
                                                        )
                                                            i(n);
                                                        Mn(ih).call(ih, t.groups, function (t, i) {
                                                            if (i !== Zu) {
                                                                var n = e[i];
                                                                (o = n || o), (v += t.height);
                                                            }
                                                        }),
                                                            (v = Math.max(v, b));
                                                    })(),
                                                (v = Math.max(v, b)),
                                                (a.style.height = n(v)),
                                                (this.props.width = a.offsetWidth),
                                                (this.props.height = v),
                                                (this.dom.axis.style.top = n("top" == r ? this.body.domProps.top.height + this.body.domProps.border.top : this.body.domProps.top.height + this.body.domProps.centerContainer.height)),
                                                this.options.rtl ? (this.dom.axis.style.right = "0") : (this.dom.axis.style.left = "0"),
                                                this.hammer.get("press").set({ time: this.options.longSelectPressTime }),
                                                (this.initialItemSetDrawn = !0),
                                                (o = this._isResized() || o)
                                            );
                                        },
                                    },
                                    {
                                        key: "_firstGroup",
                                        value: function () {
                                            var t = "top" == this.options.orientation.item ? 0 : this.groupIds.length - 1,
                                                e = this.groupIds[t];
                                            return this.groups[e] || this.groups[Ku] || null;
                                        },
                                    },
                                    {
                                        key: "_updateUngrouped",
                                        value: function () {
                                            var t,
                                                e,
                                                i = this.groups[Ku];
                                            if (this.groupsData) {
                                                if (i)
                                                    for (e in (i.dispose(), delete this.groups[Ku], this.items))
                                                        if (this.items.hasOwnProperty(e)) {
                                                            (t = this.items[e]).parent && t.parent.remove(t);
                                                            var n = this.getGroupId(t.data),
                                                                s = this.groups[n];
                                                            (s && s.add(t)) || t.hide();
                                                        }
                                            } else if (!i) {
                                                for (e in ((i = new bu(null, null, this)), (this.groups[Ku] = i), this.items)) this.items.hasOwnProperty(e) && ((t = this.items[e]), i.add(t));
                                                i.show();
                                            }
                                        },
                                    },
                                    {
                                        key: "getLabelSet",
                                        value: function () {
                                            return this.dom.labelSet;
                                        },
                                    },
                                    {
                                        key: "setItems",
                                        value: function (t) {
                                            this.itemsSettingTime = new Date();
                                            var e,
                                                i = this,
                                                n = this.itemsData;
                                            if (t) {
                                                if (!ql("id", t)) throw new TypeError("Data must implement the interface of DataSet or DataView");
                                                this.itemsData = eh(t);
                                            } else this.itemsData = null;
                                            if (
                                                (n &&
                                                    (Mn(ih).call(ih, this.itemListeners, function (t, e) {
                                                        n.off(e, t);
                                                    }),
                                                    n.dispose(),
                                                    (e = n.getIds()),
                                                    this._onRemove(e)),
                                                this.itemsData)
                                            ) {
                                                var s = this.id;
                                                Mn(ih).call(ih, this.itemListeners, function (t, e) {
                                                    i.itemsData.on(e, t, s);
                                                }),
                                                    (e = this.itemsData.getIds()),
                                                    this._onAdd(e),
                                                    this._updateUngrouped();
                                            }
                                            this.body.emitter.emit("_change", { queue: !0 });
                                        },
                                    },
                                    {
                                        key: "getItems",
                                        value: function () {
                                            return null != this.itemsData ? this.itemsData.rawDS : null;
                                        },
                                    },
                                    {
                                        key: "setGroups",
                                        value: function (t) {
                                            var e,
                                                i = this;
                                            if (
                                                (this.groupsData &&
                                                    (Mn(ih).call(ih, this.groupListeners, function (t, e) {
                                                        i.groupsData.off(e, t);
                                                    }),
                                                    (e = this.groupsData.getIds()),
                                                    (this.groupsData = null),
                                                    this._onRemoveGroups(e)),
                                                t)
                                            ) {
                                                if (!ql("id", t)) throw new TypeError("Data must implement the interface of DataSet or DataView");
                                                this.groupsData = t;
                                            } else this.groupsData = null;
                                            if (this.groupsData) {
                                                var n,
                                                    s = this.groupsData.getDataSet();
                                                Mn((n = s.get())).call(n, function (t) {
                                                    var e;
                                                    t.nestedGroups &&
                                                        Mn((e = t.nestedGroups)).call(e, function (e) {
                                                            var i = s.get(e);
                                                            (i.nestedInGroup = t.id), 0 == t.showNested && (i.visible = !1), s.update(i);
                                                        });
                                                });
                                                var r = this.id;
                                                Mn(ih).call(ih, this.groupListeners, function (t, e) {
                                                    i.groupsData.on(e, t, r);
                                                }),
                                                    (e = this.groupsData.getIds()),
                                                    this._onAddGroups(e);
                                            }
                                            this._updateUngrouped(),
                                                this._order(),
                                                this.options.cluster && (this.clusterGenerator.updateData(), this._clusterItems(), this.markDirty({ refreshItems: !0, restackGroups: !0 })),
                                                this.body.emitter.emit("_change", { queue: !0 });
                                        },
                                    },
                                    {
                                        key: "getGroups",
                                        value: function () {
                                            return this.groupsData;
                                        },
                                    },
                                    {
                                        key: "removeItem",
                                        value: function (t) {
                                            var e = this,
                                                i = this.itemsData.get(t);
                                            i &&
                                                this.options.onRemove(i, function (i) {
                                                    i && e.itemsData.remove(t);
                                                });
                                        },
                                    },
                                    {
                                        key: "_getType",
                                        value: function (t) {
                                            return t.type || this.options.type || (t.end ? "range" : "box");
                                        },
                                    },
                                    {
                                        key: "getGroupId",
                                        value: function (t) {
                                            return "background" == this._getType(t) && null == t.group ? Zu : this.groupsData ? t.group : Ku;
                                        },
                                    },
                                    {
                                        key: "_onUpdate",
                                        value: function (t) {
                                            var e = this,
                                                n = this;
                                            Mn(t).call(t, function (t) {
                                                var s,
                                                    r = n.itemsData.get(t),
                                                    o = n.items[t],
                                                    a = r ? n._getType(r) : null,
                                                    l = i.types[a];
                                                if ((o && (l && o instanceof l ? n._updateItem(o, r) : ((s = o.selected), n._removeItem(o), (o = null))), !o && r)) {
                                                    if (!l) throw new TypeError('Unknown item type "'.concat(a, '"'));
                                                    ((o = new l(r, n.conversion, n.options)).id = t), n._addItem(o), s && (e.selection.push(t), o.select());
                                                }
                                            }),
                                                this._order(),
                                                this.options.cluster && (this.clusterGenerator.setItems(this.items, { applyOnChangedLevel: !1 }), this._clusterItems()),
                                                this.body.emitter.emit("_change", { queue: !0 });
                                        },
                                    },
                                    {
                                        key: "_onRemove",
                                        value: function (t) {
                                            var e = 0,
                                                i = this;
                                            Mn(t).call(t, function (t) {
                                                var n = i.items[t];
                                                n && (e++, i._removeItem(n));
                                            }),
                                                e && (this._order(), this.body.emitter.emit("_change", { queue: !0 }));
                                        },
                                    },
                                    {
                                        key: "_order",
                                        value: function () {
                                            Mn(ih).call(ih, this.groups, function (t) {
                                                t.order();
                                            });
                                        },
                                    },
                                    {
                                        key: "_onUpdateGroups",
                                        value: function (t) {
                                            this._onAddGroups(t);
                                        },
                                    },
                                    {
                                        key: "_onAddGroups",
                                        value: function (t) {
                                            var e = this;
                                            Mn(t).call(t, function (t) {
                                                var i = e.groupsData.get(t),
                                                    n = e.groups[t];
                                                if (n) n.setData(i);
                                                else {
                                                    if (t == Ku || t == Zu) throw new Error("Illegal group id. ".concat(t, " is a reserved id."));
                                                    var s = rn(e.options);
                                                    for (var r in (ih.extend(s, { height: null }), (n = new bu(t, i, e)), (e.groups[t] = n), e.items))
                                                        if (e.items.hasOwnProperty(r)) {
                                                            var o = e.items[r];
                                                            o.data.group == t && n.add(o);
                                                        }
                                                    n.order(), n.show();
                                                }
                                            }),
                                                this.body.emitter.emit("_change", { queue: !0 });
                                        },
                                    },
                                    {
                                        key: "_onRemoveGroups",
                                        value: function (t) {
                                            var e = this;
                                            Mn(t).call(t, function (t) {
                                                var i = e.groups[t];
                                                i && (i.dispose(), delete e.groups[t]);
                                            }),
                                                this.options.cluster && (this.clusterGenerator.updateData(), this._clusterItems()),
                                                this.markDirty({ restackGroups: !!this.options.cluster }),
                                                this.body.emitter.emit("_change", { queue: !0 });
                                        },
                                    },
                                    {
                                        key: "_orderGroups",
                                        value: function () {
                                            if (this.groupsData) {
                                                var t = this.groupsData.getIds({ order: this.options.groupOrder });
                                                t = this._orderNestedGroups(t);
                                                var e = !ih.equalArray(t, this.groupIds);
                                                if (e) {
                                                    var i = this.groups;
                                                    Mn(t).call(t, function (t) {
                                                        i[t].hide();
                                                    }),
                                                        Mn(t).call(t, function (t) {
                                                            i[t].show();
                                                        }),
                                                        (this.groupIds = t);
                                                }
                                                return e;
                                            }
                                            return !1;
                                        },
                                    },
                                    {
                                        key: "_orderNestedGroups",
                                        value: function (t) {
                                            var e = this;
                                            return (function t(e, i) {
                                                var n = [];
                                                return (
                                                    Mn(i).call(i, function (i) {
                                                        if ((n.push(i), e.groupsData.get(i).nestedGroups)) {
                                                            var s,
                                                                r = tr(
                                                                    (s = e.groupsData.get({
                                                                        filter: function (t) {
                                                                            return t.nestedInGroup == i;
                                                                        },
                                                                        order: e.options.groupOrder,
                                                                    }))
                                                                ).call(s, function (t) {
                                                                    return t.id;
                                                                });
                                                            n = pr(n).call(n, t(e, r));
                                                        }
                                                    }),
                                                    n
                                                );
                                            })(
                                                this,
                                                is(t).call(t, function (t) {
                                                    return !e.groupsData.get(t).nestedInGroup;
                                                })
                                            );
                                        },
                                    },
                                    {
                                        key: "_addItem",
                                        value: function (t) {
                                            this.items[t.id] = t;
                                            var e = this.getGroupId(t.data),
                                                i = this.groups[e];
                                            i ? i && i.data && i.data.showNested && (t.groupShowing = !0) : (t.groupShowing = !1), i && i.add(t);
                                        },
                                    },
                                    {
                                        key: "_updateItem",
                                        value: function (t, e) {
                                            t.setData(e);
                                            var i = this.getGroupId(t.data),
                                                n = this.groups[i];
                                            n ? n && n.data && n.data.showNested && (t.groupShowing = !0) : (t.groupShowing = !1);
                                        },
                                    },
                                    {
                                        key: "_removeItem",
                                        value: function (t) {
                                            var e, i;
                                            t.hide(), delete this.items[t.id];
                                            var n = ps((e = this.selection)).call(e, t.id);
                                            -1 != n && Ma((i = this.selection)).call(i, n, 1), t.parent && t.parent.remove(t), null != this.popup && this.popup.hide();
                                        },
                                    },
                                    {
                                        key: "_constructByEndArray",
                                        value: function (t) {
                                            for (var e = [], i = 0; i < t.length; i++) t[i] instanceof $u && e.push(t[i]);
                                            return e;
                                        },
                                    },
                                    {
                                        key: "_onTouch",
                                        value: function (t) {
                                            (this.touchParams.item = this.itemFromTarget(t)),
                                                (this.touchParams.dragLeftItem = t.target.dragLeftItem || !1),
                                                (this.touchParams.dragRightItem = t.target.dragRightItem || !1),
                                                (this.touchParams.itemProps = null);
                                        },
                                    },
                                    {
                                        key: "_getGroupIndex",
                                        value: function (t) {
                                            for (var e = 0; e < this.groupIds.length; e++) if (t == this.groupIds[e]) return e;
                                        },
                                    },
                                    {
                                        key: "_onDragStart",
                                        value: function (t) {
                                            var e = this;
                                            if (!this.touchParams.itemIsDragging) {
                                                var i,
                                                    n = this.touchParams.item || null,
                                                    s = this;
                                                if (n && (n.selected || this.options.itemsAlwaysDraggable.item)) {
                                                    if (this.options.editable.overrideItems && !this.options.editable.updateTime && !this.options.editable.updateGroup) return;
                                                    if (null != n.editable && !n.editable.updateTime && !n.editable.updateGroup && !this.options.editable.overrideItems) return;
                                                    var r = this.touchParams.dragLeftItem,
                                                        o = this.touchParams.dragRightItem;
                                                    if (((this.touchParams.itemIsDragging = !0), (this.touchParams.selectedItem = n), r))
                                                        (i = { item: r, initialX: t.center.x, dragLeft: !0, data: this._cloneItemData(n.data) }), (this.touchParams.itemProps = [i]);
                                                    else if (o) (i = { item: o, initialX: t.center.x, dragRight: !0, data: this._cloneItemData(n.data) }), (this.touchParams.itemProps = [i]);
                                                    else if (this.options.editable.add && (t.srcEvent.ctrlKey || t.srcEvent.metaKey)) this._onDragStartAddItem(t);
                                                    else {
                                                        this.groupIds.length < 1 && this.redraw();
                                                        var a = this._getGroupIndex(n.data.group),
                                                            l = this.options.itemsAlwaysDraggable.item && !n.selected ? [n.id] : this.getSelection();
                                                        this.touchParams.itemProps = tr(l).call(l, function (i) {
                                                            var n = s.items[i],
                                                                r = s._getGroupIndex(n.data.group);
                                                            return { item: n, initialX: t.center.x, groupOffset: a - r, data: e._cloneItemData(n.data) };
                                                        });
                                                    }
                                                    t.stopPropagation();
                                                } else this.options.editable.add && (t.srcEvent.ctrlKey || t.srcEvent.metaKey) && this._onDragStartAddItem(t);
                                            }
                                        },
                                    },
                                    {
                                        key: "_onDragStartAddItem",
                                        value: function (t) {
                                            var e = this.options.snap || null,
                                                i = this.dom.frame.getBoundingClientRect(),
                                                n = this.options.rtl ? i.right - t.center.x + 10 : t.center.x - i.left - 10,
                                                s = this.body.util.toTime(n),
                                                r = this.body.util.getScale(),
                                                o = this.body.util.getStep(),
                                                a = e ? e(s, r, o) : s,
                                                l = { type: "range", start: a, end: a, content: "new item" },
                                                h = bl();
                                            l[this.itemsData.idProp] = h;
                                            var c = this.groupFromTarget(t);
                                            c && (l.group = c.groupId);
                                            var d = new $u(l, this.conversion, this.options);
                                            (d.id = h), (d.data = this._cloneItemData(l)), this._addItem(d), (this.touchParams.selectedItem = d);
                                            var u = { item: d, initialX: t.center.x, data: d.data };
                                            this.options.rtl ? (u.dragLeft = !0) : (u.dragRight = !0), (this.touchParams.itemProps = [u]), t.stopPropagation();
                                        },
                                    },
                                    {
                                        key: "_onDrag",
                                        value: function (t) {
                                            var e = this;
                                            if (null != this.popup && this.options.showTooltips && !this.popup.hidden) {
                                                var i = this.body.dom.centerContainer,
                                                    n = i.getBoundingClientRect();
                                                this.popup.setPosition(t.center.x - n.left + i.offsetLeft, t.center.y - n.top + i.offsetTop), this.popup.show();
                                            }
                                            if (this.touchParams.itemProps) {
                                                var s;
                                                t.stopPropagation();
                                                var r = this,
                                                    o = this.options.snap || null,
                                                    a = this.body.dom.root.offsetLeft,
                                                    l = this.options.rtl ? a + this.body.domProps.right.width : a + this.body.domProps.left.width,
                                                    h = this.body.util.getScale(),
                                                    c = this.body.util.getStep(),
                                                    d = this.touchParams.selectedItem,
                                                    u =
                                                        ((this.options.editable.overrideItems || null == d.editable) && this.options.editable.updateGroup) ||
                                                        (!this.options.editable.overrideItems && null != d.editable && d.editable.updateGroup),
                                                    p = null;
                                                if (u && d && null != d.data.group) {
                                                    var f = r.groupFromTarget(t);
                                                    f && (p = this._getGroupIndex(f.groupId));
                                                }
                                                Mn((s = this.touchParams.itemProps)).call(s, function (i) {
                                                    var n,
                                                        s,
                                                        a,
                                                        f,
                                                        m,
                                                        g = r.body.util.toTime(t.center.x - l),
                                                        v = r.body.util.toTime(i.initialX - l);
                                                    n = e.options.rtl ? -(g - v) : g - v;
                                                    var b = e._cloneItemData(i.item.data);
                                                    if (null == i.item.editable || i.item.editable.updateTime || i.item.editable.updateGroup || r.options.editable.overrideItems) {
                                                        if (((e.options.editable.overrideItems || null == d.editable) && e.options.editable.updateTime) || (!e.options.editable.overrideItems && null != d.editable && d.editable.updateTime))
                                                            if (i.dragLeft)
                                                                e.options.rtl
                                                                    ? null != b.end && ((a = ih.convert(i.data.end, "Date")), (m = new Date(a.valueOf() + n)), (b.end = o ? o(m, h, c) : m))
                                                                    : null != b.start && ((s = ih.convert(i.data.start, "Date")), (f = new Date(s.valueOf() + n)), (b.start = o ? o(f, h, c) : f));
                                                            else if (i.dragRight)
                                                                e.options.rtl
                                                                    ? null != b.start && ((s = ih.convert(i.data.start, "Date")), (f = new Date(s.valueOf() + n)), (b.start = o ? o(f, h, c) : f))
                                                                    : null != b.end && ((a = ih.convert(i.data.end, "Date")), (m = new Date(a.valueOf() + n)), (b.end = o ? o(m, h, c) : m));
                                                            else if (null != b.start)
                                                                if (((s = ih.convert(i.data.start, "Date").valueOf()), (f = new Date(s + n)), null != b.end)) {
                                                                    var y = (a = ih.convert(i.data.end, "Date")).valueOf() - s.valueOf();
                                                                    (b.start = o ? o(f, h, c) : f), (b.end = new Date(b.start.valueOf() + y));
                                                                } else b.start = o ? o(f, h, c) : f;
                                                        if (u && !i.dragLeft && !i.dragRight && null != p && null != b.group) {
                                                            var w = p - i.groupOffset;
                                                            (w = Math.max(0, w)), (w = Math.min(r.groupIds.length - 1, w)), (b.group = r.groupIds[w]);
                                                        }
                                                        (b = e._cloneItemData(b)),
                                                            r.options.onMoving(b, function (t) {
                                                                t && i.item.setData(e._cloneItemData(t, "Date"));
                                                            });
                                                    }
                                                }),
                                                    this.body.emitter.emit("_change");
                                            }
                                        },
                                    },
                                    {
                                        key: "_moveToGroup",
                                        value: function (t, e) {
                                            var i = this.groups[e];
                                            if (i && i.groupId != t.data.group) {
                                                var n = t.parent;
                                                n.remove(t), n.order(), (t.data.group = i.groupId), i.add(t), i.order();
                                            }
                                        },
                                    },
                                    {
                                        key: "_onDragEnd",
                                        value: function (t) {
                                            var e = this;
                                            if (((this.touchParams.itemIsDragging = !1), this.touchParams.itemProps)) {
                                                t.stopPropagation();
                                                var i = this,
                                                    n = this.touchParams.itemProps;
                                                (this.touchParams.itemProps = null),
                                                    Mn(n).call(n, function (t) {
                                                        var n = t.item.id;
                                                        if (null != i.itemsData.get(n)) {
                                                            var s = e._cloneItemData(t.item.data);
                                                            i.options.onMove(s, function (s) {
                                                                s ? ((s[e.itemsData.idProp] = n), e.itemsData.update(s)) : (t.item.setData(t.data), i.body.emitter.emit("_change"));
                                                            });
                                                        } else
                                                            i.options.onAdd(t.item.data, function (e) {
                                                                i._removeItem(t.item), e && i.itemsData.add(e), i.body.emitter.emit("_change");
                                                            });
                                                    });
                                            }
                                        },
                                    },
                                    {
                                        key: "_onGroupClick",
                                        value: function (t) {
                                            var e = this,
                                                i = this.groupFromTarget(t);
                                            Ra(function () {
                                                e.toggleGroupShowNested(i);
                                            }, 1);
                                        },
                                    },
                                    {
                                        key: "toggleGroupShowNested",
                                        value: function (t) {
                                            var e,
                                                i = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : void 0;
                                            if (t && t.nestedGroups) {
                                                var n = this.groupsData.getDataSet();
                                                t.showNested = null != i ? !!i : !t.showNested;
                                                var s = n.get(t.groupId);
                                                s.showNested = t.showNested;
                                                for (var r = t.nestedGroups, o = r; o.length > 0; ) {
                                                    var a = o;
                                                    o = [];
                                                    for (var l = 0; l < a.length; l++) {
                                                        var h = n.get(a[l]);
                                                        h.nestedGroups && (o = pr(o).call(o, h.nestedGroups));
                                                    }
                                                    o.length > 0 && (r = pr(r).call(r, o));
                                                }
                                                var c = tr((e = n.get(r))).call(e, function (t) {
                                                    return null == t.visible && (t.visible = !0), (t.visible = !!s.showNested), t;
                                                });
                                                n.update(pr(c).call(c, s)),
                                                    s.showNested
                                                        ? (ih.removeClassName(t.dom.label, "collapsed"), ih.addClassName(t.dom.label, "expanded"))
                                                        : (ih.removeClassName(t.dom.label, "expanded"), ih.addClassName(t.dom.label, "collapsed"));
                                            }
                                        },
                                    },
                                    {
                                        key: "toggleGroupDragClassName",
                                        value: function (t) {
                                            t.dom.label.classList.toggle("vis-group-is-dragging"), t.dom.foreground.classList.toggle("vis-group-is-dragging");
                                        },
                                    },
                                    {
                                        key: "_onGroupDragStart",
                                        value: function (t) {
                                            this.groupTouchParams.isDragging ||
                                                (this.options.groupEditable.order &&
                                                    ((this.groupTouchParams.group = this.groupFromTarget(t)),
                                                    this.groupTouchParams.group &&
                                                        (t.stopPropagation(),
                                                        (this.groupTouchParams.isDragging = !0),
                                                        this.toggleGroupDragClassName(this.groupTouchParams.group),
                                                        (this.groupTouchParams.originalOrder = this.groupsData.getIds({ order: this.options.groupOrder })))));
                                        },
                                    },
                                    {
                                        key: "_onGroupDrag",
                                        value: function (t) {
                                            if (this.options.groupEditable.order && this.groupTouchParams.group) {
                                                t.stopPropagation();
                                                var e = this.groupsData.getDataSet(),
                                                    i = this.groupFromTarget(t);
                                                if (i && i.height != this.groupTouchParams.group.height) {
                                                    var n = i.top < this.groupTouchParams.group.top,
                                                        s = t.center ? t.center.y : t.clientY,
                                                        r = i.dom.foreground.getBoundingClientRect(),
                                                        o = this.groupTouchParams.group.height;
                                                    if (n) {
                                                        if (r.top + o < s) return;
                                                    } else {
                                                        var a = i.height;
                                                        if (r.top + a - o > s) return;
                                                    }
                                                }
                                                if (i && i != this.groupTouchParams.group) {
                                                    var l = e.get(i.groupId),
                                                        h = e.get(this.groupTouchParams.group.groupId);
                                                    h && l && (this.options.groupOrderSwap(h, l, e), e.update(h), e.update(l));
                                                    var c = e.getIds({ order: this.options.groupOrder });
                                                    if (!ih.equalArray(c, this.groupTouchParams.originalOrder))
                                                        for (var d = this.groupTouchParams.originalOrder, u = this.groupTouchParams.group.groupId, p = Math.min(d.length, c.length), f = 0, m = 0, g = 0; f < p; ) {
                                                            for (; f + m < p && f + g < p && c[f + m] == d[f + g]; ) f++;
                                                            if (f + m >= p) break;
                                                            if (c[f + m] == u) m = 1;
                                                            else if (d[f + g] == u) g = 1;
                                                            else {
                                                                var v = ps(c).call(c, d[f + g]),
                                                                    b = e.get(c[f + m]),
                                                                    y = e.get(d[f + g]);
                                                                this.options.groupOrderSwap(b, y, e), e.update(b), e.update(y);
                                                                var w = c[f + m];
                                                                (c[f + m] = d[f + g]), (c[v] = w), f++;
                                                            }
                                                        }
                                                }
                                            }
                                        },
                                    },
                                    {
                                        key: "_onGroupDragEnd",
                                        value: function (t) {
                                            if (((this.groupTouchParams.isDragging = !1), this.options.groupEditable.order && this.groupTouchParams.group)) {
                                                t.stopPropagation();
                                                var e = this,
                                                    i = e.groupTouchParams.group.groupId,
                                                    n = e.groupsData.getDataSet(),
                                                    s = ih.extend({}, n.get(i));
                                                e.options.onMoveGroup(s, function (t) {
                                                    if (t) (t[n._idProp] = i), n.update(t);
                                                    else {
                                                        var s = n.getIds({ order: e.options.groupOrder });
                                                        if (!ih.equalArray(s, e.groupTouchParams.originalOrder))
                                                            for (var r = e.groupTouchParams.originalOrder, o = Math.min(r.length, s.length), a = 0; a < o; ) {
                                                                for (; a < o && s[a] == r[a]; ) a++;
                                                                if (a >= o) break;
                                                                var l = ps(s).call(s, r[a]),
                                                                    h = n.get(s[a]),
                                                                    c = n.get(r[a]);
                                                                e.options.groupOrderSwap(h, c, n), n.update(h), n.update(c);
                                                                var d = s[a];
                                                                (s[a] = r[a]), (s[l] = d), a++;
                                                            }
                                                    }
                                                }),
                                                    e.body.emitter.emit("groupDragged", { groupId: i }),
                                                    this.toggleGroupDragClassName(this.groupTouchParams.group),
                                                    (this.groupTouchParams.group = null);
                                            }
                                        },
                                    },
                                    {
                                        key: "_onSelectItem",
                                        value: function (t) {
                                            if (this.options.selectable) {
                                                var e = t.srcEvent && (t.srcEvent.ctrlKey || t.srcEvent.metaKey),
                                                    i = t.srcEvent && t.srcEvent.shiftKey;
                                                if (e || i) this._onMultiSelectItem(t);
                                                else {
                                                    var n = this.getSelection(),
                                                        s = this.itemFromTarget(t),
                                                        r = s && s.selectable ? [s.id] : [];
                                                    this.setSelection(r);
                                                    var o = this.getSelection();
                                                    (o.length > 0 || n.length > 0) && this.body.emitter.emit("select", { items: o, event: t });
                                                }
                                            }
                                        },
                                    },
                                    {
                                        key: "_onMouseOver",
                                        value: function (t) {
                                            var e = this.itemFromTarget(t);
                                            if (e && e !== this.itemFromRelatedTarget(t)) {
                                                var i = e.getTitle();
                                                if (this.options.showTooltips && i) {
                                                    null == this.popup && (this.popup = new Mu(this.body.dom.root, this.options.tooltip.overflowMethod || "flip")), this.popup.setText(i);
                                                    var n = this.body.dom.centerContainer,
                                                        s = n.getBoundingClientRect();
                                                    this.popup.setPosition(t.clientX - s.left + n.offsetLeft, t.clientY - s.top + n.offsetTop), this.setPopupTimer(this.popup);
                                                } else this.clearPopupTimer(), null != this.popup && this.popup.hide();
                                                this.body.emitter.emit("itemover", { item: e.id, event: t });
                                            }
                                        },
                                    },
                                    {
                                        key: "_onMouseOut",
                                        value: function (t) {
                                            var e = this.itemFromTarget(t);
                                            e && e !== this.itemFromRelatedTarget(t) && (this.clearPopupTimer(), null != this.popup && this.popup.hide(), this.body.emitter.emit("itemout", { item: e.id, event: t }));
                                        },
                                    },
                                    {
                                        key: "_onMouseMove",
                                        value: function (t) {
                                            if (this.itemFromTarget(t) && (null != this.popupTimer && this.setPopupTimer(this.popup), this.options.showTooltips && this.options.tooltip.followMouse && this.popup && !this.popup.hidden)) {
                                                var e = this.body.dom.centerContainer,
                                                    i = e.getBoundingClientRect();
                                                this.popup.setPosition(t.clientX - i.left + e.offsetLeft, t.clientY - i.top + e.offsetTop), this.popup.show();
                                            }
                                        },
                                    },
                                    {
                                        key: "_onMouseWheel",
                                        value: function (t) {
                                            this.touchParams.itemIsDragging && this._onDragEnd(t);
                                        },
                                    },
                                    {
                                        key: "_onUpdateItem",
                                        value: function (t) {
                                            if (this.options.selectable && (this.options.editable.updateTime || this.options.editable.updateGroup)) {
                                                var e = this;
                                                if (t) {
                                                    var i = e.itemsData.get(t.id);
                                                    this.options.onUpdate(i, function (t) {
                                                        t && e.itemsData.update(t);
                                                    });
                                                }
                                            }
                                        },
                                    },
                                    {
                                        key: "_onDropObjectOnItem",
                                        value: function (t) {
                                            var e = this.itemFromTarget(t),
                                                i = JSON.parse(t.dataTransfer.getData("text"));
                                            this.options.onDropObjectOnItem(i, e);
                                        },
                                    },
                                    {
                                        key: "_onAddItem",
                                        value: function (t) {
                                            if (this.options.selectable && this.options.editable.add) {
                                                var e,
                                                    i,
                                                    n = this,
                                                    s = this.options.snap || null,
                                                    r = this.dom.frame.getBoundingClientRect(),
                                                    o = this.options.rtl ? r.right - t.center.x : t.center.x - r.left,
                                                    a = this.body.util.toTime(o),
                                                    l = this.body.util.getScale(),
                                                    h = this.body.util.getStep();
                                                "drop" == t.type
                                                    ? (((i = JSON.parse(t.dataTransfer.getData("text"))).content = i.content ? i.content : "new item"),
                                                      (i.start = i.start ? i.start : s ? s(a, l, h) : a),
                                                      (i.type = i.type || "box"),
                                                      (i[this.itemsData.idProp] = i.id || bl()),
                                                      "range" != i.type || i.end || ((e = this.body.util.toTime(o + this.props.width / 5)), (i.end = s ? s(e, l, h) : e)))
                                                    : (((i = { start: s ? s(a, l, h) : a, content: "new item" })[this.itemsData.idProp] = bl()),
                                                      "range" === this.options.type && ((e = this.body.util.toTime(o + this.props.width / 5)), (i.end = s ? s(e, l, h) : e)));
                                                var c = this.groupFromTarget(t);
                                                c && (i.group = c.groupId),
                                                    (i = this._cloneItemData(i)),
                                                    this.options.onAdd(i, function (e) {
                                                        e && (n.itemsData.add(e), "drop" == t.type && n.setSelection([e.id]));
                                                    });
                                            }
                                        },
                                    },
                                    {
                                        key: "_onMultiSelectItem",
                                        value: function (t) {
                                            var e = this;
                                            if (this.options.selectable) {
                                                var n = this.itemFromTarget(t);
                                                if (n) {
                                                    var s = this.options.multiselect ? this.getSelection() : [];
                                                    if (((t.srcEvent && t.srcEvent.shiftKey) || !1 || this.options.sequentialSelection) && this.options.multiselect) {
                                                        var r = this.itemsData.get(n.id).group,
                                                            o = void 0;
                                                        this.options.multiselectPerGroup && s.length > 0 && (o = this.itemsData.get(s[0]).group), (this.options.multiselectPerGroup && null != o && o != r) || s.push(n.id);
                                                        var a = i._getItemRange(this.itemsData.get(s));
                                                        if (!this.options.multiselectPerGroup || o == r)
                                                            for (var l in ((s = []), this.items))
                                                                if (this.items.hasOwnProperty(l)) {
                                                                    var h = this.items[l],
                                                                        c = h.data.start,
                                                                        d = void 0 !== h.data.end ? h.data.end : c;
                                                                    !(c >= a.min && d <= a.max) || (this.options.multiselectPerGroup && o != this.itemsData.get(h.id).group) || h instanceof Du || s.push(h.id);
                                                                }
                                                    } else {
                                                        var u = ps(s).call(s, n.id);
                                                        -1 == u ? s.push(n.id) : Ma(s).call(s, u, 1);
                                                    }
                                                    var p = is(s).call(s, function (t) {
                                                        return e.getItemById(t).selectable;
                                                    });
                                                    this.setSelection(p), this.body.emitter.emit("select", { items: this.getSelection(), event: t });
                                                }
                                            }
                                        },
                                    },
                                    {
                                        key: "itemFromElement",
                                        value: function (t) {
                                            for (var e = t; e; ) {
                                                if (e.hasOwnProperty("vis-item")) return e["vis-item"];
                                                e = e.parentNode;
                                            }
                                            return null;
                                        },
                                    },
                                    {
                                        key: "itemFromTarget",
                                        value: function (t) {
                                            return this.itemFromElement(t.target);
                                        },
                                    },
                                    {
                                        key: "itemFromRelatedTarget",
                                        value: function (t) {
                                            return this.itemFromElement(t.relatedTarget);
                                        },
                                    },
                                    {
                                        key: "groupFromTarget",
                                        value: function (t) {
                                            var e = t.center ? t.center.y : t.clientY,
                                                i = this.groupIds;
                                            i.length <= 0 && this.groupsData && (i = this.groupsData.getIds({ order: this.options.groupOrder }));
                                            for (var n = 0; n < i.length; n++) {
                                                var s = i[n],
                                                    r = this.groups[s],
                                                    o = r.dom.foreground,
                                                    a = o.getBoundingClientRect();
                                                if (e >= a.top && e < a.top + o.offsetHeight) return r;
                                                if ("top" === this.options.orientation.item) {
                                                    if (n === this.groupIds.length - 1 && e > a.top) return r;
                                                } else if (0 === n && e < a.top + o.offset) return r;
                                            }
                                            return null;
                                        },
                                    },
                                    {
                                        key: "_cloneItemData",
                                        value: function (t, e) {
                                            var i = ih.extend({}, t);
                                            return e || (e = this.itemsData.type), null != i.start && (i.start = ih.convert(i.start, (e && e.start) || "Date")), null != i.end && (i.end = ih.convert(i.end, (e && e.end) || "Date")), i;
                                        },
                                    },
                                    {
                                        key: "_clusterItems",
                                        value: function () {
                                            if (this.options.cluster) {
                                                var t = this.body.range.conversion(this.body.domProps.center.width).scale,
                                                    e = this.clusterGenerator.getClusters(this.clusters, t, this.options.cluster);
                                                if (this.clusters != e) {
                                                    if ((this._detachAllClusters(), e)) {
                                                        var i,
                                                            n = Gu(e);
                                                        try {
                                                            for (n.s(); !(i = n.n()).done; ) {
                                                                i.value.attach();
                                                            }
                                                        } catch (t) {
                                                            n.e(t);
                                                        } finally {
                                                            n.f();
                                                        }
                                                        this.clusters = e;
                                                    }
                                                    this._updateClusters(e);
                                                }
                                            }
                                        },
                                    },
                                    {
                                        key: "_detachAllClusters",
                                        value: function () {
                                            if (this.options.cluster && this.clusters && this.clusters.length) {
                                                var t,
                                                    e = Gu(this.clusters);
                                                try {
                                                    for (e.s(); !(t = e.n()).done; ) {
                                                        t.value.detach();
                                                    }
                                                } catch (t) {
                                                    e.e(t);
                                                } finally {
                                                    e.f();
                                                }
                                            }
                                        },
                                    },
                                    {
                                        key: "_updateClusters",
                                        value: function (t) {
                                            if (this.clusters && this.clusters.length) {
                                                var e,
                                                    i,
                                                    n = new wa(
                                                        tr(t).call(t, function (t) {
                                                            return t.id;
                                                        })
                                                    ),
                                                    s = !1,
                                                    r = Gu(
                                                        is((e = this.clusters)).call(e, function (t) {
                                                            return !n.has(t.id);
                                                        })
                                                    );
                                                try {
                                                    for (r.s(); !(i = r.n()).done; ) {
                                                        var o,
                                                            a,
                                                            l = i.value,
                                                            h = ps((o = this.selection)).call(o, l.id);
                                                        if (-1 !== h) l.unselect(), Ma((a = this.selection)).call(a, h, 1), (s = !0);
                                                    }
                                                } catch (t) {
                                                    r.e(t);
                                                } finally {
                                                    r.f();
                                                }
                                                if (s) {
                                                    var c = this.getSelection();
                                                    this.body.emitter.emit("select", { items: c, event });
                                                }
                                            }
                                            this.clusters = t || [];
                                        },
                                    },
                                ],
                                [
                                    {
                                        key: "_getItemRange",
                                        value: function (t) {
                                            var e = null,
                                                i = null;
                                            return (
                                                Mn(t).call(t, function (t) {
                                                    (null == i || t.start < i) && (i = t.start), null != t.end ? (null == e || t.end > e) && (e = t.end) : (null == e || t.start > e) && (e = t.start);
                                                }),
                                                { min: i, max: e }
                                            );
                                        },
                                    },
                                    {
                                        key: "itemSetFromTarget",
                                        value: function (t) {
                                            for (var e = t.target; e; ) {
                                                if (e.hasOwnProperty("vis-itemset")) return e["vis-itemset"];
                                                e = e.parentNode;
                                            }
                                            return null;
                                        },
                                    },
                                ]
                            ),
                            i
                        );
                    })(ah);
                (Ju.types = { background: Du, box: Su, range: $u, point: Iu }), (Ju.prototype._onAdd = Ju.prototype._onUpdate);
                var Qu,
                    tp = !1,
                    ep = "background: #FFeeee; color: #dd0000",
                    ip = (function () {
                        function t() {
                            hl(this, t);
                        }
                        return (
                            dl(t, null, [
                                {
                                    key: "validate",
                                    value: function (e, i, n) {
                                        (tp = !1), (Qu = i);
                                        var s = i;
                                        return void 0 !== n && (s = i[n]), t.parse(e, s, []), tp;
                                    },
                                },
                                {
                                    key: "parse",
                                    value: function (e, i, n) {
                                        for (var s in e) e.hasOwnProperty(s) && t.check(s, e, i, n);
                                    },
                                },
                                {
                                    key: "check",
                                    value: function (e, i, n, s) {
                                        if (void 0 !== n[e] || void 0 !== n.__any__) {
                                            var r = e,
                                                o = !0;
                                            void 0 === n[e] && void 0 !== n.__any__ && ((r = "__any__"), (o = "object" === t.getType(i[e])));
                                            var a = n[r];
                                            o && void 0 !== a.__type__ && (a = a.__type__), t.checkFields(e, i, n, r, a, s);
                                        } else t.getSuggestion(e, n, s);
                                    },
                                },
                                {
                                    key: "checkFields",
                                    value: function (e, i, n, s, r, o) {
                                        var a = function (i) {
                                                console.log("%c" + i + t.printLocation(o, e), ep);
                                            },
                                            l = t.getType(i[e]),
                                            h = r[l];
                                        void 0 !== h
                                            ? "array" === t.getType(h) && -1 === ps(h).call(h, i[e])
                                                ? (a('Invalid option detected in "' + e + '". Allowed values are:' + t.print(h) + ' not "' + i[e] + '". '), (tp = !0))
                                                : "object" === l && "__any__" !== s && ((o = ih.copyAndExtendArray(o, e)), t.parse(i[e], n[s], o))
                                            : void 0 === r.any && (a('Invalid type received for "' + e + '". Expected: ' + t.print(qs(r)) + ". Received [" + l + '] "' + i[e] + '"'), (tp = !0));
                                    },
                                },
                                {
                                    key: "getType",
                                    value: function (t) {
                                        var e = sr(t);
                                        return "object" === e
                                            ? null === t
                                                ? "null"
                                                : t instanceof Boolean
                                                ? "boolean"
                                                : t instanceof Number
                                                ? "number"
                                                : t instanceof String
                                                ? "string"
                                                : er(t)
                                                ? "array"
                                                : t instanceof Date
                                                ? "date"
                                                : void 0 !== t.nodeType
                                                ? "dom"
                                                : !0 === t._isAMomentObject
                                                ? "moment"
                                                : "object"
                                            : "number" === e
                                            ? "number"
                                            : "boolean" === e
                                            ? "boolean"
                                            : "string" === e
                                            ? "string"
                                            : void 0 === e
                                            ? "undefined"
                                            : e;
                                    },
                                },
                                {
                                    key: "getSuggestion",
                                    value: function (e, i, n) {
                                        var s,
                                            r = t.findInOptions(e, i, n, !1),
                                            o = t.findInOptions(e, Qu, [], !0);
                                        (s =
                                            void 0 !== r.indexMatch
                                                ? " in " + t.printLocation(r.path, e, "") + 'Perhaps it was incomplete? Did you mean: "' + r.indexMatch + '"?\n\n'
                                                : o.distance <= 4 && r.distance > o.distance
                                                ? " in " + t.printLocation(r.path, e, "") + "Perhaps it was misplaced? Matching option found at: " + t.printLocation(o.path, o.closestMatch, "")
                                                : r.distance <= 8
                                                ? '. Did you mean "' + r.closestMatch + '"?' + t.printLocation(r.path, e)
                                                : ". Did you mean one of these: " + t.print(qs(i)) + t.printLocation(n, e)),
                                            console.log('%cUnknown option detected: "' + e + '"' + s, ep),
                                            (tp = !0);
                                    },
                                },
                                {
                                    key: "findInOptions",
                                    value: function (e, i, n) {
                                        var s = arguments.length > 3 && void 0 !== arguments[3] && arguments[3],
                                            r = 1e9,
                                            o = "",
                                            a = [],
                                            l = e.toLowerCase(),
                                            h = void 0;
                                        for (var c in i) {
                                            var d = void 0;
                                            if (void 0 !== i[c].__type__ && !0 === s) {
                                                var u = t.findInOptions(e, i[c], ih.copyAndExtendArray(n, c));
                                                r > u.distance && ((o = u.closestMatch), (a = u.path), (r = u.distance), (h = u.indexMatch));
                                            } else {
                                                var p;
                                                -1 !== ps((p = c.toLowerCase())).call(p, l) && (h = c), r > (d = t.levenshteinDistance(e, c)) && ((o = c), (a = ih.copyArray(n)), (r = d));
                                            }
                                        }
                                        return { closestMatch: o, path: a, distance: r, indexMatch: h };
                                    },
                                },
                                {
                                    key: "printLocation",
                                    value: function (t, e) {
                                        for (var i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : "Problem value found at: \n", n = "\n\n" + i + "options = {\n", s = 0; s < t.length; s++) {
                                            for (var r = 0; r < s + 1; r++) n += "  ";
                                            n += t[s] + ": {\n";
                                        }
                                        for (var o = 0; o < t.length + 1; o++) n += "  ";
                                        n += e + "\n";
                                        for (var a = 0; a < t.length + 1; a++) {
                                            for (var l = 0; l < t.length - a; l++) n += "  ";
                                            n += "}\n";
                                        }
                                        return n + "\n\n";
                                    },
                                },
                                {
                                    key: "print",
                                    value: function (t) {
                                        return Io(t)
                                            .replace(/(\")|(\[)|(\])|(,"__type__")/g, "")
                                            .replace(/(\,)/g, ", ");
                                    },
                                },
                                {
                                    key: "levenshteinDistance",
                                    value: function (t, e) {
                                        if (0 === t.length) return e.length;
                                        if (0 === e.length) return t.length;
                                        var i,
                                            n,
                                            s = [];
                                        for (i = 0; i <= e.length; i++) s[i] = [i];
                                        for (n = 0; n <= t.length; n++) s[0][n] = n;
                                        for (i = 1; i <= e.length; i++)
                                            for (n = 1; n <= t.length; n++) e.charAt(i - 1) == t.charAt(n - 1) ? (s[i][n] = s[i - 1][n - 1]) : (s[i][n] = Math.min(s[i - 1][n - 1] + 1, Math.min(s[i][n - 1] + 1, s[i - 1][n] + 1)));
                                        return s[e.length][t.length];
                                    },
                                },
                            ]),
                            t
                        );
                    })(),
                    np = "string",
                    sp = "boolean",
                    rp = "number",
                    op = "array",
                    ap = "date",
                    lp = "object",
                    hp = "moment",
                    cp = {
                        configure: { enabled: { boolean: sp }, filter: { boolean: sp, function: "function" }, container: { dom: "dom" }, __type__: { object: lp, boolean: sp, function: "function" } },
                        align: { string: np },
                        alignCurrentTime: { string: np, undefined: "undefined" },
                        rtl: { boolean: sp, undefined: "undefined" },
                        rollingMode: { follow: { boolean: sp }, offset: { number: rp, undefined: "undefined" }, __type__: { object: lp } },
                        onTimeout: { timeoutMs: { number: rp }, callback: { function: "function" }, __type__: { object: lp } },
                        verticalScroll: { boolean: sp, undefined: "undefined" },
                        horizontalScroll: { boolean: sp, undefined: "undefined" },
                        autoResize: { boolean: sp },
                        throttleRedraw: { number: rp },
                        clickToUse: { boolean: sp },
                        dataAttributes: { string: np, array: op },
                        editable: {
                            add: { boolean: sp, undefined: "undefined" },
                            remove: { boolean: sp, undefined: "undefined" },
                            updateGroup: { boolean: sp, undefined: "undefined" },
                            updateTime: { boolean: sp, undefined: "undefined" },
                            overrideItems: { boolean: sp, undefined: "undefined" },
                            __type__: { boolean: sp, object: lp },
                        },
                        end: { number: rp, date: ap, string: np, moment: hp },
                        format: {
                            minorLabels: {
                                millisecond: { string: np, undefined: "undefined" },
                                second: { string: np, undefined: "undefined" },
                                minute: { string: np, undefined: "undefined" },
                                hour: { string: np, undefined: "undefined" },
                                weekday: { string: np, undefined: "undefined" },
                                day: { string: np, undefined: "undefined" },
                                week: { string: np, undefined: "undefined" },
                                month: { string: np, undefined: "undefined" },
                                year: { string: np, undefined: "undefined" },
                                __type__: { object: lp, function: "function" },
                            },
                            majorLabels: {
                                millisecond: { string: np, undefined: "undefined" },
                                second: { string: np, undefined: "undefined" },
                                minute: { string: np, undefined: "undefined" },
                                hour: { string: np, undefined: "undefined" },
                                weekday: { string: np, undefined: "undefined" },
                                day: { string: np, undefined: "undefined" },
                                week: { string: np, undefined: "undefined" },
                                month: { string: np, undefined: "undefined" },
                                year: { string: np, undefined: "undefined" },
                                __type__: { object: lp, function: "function" },
                            },
                            __type__: { object: lp },
                        },
                        moment: { function: "function" },
                        groupHeightMode: { string: np },
                        groupOrder: { string: np, function: "function" },
                        groupEditable: { add: { boolean: sp, undefined: "undefined" }, remove: { boolean: sp, undefined: "undefined" }, order: { boolean: sp, undefined: "undefined" }, __type__: { boolean: sp, object: lp } },
                        groupOrderSwap: { function: "function" },
                        height: { string: np, number: rp },
                        hiddenDates: { start: { date: ap, number: rp, string: np, moment: hp }, end: { date: ap, number: rp, string: np, moment: hp }, repeat: { string: np }, __type__: { object: lp, array: op } },
                        itemsAlwaysDraggable: { item: { boolean: sp, undefined: "undefined" }, range: { boolean: sp, undefined: "undefined" }, __type__: { boolean: sp, object: lp } },
                        limitSize: { boolean: sp },
                        locale: { string: np },
                        locales: { __any__: { any: "any" }, __type__: { object: lp } },
                        longSelectPressTime: { number: rp },
                        margin: {
                            axis: { number: rp },
                            item: { horizontal: { number: rp, undefined: "undefined" }, vertical: { number: rp, undefined: "undefined" }, __type__: { object: lp, number: rp } },
                            __type__: { object: lp, number: rp },
                        },
                        max: { date: ap, number: rp, string: np, moment: hp },
                        maxHeight: { number: rp, string: np },
                        maxMinorChars: { number: rp },
                        min: { date: ap, number: rp, string: np, moment: hp },
                        minHeight: { number: rp, string: np },
                        moveable: { boolean: sp },
                        multiselect: { boolean: sp },
                        multiselectPerGroup: { boolean: sp },
                        onAdd: { function: "function" },
                        onDropObjectOnItem: { function: "function" },
                        onUpdate: { function: "function" },
                        onMove: { function: "function" },
                        onMoving: { function: "function" },
                        onRemove: { function: "function" },
                        onAddGroup: { function: "function" },
                        onMoveGroup: { function: "function" },
                        onRemoveGroup: { function: "function" },
                        onInitialDrawComplete: { function: "function" },
                        order: { function: "function" },
                        orientation: { axis: { string: np, undefined: "undefined" }, item: { string: np, undefined: "undefined" }, __type__: { string: np, object: lp } },
                        selectable: { boolean: sp },
                        sequentialSelection: { boolean: sp },
                        showCurrentTime: { boolean: sp },
                        showMajorLabels: { boolean: sp },
                        showMinorLabels: { boolean: sp },
                        showWeekScale: { boolean: sp },
                        stack: { boolean: sp },
                        stackSubgroups: { boolean: sp },
                        cluster: {
                            maxItems: { number: rp, undefined: "undefined" },
                            titleTemplate: { string: np, undefined: "undefined" },
                            clusterCriteria: { function: "function", undefined: "undefined" },
                            showStipes: { boolean: sp, undefined: "undefined" },
                            fitOnDoubleClick: { boolean: sp, undefined: "undefined" },
                            __type__: { boolean: sp, object: lp },
                        },
                        snap: { function: "function", null: "null" },
                        start: { date: ap, number: rp, string: np, moment: hp },
                        template: { function: "function" },
                        loadingScreenTemplate: { function: "function" },
                        groupTemplate: { function: "function" },
                        visibleFrameTemplate: { string: np, function: "function" },
                        showTooltips: { boolean: sp },
                        tooltip: { followMouse: { boolean: sp }, overflowMethod: { string: ["cap", "flip", "none"] }, delay: { number: rp }, template: { function: "function" }, __type__: { object: lp } },
                        tooltipOnItemUpdateTime: { template: { function: "function" }, __type__: { boolean: sp, object: lp } },
                        timeAxis: { scale: { string: np, undefined: "undefined" }, step: { number: rp, undefined: "undefined" }, __type__: { object: lp } },
                        type: { string: np },
                        width: { string: np, number: rp },
                        preferZoom: { boolean: sp },
                        zoomable: { boolean: sp },
                        zoomKey: { string: ["ctrlKey", "altKey", "shiftKey", "metaKey", ""] },
                        zoomFriction: { number: rp },
                        zoomMax: { number: rp },
                        zoomMin: { number: rp },
                        __type__: { object: lp },
                    },
                    dp = {
                        global: {
                            align: ["center", "left", "right"],
                            alignCurrentTime: ["none", "year", "month", "quarter", "week", "isoWeek", "day", "date", "hour", "minute", "second"],
                            direction: !1,
                            autoResize: !0,
                            clickToUse: !1,
                            editable: { add: !1, remove: !1, updateGroup: !1, updateTime: !1 },
                            end: "",
                            format: {
                                minorLabels: { millisecond: "SSS", second: "s", minute: "HH:mm", hour: "HH:mm", weekday: "ddd D", day: "D", week: "w", month: "MMM", year: "YYYY" },
                                majorLabels: { millisecond: "HH:mm:ss", second: "D MMMM HH:mm", minute: "ddd D MMMM", hour: "ddd D MMMM", weekday: "MMMM YYYY", day: "MMMM YYYY", week: "MMMM YYYY", month: "YYYY", year: "" },
                            },
                            groupHeightMode: ["auto", "fixed", "fitItems"],
                            groupsDraggable: !1,
                            height: "",
                            locale: "",
                            longSelectPressTime: 251,
                            margin: { axis: [20, 0, 100, 1], item: { horizontal: [10, 0, 100, 1], vertical: [10, 0, 100, 1] } },
                            max: "",
                            maxHeight: "",
                            maxMinorChars: [7, 0, 20, 1],
                            min: "",
                            minHeight: "",
                            moveable: !1,
                            multiselect: !1,
                            multiselectPerGroup: !1,
                            orientation: { axis: ["both", "bottom", "top"], item: ["bottom", "top"] },
                            preferZoom: !1,
                            selectable: !0,
                            showCurrentTime: !1,
                            showMajorLabels: !0,
                            showMinorLabels: !0,
                            stack: !0,
                            stackSubgroups: !0,
                            cluster: !1,
                            start: "",
                            showTooltips: !0,
                            tooltip: { followMouse: !1, overflowMethod: "flip", delay: [500, 0, 99999, 100] },
                            tooltipOnItemUpdateTime: !1,
                            type: ["box", "point", "range", "background"],
                            width: "100%",
                            zoomable: !0,
                            zoomKey: ["ctrlKey", "altKey", "shiftKey", "metaKey", ""],
                            zoomMax: [31536e10, 10, 31536e10, 1],
                            zoomMin: [10, 10, 31536e10, 1],
                        },
                    };
                X(
                    { target: "Array", proto: !0 },
                    {
                        fill: function (t) {
                            for (var e = Et(this), i = it(e.length), n = arguments.length, s = rt(n > 1 ? arguments[1] : void 0, i), r = n > 2 ? arguments[2] : void 0, o = void 0 === r ? i : rt(r, i); o > s; ) e[s++] = t;
                            return e;
                        },
                    }
                );
                var up = gn("Array").fill,
                    pp = Array.prototype,
                    fp = function (t) {
                        var e = t.fill;
                        return t === pp || (t instanceof Array && e === pp.fill) ? up : e;
                    },
                    mp = {
                        black: "#000000",
                        navy: "#000080",
                        darkblue: "#00008B",
                        mediumblue: "#0000CD",
                        blue: "#0000FF",
                        darkgreen: "#006400",
                        green: "#008000",
                        teal: "#008080",
                        darkcyan: "#008B8B",
                        deepskyblue: "#00BFFF",
                        darkturquoise: "#00CED1",
                        mediumspringgreen: "#00FA9A",
                        lime: "#00FF00",
                        springgreen: "#00FF7F",
                        aqua: "#00FFFF",
                        cyan: "#00FFFF",
                        midnightblue: "#191970",
                        dodgerblue: "#1E90FF",
                        lightseagreen: "#20B2AA",
                        forestgreen: "#228B22",
                        seagreen: "#2E8B57",
                        darkslategray: "#2F4F4F",
                        limegreen: "#32CD32",
                        mediumseagreen: "#3CB371",
                        turquoise: "#40E0D0",
                        royalblue: "#4169E1",
                        steelblue: "#4682B4",
                        darkslateblue: "#483D8B",
                        mediumturquoise: "#48D1CC",
                        indigo: "#4B0082",
                        darkolivegreen: "#556B2F",
                        cadetblue: "#5F9EA0",
                        cornflowerblue: "#6495ED",
                        mediumaquamarine: "#66CDAA",
                        dimgray: "#696969",
                        slateblue: "#6A5ACD",
                        olivedrab: "#6B8E23",
                        slategray: "#708090",
                        lightslategray: "#778899",
                        mediumslateblue: "#7B68EE",
                        lawngreen: "#7CFC00",
                        chartreuse: "#7FFF00",
                        aquamarine: "#7FFFD4",
                        maroon: "#800000",
                        purple: "#800080",
                        olive: "#808000",
                        gray: "#808080",
                        skyblue: "#87CEEB",
                        lightskyblue: "#87CEFA",
                        blueviolet: "#8A2BE2",
                        darkred: "#8B0000",
                        darkmagenta: "#8B008B",
                        saddlebrown: "#8B4513",
                        darkseagreen: "#8FBC8F",
                        lightgreen: "#90EE90",
                        mediumpurple: "#9370D8",
                        darkviolet: "#9400D3",
                        palegreen: "#98FB98",
                        darkorchid: "#9932CC",
                        yellowgreen: "#9ACD32",
                        sienna: "#A0522D",
                        brown: "#A52A2A",
                        darkgray: "#A9A9A9",
                        lightblue: "#ADD8E6",
                        greenyellow: "#ADFF2F",
                        paleturquoise: "#AFEEEE",
                        lightsteelblue: "#B0C4DE",
                        powderblue: "#B0E0E6",
                        firebrick: "#B22222",
                        darkgoldenrod: "#B8860B",
                        mediumorchid: "#BA55D3",
                        rosybrown: "#BC8F8F",
                        darkkhaki: "#BDB76B",
                        silver: "#C0C0C0",
                        mediumvioletred: "#C71585",
                        indianred: "#CD5C5C",
                        peru: "#CD853F",
                        chocolate: "#D2691E",
                        tan: "#D2B48C",
                        lightgrey: "#D3D3D3",
                        palevioletred: "#D87093",
                        thistle: "#D8BFD8",
                        orchid: "#DA70D6",
                        goldenrod: "#DAA520",
                        crimson: "#DC143C",
                        gainsboro: "#DCDCDC",
                        plum: "#DDA0DD",
                        burlywood: "#DEB887",
                        lightcyan: "#E0FFFF",
                        lavender: "#E6E6FA",
                        darksalmon: "#E9967A",
                        violet: "#EE82EE",
                        palegoldenrod: "#EEE8AA",
                        lightcoral: "#F08080",
                        khaki: "#F0E68C",
                        aliceblue: "#F0F8FF",
                        honeydew: "#F0FFF0",
                        azure: "#F0FFFF",
                        sandybrown: "#F4A460",
                        wheat: "#F5DEB3",
                        beige: "#F5F5DC",
                        whitesmoke: "#F5F5F5",
                        mintcream: "#F5FFFA",
                        ghostwhite: "#F8F8FF",
                        salmon: "#FA8072",
                        antiquewhite: "#FAEBD7",
                        linen: "#FAF0E6",
                        lightgoldenrodyellow: "#FAFAD2",
                        oldlace: "#FDF5E6",
                        red: "#FF0000",
                        fuchsia: "#FF00FF",
                        magenta: "#FF00FF",
                        deeppink: "#FF1493",
                        orangered: "#FF4500",
                        tomato: "#FF6347",
                        hotpink: "#FF69B4",
                        coral: "#FF7F50",
                        darkorange: "#FF8C00",
                        lightsalmon: "#FFA07A",
                        orange: "#FFA500",
                        lightpink: "#FFB6C1",
                        pink: "#FFC0CB",
                        gold: "#FFD700",
                        peachpuff: "#FFDAB9",
                        navajowhite: "#FFDEAD",
                        moccasin: "#FFE4B5",
                        bisque: "#FFE4C4",
                        mistyrose: "#FFE4E1",
                        blanchedalmond: "#FFEBCD",
                        papayawhip: "#FFEFD5",
                        lavenderblush: "#FFF0F5",
                        seashell: "#FFF5EE",
                        cornsilk: "#FFF8DC",
                        lemonchiffon: "#FFFACD",
                        floralwhite: "#FFFAF0",
                        snow: "#FFFAFA",
                        yellow: "#FFFF00",
                        lightyellow: "#FFFFE0",
                        ivory: "#FFFFF0",
                        white: "#FFFFFF",
                    },
                    gp = (function () {
                        function t() {
                            var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 1;
                            hl(this, t),
                                (this.pixelRatio = e),
                                (this.generated = !1),
                                (this.centerCoordinates = { x: 144.5, y: 144.5 }),
                                (this.r = 289 * 0.49),
                                (this.color = { r: 255, g: 255, b: 255, a: 1 }),
                                (this.hueCircle = void 0),
                                (this.initialColor = { r: 255, g: 255, b: 255, a: 1 }),
                                (this.previousColor = void 0),
                                (this.applied = !1),
                                (this.updateCallback = function () {}),
                                (this.closeCallback = function () {}),
                                this._create();
                        }
                        return (
                            dl(t, [
                                {
                                    key: "insertTo",
                                    value: function (t) {
                                        void 0 !== this.hammer && (this.hammer.destroy(), (this.hammer = void 0)), (this.container = t), this.container.appendChild(this.frame), this._bindHammer(), this._setSize();
                                    },
                                },
                                {
                                    key: "setUpdateCallback",
                                    value: function (t) {
                                        if ("function" != typeof t) throw new Error("Function attempted to set as colorPicker update callback is not a function.");
                                        this.updateCallback = t;
                                    },
                                },
                                {
                                    key: "setCloseCallback",
                                    value: function (t) {
                                        if ("function" != typeof t) throw new Error("Function attempted to set as colorPicker closing callback is not a function.");
                                        this.closeCallback = t;
                                    },
                                },
                                {
                                    key: "_isColorString",
                                    value: function (t) {
                                        if ("string" == typeof t) return mp[t];
                                    },
                                },
                                {
                                    key: "setColor",
                                    value: function (t) {
                                        var e = !(arguments.length > 1 && void 0 !== arguments[1]) || arguments[1];
                                        if ("none" !== t) {
                                            var i,
                                                n = this._isColorString(t);
                                            if ((void 0 !== n && (t = n), !0 === ih.isString(t))) {
                                                if (!0 === ih.isValidRGB(t)) {
                                                    var s = t
                                                        .substr(4)
                                                        .substr(0, t.length - 5)
                                                        .split(",");
                                                    i = { r: s[0], g: s[1], b: s[2], a: 1 };
                                                } else if (!0 === ih.isValidRGBA(t)) {
                                                    var r = t
                                                        .substr(5)
                                                        .substr(0, t.length - 6)
                                                        .split(",");
                                                    i = { r: r[0], g: r[1], b: r[2], a: r[3] };
                                                } else if (!0 === ih.isValidHex(t)) {
                                                    var o = ih.hexToRGB(t);
                                                    i = { r: o.r, g: o.g, b: o.b, a: 1 };
                                                }
                                            } else if (t instanceof Object && void 0 !== t.r && void 0 !== t.g && void 0 !== t.b) {
                                                var a = void 0 !== t.a ? t.a : "1.0";
                                                i = { r: t.r, g: t.g, b: t.b, a };
                                            }
                                            if (void 0 === i) throw new Error("Unknown color passed to the colorPicker. Supported are strings: rgb, hex, rgba. Object: rgb ({r:r,g:g,b:b,[a:a]}). Supplied: " + Io(t));
                                            this._setColor(i, e);
                                        }
                                    },
                                },
                                {
                                    key: "show",
                                    value: function () {
                                        void 0 !== this.closeCallback && (this.closeCallback(), (this.closeCallback = void 0)), (this.applied = !1), (this.frame.style.display = "block"), this._generateHueCircle();
                                    },
                                },
                                {
                                    key: "_hide",
                                    value: function () {
                                        var t = this,
                                            e = !(arguments.length > 0 && void 0 !== arguments[0]) || arguments[0];
                                        !0 === e && (this.previousColor = ih.extend({}, this.color)),
                                            !0 === this.applied && this.updateCallback(this.initialColor),
                                            (this.frame.style.display = "none"),
                                            Ra(function () {
                                                void 0 !== t.closeCallback && (t.closeCallback(), (t.closeCallback = void 0));
                                            }, 0);
                                    },
                                },
                                {
                                    key: "_save",
                                    value: function () {
                                        this.updateCallback(this.color), (this.applied = !1), this._hide();
                                    },
                                },
                                {
                                    key: "_apply",
                                    value: function () {
                                        (this.applied = !0), this.updateCallback(this.color), this._updatePicker(this.color);
                                    },
                                },
                                {
                                    key: "_loadLast",
                                    value: function () {
                                        void 0 !== this.previousColor ? this.setColor(this.previousColor, !1) : alert("There is no last color to load...");
                                    },
                                },
                                {
                                    key: "_setColor",
                                    value: function (t) {
                                        var e = !(arguments.length > 1 && void 0 !== arguments[1]) || arguments[1];
                                        !0 === e && (this.initialColor = ih.extend({}, t)), (this.color = t);
                                        var i = ih.RGBToHSV(t.r, t.g, t.b),
                                            n = 2 * Math.PI,
                                            s = this.r * i.s,
                                            r = this.centerCoordinates.x + s * Math.sin(n * i.h),
                                            o = this.centerCoordinates.y + s * Math.cos(n * i.h);
                                        (this.colorPickerSelector.style.left = r - 0.5 * this.colorPickerSelector.clientWidth + "px"),
                                            (this.colorPickerSelector.style.top = o - 0.5 * this.colorPickerSelector.clientHeight + "px"),
                                            this._updatePicker(t);
                                    },
                                },
                                {
                                    key: "_setOpacity",
                                    value: function (t) {
                                        (this.color.a = t / 100), this._updatePicker(this.color);
                                    },
                                },
                                {
                                    key: "_setBrightness",
                                    value: function (t) {
                                        var e = ih.RGBToHSV(this.color.r, this.color.g, this.color.b);
                                        e.v = t / 100;
                                        var i = ih.HSVToRGB(e.h, e.s, e.v);
                                        (i.a = this.color.a), (this.color = i), this._updatePicker();
                                    },
                                },
                                {
                                    key: "_updatePicker",
                                    value: function () {
                                        var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : this.color,
                                            e = ih.RGBToHSV(t.r, t.g, t.b),
                                            i = this.colorPickerCanvas.getContext("2d");
                                        void 0 === this.pixelRation &&
                                            (this.pixelRatio =
                                                (window.devicePixelRatio || 1) / (i.webkitBackingStorePixelRatio || i.mozBackingStorePixelRatio || i.msBackingStorePixelRatio || i.oBackingStorePixelRatio || i.backingStorePixelRatio || 1)),
                                            i.setTransform(this.pixelRatio, 0, 0, this.pixelRatio, 0, 0);
                                        var n = this.colorPickerCanvas.clientWidth,
                                            s = this.colorPickerCanvas.clientHeight;
                                        i.clearRect(0, 0, n, s),
                                            i.putImageData(this.hueCircle, 0, 0),
                                            (i.fillStyle = "rgba(0,0,0," + (1 - e.v) + ")"),
                                            i.circle(this.centerCoordinates.x, this.centerCoordinates.y, this.r),
                                            fp(i).call(i),
                                            (this.brightnessRange.value = 100 * e.v),
                                            (this.opacityRange.value = 100 * t.a),
                                            (this.initialColorDiv.style.backgroundColor = "rgba(" + this.initialColor.r + "," + this.initialColor.g + "," + this.initialColor.b + "," + this.initialColor.a + ")"),
                                            (this.newColorDiv.style.backgroundColor = "rgba(" + this.color.r + "," + this.color.g + "," + this.color.b + "," + this.color.a + ")");
                                    },
                                },
                                {
                                    key: "_setSize",
                                    value: function () {
                                        (this.colorPickerCanvas.style.width = "100%"),
                                            (this.colorPickerCanvas.style.height = "100%"),
                                            (this.colorPickerCanvas.width = 289 * this.pixelRatio),
                                            (this.colorPickerCanvas.height = 289 * this.pixelRatio);
                                    },
                                },
                                {
                                    key: "_create",
                                    value: function () {
                                        var t, e, i, n;
                                        if (
                                            ((this.frame = document.createElement("div")),
                                            (this.frame.className = "vis-color-picker"),
                                            (this.colorPickerDiv = document.createElement("div")),
                                            (this.colorPickerSelector = document.createElement("div")),
                                            (this.colorPickerSelector.className = "vis-selector"),
                                            this.colorPickerDiv.appendChild(this.colorPickerSelector),
                                            (this.colorPickerCanvas = document.createElement("canvas")),
                                            this.colorPickerDiv.appendChild(this.colorPickerCanvas),
                                            this.colorPickerCanvas.getContext)
                                        ) {
                                            var s = this.colorPickerCanvas.getContext("2d");
                                            (this.pixelRatio =
                                                (window.devicePixelRatio || 1) / (s.webkitBackingStorePixelRatio || s.mozBackingStorePixelRatio || s.msBackingStorePixelRatio || s.oBackingStorePixelRatio || s.backingStorePixelRatio || 1)),
                                                this.colorPickerCanvas.getContext("2d").setTransform(this.pixelRatio, 0, 0, this.pixelRatio, 0, 0);
                                        } else {
                                            var r = document.createElement("DIV");
                                            (r.style.color = "red"), (r.style.fontWeight = "bold"), (r.style.padding = "10px"), (r.innerHTML = "Error: your browser does not support HTML canvas"), this.colorPickerCanvas.appendChild(r);
                                        }
                                        (this.colorPickerDiv.className = "vis-color"),
                                            (this.opacityDiv = document.createElement("div")),
                                            (this.opacityDiv.className = "vis-opacity"),
                                            (this.brightnessDiv = document.createElement("div")),
                                            (this.brightnessDiv.className = "vis-brightness"),
                                            (this.arrowDiv = document.createElement("div")),
                                            (this.arrowDiv.className = "vis-arrow"),
                                            (this.opacityRange = document.createElement("input"));
                                        try {
                                            (this.opacityRange.type = "range"), (this.opacityRange.min = "0"), (this.opacityRange.max = "100");
                                        } catch (t) {}
                                        (this.opacityRange.value = "100"), (this.opacityRange.className = "vis-range"), (this.brightnessRange = document.createElement("input"));
                                        try {
                                            (this.brightnessRange.type = "range"), (this.brightnessRange.min = "0"), (this.brightnessRange.max = "100");
                                        } catch (t) {}
                                        (this.brightnessRange.value = "100"), (this.brightnessRange.className = "vis-range"), this.opacityDiv.appendChild(this.opacityRange), this.brightnessDiv.appendChild(this.brightnessRange);
                                        var o = this;
                                        (this.opacityRange.onchange = function () {
                                            o._setOpacity(this.value);
                                        }),
                                            (this.opacityRange.oninput = function () {
                                                o._setOpacity(this.value);
                                            }),
                                            (this.brightnessRange.onchange = function () {
                                                o._setBrightness(this.value);
                                            }),
                                            (this.brightnessRange.oninput = function () {
                                                o._setBrightness(this.value);
                                            }),
                                            (this.brightnessLabel = document.createElement("div")),
                                            (this.brightnessLabel.className = "vis-label vis-brightness"),
                                            (this.brightnessLabel.innerHTML = "brightness:"),
                                            (this.opacityLabel = document.createElement("div")),
                                            (this.opacityLabel.className = "vis-label vis-opacity"),
                                            (this.opacityLabel.innerHTML = "opacity:"),
                                            (this.newColorDiv = document.createElement("div")),
                                            (this.newColorDiv.className = "vis-new-color"),
                                            (this.newColorDiv.innerHTML = "new"),
                                            (this.initialColorDiv = document.createElement("div")),
                                            (this.initialColorDiv.className = "vis-initial-color"),
                                            (this.initialColorDiv.innerHTML = "initial"),
                                            (this.cancelButton = document.createElement("div")),
                                            (this.cancelButton.className = "vis-button vis-cancel"),
                                            (this.cancelButton.innerHTML = "cancel"),
                                            (this.cancelButton.onclick = ll((t = this._hide)).call(t, this, !1)),
                                            (this.applyButton = document.createElement("div")),
                                            (this.applyButton.className = "vis-button vis-apply"),
                                            (this.applyButton.innerHTML = "apply"),
                                            (this.applyButton.onclick = ll((e = this._apply)).call(e, this)),
                                            (this.saveButton = document.createElement("div")),
                                            (this.saveButton.className = "vis-button vis-save"),
                                            (this.saveButton.innerHTML = "save"),
                                            (this.saveButton.onclick = ll((i = this._save)).call(i, this)),
                                            (this.loadButton = document.createElement("div")),
                                            (this.loadButton.className = "vis-button vis-load"),
                                            (this.loadButton.innerHTML = "load last"),
                                            (this.loadButton.onclick = ll((n = this._loadLast)).call(n, this)),
                                            this.frame.appendChild(this.colorPickerDiv),
                                            this.frame.appendChild(this.arrowDiv),
                                            this.frame.appendChild(this.brightnessLabel),
                                            this.frame.appendChild(this.brightnessDiv),
                                            this.frame.appendChild(this.opacityLabel),
                                            this.frame.appendChild(this.opacityDiv),
                                            this.frame.appendChild(this.newColorDiv),
                                            this.frame.appendChild(this.initialColorDiv),
                                            this.frame.appendChild(this.cancelButton),
                                            this.frame.appendChild(this.applyButton),
                                            this.frame.appendChild(this.saveButton),
                                            this.frame.appendChild(this.loadButton);
                                    },
                                },
                                {
                                    key: "_bindHammer",
                                    value: function () {
                                        var t = this;
                                        (this.drag = {}),
                                            (this.pinch = {}),
                                            (this.hammer = new yd(this.colorPickerCanvas)),
                                            this.hammer.get("pinch").set({ enable: !0 }),
                                            wd(this.hammer, function (e) {
                                                t._moveSelector(e);
                                            }),
                                            this.hammer.on("tap", function (e) {
                                                t._moveSelector(e);
                                            }),
                                            this.hammer.on("panstart", function (e) {
                                                t._moveSelector(e);
                                            }),
                                            this.hammer.on("panmove", function (e) {
                                                t._moveSelector(e);
                                            }),
                                            this.hammer.on("panend", function (e) {
                                                t._moveSelector(e);
                                            });
                                    },
                                },
                                {
                                    key: "_generateHueCircle",
                                    value: function () {
                                        if (!1 === this.generated) {
                                            var t = this.colorPickerCanvas.getContext("2d");
                                            void 0 === this.pixelRation &&
                                                (this.pixelRatio =
                                                    (window.devicePixelRatio || 1) /
                                                    (t.webkitBackingStorePixelRatio || t.mozBackingStorePixelRatio || t.msBackingStorePixelRatio || t.oBackingStorePixelRatio || t.backingStorePixelRatio || 1)),
                                                t.setTransform(this.pixelRatio, 0, 0, this.pixelRatio, 0, 0);
                                            var e,
                                                i,
                                                n,
                                                s,
                                                r = this.colorPickerCanvas.clientWidth,
                                                o = this.colorPickerCanvas.clientHeight;
                                            t.clearRect(0, 0, r, o), (this.centerCoordinates = { x: 0.5 * r, y: 0.5 * o }), (this.r = 0.49 * r);
                                            var a,
                                                l = (2 * Math.PI) / 360,
                                                h = 1 / this.r;
                                            for (n = 0; n < 360; n++)
                                                for (s = 0; s < this.r; s++)
                                                    (e = this.centerCoordinates.x + s * Math.sin(l * n)),
                                                        (i = this.centerCoordinates.y + s * Math.cos(l * n)),
                                                        (a = ih.HSVToRGB(0.002777777777777778 * n, s * h, 1)),
                                                        (t.fillStyle = "rgb(" + a.r + "," + a.g + "," + a.b + ")"),
                                                        t.fillRect(e - 0.5, i - 0.5, 2, 2);
                                            (t.strokeStyle = "rgba(0,0,0,1)"), t.circle(this.centerCoordinates.x, this.centerCoordinates.y, this.r), t.stroke(), (this.hueCircle = t.getImageData(0, 0, r, o));
                                        }
                                        this.generated = !0;
                                    },
                                },
                                {
                                    key: "_moveSelector",
                                    value: function (t) {
                                        var e = this.colorPickerDiv.getBoundingClientRect(),
                                            i = t.center.x - e.left,
                                            n = t.center.y - e.top,
                                            s = 0.5 * this.colorPickerDiv.clientHeight,
                                            r = 0.5 * this.colorPickerDiv.clientWidth,
                                            o = i - r,
                                            a = n - s,
                                            l = Math.atan2(o, a),
                                            h = 0.98 * Math.min(Math.sqrt(o * o + a * a), r),
                                            c = Math.cos(l) * h + s,
                                            d = Math.sin(l) * h + r;
                                        (this.colorPickerSelector.style.top = c - 0.5 * this.colorPickerSelector.clientHeight + "px"), (this.colorPickerSelector.style.left = d - 0.5 * this.colorPickerSelector.clientWidth + "px");
                                        var u = l / (2 * Math.PI);
                                        u = u < 0 ? u + 1 : u;
                                        var p = h / this.r,
                                            f = ih.RGBToHSV(this.color.r, this.color.g, this.color.b);
                                        (f.h = u), (f.s = p);
                                        var m = ih.HSVToRGB(f.h, f.s, f.v);
                                        (m.a = this.color.a),
                                            (this.color = m),
                                            (this.initialColorDiv.style.backgroundColor = "rgba(" + this.initialColor.r + "," + this.initialColor.g + "," + this.initialColor.b + "," + this.initialColor.a + ")"),
                                            (this.newColorDiv.style.backgroundColor = "rgba(" + this.color.r + "," + this.color.g + "," + this.color.b + "," + this.color.a + ")");
                                    },
                                },
                            ]),
                            t
                        );
                    })();
                _d(
                    "div.vis-configuration {\n    position:relative;\n    display:block;\n    float:left;\n    font-size:12px;\n}\n\ndiv.vis-configuration-wrapper {\n    display:block;\n    width:700px;\n}\n\ndiv.vis-configuration-wrapper::after {\n  clear: both;\n  content: \"\";\n  display: block;\n}\n\ndiv.vis-configuration.vis-config-option-container{\n    display:block;\n    width:495px;\n    background-color: #ffffff;\n    border:2px solid #f7f8fa;\n    border-radius:4px;\n    margin-top:20px;\n    left:10px;\n    padding-left:5px;\n}\n\ndiv.vis-configuration.vis-config-button{\n    display:block;\n    width:495px;\n    height:25px;\n    vertical-align: middle;\n    line-height:25px;\n    background-color: #f7f8fa;\n    border:2px solid #ceced0;\n    border-radius:4px;\n    margin-top:20px;\n    left:10px;\n    padding-left:5px;\n    cursor: pointer;\n    margin-bottom:30px;\n}\n\ndiv.vis-configuration.vis-config-button.hover{\n    background-color: #4588e6;\n    border:2px solid #214373;\n    color:#ffffff;\n}\n\ndiv.vis-configuration.vis-config-item{\n    display:block;\n    float:left;\n    width:495px;\n    height:25px;\n    vertical-align: middle;\n    line-height:25px;\n}\n\n\ndiv.vis-configuration.vis-config-item.vis-config-s2{\n    left:10px;\n    background-color: #f7f8fa;\n    padding-left:5px;\n    border-radius:3px;\n}\ndiv.vis-configuration.vis-config-item.vis-config-s3{\n    left:20px;\n    background-color: #e4e9f0;\n    padding-left:5px;\n    border-radius:3px;\n}\ndiv.vis-configuration.vis-config-item.vis-config-s4{\n    left:30px;\n    background-color: #cfd8e6;\n    padding-left:5px;\n    border-radius:3px;\n}\n\ndiv.vis-configuration.vis-config-header{\n    font-size:18px;\n    font-weight: bold;\n}\n\ndiv.vis-configuration.vis-config-label{\n    width:120px;\n    height:25px;\n    line-height: 25px;\n}\n\ndiv.vis-configuration.vis-config-label.vis-config-s3{\n    width:110px;\n}\ndiv.vis-configuration.vis-config-label.vis-config-s4{\n    width:100px;\n}\n\ndiv.vis-configuration.vis-config-colorBlock{\n    top:1px;\n    width:30px;\n    height:19px;\n    border:1px solid #444444;\n    border-radius:2px;\n    padding:0px;\n    margin:0px;\n    cursor:pointer;\n}\n\ninput.vis-configuration.vis-config-checkbox {\n    left:-5px;\n}\n\n\ninput.vis-configuration.vis-config-rangeinput{\n    position:relative;\n    top:-5px;\n    width:60px;\n    /*height:13px;*/\n    padding:1px;\n    margin:0;\n    pointer-events:none;\n}\n\ninput.vis-configuration.vis-config-range{\n    /*removes default webkit styles*/\n    -webkit-appearance: none;\n\n    /*fix for FF unable to apply focus style bug */\n    border: 0px solid white;\n    background-color:rgba(0,0,0,0);\n\n    /*required for proper track sizing in FF*/\n    width: 300px;\n    height:20px;\n}\ninput.vis-configuration.vis-config-range::-webkit-slider-runnable-track {\n    width: 300px;\n    height: 5px;\n    background: #dedede; /* Old browsers */\n    background: -moz-linear-gradient(top,  #dedede 0%, #c8c8c8 99%); /* FF3.6+ */\n    background: -webkit-gradient(linear, left top, left bottom, color-stop(0%,#dedede), color-stop(99%,#c8c8c8)); /* Chrome,Safari4+ */\n    background: -webkit-linear-gradient(top,  #dedede 0%,#c8c8c8 99%); /* Chrome10+,Safari5.1+ */\n    background: -o-linear-gradient(top, #dedede 0%, #c8c8c8 99%); /* Opera 11.10+ */\n    background: -ms-linear-gradient(top,  #dedede 0%,#c8c8c8 99%); /* IE10+ */\n    background: linear-gradient(to bottom,  #dedede 0%,#c8c8c8 99%); /* W3C */\n    filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#dedede', endColorstr='#c8c8c8',GradientType=0 ); /* IE6-9 */\n\n    border: 1px solid #999999;\n    box-shadow: #aaaaaa 0px 0px 3px 0px;\n    border-radius: 3px;\n}\ninput.vis-configuration.vis-config-range::-webkit-slider-thumb {\n    -webkit-appearance: none;\n    border: 1px solid #14334b;\n    height: 17px;\n    width: 17px;\n    border-radius: 50%;\n    background: #3876c2; /* Old browsers */\n    background: -moz-linear-gradient(top,  #3876c2 0%, #385380 100%); /* FF3.6+ */\n    background: -webkit-gradient(linear, left top, left bottom, color-stop(0%,#3876c2), color-stop(100%,#385380)); /* Chrome,Safari4+ */\n    background: -webkit-linear-gradient(top,  #3876c2 0%,#385380 100%); /* Chrome10+,Safari5.1+ */\n    background: -o-linear-gradient(top,  #3876c2 0%,#385380 100%); /* Opera 11.10+ */\n    background: -ms-linear-gradient(top,  #3876c2 0%,#385380 100%); /* IE10+ */\n    background: linear-gradient(to bottom,  #3876c2 0%,#385380 100%); /* W3C */\n    filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#3876c2', endColorstr='#385380',GradientType=0 ); /* IE6-9 */\n    box-shadow: #111927 0px 0px 1px 0px;\n    margin-top: -7px;\n}\ninput.vis-configuration.vis-config-range:focus {\n    outline: none;\n}\ninput.vis-configuration.vis-config-range:focus::-webkit-slider-runnable-track {\n    background: #9d9d9d; /* Old browsers */\n    background: -moz-linear-gradient(top, #9d9d9d 0%, #c8c8c8 99%); /* FF3.6+ */\n    background: -webkit-gradient(linear, left top, left bottom, color-stop(0%,#9d9d9d), color-stop(99%,#c8c8c8)); /* Chrome,Safari4+ */\n    background: -webkit-linear-gradient(top,  #9d9d9d 0%,#c8c8c8 99%); /* Chrome10+,Safari5.1+ */\n    background: -o-linear-gradient(top,  #9d9d9d 0%,#c8c8c8 99%); /* Opera 11.10+ */\n    background: -ms-linear-gradient(top,  #9d9d9d 0%,#c8c8c8 99%); /* IE10+ */\n    background: linear-gradient(to bottom,  #9d9d9d 0%,#c8c8c8 99%); /* W3C */\n    filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#9d9d9d', endColorstr='#c8c8c8',GradientType=0 ); /* IE6-9 */\n}\n\ninput.vis-configuration.vis-config-range::-moz-range-track {\n    width: 300px;\n    height: 10px;\n    background: #dedede; /* Old browsers */\n    background: -moz-linear-gradient(top,  #dedede 0%, #c8c8c8 99%); /* FF3.6+ */\n    background: -webkit-gradient(linear, left top, left bottom, color-stop(0%,#dedede), color-stop(99%,#c8c8c8)); /* Chrome,Safari4+ */\n    background: -webkit-linear-gradient(top,  #dedede 0%,#c8c8c8 99%); /* Chrome10+,Safari5.1+ */\n    background: -o-linear-gradient(top, #dedede 0%, #c8c8c8 99%); /* Opera 11.10+ */\n    background: -ms-linear-gradient(top,  #dedede 0%,#c8c8c8 99%); /* IE10+ */\n    background: linear-gradient(to bottom,  #dedede 0%,#c8c8c8 99%); /* W3C */\n    filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#dedede', endColorstr='#c8c8c8',GradientType=0 ); /* IE6-9 */\n\n    border: 1px solid #999999;\n    box-shadow: #aaaaaa 0px 0px 3px 0px;\n    border-radius: 3px;\n}\ninput.vis-configuration.vis-config-range::-moz-range-thumb {\n    border: none;\n    height: 16px;\n    width: 16px;\n\n    border-radius: 50%;\n    background:  #385380;\n}\n\n/*hide the outline behind the border*/\ninput.vis-configuration.vis-config-range:-moz-focusring{\n    outline: 1px solid white;\n    outline-offset: -1px;\n}\n\ninput.vis-configuration.vis-config-range::-ms-track {\n    width: 300px;\n    height: 5px;\n\n    /*remove bg colour from the track, we'll use ms-fill-lower and ms-fill-upper instead */\n    background: transparent;\n\n    /*leave room for the larger thumb to overflow with a transparent border */\n    border-color: transparent;\n    border-width: 6px 0;\n\n    /*remove default tick marks*/\n    color: transparent;\n}\ninput.vis-configuration.vis-config-range::-ms-fill-lower {\n    background: #777;\n    border-radius: 10px;\n}\ninput.vis-configuration.vis-config-range::-ms-fill-upper {\n    background: #ddd;\n    border-radius: 10px;\n}\ninput.vis-configuration.vis-config-range::-ms-thumb {\n    border: none;\n    height: 16px;\n    width: 16px;\n    border-radius: 50%;\n    background:  #385380;\n}\ninput.vis-configuration.vis-config-range:focus::-ms-fill-lower {\n    background: #888;\n}\ninput.vis-configuration.vis-config-range:focus::-ms-fill-upper {\n    background: #ccc;\n}\n\n.vis-configuration-popup {\n    position: absolute;\n    background: rgba(57, 76, 89, 0.85);\n    border: 2px solid #f2faff;\n    line-height:30px;\n    height:30px;\n    width:150px;\n    text-align:center;\n    color: #ffffff;\n    font-size:14px;\n    border-radius:4px;\n    -webkit-transition: opacity 0.3s ease-in-out;\n    -moz-transition: opacity 0.3s ease-in-out;\n    transition: opacity 0.3s ease-in-out;\n}\n.vis-configuration-popup:after, .vis-configuration-popup:before {\n    left: 100%;\n    top: 50%;\n    border: solid transparent;\n    content: \" \";\n    height: 0;\n    width: 0;\n    position: absolute;\n    pointer-events: none;\n}\n\n.vis-configuration-popup:after {\n    border-color: rgba(136, 183, 213, 0);\n    border-left-color: rgba(57, 76, 89, 0.85);\n    border-width: 8px;\n    margin-top: -8px;\n}\n.vis-configuration-popup:before {\n    border-color: rgba(194, 225, 245, 0);\n    border-left-color: #f2faff;\n    border-width: 12px;\n    margin-top: -12px;\n}"
                );
                var vp = (function () {
                    function t(e, i, n) {
                        var s = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : 1;
                        hl(this, t),
                            (this.parent = e),
                            (this.changedOptions = []),
                            (this.container = i),
                            (this.allowCreation = !1),
                            (this.options = {}),
                            (this.initialized = !1),
                            (this.popupCounter = 0),
                            (this.defaultOptions = { enabled: !1, filter: !0, container: void 0, showButton: !0 }),
                            ih.extend(this.options, this.defaultOptions),
                            (this.configureOptions = n),
                            (this.moduleOptions = {}),
                            (this.domElements = []),
                            (this.popupDiv = {}),
                            (this.popupLimit = 5),
                            (this.popupHistory = {}),
                            (this.colorPicker = new gp(s)),
                            (this.wrapper = void 0);
                    }
                    return (
                        dl(t, [
                            {
                                key: "setOptions",
                                value: function (t) {
                                    if (void 0 !== t) {
                                        (this.popupHistory = {}), this._removePopup();
                                        var e = !0;
                                        if ("string" == typeof t) this.options.filter = t;
                                        else if (er(t)) this.options.filter = t.join();
                                        else if ("object" === sr(t)) {
                                            if (null == t) throw new TypeError("options cannot be null");
                                            void 0 !== t.container && (this.options.container = t.container),
                                                void 0 !== is(t) && (this.options.filter = is(t)),
                                                void 0 !== t.showButton && (this.options.showButton = t.showButton),
                                                void 0 !== t.enabled && (e = t.enabled);
                                        } else "boolean" == typeof t ? ((this.options.filter = !0), (e = t)) : "function" == typeof t && ((this.options.filter = t), (e = !0));
                                        !1 === is(this.options) && (e = !1), (this.options.enabled = e);
                                    }
                                    this._clean();
                                },
                            },
                            {
                                key: "setModuleOptions",
                                value: function (t) {
                                    (this.moduleOptions = t), !0 === this.options.enabled && (this._clean(), void 0 !== this.options.container && (this.container = this.options.container), this._create());
                                },
                            },
                            {
                                key: "_create",
                                value: function () {
                                    this._clean(), (this.changedOptions = []);
                                    var t = is(this.options),
                                        e = 0,
                                        i = !1;
                                    for (var n in this.configureOptions)
                                        this.configureOptions.hasOwnProperty(n) &&
                                            ((this.allowCreation = !1),
                                            (i = !1),
                                            "function" == typeof t ? (i = (i = t(n, [])) || this._handleObject(this.configureOptions[n], [n], !0)) : (!0 !== t && -1 === ps(t).call(t, n)) || (i = !0),
                                            !1 !== i && ((this.allowCreation = !0), e > 0 && this._makeItem([]), this._makeHeader(n), this._handleObject(this.configureOptions[n], [n])),
                                            e++);
                                    this._makeButton(), this._push();
                                },
                            },
                            {
                                key: "_push",
                                value: function () {
                                    (this.wrapper = document.createElement("div")), (this.wrapper.className = "vis-configuration-wrapper"), this.container.appendChild(this.wrapper);
                                    for (var t = 0; t < this.domElements.length; t++) this.wrapper.appendChild(this.domElements[t]);
                                    this._showPopupIfNeeded();
                                },
                            },
                            {
                                key: "_clean",
                                value: function () {
                                    for (var t = 0; t < this.domElements.length; t++) this.wrapper.removeChild(this.domElements[t]);
                                    void 0 !== this.wrapper && (this.container.removeChild(this.wrapper), (this.wrapper = void 0)), (this.domElements = []), this._removePopup();
                                },
                            },
                            {
                                key: "_getValue",
                                value: function (t) {
                                    for (var e = this.moduleOptions, i = 0; i < t.length; i++) {
                                        if (void 0 === e[t[i]]) {
                                            e = void 0;
                                            break;
                                        }
                                        e = e[t[i]];
                                    }
                                    return e;
                                },
                            },
                            {
                                key: "_makeItem",
                                value: function (t) {
                                    if (!0 === this.allowCreation) {
                                        var e = document.createElement("div");
                                        e.className = "vis-configuration vis-config-item vis-config-s" + t.length;
                                        for (var i = arguments.length, n = new Array(i > 1 ? i - 1 : 0), s = 1; s < i; s++) n[s - 1] = arguments[s];
                                        return (
                                            Mn(n).call(n, function (t) {
                                                e.appendChild(t);
                                            }),
                                            this.domElements.push(e),
                                            this.domElements.length
                                        );
                                    }
                                    return 0;
                                },
                            },
                            {
                                key: "_makeHeader",
                                value: function (t) {
                                    var e = document.createElement("div");
                                    (e.className = "vis-configuration vis-config-header"), (e.innerHTML = t), this._makeItem([], e);
                                },
                            },
                            {
                                key: "_makeLabel",
                                value: function (t, e) {
                                    var i = arguments.length > 2 && void 0 !== arguments[2] && arguments[2],
                                        n = document.createElement("div");
                                    return (n.className = "vis-configuration vis-config-label vis-config-s" + e.length), (n.innerHTML = !0 === i ? "<i><b>" + t + ":</b></i>" : t + ":"), n;
                                },
                            },
                            {
                                key: "_makeDropdown",
                                value: function (t, e, i) {
                                    var n = document.createElement("select");
                                    n.className = "vis-configuration vis-config-select";
                                    var s = 0;
                                    void 0 !== e && -1 !== ps(t).call(t, e) && (s = ps(t).call(t, e));
                                    for (var r = 0; r < t.length; r++) {
                                        var o = document.createElement("option");
                                        (o.value = t[r]), r === s && (o.selected = "selected"), (o.innerHTML = t[r]), n.appendChild(o);
                                    }
                                    var a = this;
                                    n.onchange = function () {
                                        a._update(this.value, i);
                                    };
                                    var l = this._makeLabel(i[i.length - 1], i);
                                    this._makeItem(i, l, n);
                                },
                            },
                            {
                                key: "_makeRange",
                                value: function (t, e, i) {
                                    var n = t[0],
                                        s = t[1],
                                        r = t[2],
                                        o = t[3],
                                        a = document.createElement("input");
                                    a.className = "vis-configuration vis-config-range";
                                    try {
                                        (a.type = "range"), (a.min = s), (a.max = r);
                                    } catch (t) {}
                                    a.step = o;
                                    var l = "",
                                        h = 0;
                                    if (void 0 !== e) {
                                        var c = 1.2;
                                        e < 0 && e * c < s ? ((a.min = Math.ceil(e * c)), (h = a.min), (l = "range increased")) : e / c < s && ((a.min = Math.ceil(e / c)), (h = a.min), (l = "range increased")),
                                            e * c > r && 1 !== r && ((a.max = Math.ceil(e * c)), (h = a.max), (l = "range increased")),
                                            (a.value = e);
                                    } else a.value = n;
                                    var d = document.createElement("input");
                                    (d.className = "vis-configuration vis-config-rangeinput"), (d.value = Number(a.value));
                                    var u = this;
                                    (a.onchange = function () {
                                        (d.value = this.value), u._update(Number(this.value), i);
                                    }),
                                        (a.oninput = function () {
                                            d.value = this.value;
                                        });
                                    var p = this._makeLabel(i[i.length - 1], i),
                                        f = this._makeItem(i, p, a, d);
                                    "" !== l && this.popupHistory[f] !== h && ((this.popupHistory[f] = h), this._setupPopup(l, f));
                                },
                            },
                            {
                                key: "_makeButton",
                                value: function () {
                                    var t = this;
                                    if (!0 === this.options.showButton) {
                                        var e = document.createElement("div");
                                        (e.className = "vis-configuration vis-config-button"),
                                            (e.innerHTML = "generate options"),
                                            (e.onclick = function () {
                                                t._printOptions();
                                            }),
                                            (e.onmouseover = function () {
                                                e.className = "vis-configuration vis-config-button hover";
                                            }),
                                            (e.onmouseout = function () {
                                                e.className = "vis-configuration vis-config-button";
                                            }),
                                            (this.optionsContainer = document.createElement("div")),
                                            (this.optionsContainer.className = "vis-configuration vis-config-option-container"),
                                            this.domElements.push(this.optionsContainer),
                                            this.domElements.push(e);
                                    }
                                },
                            },
                            {
                                key: "_setupPopup",
                                value: function (t, e) {
                                    var i = this;
                                    if (!0 === this.initialized && !0 === this.allowCreation && this.popupCounter < this.popupLimit) {
                                        var n = document.createElement("div");
                                        (n.id = "vis-configuration-popup"),
                                            (n.className = "vis-configuration-popup"),
                                            (n.innerHTML = t),
                                            (n.onclick = function () {
                                                i._removePopup();
                                            }),
                                            (this.popupCounter += 1),
                                            (this.popupDiv = { html: n, index: e });
                                    }
                                },
                            },
                            {
                                key: "_removePopup",
                                value: function () {
                                    void 0 !== this.popupDiv.html && (this.popupDiv.html.parentNode.removeChild(this.popupDiv.html), clearTimeout(this.popupDiv.hideTimeout), clearTimeout(this.popupDiv.deleteTimeout), (this.popupDiv = {}));
                                },
                            },
                            {
                                key: "_showPopupIfNeeded",
                                value: function () {
                                    var t = this;
                                    if (void 0 !== this.popupDiv.html) {
                                        var e = this.domElements[this.popupDiv.index].getBoundingClientRect();
                                        (this.popupDiv.html.style.left = e.left + "px"),
                                            (this.popupDiv.html.style.top = e.top - 30 + "px"),
                                            document.body.appendChild(this.popupDiv.html),
                                            (this.popupDiv.hideTimeout = Ra(function () {
                                                t.popupDiv.html.style.opacity = 0;
                                            }, 1500)),
                                            (this.popupDiv.deleteTimeout = Ra(function () {
                                                t._removePopup();
                                            }, 1800));
                                    }
                                },
                            },
                            {
                                key: "_makeCheckbox",
                                value: function (t, e, i) {
                                    var n = document.createElement("input");
                                    (n.type = "checkbox"),
                                        (n.className = "vis-configuration vis-config-checkbox"),
                                        (n.checked = t),
                                        void 0 !== e && ((n.checked = e), e !== t && ("object" === sr(t) ? e !== t.enabled && this.changedOptions.push({ path: i, value: e }) : this.changedOptions.push({ path: i, value: e })));
                                    var s = this;
                                    n.onchange = function () {
                                        s._update(this.checked, i);
                                    };
                                    var r = this._makeLabel(i[i.length - 1], i);
                                    this._makeItem(i, r, n);
                                },
                            },
                            {
                                key: "_makeTextInput",
                                value: function (t, e, i) {
                                    var n = document.createElement("input");
                                    (n.type = "text"), (n.className = "vis-configuration vis-config-text"), (n.value = e), e !== t && this.changedOptions.push({ path: i, value: e });
                                    var s = this;
                                    n.onchange = function () {
                                        s._update(this.value, i);
                                    };
                                    var r = this._makeLabel(i[i.length - 1], i);
                                    this._makeItem(i, r, n);
                                },
                            },
                            {
                                key: "_makeColorField",
                                value: function (t, e, i) {
                                    var n = this,
                                        s = t[1],
                                        r = document.createElement("div");
                                    "none" !== (e = void 0 === e ? s : e) ? ((r.className = "vis-configuration vis-config-colorBlock"), (r.style.backgroundColor = e)) : (r.className = "vis-configuration vis-config-colorBlock none"),
                                        (e = void 0 === e ? s : e),
                                        (r.onclick = function () {
                                            n._showColorPicker(e, r, i);
                                        });
                                    var o = this._makeLabel(i[i.length - 1], i);
                                    this._makeItem(i, o, r);
                                },
                            },
                            {
                                key: "_showColorPicker",
                                value: function (t, e, i) {
                                    var n = this;
                                    (e.onclick = function () {}),
                                        this.colorPicker.insertTo(e),
                                        this.colorPicker.show(),
                                        this.colorPicker.setColor(t),
                                        this.colorPicker.setUpdateCallback(function (t) {
                                            var s = "rgba(" + t.r + "," + t.g + "," + t.b + "," + t.a + ")";
                                            (e.style.backgroundColor = s), n._update(s, i);
                                        }),
                                        this.colorPicker.setCloseCallback(function () {
                                            e.onclick = function () {
                                                n._showColorPicker(t, e, i);
                                            };
                                        });
                                },
                            },
                            {
                                key: "_handleObject",
                                value: function (t) {
                                    var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : [],
                                        i = arguments.length > 2 && void 0 !== arguments[2] && arguments[2],
                                        n = !1,
                                        s = is(this.options),
                                        r = !1;
                                    for (var o in t)
                                        if (t.hasOwnProperty(o)) {
                                            n = !0;
                                            var a = t[o],
                                                l = ih.copyAndExtendArray(e, o);
                                            if (
                                                ("function" == typeof s &&
                                                    !1 === (n = s(o, e)) &&
                                                    !er(a) &&
                                                    "string" != typeof a &&
                                                    "boolean" != typeof a &&
                                                    a instanceof Object &&
                                                    ((this.allowCreation = !1), (n = this._handleObject(a, l, !0)), (this.allowCreation = !1 === i)),
                                                !1 !== n)
                                            ) {
                                                r = !0;
                                                var h = this._getValue(l);
                                                if (er(a)) this._handleArray(a, h, l);
                                                else if ("string" == typeof a) this._makeTextInput(a, h, l);
                                                else if ("boolean" == typeof a) this._makeCheckbox(a, h, l);
                                                else if (a instanceof Object) {
                                                    var c = !0;
                                                    if ((-1 !== ps(e).call(e, "physics") && this.moduleOptions.physics.solver !== o && (c = !1), !0 === c))
                                                        if (void 0 !== a.enabled) {
                                                            var d = ih.copyAndExtendArray(l, "enabled"),
                                                                u = this._getValue(d);
                                                            if (!0 === u) {
                                                                var p = this._makeLabel(o, l, !0);
                                                                this._makeItem(l, p), (r = this._handleObject(a, l) || r);
                                                            } else this._makeCheckbox(a, u, l);
                                                        } else {
                                                            var f = this._makeLabel(o, l, !0);
                                                            this._makeItem(l, f), (r = this._handleObject(a, l) || r);
                                                        }
                                                } else console.error("dont know how to handle", a, o, l);
                                            }
                                        }
                                    return r;
                                },
                            },
                            {
                                key: "_handleArray",
                                value: function (t, e, i) {
                                    "string" == typeof t[0] && "color" === t[0]
                                        ? (this._makeColorField(t, e, i), t[1] !== e && this.changedOptions.push({ path: i, value: e }))
                                        : "string" == typeof t[0]
                                        ? (this._makeDropdown(t, e, i), t[0] !== e && this.changedOptions.push({ path: i, value: e }))
                                        : "number" == typeof t[0] && (this._makeRange(t, e, i), t[0] !== e && this.changedOptions.push({ path: i, value: Number(e) }));
                                },
                            },
                            {
                                key: "_update",
                                value: function (t, e) {
                                    var i = this._constructOptions(t, e);
                                    this.parent.body && this.parent.body.emitter && this.parent.body.emitter.emit && this.parent.body.emitter.emit("configChange", i), (this.initialized = !0), this.parent.setOptions(i);
                                },
                            },
                            {
                                key: "_constructOptions",
                                value: function (t, e) {
                                    var i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {},
                                        n = i;
                                    t = "false" !== (t = "true" === t || t) && t;
                                    for (var s = 0; s < e.length; s++) "global" !== e[s] && (void 0 === n[e[s]] && (n[e[s]] = {}), s !== e.length - 1 ? (n = n[e[s]]) : (n[e[s]] = t));
                                    return i;
                                },
                            },
                            {
                                key: "_printOptions",
                                value: function () {
                                    var t = this.getOptions();
                                    this.optionsContainer.innerHTML = "<pre>var options = " + Io(t, null, 2) + "</pre>";
                                },
                            },
                            {
                                key: "getOptions",
                                value: function () {
                                    for (var t = {}, e = 0; e < this.changedOptions.length; e++) this._constructOptions(this.changedOptions[e].value, this.changedOptions[e].path, t);
                                    return t;
                                },
                            },
                        ]),
                        t
                    );
                })();
                function bp(t) {
                    var e = (function () {
                        if ("undefined" == typeof Reflect || !go) return !1;
                        if (go.sham) return !1;
                        if ("function" == typeof Proxy) return !0;
                        try {
                            return Date.prototype.toString.call(go(Date, [], function () {})), !0;
                        } catch (t) {
                            return !1;
                        }
                    })();
                    return function () {
                        var i,
                            n = Xo(t);
                        if (e) {
                            var s = Xo(this).constructor;
                            i = go(n, arguments, s);
                        } else i = n.apply(this, arguments);
                        return Go(this, i);
                    };
                }
                var yp = (function (t) {
                    Uo(i, t);
                    var e = bp(i);
                    function i(t, n, s, r) {
                        var o, a, l, h, c, d, u, p;
                        if ((hl(this, i), ((p = e.call(this)).initTime = new Date()), (p.itemsDone = !1), !(Ho(p) instanceof i))) throw new SyntaxError("Constructor must be called with the new operator");
                        if (!er(s) && !ql("id", s) && s instanceof Object) {
                            var f = r;
                            (r = s), (s = f);
                        }
                        r && r.throttleRedraw && console.warn('Timeline option "throttleRedraw" is DEPRICATED and no longer supported. It will be removed in the next MAJOR release.');
                        var m = Ho(p);
                        if (
                            ((p.defaultOptions = { autoResize: !0, longSelectPressTime: 251, orientation: { axis: "bottom", item: "bottom" }, moment: Xl }),
                            (p.options = ih.deepExtend({}, p.defaultOptions)),
                            p._create(t),
                            !r || (r && void 0 === r.rtl))
                        ) {
                            var g;
                            p.dom.root.style.visibility = "hidden";
                            for (var v = p.dom.root; !g && v; ) (g = window.getComputedStyle(v, null).direction), (v = v.parentElement);
                            p.options.rtl = g && "rtl" == g.toLowerCase();
                        } else p.options.rtl = r.rtl;
                        r &&
                            (r.rollingMode && (p.options.rollingMode = r.rollingMode),
                            r.onInitialDrawComplete && (p.options.onInitialDrawComplete = r.onInitialDrawComplete),
                            r.onTimeout && (p.options.onTimeout = r.onTimeout),
                            r.loadingScreenTemplate && (p.options.loadingScreenTemplate = r.loadingScreenTemplate));
                        var b = document.createElement("div");
                        if (p.options.loadingScreenTemplate) {
                            var y,
                                w = ll((y = p.options.loadingScreenTemplate)).call(y, Ho(p)),
                                x = w(p.dom.loadingScreen);
                            x instanceof Object && !(x instanceof Element) ? w(b) : x instanceof Element ? ((b.innerHTML = ""), b.appendChild(x)) : null != x && (b.innerHTML = x);
                        }
                        function _(t, e) {
                            m.hasListeners(t) && m.emit(t, m.getEventProperties(e));
                        }
                        return (
                            p.dom.loadingScreen.appendChild(b),
                            (p.components = []),
                            (p.body = {
                                dom: p.dom,
                                domProps: p.props,
                                emitter: { on: ll((o = p.on)).call(o, Ho(p)), off: ll((a = p.off)).call(a, Ho(p)), emit: ll((l = p.emit)).call(l, Ho(p)) },
                                hiddenDates: [],
                                util: {
                                    getScale: function () {
                                        return m.timeAxis.step.scale;
                                    },
                                    getStep: function () {
                                        return m.timeAxis.step.step;
                                    },
                                    toScreen: ll((h = m._toScreen)).call(h, m),
                                    toGlobalScreen: ll((c = m._toGlobalScreen)).call(c, m),
                                    toTime: ll((d = m._toTime)).call(d, m),
                                    toGlobalTime: ll((u = m._toGlobalTime)).call(u, m),
                                },
                            }),
                            (p.range = new Sh(p.body, p.options)),
                            p.components.push(p.range),
                            (p.body.range = p.range),
                            (p.timeAxis = new Pd(p.body, p.options)),
                            (p.timeAxis2 = null),
                            p.components.push(p.timeAxis),
                            (p.currentTime = new Wd(p.body, p.options)),
                            p.components.push(p.currentTime),
                            (p.itemSet = new Ju(p.body, p.options)),
                            p.components.push(p.itemSet),
                            (p.itemsData = null),
                            (p.groupsData = null),
                            (p.dom.root.onclick = function (t) {
                                _("click", t);
                            }),
                            (p.dom.root.ondblclick = function (t) {
                                _("doubleClick", t);
                            }),
                            (p.dom.root.oncontextmenu = function (t) {
                                _("contextmenu", t);
                            }),
                            (p.dom.root.onmouseover = function (t) {
                                _("mouseOver", t);
                            }),
                            window.PointerEvent
                                ? ((p.dom.root.onpointerdown = function (t) {
                                      _("mouseDown", t);
                                  }),
                                  (p.dom.root.onpointermove = function (t) {
                                      _("mouseMove", t);
                                  }),
                                  (p.dom.root.onpointerup = function (t) {
                                      _("mouseUp", t);
                                  }))
                                : ((p.dom.root.onmousemove = function (t) {
                                      _("mouseMove", t);
                                  }),
                                  (p.dom.root.onmousedown = function (t) {
                                      _("mouseDown", t);
                                  }),
                                  (p.dom.root.onmouseup = function (t) {
                                      _("mouseUp", t);
                                  })),
                            (p.initialFitDone = !1),
                            p.on("changed", function () {
                                if (null != m.itemsData) {
                                    if (!m.initialFitDone && !m.options.rollingMode)
                                        if (((m.initialFitDone = !0), null != m.options.start || null != m.options.end)) {
                                            if (null == m.options.start || null == m.options.end) var t = m.getItemRange();
                                            var e = null != m.options.start ? m.options.start : t.min,
                                                i = null != m.options.end ? m.options.end : t.max;
                                            m.setWindow(e, i, { animation: !1 });
                                        } else m.fit({ animation: !1 });
                                    m.initialDrawDone ||
                                        (!m.initialRangeChangeDone && (m.options.start || m.options.end) && !m.options.rollingMode) ||
                                        ((m.initialDrawDone = !0),
                                        (m.itemSet.initialDrawDone = !0),
                                        (m.dom.root.style.visibility = "visible"),
                                        m.dom.loadingScreen.parentNode.removeChild(m.dom.loadingScreen),
                                        m.options.onInitialDrawComplete &&
                                            Ra(function () {
                                                return m.options.onInitialDrawComplete();
                                            }, 0));
                                }
                            }),
                            p.on("destroyTimeline", function () {
                                m.destroy();
                            }),
                            r && p.setOptions(r),
                            p.body.emitter.on("fit", function (t) {
                                p._onFit(t), p.redraw();
                            }),
                            s && p.setGroups(s),
                            n && p.setItems(n),
                            p._redraw(),
                            p
                        );
                    }
                    return (
                        dl(i, [
                            {
                                key: "_createConfigurator",
                                value: function () {
                                    return new vp(this, this.dom.container, dp);
                                },
                            },
                            {
                                key: "redraw",
                                value: function () {
                                    this.itemSet && this.itemSet.markDirty({ refreshItems: !0 }), this._redraw();
                                },
                            },
                            {
                                key: "setOptions",
                                value: function (t) {
                                    if ((!0 === ip.validate(t, cp) && console.log("%cErrors have been found in the supplied options object.", ep), zd.prototype.setOptions.call(this, t), "type" in t && t.type !== this.options.type)) {
                                        this.options.type = t.type;
                                        var e = this.itemsData;
                                        if (e) {
                                            var i = this.getSelection();
                                            this.setItems(null), this.setItems(e.rawDS), this.setSelection(i);
                                        }
                                    }
                                },
                            },
                            {
                                key: "setItems",
                                value: function (t) {
                                    var e;
                                    (this.itemsDone = !1),
                                        (e = t ? (ql("id", t) ? eh(t) : eh(new Ul(t))) : null),
                                        this.itemsData && this.itemsData.dispose(),
                                        (this.itemsData = e),
                                        this.itemSet && this.itemSet.setItems(null != e ? e.rawDS : null);
                                },
                            },
                            {
                                key: "setGroups",
                                value: function (t) {
                                    var e;
                                    t
                                        ? (er(t) && (t = new Ul(t)),
                                          (e = new Gl(t, {
                                              filter: function (t) {
                                                  return !1 !== t.visible;
                                              },
                                          })))
                                        : (e = null),
                                        null != this.groupsData && "function" == typeof this.groupsData.setData && this.groupsData.setData(null),
                                        (this.groupsData = e),
                                        this.itemSet.setGroups(e);
                                },
                            },
                            {
                                key: "setData",
                                value: function (t) {
                                    t && t.groups && this.setGroups(t.groups), t && t.items && this.setItems(t.items);
                                },
                            },
                            {
                                key: "setSelection",
                                value: function (t, e) {
                                    this.itemSet && this.itemSet.setSelection(t), e && e.focus && this.focus(t, e);
                                },
                            },
                            {
                                key: "getSelection",
                                value: function () {
                                    return (this.itemSet && this.itemSet.getSelection()) || [];
                                },
                            },
                            {
                                key: "focus",
                                value: function (t, e) {
                                    if (this.itemsData && null != t) {
                                        var i = er(t) ? t : [t],
                                            n = this.itemsData.get(i),
                                            s = null,
                                            r = null;
                                        if (
                                            (Mn(n).call(n, function (t) {
                                                var e = t.start.valueOf(),
                                                    i = "end" in t ? t.end.valueOf() : t.start.valueOf();
                                                (null === s || e < s) && (s = e), (null === r || i > r) && (r = i);
                                            }),
                                            null !== s && null !== r)
                                        ) {
                                            var o = this,
                                                a = this.itemSet.items[i[0]],
                                                l = -1 * this._getScrollTop(),
                                                h = null,
                                                c = function () {
                                                    var t = _p(o, a);
                                                    t.shouldScroll && t.itemTop != h.itemTop && (o._setScrollTop(-t.scrollOffset), o._redraw());
                                                },
                                                d = !e || void 0 === e.zoom || e.zoom,
                                                u = (s + r) / 2,
                                                p = d ? 1.1 * (r - s) : Math.max(this.range.end - this.range.start, 1.1 * (r - s)),
                                                f = !e || void 0 === e.animation || e.animation;
                                            f || (h = { shouldScroll: !1, scrollOffset: -1, itemTop: -1 }),
                                                this.range.setRange(
                                                    u - p / 2,
                                                    u + p / 2,
                                                    { animation: f },
                                                    function () {
                                                        c(), Ra(c, 100);
                                                    },
                                                    function (t, e, i) {
                                                        var n = _p(o, a);
                                                        if (!1 !== n && (h || (h = n), h.itemTop != n.itemTop || h.shouldScroll)) {
                                                            h.itemTop != n.itemTop && n.shouldScroll && ((h = n), (l = -1 * o._getScrollTop()));
                                                            var s = l,
                                                                r = h.scrollOffset,
                                                                c = i ? r : s + (r - s) * t;
                                                            o._setScrollTop(-c), e || o._redraw();
                                                        }
                                                    }
                                                );
                                        }
                                    }
                                },
                            },
                            {
                                key: "fit",
                                value: function (t, e) {
                                    var i,
                                        n = !t || void 0 === t.animation || t.animation;
                                    1 === this.itemsData.length && void 0 === this.itemsData.get()[0].end
                                        ? ((i = this.getDataRange()), this.moveTo(i.min.valueOf(), { animation: n }, e))
                                        : ((i = this.getItemRange()), this.range.setRange(i.min, i.max, { animation: n }, e));
                                },
                            },
                            {
                                key: "getItemRange",
                                value: function () {
                                    var t = this,
                                        e = this.getDataRange(),
                                        i = null !== e.min ? e.min.valueOf() : null,
                                        n = null !== e.max ? e.max.valueOf() : null,
                                        s = null,
                                        r = null;
                                    if (null != i && null != n) {
                                        var o = n - i;
                                        o <= 0 && (o = 10);
                                        var a = o / this.props.center.width,
                                            l = {},
                                            h = 0;
                                        if (
                                            (Mn(ih).call(ih, this.itemSet.items, function (t, e) {
                                                if (t.groupShowing) {
                                                    (l[e] = t.redraw(!0)), (h = l[e].length);
                                                }
                                            }),
                                            h > 0)
                                        )
                                            for (
                                                var c = function (t) {
                                                        Mn(ih).call(ih, l, function (e) {
                                                            e[t]();
                                                        });
                                                    },
                                                    d = 0;
                                                d < h;
                                                d++
                                            )
                                                c(d);
                                        if (
                                            (Mn(ih).call(ih, this.itemSet.items, function (e) {
                                                var o,
                                                    l,
                                                    h = wp(e),
                                                    c = xp(e);
                                                t.options.rtl ? ((o = h - (e.getWidthRight() + 10) * a), (l = c + (e.getWidthLeft() + 10) * a)) : ((o = h - (e.getWidthLeft() + 10) * a), (l = c + (e.getWidthRight() + 10) * a)),
                                                    o < i && ((i = o), (s = e)),
                                                    l > n && ((n = l), (r = e));
                                            }),
                                            s && r)
                                        ) {
                                            var u = s.getWidthLeft() + 10,
                                                p = r.getWidthRight() + 10,
                                                f = this.props.center.width - u - p;
                                            f > 0 && (this.options.rtl ? ((i = wp(s) - (p * o) / f), (n = xp(r) + (u * o) / f)) : ((i = wp(s) - (u * o) / f), (n = xp(r) + (p * o) / f)));
                                        }
                                    }
                                    return { min: null != i ? new Date(i) : null, max: null != n ? new Date(n) : null };
                                },
                            },
                            {
                                key: "getDataRange",
                                value: function () {
                                    var t,
                                        e = null,
                                        i = null;
                                    this.itemsData &&
                                        Mn((t = this.itemsData)).call(t, function (t) {
                                            var n = ih.convert(t.start, "Date").valueOf(),
                                                s = ih.convert(null != t.end ? t.end : t.start, "Date").valueOf();
                                            (null === e || n < e) && (e = n), (null === i || s > i) && (i = s);
                                        });
                                    return { min: null != e ? new Date(e) : null, max: null != i ? new Date(i) : null };
                                },
                            },
                            {
                                key: "getEventProperties",
                                value: function (t) {
                                    var e = t.center ? t.center.x : t.clientX,
                                        i = t.center ? t.center.y : t.clientY,
                                        n = this.dom.centerContainer.getBoundingClientRect(),
                                        s = this.options.rtl ? n.right - e : e - n.left,
                                        r = i - n.top,
                                        o = this.itemSet.itemFromTarget(t),
                                        a = this.itemSet.groupFromTarget(t),
                                        l = Fd.customTimeFromTarget(t),
                                        h = this.itemSet.options.snap || null,
                                        c = this.body.util.getScale(),
                                        d = this.body.util.getStep(),
                                        u = this._toTime(s),
                                        p = h ? h(u, c, d) : u,
                                        f = ih.getTarget(t),
                                        m = null;
                                    return (
                                        null != o
                                            ? (m = "item")
                                            : null != l
                                            ? (m = "custom-time")
                                            : ih.hasParent(f, this.timeAxis.dom.foreground) || (this.timeAxis2 && ih.hasParent(f, this.timeAxis2.dom.foreground))
                                            ? (m = "axis")
                                            : ih.hasParent(f, this.itemSet.dom.labelSet)
                                            ? (m = "group-label")
                                            : ih.hasParent(f, this.currentTime.bar)
                                            ? (m = "current-time")
                                            : ih.hasParent(f, this.dom.center) && (m = "background"),
                                        {
                                            event: t,
                                            item: o ? o.id : null,
                                            isCluster: !!o && !!o.isCluster,
                                            items: o ? o.items || [] : null,
                                            group: a ? a.groupId : null,
                                            customTime: l ? l.options.id : null,
                                            what: m,
                                            pageX: t.srcEvent ? t.srcEvent.pageX : t.pageX,
                                            pageY: t.srcEvent ? t.srcEvent.pageY : t.pageY,
                                            x: s,
                                            y: r,
                                            time: u,
                                            snappedTime: p,
                                        }
                                    );
                                },
                            },
                            {
                                key: "toggleRollingMode",
                                value: function () {
                                    this.range.rolling ? this.range.stopRolling() : (null == this.options.rollingMode && this.setOptions(this.options), this.range.startRolling());
                                },
                            },
                            {
                                key: "_redraw",
                                value: function () {
                                    zd.prototype._redraw.call(this);
                                },
                            },
                            {
                                key: "_onFit",
                                value: function (t) {
                                    var e = t.start,
                                        i = t.end,
                                        n = t.animation;
                                    i ? this.range.setRange(e, i, { animation: n }) : this.moveTo(e.valueOf(), { animation: n });
                                },
                            },
                        ]),
                        i
                    );
                })(zd);
                function wp(t) {
                    return ih.convert(t.data.start, "Date").valueOf();
                }
                function xp(t) {
                    var e = null != t.data.end ? t.data.end : t.data.start;
                    return ih.convert(e, "Date").valueOf();
                }
                function _p(t, e) {
                    if (!e.parent) return !1;
                    var i = t.options.rtl ? t.props.rightContainer.height : t.props.leftContainer.height,
                        n = t.props.center.height,
                        s = e.parent,
                        r = s.top,
                        o = !0,
                        a = t.timeAxis.options.orientation.axis,
                        l = function () {
                            return "bottom" == a ? s.height - e.top - e.height : e.top;
                        },
                        h = -1 * t._getScrollTop(),
                        c = r + l(),
                        d = e.height;
                    return (
                        c < h ? r + i <= r + l() + d && (r += l() - t.itemSet.options.margin.item.vertical) : c + d > h + i ? (r += l() + d - i + t.itemSet.options.margin.item.vertical) : (o = !1),
                        { shouldScroll: o, scrollOffset: (r = Math.min(r, n - i)), itemTop: c }
                    );
                }
                var kp = (function () {
                    function t(e, i, n, s, r, o) {
                        var a = arguments.length > 6 && void 0 !== arguments[6] && arguments[6],
                            l = arguments.length > 7 && void 0 !== arguments[7] && arguments[7];
                        if (
                            (hl(this, t),
                            (this.majorSteps = [1, 2, 5, 10]),
                            (this.minorSteps = [0.25, 0.5, 1, 2]),
                            (this.customLines = null),
                            (this.containerHeight = r),
                            (this.majorCharHeight = o),
                            (this._start = e),
                            (this._end = i),
                            (this.scale = 1),
                            (this.minorStepIdx = -1),
                            (this.magnitudefactor = 1),
                            this.determineScale(),
                            (this.zeroAlign = a),
                            (this.autoScaleStart = n),
                            (this.autoScaleEnd = s),
                            (this.formattingFunction = l),
                            n || s)
                        ) {
                            var h = this,
                                c = function (t) {
                                    var e = t - (t % (h.magnitudefactor * h.minorSteps[h.minorStepIdx]));
                                    return t % (h.magnitudefactor * h.minorSteps[h.minorStepIdx]) > h.magnitudefactor * h.minorSteps[h.minorStepIdx] * 0.5 ? e + h.magnitudefactor * h.minorSteps[h.minorStepIdx] : e;
                                };
                            n && ((this._start -= 2 * this.magnitudefactor * this.minorSteps[this.minorStepIdx]), (this._start = c(this._start))),
                                s && ((this._end += this.magnitudefactor * this.minorSteps[this.minorStepIdx]), (this._end = c(this._end))),
                                this.determineScale();
                        }
                    }
                    return (
                        dl(t, [
                            {
                                key: "setCharHeight",
                                value: function (t) {
                                    this.majorCharHeight = t;
                                },
                            },
                            {
                                key: "setHeight",
                                value: function (t) {
                                    this.containerHeight = t;
                                },
                            },
                            {
                                key: "determineScale",
                                value: function () {
                                    var t = this._end - this._start;
                                    this.scale = this.containerHeight / t;
                                    var e = this.majorCharHeight / this.scale,
                                        i = t > 0 ? Math.round(Math.log(t) / Math.LN10) : 0;
                                    (this.minorStepIdx = -1), (this.magnitudefactor = Math.pow(10, i));
                                    var n = 0;
                                    i < 0 && (n = i);
                                    for (var s = !1, r = n; Math.abs(r) <= Math.abs(i); r++) {
                                        this.magnitudefactor = Math.pow(10, r);
                                        for (var o = 0; o < this.minorSteps.length; o++) {
                                            if (this.magnitudefactor * this.minorSteps[o] >= e) {
                                                (s = !0), (this.minorStepIdx = o);
                                                break;
                                            }
                                        }
                                        if (!0 === s) break;
                                    }
                                },
                            },
                            {
                                key: "is_major",
                                value: function (t) {
                                    return t % (this.magnitudefactor * this.majorSteps[this.minorStepIdx]) == 0;
                                },
                            },
                            {
                                key: "getStep",
                                value: function () {
                                    return this.magnitudefactor * this.minorSteps[this.minorStepIdx];
                                },
                            },
                            {
                                key: "getFirstMajor",
                                value: function () {
                                    var t = this.magnitudefactor * this.majorSteps[this.minorStepIdx];
                                    return this.convertValue(this._start + ((t - (this._start % t)) % t));
                                },
                            },
                            {
                                key: "formatValue",
                                value: function (t) {
                                    var e = t.toPrecision(5);
                                    return "function" == typeof this.formattingFunction && (e = this.formattingFunction(t)), "number" == typeof e ? "".concat(e) : "string" == typeof e ? e : t.toPrecision(5);
                                },
                            },
                            {
                                key: "getLines",
                                value: function () {
                                    for (var t = [], e = this.getStep(), i = (e - (this._start % e)) % e, n = this._start + i; this._end - n > 1e-5; n += e)
                                        n != this._start && t.push({ major: this.is_major(n), y: this.convertValue(n), val: this.formatValue(n) });
                                    return t;
                                },
                            },
                            {
                                key: "followScale",
                                value: function (t) {
                                    var e = this.minorStepIdx,
                                        i = this._start,
                                        n = this._end,
                                        s = this,
                                        r = function () {
                                            s.magnitudefactor *= 2;
                                        },
                                        o = function () {
                                            s.magnitudefactor /= 2;
                                        };
                                    (t.minorStepIdx <= 1 && this.minorStepIdx <= 1) ||
                                        (t.minorStepIdx > 1 && this.minorStepIdx > 1) ||
                                        (t.minorStepIdx < this.minorStepIdx ? ((this.minorStepIdx = 1), 2 == e || r(), r()) : ((this.minorStepIdx = 2), 1 == e || o(), o()));
                                    for (var a = t.convertValue(0), l = t.getStep() * t.scale, h = !1, c = 0; !h && c++ < 5; ) {
                                        this.scale = l / (this.minorSteps[this.minorStepIdx] * this.magnitudefactor);
                                        var d = this.containerHeight / this.scale;
                                        (this._start = i), (this._end = this._start + d);
                                        var u = this._end * this.scale,
                                            p = this.magnitudefactor * this.majorSteps[this.minorStepIdx],
                                            f = this.getFirstMajor() - t.getFirstMajor();
                                        if (this.zeroAlign) {
                                            var m = a - u;
                                            (this._end += m / this.scale), (this._start = this._end - d);
                                        } else this.autoScaleStart ? ((this._start -= f / this.scale), (this._end = this._start + d)) : ((this._start += p - f / this.scale), (this._end = this._start + d));
                                        if (!this.autoScaleEnd && this._end > n + 1e-5) o(), (h = !1);
                                        else {
                                            if (!this.autoScaleStart && this._start < i - 1e-5) {
                                                if (!(this.zeroAlign && i >= 0)) {
                                                    o(), (h = !1);
                                                    continue;
                                                }
                                                console.warn("Can't adhere to given 'min' range, due to zeroalign");
                                            }
                                            this.autoScaleStart && this.autoScaleEnd && d < n - i ? (r(), (h = !1)) : (h = !0);
                                        }
                                    }
                                },
                            },
                            {
                                key: "convertValue",
                                value: function (t) {
                                    return this.containerHeight - (t - this._start) * this.scale;
                                },
                            },
                            {
                                key: "screenToValue",
                                value: function (t) {
                                    return (this.containerHeight - t) / this.scale + this._start;
                                },
                            },
                        ]),
                        t
                    );
                })();
                function Pp(t, e) {
                    var i;
                    if (void 0 === fr || null == Bi(t)) {
                        if (
                            er(t) ||
                            (i = (function (t, e) {
                                var i;
                                if (!t) return;
                                if ("string" == typeof t) return Sp(t, e);
                                var n = or((i = Object.prototype.toString.call(t))).call(i, 8, -1);
                                "Object" === n && t.constructor && (n = t.constructor.name);
                                if ("Map" === n || "Set" === n) return en(t);
                                if ("Arguments" === n || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return Sp(t, e);
                            })(t)) ||
                            (e && t && "number" == typeof t.length)
                        ) {
                            i && (t = i);
                            var n = 0,
                                s = function () {};
                            return {
                                s,
                                n: function () {
                                    return n >= t.length ? { done: !0 } : { done: !1, value: t[n++] };
                                },
                                e: function (t) {
                                    throw t;
                                },
                                f: s,
                            };
                        }
                        throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
                    }
                    var r,
                        o = !0,
                        a = !1;
                    return {
                        s: function () {
                            i = Wi(t);
                        },
                        n: function () {
                            var t = i.next();
                            return (o = t.done), t;
                        },
                        e: function (t) {
                            (a = !0), (r = t);
                        },
                        f: function () {
                            try {
                                o || null == i.return || i.return();
                            } finally {
                                if (a) throw r;
                            }
                        },
                    };
                }
                function Sp(t, e) {
                    (null == e || e > t.length) && (e = t.length);
                    for (var i = 0, n = new Array(e); i < e; i++) n[i] = t[i];
                    return n;
                }
                function Cp(t) {
                    var e = (function () {
                        if ("undefined" == typeof Reflect || !go) return !1;
                        if (go.sham) return !1;
                        if ("function" == typeof Proxy) return !0;
                        try {
                            return Date.prototype.toString.call(go(Date, [], function () {})), !0;
                        } catch (t) {
                            return !1;
                        }
                    })();
                    return function () {
                        var i,
                            n = Xo(t);
                        if (e) {
                            var s = Xo(this).constructor;
                            i = go(n, arguments, s);
                        } else i = n.apply(this, arguments);
                        return Go(this, i);
                    };
                }
                _d(
                    "\n.vis-panel.vis-background.vis-horizontal .vis-grid.vis-horizontal {\n  position: absolute;\n  width: 100%;\n  height: 0;\n  border-bottom: 1px solid;\n}\n\n.vis-panel.vis-background.vis-horizontal .vis-grid.vis-minor {\n  border-color: #e5e5e5;\n}\n\n.vis-panel.vis-background.vis-horizontal .vis-grid.vis-major {\n  border-color: #bfbfbf;\n}\n\n\n.vis-data-axis .vis-y-axis.vis-major {\n  width: 100%;\n  position: absolute;\n  color: #4d4d4d;\n  white-space: nowrap;\n}\n\n.vis-data-axis .vis-y-axis.vis-major.vis-measure {\n  padding: 0;\n  margin: 0;\n  border: 0;\n  visibility: hidden;\n  width: auto;\n}\n\n\n.vis-data-axis .vis-y-axis.vis-minor {\n  position: absolute;\n  width: 100%;\n  color: #bebebe;\n  white-space: nowrap;\n}\n\n.vis-data-axis .vis-y-axis.vis-minor.vis-measure {\n  padding: 0;\n  margin: 0;\n  border: 0;\n  visibility: hidden;\n  width: auto;\n}\n\n.vis-data-axis .vis-y-axis.vis-title {\n  position: absolute;\n  color: #4d4d4d;\n  white-space: nowrap;\n  bottom: 20px;\n  text-align: center;\n}\n\n.vis-data-axis .vis-y-axis.vis-title.vis-measure {\n  padding: 0;\n  margin: 0;\n  visibility: hidden;\n  width: auto;\n}\n\n.vis-data-axis .vis-y-axis.vis-title.vis-left {\n  bottom: 0;\n  -webkit-transform-origin: left top;\n  -moz-transform-origin: left top;\n  -ms-transform-origin: left top;\n  -o-transform-origin: left top;\n  transform-origin: left bottom;\n  -webkit-transform: rotate(-90deg);\n  -moz-transform: rotate(-90deg);\n  -ms-transform: rotate(-90deg);\n  -o-transform: rotate(-90deg);\n  transform: rotate(-90deg);\n}\n\n.vis-data-axis .vis-y-axis.vis-title.vis-right {\n  bottom: 0;\n  -webkit-transform-origin: right bottom;\n  -moz-transform-origin: right bottom;\n  -ms-transform-origin: right bottom;\n  -o-transform-origin: right bottom;\n  transform-origin: right bottom;\n  -webkit-transform: rotate(90deg);\n  -moz-transform: rotate(90deg);\n  -ms-transform: rotate(90deg);\n  -o-transform: rotate(90deg);\n  transform: rotate(90deg);\n}\n\n.vis-legend {\n  background-color: rgba(247, 252, 255, 0.65);\n  padding: 5px;\n  border: 1px solid #b3b3b3;\n  box-shadow: 2px 2px 10px rgba(154, 154, 154, 0.55);\n}\n\n.vis-legend-text {\n  /*font-size: 10px;*/\n  white-space: nowrap;\n  display: inline-block\n}"
                );
                var Ip = (function (t) {
                    Uo(i, t);
                    var e = Cp(i);
                    function i(t, n, s, r) {
                        var o;
                        hl(this, i),
                            ((o = e.call(this)).id = bl()),
                            (o.body = t),
                            (o.defaultOptions = {
                                orientation: "left",
                                showMinorLabels: !0,
                                showMajorLabels: !0,
                                showWeekScale: !1,
                                icons: !1,
                                majorLinesOffset: 7,
                                minorLinesOffset: 4,
                                labelOffsetX: 10,
                                labelOffsetY: 2,
                                iconWidth: 20,
                                width: "40px",
                                visible: !0,
                                alignZeros: !0,
                                left: {
                                    range: { min: void 0, max: void 0 },
                                    format: function (t) {
                                        return "".concat(oh(t.toPrecision(3)));
                                    },
                                    title: { text: void 0, style: void 0 },
                                },
                                right: {
                                    range: { min: void 0, max: void 0 },
                                    format: function (t) {
                                        return "".concat(oh(t.toPrecision(3)));
                                    },
                                    title: { text: void 0, style: void 0 },
                                },
                            }),
                            (o.linegraphOptions = r),
                            (o.linegraphSVG = s),
                            (o.props = {}),
                            (o.DOMelements = { lines: {}, labels: {}, title: {} }),
                            (o.dom = {}),
                            (o.scale = void 0),
                            (o.range = { start: 0, end: 0 }),
                            (o.options = ih.extend({}, o.defaultOptions)),
                            (o.conversionFactor = 1),
                            o.setOptions(n),
                            (o.width = Number("".concat(o.options.width).replace("px", ""))),
                            (o.minWidth = o.width),
                            (o.height = o.linegraphSVG.getBoundingClientRect().height),
                            (o.hidden = !1),
                            (o.stepPixels = 25),
                            (o.zeroCrossing = -1),
                            (o.amountOfSteps = -1),
                            (o.lineOffset = 0),
                            (o.master = !0),
                            (o.masterAxis = null),
                            (o.svgElements = {}),
                            (o.iconsRemoved = !1),
                            (o.groups = {}),
                            (o.amountOfGroups = 0),
                            o._create(),
                            null == o.scale && o._redrawLabels(),
                            (o.framework = { svg: o.svg, svgElements: o.svgElements, options: o.options, groups: o.groups });
                        var a = Ho(o);
                        return (
                            o.body.emitter.on("verticalDrag", function () {
                                a.dom.lineContainer.style.top = "".concat(a.body.domProps.scrollTop, "px");
                            }),
                            o
                        );
                    }
                    return (
                        dl(i, [
                            {
                                key: "addGroup",
                                value: function (t, e) {
                                    this.groups.hasOwnProperty(t) || (this.groups[t] = e), (this.amountOfGroups += 1);
                                },
                            },
                            {
                                key: "updateGroup",
                                value: function (t, e) {
                                    this.groups.hasOwnProperty(t) || (this.amountOfGroups += 1), (this.groups[t] = e);
                                },
                            },
                            {
                                key: "removeGroup",
                                value: function (t) {
                                    this.groups.hasOwnProperty(t) && (delete this.groups[t], (this.amountOfGroups -= 1));
                                },
                            },
                            {
                                key: "setOptions",
                                value: function (t) {
                                    if (t) {
                                        var e = !1;
                                        this.options.orientation != t.orientation && void 0 !== t.orientation && (e = !0);
                                        ih.selectiveDeepExtend(
                                            [
                                                "orientation",
                                                "showMinorLabels",
                                                "showMajorLabels",
                                                "icons",
                                                "majorLinesOffset",
                                                "minorLinesOffset",
                                                "labelOffsetX",
                                                "labelOffsetY",
                                                "iconWidth",
                                                "width",
                                                "visible",
                                                "left",
                                                "right",
                                                "alignZeros",
                                            ],
                                            this.options,
                                            t
                                        ),
                                            (this.minWidth = Number("".concat(this.options.width).replace("px", ""))),
                                            !0 === e && this.dom.frame && (this.hide(), this.show());
                                    }
                                },
                            },
                            {
                                key: "_create",
                                value: function () {
                                    (this.dom.frame = document.createElement("div")),
                                        (this.dom.frame.style.width = this.options.width),
                                        (this.dom.frame.style.height = this.height),
                                        (this.dom.lineContainer = document.createElement("div")),
                                        (this.dom.lineContainer.style.width = "100%"),
                                        (this.dom.lineContainer.style.height = this.height),
                                        (this.dom.lineContainer.style.position = "relative"),
                                        (this.dom.lineContainer.style.visibility = "visible"),
                                        (this.dom.lineContainer.style.display = "block"),
                                        (this.svg = document.createElementNS("http://www.w3.org/2000/svg", "svg")),
                                        (this.svg.style.position = "absolute"),
                                        (this.svg.style.top = "0px"),
                                        (this.svg.style.height = "100%"),
                                        (this.svg.style.width = "100%"),
                                        (this.svg.style.display = "block"),
                                        this.dom.frame.appendChild(this.svg);
                                },
                            },
                            {
                                key: "_redrawGroupIcons",
                                value: function () {
                                    var t;
                                    Qr(this.svgElements);
                                    var e = this.options.iconWidth,
                                        i = 11.5;
                                    t = "left" === this.options.orientation ? 4 : this.width - e - 4;
                                    var n = qs(this.groups);
                                    na(n).call(n, function (t, e) {
                                        return t < e ? -1 : 1;
                                    });
                                    var s,
                                        r = Pp(n);
                                    try {
                                        for (r.s(); !(s = r.n()).done; ) {
                                            var o = s.value;
                                            !0 !== this.groups[o].visible ||
                                                (void 0 !== this.linegraphOptions.visibility[o] && !0 !== this.linegraphOptions.visibility[o]) ||
                                                (this.groups[o].getLegend(e, 15, this.framework, t, i), (i += 19));
                                        }
                                    } catch (t) {
                                        r.e(t);
                                    } finally {
                                        r.f();
                                    }
                                    to(this.svgElements), (this.iconsRemoved = !1);
                                },
                            },
                            {
                                key: "_cleanupIcons",
                                value: function () {
                                    !1 === this.iconsRemoved && (Qr(this.svgElements), to(this.svgElements), (this.iconsRemoved = !0));
                                },
                            },
                            {
                                key: "show",
                                value: function () {
                                    (this.hidden = !1),
                                        this.dom.frame.parentNode || ("left" === this.options.orientation ? this.body.dom.left.appendChild(this.dom.frame) : this.body.dom.right.appendChild(this.dom.frame)),
                                        this.dom.lineContainer.parentNode || this.body.dom.backgroundHorizontal.appendChild(this.dom.lineContainer),
                                        (this.dom.lineContainer.style.display = "block");
                                },
                            },
                            {
                                key: "hide",
                                value: function () {
                                    (this.hidden = !0), this.dom.frame.parentNode && this.dom.frame.parentNode.removeChild(this.dom.frame), (this.dom.lineContainer.style.display = "none");
                                },
                            },
                            {
                                key: "setRange",
                                value: function (t, e) {
                                    (this.range.start = t), (this.range.end = e);
                                },
                            },
                            {
                                key: "redraw",
                                value: function () {
                                    var t = !1,
                                        e = 0;
                                    for (var i in ((this.dom.lineContainer.style.top = "".concat(this.body.domProps.scrollTop, "px")), this.groups))
                                        this.groups.hasOwnProperty(i) && (!0 !== this.groups[i].visible || (void 0 !== this.linegraphOptions.visibility[i] && !0 !== this.linegraphOptions.visibility[i]) || e++);
                                    if (0 === this.amountOfGroups || 0 === e) this.hide();
                                    else {
                                        this.show(),
                                            (this.height = Number(this.linegraphSVG.style.height.replace("px", ""))),
                                            (this.dom.lineContainer.style.height = "".concat(this.height, "px")),
                                            (this.width = !0 === this.options.visible ? Number("".concat(this.options.width).replace("px", "")) : 0);
                                        var n = this.props,
                                            s = this.dom.frame;
                                        (s.className = "vis-data-axis"), this._calculateCharSize();
                                        var r = this.options.orientation,
                                            o = this.options.showMinorLabels,
                                            a = this.options.showMajorLabels,
                                            l = this.body.dom.backgroundHorizontal.offsetWidth;
                                        (n.minorLabelHeight = o ? n.minorCharHeight : 0),
                                            (n.majorLabelHeight = a ? n.majorCharHeight : 0),
                                            (n.minorLineWidth = l - this.lineOffset - this.width + 2 * this.options.minorLinesOffset),
                                            (n.minorLineHeight = 1),
                                            (n.majorLineWidth = l - this.lineOffset - this.width + 2 * this.options.majorLinesOffset),
                                            (n.majorLineHeight = 1),
                                            "left" === r
                                                ? ((s.style.top = "0"),
                                                  (s.style.left = "0"),
                                                  (s.style.bottom = ""),
                                                  (s.style.width = "".concat(this.width, "px")),
                                                  (s.style.height = "".concat(this.height, "px")),
                                                  (this.props.width = this.body.domProps.left.width),
                                                  (this.props.height = this.body.domProps.left.height))
                                                : ((s.style.top = ""),
                                                  (s.style.bottom = "0"),
                                                  (s.style.left = "0"),
                                                  (s.style.width = "".concat(this.width, "px")),
                                                  (s.style.height = "".concat(this.height, "px")),
                                                  (this.props.width = this.body.domProps.right.width),
                                                  (this.props.height = this.body.domProps.right.height)),
                                            (t = this._redrawLabels()),
                                            (t = this._isResized() || t),
                                            !0 === this.options.icons ? this._redrawGroupIcons() : this._cleanupIcons(),
                                            this._redrawTitle(r);
                                    }
                                    return t;
                                },
                            },
                            {
                                key: "_redrawLabels",
                                value: function () {
                                    var t = this,
                                        e = !1;
                                    Qr(this.DOMelements.lines), Qr(this.DOMelements.labels);
                                    var i = this.options.orientation,
                                        n = null != this.options[i].range ? this.options[i].range : {},
                                        s = !0;
                                    null != n.max && ((this.range.end = n.max), (s = !1));
                                    var r = !0;
                                    null != n.min && ((this.range.start = n.min), (r = !1)),
                                        (this.scale = new kp(this.range.start, this.range.end, r, s, this.dom.frame.offsetHeight, this.props.majorCharHeight, this.options.alignZeros, this.options[i].format)),
                                        !1 === this.master && null != this.masterAxis ? (this.scale.followScale(this.masterAxis.scale), (this.dom.lineContainer.style.display = "none")) : (this.dom.lineContainer.style.display = "block"),
                                        (this.maxLabelSize = 0);
                                    var o = this.scale.getLines();
                                    Mn(o).call(o, function (e) {
                                        var n = e.y,
                                            s = e.major;
                                        t.options.showMinorLabels && !1 === s && t._redrawLabel(n - 2, e.val, i, "vis-y-axis vis-minor", t.props.minorCharHeight),
                                            s && n >= 0 && t._redrawLabel(n - 2, e.val, i, "vis-y-axis vis-major", t.props.majorCharHeight),
                                            !0 === t.master &&
                                                (s
                                                    ? t._redrawLine(n, i, "vis-grid vis-horizontal vis-major", t.options.majorLinesOffset, t.props.majorLineWidth)
                                                    : t._redrawLine(n, i, "vis-grid vis-horizontal vis-minor", t.options.minorLinesOffset, t.props.minorLineWidth));
                                    });
                                    var a = 0;
                                    void 0 !== this.options[i].title && void 0 !== this.options[i].title.text && (a = this.props.titleCharHeight);
                                    var l = !0 === this.options.icons ? Math.max(this.options.iconWidth, a) + this.options.labelOffsetX + 15 : a + this.options.labelOffsetX + 15;
                                    return (
                                        this.maxLabelSize > this.width - l && !0 === this.options.visible
                                            ? ((this.width = this.maxLabelSize + l), (this.options.width = "".concat(this.width, "px")), to(this.DOMelements.lines), to(this.DOMelements.labels), this.redraw(), (e = !0))
                                            : this.maxLabelSize < this.width - l && !0 === this.options.visible && this.width > this.minWidth
                                            ? ((this.width = Math.max(this.minWidth, this.maxLabelSize + l)),
                                              (this.options.width = "".concat(this.width, "px")),
                                              to(this.DOMelements.lines),
                                              to(this.DOMelements.labels),
                                              this.redraw(),
                                              (e = !0))
                                            : (to(this.DOMelements.lines), to(this.DOMelements.labels), (e = !1)),
                                        e
                                    );
                                },
                            },
                            {
                                key: "convertValue",
                                value: function (t) {
                                    return this.scale.convertValue(t);
                                },
                            },
                            {
                                key: "screenToValue",
                                value: function (t) {
                                    return this.scale.screenToValue(t);
                                },
                            },
                            {
                                key: "_redrawLabel",
                                value: function (t, e, i, n, s) {
                                    var r = no("div", this.DOMelements.labels, this.dom.frame);
                                    (r.className = n),
                                        (r.innerHTML = e),
                                        "left" === i
                                            ? ((r.style.left = "-".concat(this.options.labelOffsetX, "px")), (r.style.textAlign = "right"))
                                            : ((r.style.right = "-".concat(this.options.labelOffsetX, "px")), (r.style.textAlign = "left")),
                                        (r.style.top = "".concat(t - 0.5 * s + this.options.labelOffsetY, "px")),
                                        (e += "");
                                    var o = Math.max(this.props.majorCharWidth, this.props.minorCharWidth);
                                    this.maxLabelSize < e.length * o && (this.maxLabelSize = e.length * o);
                                },
                            },
                            {
                                key: "_redrawLine",
                                value: function (t, e, i, n, s) {
                                    if (!0 === this.master) {
                                        var r = no("div", this.DOMelements.lines, this.dom.lineContainer);
                                        (r.className = i),
                                            (r.innerHTML = ""),
                                            "left" === e ? (r.style.left = "".concat(this.width - n, "px")) : (r.style.right = "".concat(this.width - n, "px")),
                                            (r.style.width = "".concat(s, "px")),
                                            (r.style.top = "".concat(t, "px"));
                                    }
                                },
                            },
                            {
                                key: "_redrawTitle",
                                value: function (t) {
                                    if ((Qr(this.DOMelements.title), void 0 !== this.options[t].title && void 0 !== this.options[t].title.text)) {
                                        var e = no("div", this.DOMelements.title, this.dom.frame);
                                        (e.className = "vis-y-axis vis-title vis-".concat(t)),
                                            (e.innerHTML = this.options[t].title.text),
                                            void 0 !== this.options[t].title.style && ih.addCssText(e, this.options[t].title.style),
                                            "left" === t ? (e.style.left = "".concat(this.props.titleCharHeight, "px")) : (e.style.right = "".concat(this.props.titleCharHeight, "px")),
                                            (e.style.width = "".concat(this.height, "px"));
                                    }
                                    to(this.DOMelements.title);
                                },
                            },
                            {
                                key: "_calculateCharSize",
                                value: function () {
                                    if (!("minorCharHeight" in this.props)) {
                                        var t = document.createTextNode("0"),
                                            e = document.createElement("div");
                                        (e.className = "vis-y-axis vis-minor vis-measure"),
                                            e.appendChild(t),
                                            this.dom.frame.appendChild(e),
                                            (this.props.minorCharHeight = e.clientHeight),
                                            (this.props.minorCharWidth = e.clientWidth),
                                            this.dom.frame.removeChild(e);
                                    }
                                    if (!("majorCharHeight" in this.props)) {
                                        var i = document.createTextNode("0"),
                                            n = document.createElement("div");
                                        (n.className = "vis-y-axis vis-major vis-measure"),
                                            n.appendChild(i),
                                            this.dom.frame.appendChild(n),
                                            (this.props.majorCharHeight = n.clientHeight),
                                            (this.props.majorCharWidth = n.clientWidth),
                                            this.dom.frame.removeChild(n);
                                    }
                                    if (!("titleCharHeight" in this.props)) {
                                        var s = document.createTextNode("0"),
                                            r = document.createElement("div");
                                        (r.className = "vis-y-axis vis-title vis-measure"),
                                            r.appendChild(s),
                                            this.dom.frame.appendChild(r),
                                            (this.props.titleCharHeight = r.clientHeight),
                                            (this.props.titleCharWidth = r.clientWidth),
                                            this.dom.frame.removeChild(r);
                                    }
                                },
                            },
                        ]),
                        i
                    );
                })(ah);
                function Tp(t, e) {}
                function $p(t, e) {
                    return { style: (e = void 0 === e ? {} : e).style || t.options.drawPoints.style, styles: e.styles || t.options.drawPoints.styles, size: e.size || t.options.drawPoints.size, className: e.className || t.className };
                }
                function Ep(t, e) {}
                function Dp(t, e) {}
                function Mp(t, e, i, n) {
                    this.id = e;
                    (this.options = ih.selectiveBridgeObject(["sampling", "style", "sort", "yAxisOrientation", "barChart", "drawPoints", "shaded", "interpolation", "zIndex", "excludeFromStacking", "excludeFromLegend"], i)),
                        (this.usingDefaultStyle = void 0 === t.className),
                        (this.groupsUsingDefaultStyles = n),
                        (this.zeroPosition = 0),
                        this.update(t),
                        1 == this.usingDefaultStyle && (this.groupsUsingDefaultStyles[0] += 1),
                        (this.itemsData = []),
                        (this.visible = void 0 === t.visible || t.visible);
                }
                function Ap(t, e, i, n) {
                    (this.body = t),
                        (this.defaultOptions = { enabled: !1, icons: !0, iconSize: 20, iconSpacing: 6, left: { visible: !0, position: "top-left" }, right: { visible: !0, position: "top-right" } }),
                        (this.side = i),
                        (this.options = ih.extend({}, this.defaultOptions)),
                        (this.linegraphOptions = n),
                        (this.svgElements = {}),
                        (this.dom = {}),
                        (this.groups = {}),
                        (this.amountOfGroups = 0),
                        this._create(),
                        (this.framework = { svg: this.svg, svgElements: this.svgElements, options: this.options, groups: this.groups }),
                        this.setOptions(e);
                }
                (Tp.draw = function (t, e, i, n) {
                    n = n || 0;
                    for (
                        var s = (function (t, e) {
                                var i = void 0;
                                t.options && t.options.drawPoints && t.options.drawPoints.onRender && "function" == typeof t.options.drawPoints.onRender && (i = t.options.drawPoints.onRender);
                                e.group.options && e.group.options.drawPoints && e.group.options.drawPoints.onRender && "function" == typeof e.group.options.drawPoints.onRender && (i = e.group.options.drawPoints.onRender);
                                return i;
                            })(i, e),
                            r = 0;
                        r < t.length;
                        r++
                    )
                        if (s) {
                            var o = s(t[r], e);
                            (!0 !== o && "object" !== sr(o)) || so(t[r].screen_x + n, t[r].screen_y, $p(e, o), i.svgElements, i.svg, t[r].label);
                        } else so(t[r].screen_x + n, t[r].screen_y, $p(e), i.svgElements, i.svg, t[r].label);
                }),
                    (Tp.drawIcon = function (t, e, i, n, s, r) {
                        var o = 0.5 * s,
                            a = io("rect", r.svgElements, r.svg);
                        a.setAttributeNS(null, "x", e),
                            a.setAttributeNS(null, "y", i - o),
                            a.setAttributeNS(null, "width", n),
                            a.setAttributeNS(null, "height", 2 * o),
                            a.setAttributeNS(null, "class", "vis-outline"),
                            so(e + 0.5 * n, i, $p(t), r.svgElements, r.svg);
                    }),
                    (Ep.drawIcon = function (t, e, i, n, s, r) {
                        var o = 0.5 * s,
                            a = io("rect", r.svgElements, r.svg);
                        a.setAttributeNS(null, "x", e), a.setAttributeNS(null, "y", i - o), a.setAttributeNS(null, "width", n), a.setAttributeNS(null, "height", 2 * o), a.setAttributeNS(null, "class", "vis-outline");
                        var l = Math.round(0.3 * n),
                            h = t.options.barChart.width / l,
                            c = Math.round(0.4 * s),
                            d = Math.round(0.75 * s),
                            u = Math.round((n - 2 * l) / 3);
                        if (
                            (ro(e + 0.5 * l + u, i + o - c - 1, l, c, t.className + " vis-bar", r.svgElements, r.svg, t.style),
                            ro(e + 1.5 * l + u + 2, i + o - d - 1, l, d, t.className + " vis-bar", r.svgElements, r.svg, t.style),
                            1 == t.options.drawPoints.enabled)
                        ) {
                            var p = { style: t.options.drawPoints.style, styles: t.options.drawPoints.styles, size: t.options.drawPoints.size / h, className: t.className };
                            so(e + 0.5 * l + u, i + o - c - 1, p, r.svgElements, r.svg), so(e + 1.5 * l + u + 2, i + o - d - 1, p, r.svgElements, r.svg);
                        }
                    }),
                    (Ep.draw = function (t, e, i) {
                        var n,
                            s,
                            r,
                            o,
                            a,
                            l,
                            h = [],
                            c = {},
                            d = 0;
                        for (a = 0; a < t.length; a++)
                            if ("bar" === (o = i.groups[t[a]]).options.style && !0 === o.visible && (void 0 === i.options.groups.visibility[t[a]] || !0 === i.options.groups.visibility[t[a]]))
                                for (l = 0; l < e[t[a]].length; l++)
                                    h.push({ screen_x: e[t[a]][l].screen_x, screen_end: e[t[a]][l].screen_end, screen_y: e[t[a]][l].screen_y, x: e[t[a]][l].x, end: e[t[a]][l].end, y: e[t[a]][l].y, groupId: t[a], label: e[t[a]][l].label }),
                                        (d += 1);
                        if (0 !== d)
                            for (
                                na(h).call(h, function (t, e) {
                                    return t.screen_x === e.screen_x ? (t.groupId < e.groupId ? -1 : 1) : t.screen_x - e.screen_x;
                                }),
                                    Ep._getDataIntersections(c, h),
                                    a = 0;
                                a < h.length;
                                a++
                            ) {
                                var u = null != (o = i.groups[h[a].groupId]).options.barChart.minWidth ? o.options.barChart.minWidth : 0.1 * o.options.barChart.width,
                                    p = 0;
                                if (void 0 === c[(s = h[a].screen_x)]) a + 1 < h.length && (n = Math.abs(h[a + 1].screen_x - s)), (r = Ep._getSafeDrawData(n, o, u));
                                else {
                                    var f = a + (c[s].amount - c[s].resolved);
                                    f < h.length && (n = Math.abs(h[f].screen_x - s)),
                                        (r = Ep._getSafeDrawData(n, o, u)),
                                        (c[s].resolved += 1),
                                        !0 === o.options.stack && !0 !== o.options.excludeFromStacking
                                            ? h[a].screen_y < o.zeroPosition
                                                ? ((p = c[s].accumulatedNegative), (c[s].accumulatedNegative += o.zeroPosition - h[a].screen_y))
                                                : ((p = c[s].accumulatedPositive), (c[s].accumulatedPositive += o.zeroPosition - h[a].screen_y))
                                            : !0 === o.options.barChart.sideBySide && ((r.width = r.width / c[s].amount), (r.offset += c[s].resolved * r.width - 0.5 * r.width * (c[s].amount + 1)));
                                }
                                var m = r.width,
                                    g = h[a].screen_x;
                                if (
                                    (null != h[a].screen_end ? (g += 0.5 * (m = h[a].screen_end - h[a].screen_x)) : (g += r.offset),
                                    ro(g, h[a].screen_y - p, m, o.zeroPosition - h[a].screen_y, o.className + " vis-bar", i.svgElements, i.svg, o.style),
                                    !0 === o.options.drawPoints.enabled)
                                ) {
                                    var v = { screen_x: h[a].screen_x, screen_y: h[a].screen_y - p, x: h[a].x, y: h[a].y, groupId: h[a].groupId, label: h[a].label };
                                    Tp.draw([v], o, i, r.offset);
                                }
                            }
                    }),
                    (Ep._getDataIntersections = function (t, e) {
                        for (var i, n = 0; n < e.length; n++)
                            n + 1 < e.length && (i = Math.abs(e[n + 1].screen_x - e[n].screen_x)),
                                n > 0 && (i = Math.min(i, Math.abs(e[n - 1].screen_x - e[n].screen_x))),
                                0 === i && (void 0 === t[e[n].screen_x] && (t[e[n].screen_x] = { amount: 0, resolved: 0, accumulatedPositive: 0, accumulatedNegative: 0 }), (t[e[n].screen_x].amount += 1));
                    }),
                    (Ep._getSafeDrawData = function (t, e, i) {
                        var n, s;
                        return (
                            t < e.options.barChart.width && t > 0
                                ? ((n = t < i ? i : t), (s = 0), "left" === e.options.barChart.align ? (s -= 0.5 * t) : "right" === e.options.barChart.align && (s += 0.5 * t))
                                : ((n = e.options.barChart.width), (s = 0), "left" === e.options.barChart.align ? (s -= 0.5 * e.options.barChart.width) : "right" === e.options.barChart.align && (s += 0.5 * e.options.barChart.width)),
                            { width: n, offset: s }
                        );
                    }),
                    (Ep.getStackedYRange = function (t, e, i, n, s) {
                        if (t.length > 0) {
                            na(t).call(t, function (t, e) {
                                return t.screen_x === e.screen_x ? (t.groupId < e.groupId ? -1 : 1) : t.screen_x - e.screen_x;
                            });
                            var r = {};
                            Ep._getDataIntersections(r, t), (e[n] = Ep._getStackedYRange(r, t)), (e[n].yAxisOrientation = s), i.push(n);
                        }
                    }),
                    (Ep._getStackedYRange = function (t, e) {
                        for (var i, n = e[0].screen_y, s = e[0].screen_y, r = 0; r < e.length; r++)
                            void 0 === t[(i = e[r].screen_x)]
                                ? ((n = n > e[r].screen_y ? e[r].screen_y : n), (s = s < e[r].screen_y ? e[r].screen_y : s))
                                : e[r].screen_y < 0
                                ? (t[i].accumulatedNegative += e[r].screen_y)
                                : (t[i].accumulatedPositive += e[r].screen_y);
                        for (var o in t)
                            t.hasOwnProperty(o) &&
                                ((n = (n = n > t[o].accumulatedNegative ? t[o].accumulatedNegative : n) > t[o].accumulatedPositive ? t[o].accumulatedPositive : n),
                                (s = (s = s < t[o].accumulatedNegative ? t[o].accumulatedNegative : s) < t[o].accumulatedPositive ? t[o].accumulatedPositive : s));
                        return { min: n, max: s };
                    }),
                    (Dp.calcPath = function (t, e) {
                        if (null != t && t.length > 0) {
                            return 1 == e.options.interpolation.enabled ? Dp._catmullRom(t, e) : Dp._linear(t);
                        }
                    }),
                    (Dp.drawIcon = function (t, e, i, n, s, r) {
                        var o,
                            a,
                            l = 0.5 * s,
                            h = io("rect", r.svgElements, r.svg);
                        (h.setAttributeNS(null, "x", e),
                        h.setAttributeNS(null, "y", i - l),
                        h.setAttributeNS(null, "width", n),
                        h.setAttributeNS(null, "height", 2 * l),
                        h.setAttributeNS(null, "class", "vis-outline"),
                        (o = io("path", r.svgElements, r.svg)).setAttributeNS(null, "class", t.className),
                        void 0 !== t.style && o.setAttributeNS(null, "style", t.style),
                        o.setAttributeNS(null, "d", "M" + e + "," + i + " L" + (e + n) + "," + i),
                        1 == t.options.shaded.enabled &&
                            ((a = io("path", r.svgElements, r.svg)),
                            "top" == t.options.shaded.orientation
                                ? a.setAttributeNS(null, "d", "M" + e + ", " + (i - l) + "L" + e + "," + i + " L" + (e + n) + "," + i + " L" + (e + n) + "," + (i - l))
                                : a.setAttributeNS(null, "d", "M" + e + "," + i + " L" + e + "," + (i + l) + " L" + (e + n) + "," + (i + l) + "L" + (e + n) + "," + i),
                            a.setAttributeNS(null, "class", t.className + " vis-icon-fill"),
                            void 0 !== t.options.shaded.style && "" !== t.options.shaded.style && a.setAttributeNS(null, "style", t.options.shaded.style)),
                        1 == t.options.drawPoints.enabled) && so(e + 0.5 * n, i, { style: t.options.drawPoints.style, styles: t.options.drawPoints.styles, size: t.options.drawPoints.size, className: t.className }, r.svgElements, r.svg);
                    }),
                    (Dp.drawShading = function (t, e, i, n) {
                        if (1 == e.options.shaded.enabled) {
                            var s,
                                r = Number(n.svg.style.height.replace("px", "")),
                                o = io("path", n.svgElements, n.svg),
                                a = "L";
                            1 == e.options.interpolation.enabled && (a = "C");
                            var l = 0;
                            (l = "top" == e.options.shaded.orientation ? 0 : "bottom" == e.options.shaded.orientation ? r : Math.min(Math.max(0, e.zeroPosition), r)),
                                (s =
                                    "group" == e.options.shaded.orientation && null != i && null != i
                                        ? "M" + t[0][0] + "," + t[0][1] + " " + this.serializePath(t, a, !1) + " L" + i[i.length - 1][0] + "," + i[i.length - 1][1] + " " + this.serializePath(i, a, !0) + i[0][0] + "," + i[0][1] + " Z"
                                        : "M" + t[0][0] + "," + t[0][1] + " " + this.serializePath(t, a, !1) + " V" + l + " H" + t[0][0] + " Z"),
                                o.setAttributeNS(null, "class", e.className + " vis-fill"),
                                void 0 !== e.options.shaded.style && o.setAttributeNS(null, "style", e.options.shaded.style),
                                o.setAttributeNS(null, "d", s);
                        }
                    }),
                    (Dp.draw = function (t, e, i) {
                        if (null != t && null != t) {
                            var n = io("path", i.svgElements, i.svg);
                            n.setAttributeNS(null, "class", e.className), void 0 !== e.style && n.setAttributeNS(null, "style", e.style);
                            var s = "L";
                            1 == e.options.interpolation.enabled && (s = "C"), n.setAttributeNS(null, "d", "M" + t[0][0] + "," + t[0][1] + " " + this.serializePath(t, s, !1));
                        }
                    }),
                    (Dp.serializePath = function (t, e, i) {
                        if (t.length < 2) return "";
                        var n,
                            s = e;
                        if (i) for (n = t.length - 2; n > 0; n--) s += t[n][0] + "," + t[n][1] + " ";
                        else for (n = 1; n < t.length; n++) s += t[n][0] + "," + t[n][1] + " ";
                        return s;
                    }),
                    (Dp._catmullRomUniform = function (t) {
                        var e,
                            i,
                            n,
                            s,
                            r,
                            o,
                            a = [];
                        a.push([Math.round(t[0].screen_x), Math.round(t[0].screen_y)]);
                        for (var l = 1 / 6, h = t.length, c = 0; c < h - 1; c++)
                            (e = 0 == c ? t[0] : t[c - 1]),
                                (i = t[c]),
                                (n = t[c + 1]),
                                (s = c + 2 < h ? t[c + 2] : n),
                                (r = { screen_x: (-e.screen_x + 6 * i.screen_x + n.screen_x) * l, screen_y: (-e.screen_y + 6 * i.screen_y + n.screen_y) * l }),
                                (o = { screen_x: (i.screen_x + 6 * n.screen_x - s.screen_x) * l, screen_y: (i.screen_y + 6 * n.screen_y - s.screen_y) * l }),
                                a.push([r.screen_x, r.screen_y]),
                                a.push([o.screen_x, o.screen_y]),
                                a.push([n.screen_x, n.screen_y]);
                        return a;
                    }),
                    (Dp._catmullRom = function (t, e) {
                        var i = e.options.interpolation.alpha;
                        if (0 == i || void 0 === i) return this._catmullRomUniform(t);
                        var n,
                            s,
                            r,
                            o,
                            a,
                            l,
                            h,
                            c,
                            d,
                            u,
                            p,
                            f,
                            m,
                            g,
                            v,
                            b,
                            y,
                            w,
                            x,
                            _ = [];
                        _.push([Math.round(t[0].screen_x), Math.round(t[0].screen_y)]);
                        for (var k = t.length, P = 0; P < k - 1; P++)
                            (n = 0 == P ? t[0] : t[P - 1]),
                                (s = t[P]),
                                (r = t[P + 1]),
                                (o = P + 2 < k ? t[P + 2] : r),
                                (h = Math.sqrt(Math.pow(n.screen_x - s.screen_x, 2) + Math.pow(n.screen_y - s.screen_y, 2))),
                                (c = Math.sqrt(Math.pow(s.screen_x - r.screen_x, 2) + Math.pow(s.screen_y - r.screen_y, 2))),
                                (d = Math.sqrt(Math.pow(r.screen_x - o.screen_x, 2) + Math.pow(r.screen_y - o.screen_y, 2))),
                                (g = Math.pow(d, i)),
                                (b = Math.pow(d, 2 * i)),
                                (v = Math.pow(c, i)),
                                (y = Math.pow(c, 2 * i)),
                                (x = Math.pow(h, i)),
                                (u = 2 * (w = Math.pow(h, 2 * i)) + 3 * x * v + y),
                                (p = 2 * b + 3 * g * v + y),
                                (f = 3 * x * (x + v)) > 0 && (f = 1 / f),
                                (m = 3 * g * (g + v)) > 0 && (m = 1 / m),
                                (a = { screen_x: (-y * n.screen_x + u * s.screen_x + w * r.screen_x) * f, screen_y: (-y * n.screen_y + u * s.screen_y + w * r.screen_y) * f }),
                                (l = { screen_x: (b * s.screen_x + p * r.screen_x - y * o.screen_x) * m, screen_y: (b * s.screen_y + p * r.screen_y - y * o.screen_y) * m }),
                                0 == a.screen_x && 0 == a.screen_y && (a = s),
                                0 == l.screen_x && 0 == l.screen_y && (l = r),
                                _.push([a.screen_x, a.screen_y]),
                                _.push([l.screen_x, l.screen_y]),
                                _.push([r.screen_x, r.screen_y]);
                        return _;
                    }),
                    (Dp._linear = function (t) {
                        for (var e = [], i = 0; i < t.length; i++) e.push([t[i].screen_x, t[i].screen_y]);
                        return e;
                    }),
                    (Mp.prototype.setItems = function (t) {
                        null != t
                            ? ((this.itemsData = t),
                              1 == na(this.options) &&
                                  ih.insertSort(this.itemsData, function (t, e) {
                                      return t.x > e.x ? 1 : -1;
                                  }))
                            : (this.itemsData = []);
                    }),
                    (Mp.prototype.getItems = function () {
                        return this.itemsData;
                    }),
                    (Mp.prototype.setZeroPosition = function (t) {
                        this.zeroPosition = t;
                    }),
                    (Mp.prototype.setOptions = function (t) {
                        if (void 0 !== t) {
                            ih.selectiveDeepExtend(["sampling", "style", "sort", "yAxisOrientation", "barChart", "zIndex", "excludeFromStacking", "excludeFromLegend"], this.options, t),
                                "function" == typeof t.drawPoints && (t.drawPoints = { onRender: t.drawPoints }),
                                ih.mergeOptions(this.options, t, "interpolation"),
                                ih.mergeOptions(this.options, t, "drawPoints"),
                                ih.mergeOptions(this.options, t, "shaded"),
                                t.interpolation &&
                                    "object" == sr(t.interpolation) &&
                                    t.interpolation.parametrization &&
                                    ("uniform" == t.interpolation.parametrization
                                        ? (this.options.interpolation.alpha = 0)
                                        : "chordal" == t.interpolation.parametrization
                                        ? (this.options.interpolation.alpha = 1)
                                        : ((this.options.interpolation.parametrization = "centripetal"), (this.options.interpolation.alpha = 0.5)));
                        }
                    }),
                    (Mp.prototype.update = function (t) {
                        (this.group = t),
                            (this.content = t.content || "graph"),
                            (this.className = t.className || this.className || "vis-graph-group" + (this.groupsUsingDefaultStyles[0] % 10)),
                            (this.visible = void 0 === t.visible || t.visible),
                            (this.style = t.style),
                            this.setOptions(t.options);
                    }),
                    (Mp.prototype.getLegend = function (t, e, i, n, s) {
                        (null != i && null != i) || (i = { svg: document.createElementNS("http://www.w3.org/2000/svg", "svg"), svgElements: {}, options: this.options, groups: [this] });
                        switch (((null != n && null != n) || (n = 0), (null != s && null != s) || (s = 0.5 * e), this.options.style)) {
                            case "line":
                                Dp.drawIcon(this, n, s, t, e, i);
                                break;
                            case "points":
                            case "point":
                                Tp.drawIcon(this, n, s, t, e, i);
                                break;
                            case "bar":
                                Ep.drawIcon(this, n, s, t, e, i);
                        }
                        return { icon: i.svg, label: this.content, orientation: this.options.yAxisOrientation };
                    }),
                    (Mp.prototype.getYRange = function (t) {
                        for (var e = t[0].y, i = t[0].y, n = 0; n < t.length; n++) (e = e > t[n].y ? t[n].y : e), (i = i < t[n].y ? t[n].y : i);
                        return { min: e, max: i, yAxisOrientation: this.options.yAxisOrientation };
                    }),
                    (Ap.prototype = new ah()),
                    (Ap.prototype.clear = function () {
                        (this.groups = {}), (this.amountOfGroups = 0);
                    }),
                    (Ap.prototype.addGroup = function (t, e) {
                        1 != e.options.excludeFromLegend && (this.groups.hasOwnProperty(t) || (this.groups[t] = e), (this.amountOfGroups += 1));
                    }),
                    (Ap.prototype.updateGroup = function (t, e) {
                        this.groups[t] = e;
                    }),
                    (Ap.prototype.removeGroup = function (t) {
                        this.groups.hasOwnProperty(t) && (delete this.groups[t], (this.amountOfGroups -= 1));
                    }),
                    (Ap.prototype._create = function () {
                        (this.dom.frame = document.createElement("div")),
                            (this.dom.frame.className = "vis-legend"),
                            (this.dom.frame.style.position = "absolute"),
                            (this.dom.frame.style.top = "10px"),
                            (this.dom.frame.style.display = "block"),
                            (this.dom.textArea = document.createElement("div")),
                            (this.dom.textArea.className = "vis-legend-text"),
                            (this.dom.textArea.style.position = "relative"),
                            (this.dom.textArea.style.top = "0px"),
                            (this.svg = document.createElementNS("http://www.w3.org/2000/svg", "svg")),
                            (this.svg.style.position = "absolute"),
                            (this.svg.style.top = "0px"),
                            (this.svg.style.width = this.options.iconSize + 5 + "px"),
                            (this.svg.style.height = "100%"),
                            this.dom.frame.appendChild(this.svg),
                            this.dom.frame.appendChild(this.dom.textArea);
                    }),
                    (Ap.prototype.hide = function () {
                        this.dom.frame.parentNode && this.dom.frame.parentNode.removeChild(this.dom.frame);
                    }),
                    (Ap.prototype.show = function () {
                        this.dom.frame.parentNode || this.body.dom.center.appendChild(this.dom.frame);
                    }),
                    (Ap.prototype.setOptions = function (t) {
                        ih.selectiveDeepExtend(["enabled", "orientation", "icons", "left", "right"], this.options, t);
                    }),
                    (Ap.prototype.redraw = function () {
                        var t = 0,
                            e = qs(this.groups);
                        na(e).call(e, function (t, e) {
                            return t < e ? -1 : 1;
                        });
                        for (var i = 0; i < e.length; i++) {
                            var n = e[i];
                            1 != this.groups[n].visible || (void 0 !== this.linegraphOptions.visibility[n] && 1 != this.linegraphOptions.visibility[n]) || t++;
                        }
                        if (0 == this.options[this.side].visible || 0 == this.amountOfGroups || 0 == this.options.enabled || 0 == t) this.hide();
                        else {
                            if (
                                (this.show(),
                                "top-left" == this.options[this.side].position || "bottom-left" == this.options[this.side].position
                                    ? ((this.dom.frame.style.left = "4px"),
                                      (this.dom.frame.style.textAlign = "left"),
                                      (this.dom.textArea.style.textAlign = "left"),
                                      (this.dom.textArea.style.left = this.options.iconSize + 15 + "px"),
                                      (this.dom.textArea.style.right = ""),
                                      (this.svg.style.left = "0px"),
                                      (this.svg.style.right = ""))
                                    : ((this.dom.frame.style.right = "4px"),
                                      (this.dom.frame.style.textAlign = "right"),
                                      (this.dom.textArea.style.textAlign = "right"),
                                      (this.dom.textArea.style.right = this.options.iconSize + 15 + "px"),
                                      (this.dom.textArea.style.left = ""),
                                      (this.svg.style.right = "0px"),
                                      (this.svg.style.left = "")),
                                "top-left" == this.options[this.side].position || "top-right" == this.options[this.side].position)
                            )
                                (this.dom.frame.style.top = 4 - Number(this.body.dom.center.style.top.replace("px", "")) + "px"), (this.dom.frame.style.bottom = "");
                            else {
                                var s = this.body.domProps.center.height - this.body.domProps.centerContainer.height;
                                (this.dom.frame.style.bottom = 4 + s + Number(this.body.dom.center.style.top.replace("px", "")) + "px"), (this.dom.frame.style.top = "");
                            }
                            0 == this.options.icons
                                ? ((this.dom.frame.style.width = this.dom.textArea.offsetWidth + 10 + "px"), (this.dom.textArea.style.right = ""), (this.dom.textArea.style.left = ""), (this.svg.style.width = "0px"))
                                : ((this.dom.frame.style.width = this.options.iconSize + 15 + this.dom.textArea.offsetWidth + 10 + "px"), this.drawLegendIcons());
                            var r = "";
                            for (i = 0; i < e.length; i++) (n = e[i]), 1 != this.groups[n].visible || (void 0 !== this.linegraphOptions.visibility[n] && 1 != this.linegraphOptions.visibility[n]) || (r += this.groups[n].content + "<br />");
                            (this.dom.textArea.innerHTML = r), (this.dom.textArea.style.lineHeight = 0.75 * this.options.iconSize + this.options.iconSpacing + "px");
                        }
                    }),
                    (Ap.prototype.drawLegendIcons = function () {
                        if (this.dom.frame.parentNode) {
                            var t = qs(this.groups);
                            na(t).call(t, function (t, e) {
                                return t < e ? -1 : 1;
                            }),
                                eo(this.svgElements);
                            var e = window.getComputedStyle(this.dom.frame).paddingTop,
                                i = Number(e.replace("px", "")),
                                n = i,
                                s = this.options.iconSize,
                                r = 0.75 * this.options.iconSize,
                                o = i + 0.5 * r + 3;
                            this.svg.style.width = s + 5 + i + "px";
                            for (var a = 0; a < t.length; a++) {
                                var l = t[a];
                                1 != this.groups[l].visible ||
                                    (void 0 !== this.linegraphOptions.visibility[l] && 1 != this.linegraphOptions.visibility[l]) ||
                                    (this.groups[l].getLegend(s, r, this.framework, n, o), (o += r + this.options.iconSpacing));
                            }
                        }
                    });
                var Np = "__ungrouped__";
                function Op(t, e) {
                    (this.id = bl()),
                        (this.body = t),
                        (this.defaultOptions = {
                            yAxisOrientation: "left",
                            defaultGroup: "default",
                            sort: !0,
                            sampling: !0,
                            stack: !1,
                            graphHeight: "400px",
                            shaded: { enabled: !1, orientation: "bottom" },
                            style: "line",
                            barChart: { width: 50, sideBySide: !1, align: "center" },
                            interpolation: { enabled: !0, parametrization: "centripetal", alpha: 0.5 },
                            drawPoints: { enabled: !0, size: 6, style: "square" },
                            dataAxis: {},
                            legend: {},
                            groups: { visibility: {} },
                        }),
                        (this.options = ih.extend({}, this.defaultOptions)),
                        (this.dom = {}),
                        (this.props = {}),
                        (this.hammer = null),
                        (this.groups = {}),
                        (this.abortedGraphUpdate = !1),
                        (this.updateSVGheight = !1),
                        (this.updateSVGheightOnResize = !1),
                        (this.forceGraphUpdate = !0);
                    var i = this;
                    (this.itemsData = null),
                        (this.groupsData = null),
                        (this.itemListeners = {
                            add: function (t, e, n) {
                                i._onAdd(e.items);
                            },
                            update: function (t, e, n) {
                                i._onUpdate(e.items);
                            },
                            remove: function (t, e, n) {
                                i._onRemove(e.items);
                            },
                        }),
                        (this.groupListeners = {
                            add: function (t, e, n) {
                                i._onAddGroups(e.items);
                            },
                            update: function (t, e, n) {
                                i._onUpdateGroups(e.items);
                            },
                            remove: function (t, e, n) {
                                i._onRemoveGroups(e.items);
                            },
                        }),
                        (this.items = {}),
                        (this.selection = []),
                        (this.lastStart = this.body.range.start),
                        (this.touchParams = {}),
                        (this.svgElements = {}),
                        this.setOptions(e),
                        (this.groupsUsingDefaultStyles = [0]),
                        this.body.emitter.on("rangechanged", function () {
                            (i.svg.style.left = ih.option.asSize(-i.props.width)), (i.forceGraphUpdate = !0), i.redraw.call(i);
                        }),
                        this._create(),
                        (this.framework = { svg: this.svg, svgElements: this.svgElements, options: this.options, groups: this.groups });
                }
                (Op.prototype = new ah()),
                    (Op.prototype._create = function () {
                        var t = document.createElement("div");
                        (t.className = "vis-line-graph"),
                            (this.dom.frame = t),
                            (this.svg = document.createElementNS("http://www.w3.org/2000/svg", "svg")),
                            (this.svg.style.position = "relative"),
                            (this.svg.style.height = ("" + this.options.graphHeight).replace("px", "") + "px"),
                            (this.svg.style.display = "block"),
                            t.appendChild(this.svg),
                            (this.options.dataAxis.orientation = "left"),
                            (this.yAxisLeft = new Ip(this.body, this.options.dataAxis, this.svg, this.options.groups)),
                            (this.options.dataAxis.orientation = "right"),
                            (this.yAxisRight = new Ip(this.body, this.options.dataAxis, this.svg, this.options.groups)),
                            delete this.options.dataAxis.orientation,
                            (this.legendLeft = new Ap(this.body, this.options.legend, "left", this.options.groups)),
                            (this.legendRight = new Ap(this.body, this.options.legend, "right", this.options.groups)),
                            this.show();
                    }),
                    (Op.prototype.setOptions = function (t) {
                        if (t) {
                            void 0 === t.graphHeight && void 0 !== t.height
                                ? ((this.updateSVGheight = !0), (this.updateSVGheightOnResize = !0))
                                : void 0 !== this.body.domProps.centerContainer.height && void 0 !== t.graphHeight && Vn((t.graphHeight + "").replace("px", "")) < this.body.domProps.centerContainer.height && (this.updateSVGheight = !0),
                                ih.selectiveDeepExtend(["sampling", "defaultGroup", "stack", "height", "graphHeight", "yAxisOrientation", "style", "barChart", "dataAxis", "sort", "groups"], this.options, t),
                                ih.mergeOptions(this.options, t, "interpolation"),
                                ih.mergeOptions(this.options, t, "drawPoints"),
                                ih.mergeOptions(this.options, t, "shaded"),
                                ih.mergeOptions(this.options, t, "legend"),
                                t.interpolation &&
                                    "object" == sr(t.interpolation) &&
                                    t.interpolation.parametrization &&
                                    ("uniform" == t.interpolation.parametrization
                                        ? (this.options.interpolation.alpha = 0)
                                        : "chordal" == t.interpolation.parametrization
                                        ? (this.options.interpolation.alpha = 1)
                                        : ((this.options.interpolation.parametrization = "centripetal"), (this.options.interpolation.alpha = 0.5))),
                                this.yAxisLeft && void 0 !== t.dataAxis && (this.yAxisLeft.setOptions(this.options.dataAxis), this.yAxisRight.setOptions(this.options.dataAxis)),
                                this.legendLeft && void 0 !== t.legend && (this.legendLeft.setOptions(this.options.legend), this.legendRight.setOptions(this.options.legend)),
                                this.groups.hasOwnProperty(Np) && this.groups[Np].setOptions(t);
                        }
                        this.dom.frame && ((this.forceGraphUpdate = !0), this.body.emitter.emit("_change", { queue: !0 }));
                    }),
                    (Op.prototype.hide = function () {
                        this.dom.frame.parentNode && this.dom.frame.parentNode.removeChild(this.dom.frame);
                    }),
                    (Op.prototype.show = function () {
                        this.dom.frame.parentNode || this.body.dom.center.appendChild(this.dom.frame);
                    }),
                    (Op.prototype.setItems = function (t) {
                        var e,
                            i = this,
                            n = this.itemsData;
                        if (t) {
                            if (!ql("id", t)) throw new TypeError("Data must implement the interface of DataSet or DataView");
                            this.itemsData = eh(t);
                        } else this.itemsData = null;
                        if (
                            (n &&
                                (Mn(ih).call(ih, this.itemListeners, function (t, e) {
                                    n.off(e, t);
                                }),
                                n.dispose(),
                                (e = n.getIds()),
                                this._onRemove(e)),
                            this.itemsData)
                        ) {
                            var s = this.id;
                            Mn(ih).call(ih, this.itemListeners, function (t, e) {
                                i.itemsData.on(e, t, s);
                            }),
                                (e = this.itemsData.getIds()),
                                this._onAdd(e);
                        }
                    }),
                    (Op.prototype.setGroups = function (t) {
                        var e,
                            i = this;
                        if (this.groupsData) {
                            Mn(ih).call(ih, this.groupListeners, function (t, e) {
                                i.groupsData.off(e, t);
                            }),
                                (e = this.groupsData.getIds()),
                                (this.groupsData = null);
                            for (var n = 0; n < e.length; n++) this._removeGroup(e[n]);
                        }
                        if (t) {
                            if (!ql("id", t)) throw new TypeError("Data must implement the interface of DataSet or DataView");
                            this.groupsData = t;
                        } else this.groupsData = null;
                        if (this.groupsData) {
                            var s = this.id;
                            Mn(ih).call(ih, this.groupListeners, function (t, e) {
                                i.groupsData.on(e, t, s);
                            }),
                                (e = this.groupsData.getIds()),
                                this._onAddGroups(e);
                        }
                    }),
                    (Op.prototype._onUpdate = function (t) {
                        this._updateAllGroupData(t);
                    }),
                    (Op.prototype._onAdd = function (t) {
                        this._onUpdate(t);
                    }),
                    (Op.prototype._onRemove = function (t) {
                        this._onUpdate(t);
                    }),
                    (Op.prototype._onUpdateGroups = function (t) {
                        this._updateAllGroupData(null, t);
                    }),
                    (Op.prototype._onAddGroups = function (t) {
                        this._onUpdateGroups(t);
                    }),
                    (Op.prototype._onRemoveGroups = function (t) {
                        for (var e = 0; e < t.length; e++) this._removeGroup(t[e]);
                        (this.forceGraphUpdate = !0), this.body.emitter.emit("_change", { queue: !0 });
                    }),
                    (Op.prototype._removeGroup = function (t) {
                        this.groups.hasOwnProperty(t) &&
                            ("right" == this.groups[t].options.yAxisOrientation
                                ? (this.yAxisRight.removeGroup(t), this.legendRight.removeGroup(t), this.legendRight.redraw())
                                : (this.yAxisLeft.removeGroup(t), this.legendLeft.removeGroup(t), this.legendLeft.redraw()),
                            delete this.groups[t]);
                    }),
                    (Op.prototype._updateGroup = function (t, e) {
                        this.groups.hasOwnProperty(e)
                            ? (this.groups[e].update(t),
                              "right" == this.groups[e].options.yAxisOrientation
                                  ? (this.yAxisRight.updateGroup(e, this.groups[e]), this.legendRight.updateGroup(e, this.groups[e]), this.yAxisLeft.removeGroup(e), this.legendLeft.removeGroup(e))
                                  : (this.yAxisLeft.updateGroup(e, this.groups[e]), this.legendLeft.updateGroup(e, this.groups[e]), this.yAxisRight.removeGroup(e), this.legendRight.removeGroup(e)))
                            : ((this.groups[e] = new Mp(t, e, this.options, this.groupsUsingDefaultStyles)),
                              "right" == this.groups[e].options.yAxisOrientation
                                  ? (this.yAxisRight.addGroup(e, this.groups[e]), this.legendRight.addGroup(e, this.groups[e]))
                                  : (this.yAxisLeft.addGroup(e, this.groups[e]), this.legendLeft.addGroup(e, this.groups[e]))),
                            this.legendLeft.redraw(),
                            this.legendRight.redraw();
                    }),
                    (Op.prototype._updateAllGroupData = function (t, e) {
                        if (null != this.itemsData) {
                            var i = {},
                                n = this.itemsData.get(),
                                s = this.itemsData.idProp,
                                r = {};
                            t &&
                                tr(t).call(t, function (t) {
                                    r[t] = t;
                                });
                            for (var o = {}, a = 0; a < n.length; a++) {
                                var l = n[a],
                                    h = l.group;
                                null == h && (h = Np), o.hasOwnProperty(h) ? o[h]++ : (o[h] = 1);
                            }
                            var c = {};
                            if (!e && t)
                                for (h in this.groups)
                                    if (this.groups.hasOwnProperty(h)) {
                                        var d = (m = this.groups[h]).getItems();
                                        i[h] = is(d).call(d, function (t) {
                                            return (c[t[s]] = t[s]), t[s] !== r[t[s]];
                                        });
                                        var u = o[h];
                                        (o[h] -= i[h].length), i[h].length < u && (i[h][u - 1] = {});
                                    }
                            for (a = 0; a < n.length; a++)
                                if ((null == (h = (l = n[a]).group) && (h = Np), e || !t || l[s] === r[l[s]] || !c.hasOwnProperty(l[s]))) {
                                    i.hasOwnProperty(h) || (i[h] = new Array(o[h]));
                                    var p = ih.bridgeObject(l);
                                    (p.x = ih.convert(l.x, "Date")), (p.end = ih.convert(l.end, "Date")), (p.orginalY = l.y), (p.y = Number(l.y)), (p[s] = l[s]);
                                    var f = i[h].length - o[h]--;
                                    i[h][f] = p;
                                }
                            for (h in this.groups) this.groups.hasOwnProperty(h) && (i.hasOwnProperty(h) || (i[h] = new Array(0)));
                            for (h in i)
                                if (i.hasOwnProperty(h))
                                    if (0 == i[h].length) this.groups.hasOwnProperty(h) && this._removeGroup(h);
                                    else {
                                        var m = void 0;
                                        null != this.groupsData && (m = this.groupsData.get(h)), null == m && (m = { id: h, content: this.options.defaultGroup + h }), this._updateGroup(m, h), this.groups[h].setItems(i[h]);
                                    }
                            (this.forceGraphUpdate = !0), this.body.emitter.emit("_change", { queue: !0 });
                        }
                    }),
                    (Op.prototype.redraw = function () {
                        var t = !1;
                        (this.props.width = this.dom.frame.offsetWidth), (this.props.height = this.body.domProps.centerContainer.height - this.body.domProps.border.top - this.body.domProps.border.bottom), (t = this._isResized() || t);
                        var e,
                            i = this.body.range.end - this.body.range.start,
                            n = i != this.lastVisibleInterval;
                        ((this.lastVisibleInterval = i), 1 == t) &&
                            ((this.svg.style.width = ih.option.asSize(3 * this.props.width)),
                            (this.svg.style.left = ih.option.asSize(-this.props.width)),
                            (-1 == ps((e = this.options.height + "")).call(e, "%") && 1 != this.updateSVGheightOnResize) || (this.updateSVGheight = !0));
                        if (
                            (1 == this.updateSVGheight
                                ? (this.options.graphHeight != this.props.height + "px" && ((this.options.graphHeight = this.props.height + "px"), (this.svg.style.height = this.props.height + "px")), (this.updateSVGheight = !1))
                                : (this.svg.style.height = ("" + this.options.graphHeight).replace("px", "") + "px"),
                            1 == t || 1 == n || 1 == this.abortedGraphUpdate || 1 == this.forceGraphUpdate)
                        )
                            (t = this._updateGraph() || t), (this.forceGraphUpdate = !1), (this.lastStart = this.body.range.start), (this.svg.style.left = -this.props.width + "px");
                        else if (0 != this.lastStart) {
                            var s = this.body.range.start - this.lastStart,
                                r = this.body.range.end - this.body.range.start;
                            if (0 != this.props.width) {
                                var o = s * (this.props.width / r);
                                this.svg.style.left = -this.props.width - o + "px";
                            }
                        }
                        return this.legendLeft.redraw(), this.legendRight.redraw(), t;
                    }),
                    (Op.prototype._getSortedGroupIds = function () {
                        var t = [];
                        for (var e in this.groups)
                            if (this.groups.hasOwnProperty(e)) {
                                var i = this.groups[e];
                                1 != i.visible || (void 0 !== this.options.groups.visibility[e] && 1 != this.options.groups.visibility[e]) || t.push({ id: e, zIndex: i.options.zIndex });
                            }
                        ih.insertSort(t, function (t, e) {
                            var i = t.zIndex,
                                n = e.zIndex;
                            return void 0 === i && (i = 0), void 0 === n && (n = 0), i == n ? 0 : i < n ? -1 : 1;
                        });
                        for (var n = new Array(t.length), s = 0; s < t.length; s++) n[s] = t[s].id;
                        return n;
                    }),
                    (Op.prototype._updateGraph = function () {
                        if ((Qr(this.svgElements), 0 != this.props.width && null != this.itemsData)) {
                            var t,
                                e,
                                i = {},
                                n = this.body.util.toGlobalTime(-this.body.domProps.root.width),
                                s = this.body.util.toGlobalTime(2 * this.body.domProps.root.width),
                                r = this._getSortedGroupIds();
                            if (r.length > 0) {
                                var o = {};
                                for (this._getRelevantData(r, o, n, s), this._applySampling(r, o), e = 0; e < r.length; e++) this._convertXcoordinates(o[r[e]]);
                                if ((this._getYRanges(r, o, i), 1 == this._updateYAxis(r, i))) return to(this.svgElements), (this.abortedGraphUpdate = !0), !0;
                                this.abortedGraphUpdate = !1;
                                var a = void 0;
                                for (e = 0; e < r.length; e++)
                                    (t = this.groups[r[e]]),
                                        !0 === this.options.stack &&
                                            "line" === this.options.style &&
                                            ((null != t.options.excludeFromStacking && t.options.excludeFromStacking) ||
                                                (null != a &&
                                                    (this._stack(o[t.id], o[a.id]),
                                                    1 == t.options.shaded.enabled &&
                                                        "group" !== t.options.shaded.orientation &&
                                                        ("top" == t.options.shaded.orientation && "group" !== a.options.shaded.orientation
                                                            ? ((a.options.shaded.orientation = "group"), (a.options.shaded.groupId = t.id))
                                                            : ((t.options.shaded.orientation = "group"), (t.options.shaded.groupId = a.id)))),
                                                (a = t))),
                                        this._convertYcoordinates(o[r[e]], t);
                                var l = {};
                                for (e = 0; e < r.length; e++)
                                    if ("line" === (t = this.groups[r[e]]).options.style && 1 == t.options.shaded.enabled) {
                                        var h = o[r[e]];
                                        if (null == h || 0 == h.length) continue;
                                        if ((l.hasOwnProperty(r[e]) || (l[r[e]] = Dp.calcPath(h, t)), "group" === t.options.shaded.orientation)) {
                                            var c = t.options.shaded.groupId;
                                            if (-1 === ps(r).call(r, c)) {
                                                console.log(t.id + ": Unknown shading group target given:" + c);
                                                continue;
                                            }
                                            l.hasOwnProperty(c) || (l[c] = Dp.calcPath(o[c], this.groups[c])), Dp.drawShading(l[r[e]], t, l[c], this.framework);
                                        } else Dp.drawShading(l[r[e]], t, void 0, this.framework);
                                    }
                                for (Ep.draw(r, o, this.framework), e = 0; e < r.length; e++)
                                    if (((t = this.groups[r[e]]), o[r[e]].length > 0))
                                        switch (t.options.style) {
                                            case "line":
                                                l.hasOwnProperty(r[e]) || (l[r[e]] = Dp.calcPath(o[r[e]], t)), Dp.draw(l[r[e]], t, this.framework);
                                            case "point":
                                            case "points":
                                                ("point" != t.options.style && "points" != t.options.style && 1 != t.options.drawPoints.enabled) || Tp.draw(o[r[e]], t, this.framework);
                                        }
                            }
                        }
                        return to(this.svgElements), !1;
                    }),
                    (Op.prototype._stack = function (t, e) {
                        var i, n, s, r, o;
                        i = 0;
                        for (var a = 0; a < t.length; a++) {
                            (r = void 0), (o = void 0);
                            for (var l = i; l < e.length; l++) {
                                if (e[l].x === t[a].x) {
                                    (r = e[l]), (o = e[l]), (i = l);
                                    break;
                                }
                                if (e[l].x > t[a].x) {
                                    (o = e[l]), (r = 0 == l ? o : e[l - 1]), (i = l);
                                    break;
                                }
                            }
                            void 0 === o && ((r = e[e.length - 1]), (o = e[e.length - 1])), (n = o.x - r.x), (s = o.y - r.y), (t[a].y = 0 == n ? t[a].orginalY + o.y : t[a].orginalY + (s / n) * (t[a].x - r.x) + r.y);
                        }
                    }),
                    (Op.prototype._getRelevantData = function (t, e, i, n) {
                        var s, r, o, a;
                        if (t.length > 0)
                            for (r = 0; r < t.length; r++) {
                                var l = (s = this.groups[t[r]]).getItems();
                                if (1 == na(s.options)) {
                                    var h = function (t, e) {
                                            return t.getTime() == e.getTime() ? 0 : t < e ? -1 : 1;
                                        },
                                        c = Math.max(0, ih.binarySearchValue(l, i, "x", "before", h)),
                                        d = Math.min(l.length, ih.binarySearchValue(l, n, "x", "after", h) + 1);
                                    d <= 0 && (d = l.length);
                                    var u = new Array(d - c);
                                    for (o = c; o < d; o++) (a = s.itemsData[o]), (u[o - c] = a);
                                    e[t[r]] = u;
                                } else e[t[r]] = s.itemsData;
                            }
                    }),
                    (Op.prototype._applySampling = function (t, e) {
                        if (t.length > 0)
                            for (var i = 0; i < t.length; i++)
                                if (1 == this.groups[t[i]].options.sampling) {
                                    var n = e[t[i]];
                                    if (n.length > 0) {
                                        var s,
                                            r = n.length,
                                            o = r / (this.body.util.toGlobalScreen(n[n.length - 1].x) - this.body.util.toGlobalScreen(n[0].x));
                                        s = Math.min(Math.ceil(0.2 * r), Math.max(1, Math.round(o)));
                                        for (var a = new Array(r), l = 0; l < r; l += s) {
                                            a[Math.round(l / s)] = n[l];
                                        }
                                        e[t[i]] = Ma(a).call(a, 0, Math.round(r / s));
                                    }
                                }
                    }),
                    (Op.prototype._getYRanges = function (t, e, i) {
                        var n,
                            s,
                            r,
                            o,
                            a = [],
                            l = [];
                        if (t.length > 0) {
                            for (r = 0; r < t.length; r++)
                                (n = e[t[r]]),
                                    (o = this.groups[t[r]].options),
                                    n.length > 0 && ((s = this.groups[t[r]]), !0 === o.stack && "bar" === o.style ? ("left" === o.yAxisOrientation ? (a = pr(a).call(a, n)) : (l = pr(l).call(l, n))) : (i[t[r]] = s.getYRange(n, t[r])));
                            Ep.getStackedYRange(a, i, t, "__barStackLeft", "left"), Ep.getStackedYRange(l, i, t, "__barStackRight", "right");
                        }
                    }),
                    (Op.prototype._updateYAxis = function (t, e) {
                        var i,
                            n,
                            s = !1,
                            r = !1,
                            o = !1,
                            a = 1e9,
                            l = 1e9,
                            h = -1e9,
                            c = -1e9;
                        if (t.length > 0) {
                            for (var d = 0; d < t.length; d++) {
                                var u = this.groups[t[d]];
                                u && "right" != u.options.yAxisOrientation ? ((r = !0), (a = 1e9), (h = -1e9)) : u && u.options.yAxisOrientation && ((o = !0), (l = 1e9), (c = -1e9));
                            }
                            for (d = 0; d < t.length; d++)
                                e.hasOwnProperty(t[d]) &&
                                    !0 !== e[t[d]].ignore &&
                                    ((i = e[t[d]].min), (n = e[t[d]].max), "right" != e[t[d]].yAxisOrientation ? ((r = !0), (a = a > i ? i : a), (h = h < n ? n : h)) : ((o = !0), (l = l > i ? i : l), (c = c < n ? n : c)));
                            1 == r && this.yAxisLeft.setRange(a, h), 1 == o && this.yAxisRight.setRange(l, c);
                        }
                        (s = this._toggleAxisVisiblity(r, this.yAxisLeft) || s),
                            (s = this._toggleAxisVisiblity(o, this.yAxisRight) || s),
                            1 == o && 1 == r ? ((this.yAxisLeft.drawIcons = !0), (this.yAxisRight.drawIcons = !0)) : ((this.yAxisLeft.drawIcons = !1), (this.yAxisRight.drawIcons = !1)),
                            (this.yAxisRight.master = !r),
                            (this.yAxisRight.masterAxis = this.yAxisLeft),
                            0 == this.yAxisRight.master ? ((this.yAxisLeft.lineOffset = 1 == o ? this.yAxisRight.width : 0), (s = this.yAxisLeft.redraw() || s), (s = this.yAxisRight.redraw() || s)) : (s = this.yAxisRight.redraw() || s);
                        var p = ["__barStackLeft", "__barStackRight", "__lineStackLeft", "__lineStackRight"];
                        for (d = 0; d < p.length; d++) -1 != ps(t).call(t, p[d]) && Ma(t).call(t, ps(t).call(t, p[d]), 1);
                        return s;
                    }),
                    (Op.prototype._toggleAxisVisiblity = function (t, e) {
                        var i = !1;
                        return 0 == t ? e.dom.frame.parentNode && 0 == e.hidden && (e.hide(), (i = !0)) : e.dom.frame.parentNode || 1 != e.hidden || (e.show(), (i = !0)), i;
                    }),
                    (Op.prototype._convertXcoordinates = function (t) {
                        for (var e = this.body.util.toScreen, i = 0; i < t.length; i++)
                            (t[i].screen_x = e(t[i].x) + this.props.width), (t[i].screen_y = t[i].y), null != t[i].end ? (t[i].screen_end = e(t[i].end) + this.props.width) : (t[i].screen_end = void 0);
                    }),
                    (Op.prototype._convertYcoordinates = function (t, e) {
                        var i = this.yAxisLeft,
                            n = Number(this.svg.style.height.replace("px", ""));
                        "right" == e.options.yAxisOrientation && (i = this.yAxisRight);
                        for (var s = 0; s < t.length; s++) t[s].screen_y = Math.round(i.convertValue(t[s].y));
                        e.setZeroPosition(Math.min(n, i.convertValue(0)));
                    });
                var Rp = "string",
                    Vp = "boolean",
                    Lp = "number",
                    jp = "date",
                    Fp = "object",
                    zp = "moment",
                    Hp = {
                        configure: { enabled: { boolean: Vp }, filter: { boolean: Vp, function: "function" }, container: { dom: "dom" }, __type__: { object: Fp, boolean: Vp, function: "function" } },
                        alignCurrentTime: { string: Rp, undefined: "undefined" },
                        yAxisOrientation: { string: ["left", "right"] },
                        defaultGroup: { string: Rp },
                        sort: { boolean: Vp },
                        sampling: { boolean: Vp },
                        stack: { boolean: Vp },
                        graphHeight: { string: Rp, number: Lp },
                        shaded: { enabled: { boolean: Vp }, orientation: { string: ["bottom", "top", "zero", "group"] }, groupId: { object: Fp }, __type__: { boolean: Vp, object: Fp } },
                        style: { string: ["line", "bar", "points"] },
                        barChart: { width: { number: Lp }, minWidth: { number: Lp }, sideBySide: { boolean: Vp }, align: { string: ["left", "center", "right"] }, __type__: { object: Fp } },
                        interpolation: { enabled: { boolean: Vp }, parametrization: { string: ["centripetal", "chordal", "uniform"] }, alpha: { number: Lp }, __type__: { object: Fp, boolean: Vp } },
                        drawPoints: { enabled: { boolean: Vp }, onRender: { function: "function" }, size: { number: Lp }, style: { string: ["square", "circle"] }, __type__: { object: Fp, boolean: Vp, function: "function" } },
                        dataAxis: {
                            showMinorLabels: { boolean: Vp },
                            showMajorLabels: { boolean: Vp },
                            showWeekScale: { boolean: Vp },
                            icons: { boolean: Vp },
                            width: { string: Rp, number: Lp },
                            visible: { boolean: Vp },
                            alignZeros: { boolean: Vp },
                            left: {
                                range: { min: { number: Lp, undefined: "undefined" }, max: { number: Lp, undefined: "undefined" }, __type__: { object: Fp } },
                                format: { function: "function" },
                                title: { text: { string: Rp, number: Lp, undefined: "undefined" }, style: { string: Rp, undefined: "undefined" }, __type__: { object: Fp } },
                                __type__: { object: Fp },
                            },
                            right: {
                                range: { min: { number: Lp, undefined: "undefined" }, max: { number: Lp, undefined: "undefined" }, __type__: { object: Fp } },
                                format: { function: "function" },
                                title: { text: { string: Rp, number: Lp, undefined: "undefined" }, style: { string: Rp, undefined: "undefined" }, __type__: { object: Fp } },
                                __type__: { object: Fp },
                            },
                            __type__: { object: Fp },
                        },
                        legend: {
                            enabled: { boolean: Vp },
                            icons: { boolean: Vp },
                            left: { visible: { boolean: Vp }, position: { string: ["top-right", "bottom-right", "top-left", "bottom-left"] }, __type__: { object: Fp } },
                            right: { visible: { boolean: Vp }, position: { string: ["top-right", "bottom-right", "top-left", "bottom-left"] }, __type__: { object: Fp } },
                            __type__: { object: Fp, boolean: Vp },
                        },
                        groups: { visibility: { any: "any" }, __type__: { object: Fp } },
                        autoResize: { boolean: Vp },
                        throttleRedraw: { number: Lp },
                        clickToUse: { boolean: Vp },
                        end: { number: Lp, date: jp, string: Rp, moment: zp },
                        format: {
                            minorLabels: {
                                millisecond: { string: Rp, undefined: "undefined" },
                                second: { string: Rp, undefined: "undefined" },
                                minute: { string: Rp, undefined: "undefined" },
                                hour: { string: Rp, undefined: "undefined" },
                                weekday: { string: Rp, undefined: "undefined" },
                                day: { string: Rp, undefined: "undefined" },
                                week: { string: Rp, undefined: "undefined" },
                                month: { string: Rp, undefined: "undefined" },
                                quarter: { string: Rp, undefined: "undefined" },
                                year: { string: Rp, undefined: "undefined" },
                                __type__: { object: Fp },
                            },
                            majorLabels: {
                                millisecond: { string: Rp, undefined: "undefined" },
                                second: { string: Rp, undefined: "undefined" },
                                minute: { string: Rp, undefined: "undefined" },
                                hour: { string: Rp, undefined: "undefined" },
                                weekday: { string: Rp, undefined: "undefined" },
                                day: { string: Rp, undefined: "undefined" },
                                week: { string: Rp, undefined: "undefined" },
                                month: { string: Rp, undefined: "undefined" },
                                quarter: { string: Rp, undefined: "undefined" },
                                year: { string: Rp, undefined: "undefined" },
                                __type__: { object: Fp },
                            },
                            __type__: { object: Fp },
                        },
                        moment: { function: "function" },
                        height: { string: Rp, number: Lp },
                        hiddenDates: { start: { date: jp, number: Lp, string: Rp, moment: zp }, end: { date: jp, number: Lp, string: Rp, moment: zp }, repeat: { string: Rp }, __type__: { object: Fp, array: "array" } },
                        locale: { string: Rp },
                        locales: { __any__: { any: "any" }, __type__: { object: Fp } },
                        max: { date: jp, number: Lp, string: Rp, moment: zp },
                        maxHeight: { number: Lp, string: Rp },
                        maxMinorChars: { number: Lp },
                        min: { date: jp, number: Lp, string: Rp, moment: zp },
                        minHeight: { number: Lp, string: Rp },
                        moveable: { boolean: Vp },
                        multiselect: { boolean: Vp },
                        orientation: { string: Rp },
                        showCurrentTime: { boolean: Vp },
                        showMajorLabels: { boolean: Vp },
                        showMinorLabels: { boolean: Vp },
                        showWeekScale: { boolean: Vp },
                        snap: { function: "function", null: "null" },
                        start: { date: jp, number: Lp, string: Rp, moment: zp },
                        timeAxis: { scale: { string: Rp, undefined: "undefined" }, step: { number: Lp, undefined: "undefined" }, __type__: { object: Fp } },
                        width: { string: Rp, number: Lp },
                        zoomable: { boolean: Vp },
                        zoomKey: { string: ["ctrlKey", "altKey", "metaKey", ""] },
                        zoomMax: { number: Lp },
                        zoomMin: { number: Lp },
                        zIndex: { number: Lp },
                        __type__: { object: Fp },
                    },
                    Wp = {
                        global: {
                            alignCurrentTime: ["none", "year", "month", "quarter", "week", "isoWeek", "day", "date", "hour", "minute", "second"],
                            sort: !0,
                            sampling: !0,
                            stack: !1,
                            shaded: { enabled: !1, orientation: ["zero", "top", "bottom", "group"] },
                            style: ["line", "bar", "points"],
                            barChart: { width: [50, 5, 100, 5], minWidth: [50, 5, 100, 5], sideBySide: !1, align: ["left", "center", "right"] },
                            interpolation: { enabled: !0, parametrization: ["centripetal", "chordal", "uniform"] },
                            drawPoints: { enabled: !0, size: [6, 2, 30, 1], style: ["square", "circle"] },
                            dataAxis: {
                                showMinorLabels: !0,
                                showMajorLabels: !0,
                                showWeekScale: !1,
                                icons: !1,
                                width: [40, 0, 200, 1],
                                visible: !0,
                                alignZeros: !0,
                                left: { title: { text: "", style: "" } },
                                right: { title: { text: "", style: "" } },
                            },
                            legend: {
                                enabled: !1,
                                icons: !0,
                                left: { visible: !0, position: ["top-right", "bottom-right", "top-left", "bottom-left"] },
                                right: { visible: !0, position: ["top-right", "bottom-right", "top-left", "bottom-left"] },
                            },
                            autoResize: !0,
                            clickToUse: !1,
                            end: "",
                            format: {
                                minorLabels: { millisecond: "SSS", second: "s", minute: "HH:mm", hour: "HH:mm", weekday: "ddd D", day: "D", week: "w", month: "MMM", quarter: "[Q]Q", year: "YYYY" },
                                majorLabels: { millisecond: "HH:mm:ss", second: "D MMMM HH:mm", minute: "ddd D MMMM", hour: "ddd D MMMM", weekday: "MMMM YYYY", day: "MMMM YYYY", week: "MMMM YYYY", month: "YYYY", quarter: "YYYY", year: "" },
                            },
                            height: "",
                            locale: "",
                            max: "",
                            maxHeight: "",
                            maxMinorChars: [7, 0, 20, 1],
                            min: "",
                            minHeight: "",
                            moveable: !0,
                            orientation: ["both", "bottom", "top"],
                            showCurrentTime: !1,
                            showMajorLabels: !0,
                            showMinorLabels: !0,
                            showWeekScale: !1,
                            start: "",
                            width: "100%",
                            zoomable: !0,
                            zoomKey: ["ctrlKey", "altKey", "metaKey", ""],
                            zoomMax: [31536e10, 10, 31536e10, 1],
                            zoomMin: [10, 10, 31536e10, 1],
                            zIndex: 0,
                        },
                    };
                function Bp(t, e, i, n) {
                    var s, r, o, a, l, h, c;
                    if (!er(i) && !ql("id", i) && i instanceof Object) {
                        var d = n;
                        (n = i), (i = d);
                    }
                    n && n.throttleRedraw && console.warn('Graph2d option "throttleRedraw" is DEPRICATED and no longer supported. It will be removed in the next MAJOR release.');
                    var u = this;
                    (this.defaultOptions = { start: null, end: null, autoResize: !0, orientation: { axis: "bottom", item: "bottom" }, moment: Xl, width: null, height: null, maxHeight: null, minHeight: null }),
                        (this.options = ih.deepExtend({}, this.defaultOptions)),
                        this._create(t),
                        (this.components = []),
                        (this.body = {
                            dom: this.dom,
                            domProps: this.props,
                            emitter: { on: ll((s = this.on)).call(s, this), off: ll((r = this.off)).call(r, this), emit: ll((o = this.emit)).call(o, this) },
                            hiddenDates: [],
                            util: {
                                getScale: function () {
                                    return u.timeAxis.step.scale;
                                },
                                getStep: function () {
                                    return u.timeAxis.step.step;
                                },
                                toScreen: ll((a = u._toScreen)).call(a, u),
                                toGlobalScreen: ll((l = u._toGlobalScreen)).call(l, u),
                                toTime: ll((h = u._toTime)).call(h, u),
                                toGlobalTime: ll((c = u._toGlobalTime)).call(c, u),
                            },
                        }),
                        (this.range = new Sh(this.body)),
                        this.components.push(this.range),
                        (this.body.range = this.range),
                        (this.timeAxis = new Pd(this.body)),
                        this.components.push(this.timeAxis),
                        (this.currentTime = new Wd(this.body)),
                        this.components.push(this.currentTime),
                        (this.linegraph = new Op(this.body)),
                        this.components.push(this.linegraph),
                        (this.itemsData = null),
                        (this.groupsData = null),
                        this.on("tap", function (t) {
                            u.emit("click", u.getEventProperties(t));
                        }),
                        this.on("doubletap", function (t) {
                            u.emit("doubleClick", u.getEventProperties(t));
                        }),
                        (this.dom.root.oncontextmenu = function (t) {
                            u.emit("contextmenu", u.getEventProperties(t));
                        }),
                        (this.initialFitDone = !1),
                        this.on("changed", function () {
                            if (null != u.itemsData) {
                                if (!u.initialFitDone && !u.options.rollingMode)
                                    if (((u.initialFitDone = !0), null != u.options.start || null != u.options.end)) {
                                        if (null == u.options.start || null == u.options.end) var t = u.getItemRange();
                                        var e = null != u.options.start ? u.options.start : t.min,
                                            i = null != u.options.end ? u.options.end : t.max;
                                        u.setWindow(e, i, { animation: !1 });
                                    } else u.fit({ animation: !1 });
                                u.initialDrawDone ||
                                    (!u.initialRangeChangeDone && (u.options.start || u.options.end) && !u.options.rollingMode) ||
                                    ((u.initialDrawDone = !0),
                                    (u.dom.root.style.visibility = "visible"),
                                    u.dom.loadingScreen.parentNode.removeChild(u.dom.loadingScreen),
                                    u.options.onInitialDrawComplete &&
                                        Ra(function () {
                                            return u.options.onInitialDrawComplete();
                                        }, 0));
                            }
                        }),
                        n && this.setOptions(n),
                        i && this.setGroups(i),
                        e && this.setItems(e),
                        this._redraw();
                }
                (Bp.prototype = new zd()),
                    (Bp.prototype.setOptions = function (t) {
                        !0 === ip.validate(t, Hp) && console.log("%cErrors have been found in the supplied options object.", ep), zd.prototype.setOptions.call(this, t);
                    }),
                    (Bp.prototype.setItems = function (t) {
                        var e,
                            i = null == this.itemsData;
                        if (((e = t ? (ql("id", e) ? eh(t) : eh(new Ul(t))) : null), this.itemsData && this.itemsData.dispose(), (this.itemsData = e), this.linegraph && this.linegraph.setItems(null != e ? e.rawDS : null), i))
                            if (null != this.options.start || null != this.options.end) {
                                var n = null != this.options.start ? this.options.start : null,
                                    s = null != this.options.end ? this.options.end : null;
                                this.setWindow(n, s, { animation: !1 });
                            } else this.fit({ animation: !1 });
                    }),
                    (Bp.prototype.setGroups = function (t) {
                        var e;
                        (e = t ? (ql("id", t) ? t : new Ul(t)) : null), (this.groupsData = e), this.linegraph.setGroups(e);
                    }),
                    (Bp.prototype.getLegend = function (t, e, i) {
                        return void 0 === e && (e = 15), void 0 === i && (i = 15), void 0 !== this.linegraph.groups[t] ? this.linegraph.groups[t].getLegend(e, i) : "cannot find group:'" + t + "'";
                    }),
                    (Bp.prototype.isGroupVisible = function (t) {
                        return void 0 !== this.linegraph.groups[t] && this.linegraph.groups[t].visible && (void 0 === this.linegraph.options.groups.visibility[t] || 1 == this.linegraph.options.groups.visibility[t]);
                    }),
                    (Bp.prototype.getDataRange = function () {
                        var t = null,
                            e = null;
                        for (var i in this.linegraph.groups)
                            if (this.linegraph.groups.hasOwnProperty(i) && 1 == this.linegraph.groups[i].visible)
                                for (var n = 0; n < this.linegraph.groups[i].itemsData.length; n++) {
                                    var s = this.linegraph.groups[i].itemsData[n],
                                        r = ih.convert(s.x, "Date").valueOf();
                                    (t = null == t || t > r ? r : t), (e = null == e || e < r ? r : e);
                                }
                        return { min: null != t ? new Date(t) : null, max: null != e ? new Date(e) : null };
                    }),
                    (Bp.prototype.getEventProperties = function (t) {
                        var e = t.center ? t.center.x : t.clientX,
                            i = t.center ? t.center.y : t.clientY,
                            n = e - ih.getAbsoluteLeft(this.dom.centerContainer),
                            s = i - ih.getAbsoluteTop(this.dom.centerContainer),
                            r = this._toTime(n),
                            o = Fd.customTimeFromTarget(t),
                            a = ih.getTarget(t),
                            l = null;
                        ih.hasParent(a, this.timeAxis.dom.foreground) || (this.timeAxis2 && ih.hasParent(a, this.timeAxis2.dom.foreground))
                            ? (l = "axis")
                            : ih.hasParent(a, this.linegraph.yAxisLeft.dom.frame) || ih.hasParent(a, this.linegraph.yAxisRight.dom.frame)
                            ? (l = "data-axis")
                            : ih.hasParent(a, this.linegraph.legendLeft.dom.frame) || ih.hasParent(a, this.linegraph.legendRight.dom.frame)
                            ? (l = "legend")
                            : null != o
                            ? (l = "custom-time")
                            : ih.hasParent(a, this.currentTime.bar)
                            ? (l = "current-time")
                            : ih.hasParent(a, this.dom.center) && (l = "background");
                        var h = [],
                            c = this.linegraph.yAxisLeft,
                            d = this.linegraph.yAxisRight;
                        return (
                            !c.hidden && this.itemsData.length > 0 && h.push(c.screenToValue(s)),
                            !d.hidden && this.itemsData.length > 0 && h.push(d.screenToValue(s)),
                            { event: t, customTime: o ? o.options.id : null, what: l, pageX: t.srcEvent ? t.srcEvent.pageX : t.pageX, pageY: t.srcEvent ? t.srcEvent.pageY : t.pageY, x: n, y: s, time: r, value: h }
                        );
                    }),
                    (Bp.prototype._createConfigurator = function () {
                        return new vp(this, this.dom.container, Wp);
                    });
                var Yp = oo();
                Xl.locale(Yp);
                var Up = i(6627),
                    Gp = i(894),
                    qp = i(2226),
                    Xp = i(8795),
                    Kp = i(8927);
                i(8016), i(9524);
                class Zp extends n.iC {
                    config() {
                        const t = this,
                            e = t.app.getService("locale")._;
                        return {
                            localId: "report",
                            disabled: !0,
                            cols: [
                                {
                                    rows: [
                                        {
                                            view: "toolbar",
                                            cols: [
                                                {
                                                    localId: "subject",
                                                    view: "template",
                                                    borderless: !0,
                                                    type: "header",
                                                    template(t) {
                                                        if (!t.id) return e("report.title");
                                                        var i = '<div style="display: flex; align-items: center; white-space: nowrap; overflow: hidden;">';
                                                        let n = "";
                                                        switch (t.status) {
                                                            case "template":
                                                                n = "mdi-file";
                                                                break;
                                                            case "created":
                                                                n = "mdi-clock";
                                                                break;
                                                            case "started":
                                                                n = "mdi-play";
                                                                break;
                                                            case "paused":
                                                                n = "mdi-pause";
                                                                break;
                                                            case "stopped":
                                                                n = "mdi-stop";
                                                                break;
                                                            case "skipped":
                                                                n = "mdi-block-helper";
                                                                break;
                                                            case "accepted":
                                                                n = "mdi-thumb-up";
                                                                break;
                                                            case "rejected":
                                                                n = "mdi-thumb-down";
                                                        }
                                                        if ((t.stoppedAt && !t.complete && (n = "mdi-autorenew mdi-spin"), n)) {
                                                            const s = e("sessions.status." + t.status);
                                                            i += '<div class="status status_'.concat(t.status, '" title="').concat(s, '"><span class="mdi ').concat(n, '"></span></div>');
                                                        }
                                                        if ("number" == typeof t.score) {
                                                            const e = t.score;
                                                            i += '<div class="status" style="background-color: hsla('
                                                                .concat(e, ', 75%, 60%, 0.8); color: white; font-size: 10px; font-weight: bold;" title="')
                                                                .concat(e, '%">')
                                                                .concat(e, "</div>");
                                                        }
                                                        if (t.proctor) {
                                                            const e = (0, s.aF)(t.comment || "", 100);
                                                            i += '<div class="status" title="'.concat(e, '"><span class="mdi mdi-account-check"></span></div>');
                                                        }
                                                        if ((t.incidents && (i += '<div class="status" title="'.concat(t.incidents, '"><span class="mdi mdi-chat-alert"></span></div>')), t.error)) {
                                                            const e = (0, s.aF)(t.error || "", 100);
                                                            i += '<div class="status" title="'.concat(e, '"><span class="mdi mdi-bug"></span></div>');
                                                        }
                                                        i += "<div style=\"margin: 0 10px; overflow: hidden;\"><a class='subject_link' data-id='".concat(t.id, "'>").concat(t.subject, "</a></div>");
                                                        const r = t.student || {};
                                                        let o = "mdi-account-outline";
                                                        return (
                                                            r.face && (o = "mdi-face-recognition"),
                                                            r.passport && (o = "mdi-card-account-details-outline"),
                                                            r.similar && r.similar.length && (o = "mdi-account-switch"),
                                                            "boolean" == typeof r.verified && (o = r.verified ? "mdi-fingerprint" : "mdi-fingerprint-off"),
                                                            r.nickname &&
                                                                ((i += '<div class="status" style="background-color: #ffffffcc;"><span class="mdi '.concat(o, '"></span></div>')),
                                                                (i += '<div style="margin: 0 10px; overflow: hidden;"><a class="student_link" data-id="'.concat(r.id, '">').concat(r.nickname, "</a></div>"))),
                                                            (i += "</div>")
                                                        );
                                                    },
                                                    onClick: {
                                                        subject_link(e) {
                                                            t.roomViewer.open(e.target.dataset.id);
                                                        },
                                                        student_link(e) {
                                                            t.userViewer.open(e.target.dataset.id);
                                                        },
                                                    },
                                                },
                                                {
                                                    view: "button",
                                                    type: "icon",
                                                    icon: "mdi mdi-file-pdf",
                                                    label: e("report.buttons.pdf"),
                                                    autowidth: !0,
                                                    click() {
                                                        const i = t.$$("subject").getValues();
                                                        i.pdf ? window.open("".concat(s.hj.url, "/api/storage/").concat(i.pdf, "?download=1&token=").concat(s.hj.token)) : webix.message({ type: "error", text: e("report.messages.nopdf") });
                                                    },
                                                },
                                                {
                                                    view: "button",
                                                    css: "webix_danger",
                                                    label: e("report.buttons.submit"),
                                                    autowidth: !0,
                                                    click() {
                                                        const e = t.$$("subject"),
                                                            i = t.$$("supervision"),
                                                            n = e.getValues();
                                                        (0, s.hj)("/api/chat/".concat(n.id, "?filter[type]=remark")).then((s) => {
                                                            const r = (s || [])
                                                                .sort((t, e) => (t.createdAt > e.createdAt ? -1 : 1))
                                                                .map((t) => "[".concat(webix.Date.parseDate(t.createdAt, webix.i18n.fullDateFormat), "] ").concat(t.message));
                                                            t.roomSubmit.open({ roomId: n.id, conclusion: n.conclusion, comment: n.comment || r.join("\n") }, function (t) {
                                                                e.setValues(t), e.refresh(), i.updateItem(n.id, n);
                                                            });
                                                        });
                                                    },
                                                },
                                            ],
                                        },
                                        {
                                            localId: "supervision",
                                            view: "supervision",
                                            select: !1,
                                            footer: [
                                                { view: "text", template: (t) => t.nickname || "Guest" },
                                                {
                                                    view: "button",
                                                    css: "mute_btn",
                                                    tooltip: e("vision.tooltips.mute"),
                                                    template: (t) => (t.$muted ? '<span class="mdi mdi-volume-mute"></span>' : '<span class="mdi mdi-volume-high"></span>'),
                                                },
                                                {
                                                    view: "button",
                                                    css: "single_btn",
                                                    tooltip: e("vision.tooltips.single"),
                                                    template: (t) => (t.$single ? '<span class="mdi mdi-window-maximize"></span>' : '<span class="mdi mdi-window-restore"></span>'),
                                                },
                                            ],
                                            onClick: {
                                                single_btn(t) {
                                                    var e = this.locate(t),
                                                        i = this.getItem(e);
                                                    this.updateItem(e, { $single: !i.$single });
                                                },
                                                mute_btn(t) {
                                                    var e = this.locate(t),
                                                        i = this.getItem(e);
                                                    this.updateItem(e, { $muted: !i.$muted });
                                                },
                                                maximize_btn(t) {
                                                    var e = this.locate(t),
                                                        i = this.getItem(e);
                                                    this.updateItem(i.id, { $maximized: !i.$maximized });
                                                    var n = this.getItem(i.$parent);
                                                    this.updateItem(n.id, { $maximized: !n.$maximized });
                                                },
                                            },
                                            on: {
                                                onPlay() {
                                                    t.$$("play_btn").setValue(!0);
                                                },
                                                onPause() {
                                                    t.$$("play_btn").setValue();
                                                },
                                            },
                                        },
                                        { localId: "vis", view: "view", maxHeight: 152, css: { overflow: "visible" } },
                                        {
                                            view: "toolbar",
                                            type: "header",
                                            height: 32,
                                            elements: [
                                                {
                                                    localId: "play_btn",
                                                    view: "toggle",
                                                    css: "toggle_transparent",
                                                    type: "icon",
                                                    onIcon: "mdi mdi-pause",
                                                    offIcon: "mdi mdi-play",
                                                    onLabel: e("report.buttons.pause"),
                                                    offLabel: e("report.buttons.play"),
                                                    hotkey: "Ctrl+Space",
                                                    on: {
                                                        onChange(e) {
                                                            t._hasPause = !e;
                                                            const i = t.$$("supervision");
                                                            t._hasPause ? i.pause() : i.play();
                                                        },
                                                    },
                                                },
                                                {
                                                    view: "icon",
                                                    icon: "mdi mdi-plus",
                                                    width: 32,
                                                    tooltip: e("report.buttons.zoomin"),
                                                    click() {
                                                        t._timeline && t._timeline.zoomIn(0.5);
                                                    },
                                                },
                                                {
                                                    view: "icon",
                                                    icon: "mdi mdi-minus",
                                                    width: 32,
                                                    tooltip: e("report.buttons.zoomout"),
                                                    click() {
                                                        t._timeline && t._timeline.zoomOut(0.5);
                                                    },
                                                },
                                                {
                                                    localId: "speed_sel",
                                                    view: "richselect",
                                                    maxWidth: 100,
                                                    tooltip: e("report.buttons.speed"),
                                                    value: "1.00",
                                                    options: [
                                                        { id: "5.00", value: "<small>x</small> 5.00" },
                                                        { id: "3.00", value: "<small>x</small> 3.00" },
                                                        { id: "2.00", value: "<small>x</small> 2.00" },
                                                        { id: "1.50", value: "<small>x</small> 1.50" },
                                                        { id: "1.25", value: "<small>x</small> 1.25" },
                                                        { id: "1.00", value: "<small>x</small> 1.00" },
                                                    ],
                                                    on: {
                                                        onChange(e) {
                                                            (t.playbackRate = parseFloat(e)), t.$$("supervision").speed(t.playbackRate);
                                                        },
                                                    },
                                                },
                                            ],
                                        },
                                    ],
                                },
                                { view: "resizer" },
                                {
                                    maxWidth: 300,
                                    minWidth: 150,
                                    header: e("report.chat"),
                                    body: {
                                        rows: [
                                            {
                                                localId: "tabs",
                                                view: "tabview",
                                                tabbar: { tabMinWidth: 45 },
                                                cells: [
                                                    {
                                                        header: '<span class="webix_icon mdi mdi-comment-text-multiple-outline"></span>',
                                                        body: {
                                                            localId: "messages_list",
                                                            view: "chatlist",
                                                            navigation: !1,
                                                            userId: s.EA.get("id"),
                                                            ajax: s.hj,
                                                            on: {
                                                                onItemClick(e, i) {
                                                                    ("IMG" !== i.target.tagName && "VIDEO" !== i.target.tagName) || (i.preventDefault(), i.stopPropagation(), t.imageViewer.open(i.target));
                                                                },
                                                                onBeforeLoad() {
                                                                    this.config.full = !1;
                                                                },
                                                                onAfterLoad() {
                                                                    this.sort("#createdAt#", "asc", "string");
                                                                },
                                                                onAfterRender() {
                                                                    this.getNode().scrollTop = 5;
                                                                },
                                                                onAfterScroll() {
                                                                    if (!this.config.full) {
                                                                        var e = this.getNode(),
                                                                            i = this.count();
                                                                        if (0 === e.scrollTop && i > 0) {
                                                                            e.scrollTop = 30;
                                                                            var n = this.getFirstId();
                                                                            this.load(t.getURL("message", i), function () {
                                                                                this.showItem(n), this.count() === i && (this.config.full = !0);
                                                                            });
                                                                        }
                                                                    }
                                                                },
                                                            },
                                                            onClick: {
                                                                webix_chatlist_link(e) {
                                                                    t.userViewer.open(e.target.dataset.id);
                                                                },
                                                            },
                                                        },
                                                    },
                                                    {
                                                        header: '<span class="webix_icon mdi mdi-face-recognition"></span>',
                                                        body: {
                                                            localId: "faces_list",
                                                            view: "chatlist",
                                                            navigation: !1,
                                                            ajax: s.hj,
                                                            on: {
                                                                onItemClick(e, i) {
                                                                    ("IMG" !== i.target.tagName && "VIDEO" !== i.target.tagName) || (i.preventDefault(), i.stopPropagation(), t.imageViewer.open(i.target, this.getItem(e).metadata));
                                                                },
                                                                onBeforeLoad() {
                                                                    this.config.full = !1;
                                                                },
                                                                onAfterLoad() {
                                                                    this.sort("#createdAt#", "asc", "string");
                                                                },
                                                                onAfterRender() {
                                                                    this.getNode().scrollTop = 5;
                                                                },
                                                                onAfterScroll() {
                                                                    if (!this.config.full) {
                                                                        var e = this.getNode(),
                                                                            i = this.count();
                                                                        if (0 === e.scrollTop && i > 0) {
                                                                            e.scrollTop = 5;
                                                                            var n = this.getFirstId();
                                                                            this.load(t.getURL("face", i), function () {
                                                                                this.showItem(n), this.count() === i && (this.config.full = !0);
                                                                            });
                                                                        }
                                                                    }
                                                                },
                                                            },
                                                            onClick: {
                                                                webix_chatlist_link(e) {
                                                                    t.userViewer.open(e.target.dataset.id);
                                                                },
                                                            },
                                                        },
                                                    },
                                                    {
                                                        header: '<span class="webix_icon mdi mdi-chart-bar"></span>',
                                                        body: {
                                                            localId: "events_list",
                                                            view: "chatlist",
                                                            navigation: !1,
                                                            ajax: s.hj,
                                                            on: {
                                                                onItemClick(e, i) {
                                                                    ("IMG" !== i.target.tagName && "VIDEO" !== i.target.tagName) || (i.preventDefault(), i.stopPropagation(), t.imageViewer.open(i.target));
                                                                },
                                                                onBeforeLoad() {
                                                                    this.config.full = !1;
                                                                },
                                                                onAfterLoad() {
                                                                    this.sort("#createdAt#", "asc", "string");
                                                                },
                                                                onAfterRender() {
                                                                    this.getNode().scrollTop = 5;
                                                                },
                                                                onAfterScroll() {
                                                                    if (!this.config.full) {
                                                                        var e = this.getNode(),
                                                                            i = this.count();
                                                                        if (0 === e.scrollTop && i > 0) {
                                                                            e.scrollTop = 5;
                                                                            var n = this.getFirstId();
                                                                            this.load(t.getURL("event", i), function () {
                                                                                this.showItem(n), this.count() === i && (this.config.full = !0);
                                                                            });
                                                                        }
                                                                    }
                                                                },
                                                            },
                                                            onClick: {
                                                                webix_chatlist_link(e) {
                                                                    t.userViewer.open(e.target.dataset.id);
                                                                },
                                                            },
                                                        },
                                                    },
                                                ],
                                            },
                                            {
                                                localId: "events_bar",
                                                view: "chart",
                                                maxHeight: 186,
                                                type: "bar",
                                                value: "#percent#",
                                                label: "#percent#",
                                                color: "#color#",
                                                xAxis: { template: "#id#", lines: !1 },
                                                yAxis: { start: 0, end: 100, step: 25, color: "white", template: "" },
                                                tooltip: { template: "#tooltip# (#id#)" },
                                                padding: { left: 15, right: 15, top: 15, bottom: 30 },
                                            },
                                        ],
                                    },
                                },
                            ],
                        };
                    }
                    init() {
                        (this._hasPause = !0),
                            (this.roomViewer = this.ui(Up.default)),
                            (this.userViewer = this.ui(qp.default)),
                            (this.imageViewer = this.ui(Xp.default)),
                            (this.roomSubmit = this.ui(Gp.default)),
                            (this.remarkEditor = this.ui(Kp.default)),
                            (this.stopHandler = this.stopHandler.bind(this)),
                            s.Wb.on("room:stop", this.stopHandler);
                    }
                    destroy() {
                        s.Wb.off("room:stop", this.stopHandler), this.removeTimeline();
                    }
                    urlChange(t, e) {
                        this.resetUI();
                        var i = e[0].params.id;
                        i &&
                            (0, s.hj)("/api/room/".concat(i, "?populate=student"))
                                .then((t) => {
                                    t && t.startedAt && this.loadUI(t);
                                })
                                .catch(console.error);
                    }
                    stopHandler() {
                        let t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
                        const e = this.$$("subject");
                        if (!e) return;
                        (e.getValues() || {}).id === t.id && e.setValues(t);
                    }
                    createTimeline(t) {
                        const e = this,
                            i = e.$$("supervision"),
                            n = e.app.getService("locale"),
                            r = n._,
                            o = n.getLang,
                            a = 36e5,
                            l = 6e4,
                            h = 1e3,
                            c = t.timesheet || {},
                            d = new Date(c.firstAt ? ~~((new Date(c.firstAt).getTime() - l) / l) * l : ~~(new Date(t.startedAt).getTime() / l) * l),
                            u = new Date(c.lastAt ? ~~(new Date(c.lastAt).getTime() / l) * l : ~~(new Date(t.stoppedAt || Date.now()).getTime() / l) * l);
                        var p = {
                                start: d,
                                end: u - d > a ? new Date(d.getTime() + a) : u,
                                min: d,
                                max: u,
                                zoomMin: l,
                                editable: !1,
                                height: "100%",
                                stack: !1,
                                showCurrentTime: !1,
                                selectable: !1,
                                tooltip: { followMouse: !0 },
                                locale: o(),
                                orientation: { axis: "top", item: "top" },
                                groupHeightMode: "fixed",
                            },
                            f = new Ul([]),
                            m = new Ul([
                                { id: "message", content: '<div class="mdi mdi-comment-text-outline" style="height: 32px; width: 14px;"></div>' },
                                { id: "video", content: '<div class="mdi mdi-camera" style="height: 24px; width: 14px;"></div>' },
                                { id: "event", content: '<div class="mdi mdi-chart-bar" style="height: 24px; width: 14px;"></div>' },
                            ]);
                        const g = (e._timeline = new yp(e.$$("vis").getNode(), f, m, p));
                        g.addCustomTime(d);
                        var v = {},
                            b = d,
                            y = !1,
                            w = {};
                        g.on("timechanged", (t) => {
                            b = t.time;
                        }),
                            g.on("click", (t) => {
                                t.event.preventDefault(), (b = t.time), g.setCustomTime(b), (y = !0);
                            }),
                            g.on("contextmenu", (i) => {
                                i.event.preventDefault(),
                                    e.remarkEditor.open({ id: i.item, room: t.id, createdAt: i.time }, (t) => {
                                        t
                                            ? i.item
                                                ? f.update({ id: i.item, title: (0, s.aF)(t.message, 30) })
                                                : t.id &&
                                                  f.add({
                                                      id: t.id,
                                                      group: "message",
                                                      start: new Date(t.createdAt),
                                                      title: (0, s.aF)(t.message, 30),
                                                      style: "background-color: hsla(255, 100%, 80%, 0.8); color: white;",
                                                      content: '<span class="mdi mdi-lead-pencil"></span>',
                                                  })
                                            : f.remove(i.item);
                                    });
                            }),
                            (e._timer = setInterval(() => {
                                if (e._hasPause) return;
                                const n = e.playbackRate || 1;
                                (b = new Date(b.getTime() + h * n)) < u && (g.setCustomTime(b), g.moveTo(b, { animation: !0 }));
                                const r = f.get({ filter: (t) => "video" === t.group && t.start <= b && t.end > b }).reduce((t, e) => {
                                    const i = e.videos || [];
                                    for (let n = 0; n < i.length; n++) {
                                        const s = i[n];
                                        t[s.id] = { t: e.start, u: e.user, i: s.id, p: s.poster, s: s.source, f: s.name };
                                    }
                                    return t;
                                }, {});
                                if (!Object.keys(r).length)
                                    for (let t in v) {
                                        const e = v[t],
                                            i = b.getTime();
                                        e.t <= i && e.t + e.d >= i && (r[e.f] = { t: e.t, u: e.u, f: e.f, s: e.s });
                                    }
                                var o = (0, s.bt)(Object.keys(r), Object.keys(w));
                                (w = r),
                                    o.left.forEach((e) => {
                                        const n = r[e],
                                            o = document.createElement("video");
                                        o.setAttribute("autoplay", ""),
                                            o.setAttribute("playsinline", ""),
                                            (o.autoplay = !0),
                                            (o.playsinline = !0),
                                            (o.dataset.spinner = !0),
                                            (o.dataset.source = n.s),
                                            (o.alt = n.f),
                                            n.p && (o.poster = "/api/storage/".concat(n.p, "?token=").concat(s.hj.token)),
                                            n.i ? (o.src = "/api/storage/".concat(n.i, "?token=").concat(s.hj.token)) : n.f && (o.src = "/api/archive/".concat(t.id, "/").concat(n.f, "?token=").concat(s.hj.token)),
                                            (o.onplay = function () {
                                                var t = (b.getTime() - n.t) / h;
                                                this.currentTime = t;
                                            }),
                                            (o.onplaying = function () {
                                                (o.dataset.video = !0), delete o.dataset.spinner;
                                            }),
                                            i.add({ id: e, user: n.u || "guest", room: t.id, $video: o });
                                    }),
                                    o.right.forEach((t) => {
                                        i.remove(t);
                                    }),
                                    y &&
                                        ((y = !1),
                                        o.joint.forEach((t) => {
                                            var e = r[t],
                                                n = (b.getTime() - e.t) / h,
                                                s = i.getVideo(t);
                                            s && (s.currentTime = n);
                                        }));
                            }, h)),
                            (0, s.hj)("/api/chat/".concat(t.id, "?sort[id]=1"))
                                .then((i) => {
                                    if (i)
                                        for (let n = 0; n < i.length; n++) {
                                            const r = i[n],
                                                o = r.metadata || {};
                                            switch (r.type) {
                                                case "event": {
                                                    const i = o.metrics,
                                                        n = void 0 === i ? {} : i,
                                                        a = o.peak,
                                                        h = o.violated,
                                                        c = ~~((new Date(r.createdAt).getTime() - l) / l) * l;
                                                    let d = 100;
                                                    const u = {};
                                                    (t.metrics || []).forEach((e, i) => {
                                                        var s = ~~((n[e] || 0) * (t.weights[i] || 1));
                                                        (d -= s), (u[e] = s);
                                                    }),
                                                        d < 0 && (d = 0);
                                                    const p = [],
                                                        m = r.attach || [];
                                                    let g = "";
                                                    m
                                                        .sort((t, e) => (t.filename > e.filename ? -1 : 1))
                                                        .forEach((t) => {
                                                            const e = (t.filename || "").split("."),
                                                                i = e.pop(),
                                                                n = e.shift();
                                                            if ("webm" !== i) return;
                                                            const r = m.find((t) => new RegExp("^".concat(n, ".jpg")).test(t.filename)) || {};
                                                            p.push({ source: n, id: t.id, poster: r.id, name: t.filename }),
                                                                r.id && (g += '<img src="'.concat(s.hj.url, "/api/storage/").concat(r.id, "?token=").concat(s.hj.token, '" class="report__timeline_img"/>'));
                                                        }),
                                                        f.get("".concat(c)) ||
                                                            (f.add({
                                                                id: "".concat(c),
                                                                type: "range",
                                                                group: "video",
                                                                start: new Date(c),
                                                                end: new Date(c + l),
                                                                style: "font-size: 0.8em; text-align: center; color: white; background: hsla(220, 80%, 80%, 0.5);",
                                                                videos: p,
                                                                user: r.user,
                                                                title: g,
                                                                content: '<span class="mdi mdi-camera"></span> '.concat(p.length),
                                                            }),
                                                            f.add({
                                                                id: "".concat(c, "_ev"),
                                                                type: "range",
                                                                group: "event",
                                                                start: new Date(c),
                                                                end: new Date(c + l),
                                                                title: e.drawMetricsHist(u),
                                                                style: "font-size: 0.8em; text-align: center; color: white; background-color: hsla(".concat(h ? 0 : 100, ", 75%, 60%, 0.5)"),
                                                                content: '<span class="mdi mdi-chart-bar"></span> '.concat(n[a] || 0),
                                                                user: r.user,
                                                            }),
                                                            f.add({
                                                                id: "".concat(c, "_bg"),
                                                                type: "background",
                                                                start: new Date(c),
                                                                end: new Date(c + l),
                                                                style: "background-color: hsla(".concat(d, ", 75%, 60%, 0.25);"),
                                                                title: e.drawMetricsHist(u),
                                                            }));
                                                    break;
                                                }
                                                case "face": {
                                                    const t = o.verified,
                                                        e = o.similar;
                                                    let i = 100;
                                                    t ? (e || []).length > 0 && (i = 50) : (i = 0);
                                                    let n = "";
                                                    const a = r.attach[0];
                                                    a && (n = '<img src="'.concat(s.hj.url, "/api/storage/").concat(a.id, "?token=").concat(s.hj.token, '" class="report__timeline_img"/>')),
                                                        f.add({
                                                            id: r.id,
                                                            group: "message",
                                                            start: new Date(r.createdAt),
                                                            style: "background-color: hsla(".concat(i, ", 75%, 60%, 0.8); color: white;"),
                                                            title: n,
                                                            content: '<span class="mdi mdi-face-recognition"></span>',
                                                        });
                                                    break;
                                                }
                                                case "message": {
                                                    const t = o.incident;
                                                    f.add({
                                                        id: r.id,
                                                        group: "message",
                                                        start: new Date(r.createdAt),
                                                        title: (0, s.aF)(r.message, 30),
                                                        style: "background-color: hsla(".concat(t ? 300 : 200, ", 75%, 60%, 0.8); color: white;"),
                                                        content: '<span class="mdi mdi-comment-text-outline"></span>',
                                                    });
                                                    break;
                                                }
                                                case "remark":
                                                    f.add({
                                                        id: r.id,
                                                        group: "message",
                                                        start: new Date(r.createdAt),
                                                        title: (0, s.aF)(r.message, 30),
                                                        style: "background-color: hsla(255, 100%, 80%, 0.8); color: white;",
                                                        content: '<span class="mdi mdi-lead-pencil"></span>',
                                                    });
                                            }
                                        }
                                })
                                .catch(console.error),
                            (0, s.hj)("/api/archive/".concat(t.id))
                                .then((t) => {
                                    if (t)
                                        for (let e = 0; e < t.length; e++) {
                                            const i = t[e];
                                            v[i.f] = i;
                                            let n = Math.ceil(i.d / 6e4),
                                                s = Math.floor(n / 1440);
                                            n -= 60 * s * 24;
                                            let o = Math.floor(n / 60);
                                            n -= 60 * o;
                                            let a = "";
                                            s > 0
                                                ? (a = ""
                                                      .concat(r("common.time.days", { days: s }), " ")
                                                      .concat(r("common.time.hours", { hours: o }), " ")
                                                      .concat(r("common.time.minutes", { minutes: n })))
                                                : o > 0
                                                ? (a = "".concat(r("common.time.hours", { hours: o }), " ").concat(r("common.time.minutes", { minutes: n })))
                                                : n >= 0 && (a = "".concat(r("common.time.minutes", { minutes: n }))),
                                                f.add({ id: i.f, start: new Date(i.t), end: new Date(i.t + i.d), type: "range", group: "video", title: "".concat(a), style: "opacity: 0.25;" });
                                        }
                                })
                                .catch(console.error);
                    }
                    removeTimeline() {
                        const t = this;
                        t._timer && (clearInterval(t._timer), (t._timer = null)), t._timeline && (t._timeline.destroy(), (t._timeline = null));
                    }
                    resetUI() {
                        const t = this;
                        t.$$("report").disable(),
                            t.removeTimeline(),
                            t.$$("subject").setValues({}),
                            t.$$("subject").refresh(),
                            t.$$("events_bar").clearAll(),
                            t.$$("messages_list").clearAll(),
                            t.$$("faces_list").clearAll(),
                            t.$$("events_list").clearAll(),
                            this.$$("supervision").clearAll();
                    }
                    loadUI(t) {
                        const e = this,
                            i = e.app.getService("locale")._,
                            n = e.$$("subject");
                        n.setValues(t), n.refresh(), e.$$("supervision").add(t), e.createTimeline(t);
                        const s = e.$$("events_bar");
                        for (let e in t.averages) {
                            const n = t.averages[e] || 0;
                            s.add({ id: e, percent: n, tooltip: i("sessions.metrics." + e), color: "#ff6060" });
                        }
                        e.$$("messages_list").load(e.getURL("message"));
                        e.$$("faces_list").load(e.getURL("face"));
                        e.$$("events_list").load(e.getURL("event")), e.$$("report").enable();
                    }
                    getURL() {
                        let t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "message",
                            e = arguments.length > 1 ? arguments[1] : void 0;
                        var i = "?limit=20&count=1";
                        e && (i += "&skip=".concat(e)), (i += "&filter[type]=".concat(t));
                        var n = this.$$("subject").getValues();
                        return "".concat(s.hj.url, "/api/chat/").concat(n.id).concat(i);
                    }
                    drawMetricsHist(t) {
                        var e = '<div style="display: flex; flex-direction: row; align-items: flex-end; padding-top: 15px;">';
                        for (let i in t) {
                            let n = t[i];
                            e += '<div style="flex: 1; width: 16px; height: '
                                .concat(~~(n / 2), 'px; background-color: #ff6060; border: 1px solid #ddd; margin: 0 1px;"><div style="font-size: 8px; text-align: center; margin-top: -16px;">')
                                .concat(n, "</div></div>");
                        }
                        (e += "</div>"), (e += '<div style="display: flex;">');
                        for (let i in t) e += '<div style="flex: 1; font-size: 10px; text-align: center;">'.concat(i, "</div>");
                        return (e += "</div>");
                    }
                }
            },
            1970: (t, e, i) => {
                "use strict";
                i.r(e), i.d(e, { default: () => p });
                var n = i(3036),
                    s = i(633),
                    r = i(2226),
                    o = i(6627),
                    a = i(6422),
                    l = i(3144);
                const h = "/api/room",
                    c = "rooms_filter";
                var d,
                    u = localStorage.getItem(c) || "";
                class p extends n.iC {
                    config() {
                        const t = this,
                            e = this.app.getService("locale")._;
                        return {
                            rows: [
                                { type: "header", template: e("sessions.titles.several") },
                                {
                                    view: "toolbar",
                                    cols: [
                                        {
                                            view: "search",
                                            value: u,
                                            placeholder: e("common.filter.text"),
                                            on: {
                                                onSearchIconClick() {
                                                    t.$$("table").callEvent("doReload");
                                                },
                                                onChange(e) {
                                                    (u = e || ""), localStorage.setItem(c, u), t.$$("table").callEvent("doReload");
                                                },
                                            },
                                        },
                                        {
                                            view: "icon",
                                            icon: "mdi mdi-plus",
                                            tooltip: e("common.buttons.add"),
                                            click() {
                                                t.roomEditor.open(null, function () {
                                                    t.$$("table").callEvent("doReload");
                                                });
                                            },
                                        },
                                        {
                                            view: "icon",
                                            icon: "mdi mdi-pencil",
                                            tooltip: e("common.buttons.edit"),
                                            click() {
                                                const e = t.$$("table").getSelectedId(!0);
                                                e[0] &&
                                                    t.roomEditor.open("".concat(e[0]), function () {
                                                        t.$$("table").callEvent("doReload");
                                                    });
                                            },
                                        },
                                        {
                                            view: "icon",
                                            icon: "mdi mdi-delete",
                                            tooltip: e("common.buttons.delete"),
                                            click() {
                                                const i = t.$$("table"),
                                                    n = i.getSelectedId(!0),
                                                    r = n.length;
                                                if (!r) return;
                                                let o = 0;
                                                function a(t) {
                                                    t && o++;
                                                    const e = o / r;
                                                    i.showProgress({ type: "bottom", position: e }), 1 === e && i.callEvent("doReload");
                                                }
                                                webix.confirm({
                                                    ok: e("common.removeDialog.ok"),
                                                    cancel: e("common.removeDialog.cancel"),
                                                    text: e("common.removeDialog.text"),
                                                    type: "confirm-error",
                                                    callback(t) {
                                                        t &&
                                                            (a(),
                                                            n.forEach(function (t) {
                                                                (0, s.hj)("".concat(h, "/").concat(t), { method: "DELETE" }).then(a).catch(a);
                                                            }));
                                                    },
                                                });
                                            },
                                        },
                                        {
                                            view: "icon",
                                            icon: "mdi mdi-file-pdf",
                                            tooltip: e("common.buttons.pdf"),
                                            click() {
                                                t.$$("table")
                                                    .getSelectedItem(!0)
                                                    .forEach(function (t) {
                                                        t.pdf && (0, s.Sv)({ url: "/api/storage/".concat(t.pdf), filename: "".concat(t.id, ".pdf") });
                                                    });
                                            },
                                        },
                                        {
                                            view: "icon",
                                            icon: "mdi mdi-upload",
                                            tooltip: e("common.buttons.import"),
                                            click() {
                                                (0, s.cT)({ url: "/api/csv/room", accept: "text/*" }).then(() => {
                                                    t.$$("table").callEvent("doReload");
                                                });
                                            },
                                        },
                                        {
                                            view: "icon",
                                            icon: "mdi mdi-download",
                                            tooltip: e("common.buttons.export"),
                                            click() {
                                                const i = {
                                                    id: e("sessions.identifier"),
                                                    integrator: e("sessions.integrator"),
                                                    template: e("sessions.template"),
                                                    subject: e("sessions.subject"),
                                                    locale: e("sessions.locale"),
                                                    timeout: e("sessions.timeout"),
                                                    deadline: e("sessions.deadline"),
                                                    duration: e("sessions.duration"),
                                                    rules: e("sessions.rules"),
                                                    url: e("sessions.url"),
                                                    api: e("sessions.api"),
                                                    addons: e("sessions.addonsName"),
                                                    metrics: e("sessions.metricsName"),
                                                    weights: e("sessions.weights"),
                                                    threshold: e("sessions.threshold"),
                                                    createdAt: e("sessions.createdAt"),
                                                    scheduledAt: e("sessions.scheduledAt"),
                                                    startedAt: e("sessions.startedAt"),
                                                    stoppedAt: e("sessions.stoppedAt"),
                                                    signedAt: e("sessions.signedAt"),
                                                    status: e("sessions.statusName"),
                                                    tags: e("sessions.tags"),
                                                    "averages.b1": e("sessions.metrics.b1"),
                                                    "averages.b2": e("sessions.metrics.b2"),
                                                    "averages.b3": e("sessions.metrics.b3"),
                                                    "averages.c1": e("sessions.metrics.c1"),
                                                    "averages.c2": e("sessions.metrics.c2"),
                                                    "averages.c3": e("sessions.metrics.c3"),
                                                    "averages.c4": e("sessions.metrics.c4"),
                                                    "averages.c5": e("sessions.metrics.c5"),
                                                    "averages.k1": e("sessions.metrics.k1"),
                                                    "averages.m1": e("sessions.metrics.m1"),
                                                    "averages.m2": e("sessions.metrics.m2"),
                                                    "averages.n1": e("sessions.metrics.n1"),
                                                    "averages.n2": e("sessions.metrics.n2"),
                                                    "averages.s1": e("sessions.metrics.s1"),
                                                    "averages.s2": e("sessions.metrics.s2"),
                                                    score: e("sessions.score"),
                                                    student: e("sessions.student"),
                                                    proctor: e("sessions.proctor"),
                                                    incidents: e("sessions.incidents"),
                                                    conclusion: e("sessions.conclusion"),
                                                    comment: e("sessions.comment"),
                                                    members: e("sessions.members"),
                                                    invites: e("sessions.invites"),
                                                    quota: e("sessions.quota"),
                                                    concurrent: e("sessions.concurrent"),
                                                    ipaddress: e("sessions.ipaddress"),
                                                    useragent: e("sessions.useragent"),
                                                    error: e("sessions.error"),
                                                };
                                                t.exportDialog.open(i, function (t) {
                                                    if (0 == t.length) return;
                                                    const e = "/api/csv/room?filter=".concat(encodeURIComponent(u), "&select=").concat(encodeURIComponent(t.join(" ")));
                                                    (0, s.Sv)({ url: e });
                                                });
                                            },
                                        },
                                    ],
                                },
                                {
                                    localId: "table",
                                    view: "datatable",
                                    tooltip: !0,
                                    resizeColumn: !0,
                                    select: !0,
                                    multiselect: !0,
                                    scroll: "y",
                                    url: t.getURL(100),
                                    datafetch: 100,
                                    columns: [
                                        { id: "index", header: "#", adjust: !0, tooltip: !1 },
                                        { id: "subject", header: e("sessions.subject"), fillspace: 2, sort: "server", tooltip: (t) => t.id, template: (t) => '<a class="subject_link">'.concat(t.subject || t.id, "</a>") },
                                        {
                                            id: "student",
                                            header: e("sessions.student"),
                                            fillspace: 2,
                                            sort: "server",
                                            tooltip: (t) => (t.student && t.student.id) || "",
                                            template(t) {
                                                if (!t.student || !t.student.id) return "&#8212;";
                                                let e = '<span class="webix_icon mdi mdi-account-outline"></span>';
                                                return (
                                                    t.student.face && (e = '<span class="webix_icon mdi mdi-face-recognition"></span>'),
                                                    t.student.passport && (e = '<span class="webix_icon mdi mdi-card-account-details-outline"></span>'),
                                                    t.student.similar && t.student.similar.length && (e = '<span class="webix_icon mdi mdi-account-switch"></span>'),
                                                    "boolean" == typeof t.student.verified && (e = t.student.verified ? '<span class="webix_icon mdi mdi-fingerprint"></span>' : '<span class="webix_icon mdi mdi-fingerprint-off"></span>'),
                                                    "".concat(e, ' <a class="user_link" data-id="').concat(t.student.id, '">').concat(t.student.nickname, "</a>")
                                                );
                                            },
                                        },
                                        {
                                            id: "startedAt",
                                            header: e("sessions.startedAt"),
                                            fillspace: 1,
                                            tooltip: !1,
                                            sort: "server",
                                            template: (t) => (t.startedAt || t.scheduledAt ? webix.Date.parseDate(t.startedAt || t.scheduledAt, webix.i18n.fullDateFormat) : "&#8212;"),
                                        },
                                        {
                                            id: "duration",
                                            header: e("sessions.duration"),
                                            fillspace: 1,
                                            tooltip: !1,
                                            sort: "server",
                                            template(t) {
                                                let i = "&#8212;";
                                                if (t.duration >= 0) {
                                                    let n = t.duration,
                                                        s = Math.floor(n / 1440);
                                                    n -= 60 * s * 24;
                                                    let r,
                                                        o = Math.floor(n / 60);
                                                    (n -= 60 * o),
                                                        s > 0
                                                            ? (r = ""
                                                                  .concat(e("common.time.days", { days: s }), " ")
                                                                  .concat(e("common.time.hours", { hours: o }), " ")
                                                                  .concat(e("common.time.minutes", { minutes: n })))
                                                            : o > 0
                                                            ? (r = "".concat(e("common.time.hours", { hours: o }), " ").concat(e("common.time.minutes", { minutes: n })))
                                                            : n >= 0 && (r = "".concat(e("common.time.minutes", { minutes: n }))),
                                                        r && (i = r);
                                                }
                                                return i;
                                            },
                                        },
                                        {
                                            id: "score",
                                            header: e("sessions.score"),
                                            fillspace: 1,
                                            sort: "server",
                                            template(t) {
                                                if ("number" != typeof t.score) return "&#8212;";
                                                const e = Math.round(t.score);
                                                return (
                                                    '<div class="cell_progress_outer"><div class="cell_progress_inner" style="width: ' + e + "%; background-color: hsla(" + e + ', 75%, 60%, 0.8); color: white;"><p>' + e + "%</p></div></div>"
                                                );
                                            },
                                            tooltip(t) {
                                                const e = t.averages || {};
                                                if (!Object.keys(e).length) return "";
                                                let i = '<div style="display: flex; flex-direction: row; align-items: flex-end; padding-top: 15px;">';
                                                for (let t in e) {
                                                    const n = e[t] || 0;
                                                    i += '<div style="flex: 1; width: 16px; height: '
                                                        .concat(n, 'px; background-color: #ff6060; border: 1px solid #ddd; margin: 0 1px;"><div style="font-size: 8px; text-align: center; margin-top: -16px;">')
                                                        .concat(n, "</div></div>");
                                                }
                                                (i += "</div>"), (i += '<div style="display: flex;">');
                                                for (let t in e) i += '<div style="flex: 1; font-size: 10px; text-align: center;">'.concat(t, "</div>");
                                                return (i += "</div>"), i;
                                            },
                                        },
                                        {
                                            id: "status",
                                            header: e("sessions.statusName"),
                                            fillspace: 1,
                                            sort: "server",
                                            tooltip: !1,
                                            template(t) {
                                                let i = '<div style="display: flex; align-items: center; margin: 7px 0;">',
                                                    n = "";
                                                switch (t.status) {
                                                    case "template":
                                                        n = "mdi-file";
                                                        break;
                                                    case "created":
                                                        n = "mdi-clock";
                                                        break;
                                                    case "started":
                                                        n = "mdi-play";
                                                        break;
                                                    case "paused":
                                                        n = "mdi-pause";
                                                        break;
                                                    case "stopped":
                                                        n = "mdi-stop";
                                                        break;
                                                    case "skipped":
                                                        n = "mdi-block-helper";
                                                        break;
                                                    case "accepted":
                                                        n = "mdi-thumb-up";
                                                        break;
                                                    case "rejected":
                                                        n = "mdi-thumb-down";
                                                }
                                                if (n) {
                                                    const s = e("sessions.status." + t.status);
                                                    i += '<div class="status status_'.concat(t.status, '"><span class="mdi ').concat(n, '"></span><span style="padding-left: 5px">').concat(s, "</span></div>");
                                                }
                                                return (i += "</div>"), i;
                                            },
                                        },
                                        {
                                            id: "error",
                                            header: '<span class="webix_icon mdi mdi-bug" title="'.concat(e("sessions.error"), '"></span>'),
                                            adjust: !0,
                                            sort: "server",
                                            tooltip: (t) => (t.error ? (0, s.aF)(t.error, 100) : ""),
                                            template: (t) => (t.error ? '<span class="webix_icon mdi mdi-bug"></span>' : "&#8212;"),
                                        },
                                        {
                                            id: "incidents",
                                            header: '<span class="webix_icon mdi mdi-chat-alert" title="'.concat(e("sessions.incidents"), '"></span>'),
                                            adjust: !0,
                                            sort: "server",
                                            tooltip: (t) => t.incidents || "",
                                            template: (t) => (t.incidents ? '<span class="webix_icon mdi mdi-chat-alert"></span>' : "&#8212;"),
                                        },
                                        {
                                            id: "proctor",
                                            header: '<span class="webix_icon mdi mdi-account-check" title="'.concat(e("sessions.conclusion"), '"></span>'),
                                            adjust: !0,
                                            sort: "server",
                                            tooltip: (t) => (t.comment ? (0, s.aF)(t.comment || "", 100) : ""),
                                            template: (t) => (t.proctor ? '<span class="webix_icon mdi mdi-account-check"></span>' : "&#8212;"),
                                        },
                                        {
                                            id: "action",
                                            header: '<span class="webix_icon mdi mdi-file-video" title="'.concat(e("sessions.buttons.report"), '"></span>'),
                                            adjust: !0,
                                            tooltip(t) {
                                                switch (t.status) {
                                                    case "started":
                                                    case "paused":
                                                        return e("sessions.buttons.vision");
                                                    case "stopped":
                                                    case "accepted":
                                                    case "rejected":
                                                        return t.complete ? e("sessions.buttons.report") : e("sessions.buttons.processing");
                                                }
                                                return "";
                                            },
                                            template(t) {
                                                switch (t.status) {
                                                    case "started":
                                                    case "paused":
                                                        return '<a class="vision_link webix_icon mdi mdi-play"></a>';
                                                    case "stopped":
                                                    case "accepted":
                                                    case "rejected":
                                                        return t.complete ? '<a class="report_link webix_icon mdi mdi-file-video"></a>' : '<a class="report_link webix_icon mdi mdi-autorenew mdi-spin"></a>';
                                                }
                                                return "";
                                            },
                                        },
                                    ],
                                    on: {
                                        "data->onStoreUpdated"() {
                                            this.data.each(function (t, e) {
                                                t.index = e + 1;
                                            });
                                        },
                                        onBeforeLoad() {
                                            return this.hideOverlay(), !0;
                                        },
                                        onAfterLoad() {
                                            if (this.count()) {
                                                const t = d;
                                                (d = null), this.exists(t) && (this.select(t), this.showItem(t));
                                            } else this.showOverlay(e("common.messages.empty"));
                                        },
                                        doReload() {
                                            const e = this.getSelectedId(!1, !0),
                                                i = this.getPage();
                                            (d = e),
                                                this.clearAll(),
                                                (this.config.url = t.getURL(100)),
                                                this.load(this.config.url, (t, n) => {
                                                    n.json() && (this.setPage(i), (d = e));
                                                });
                                        },
                                        onItemDblClick(e) {
                                            t.roomEditor.open("".concat(e), function () {
                                                t.$$("table").callEvent("doReload");
                                            });
                                        },
                                    },
                                    onClick: {
                                        subject_link(e, i) {
                                            const n = this.getItem(i);
                                            t.roomViewer.open(n.id);
                                        },
                                        user_link(e) {
                                            const i = e.target.dataset.id;
                                            t.userViewer.open(i);
                                        },
                                        vision_link(e, i) {
                                            const n = this.getItem(i);
                                            e.ctrlKey ? window.open(location.href.replace(location.hash, "#!/vision?id=".concat(n.id))) : t.show("./vision?id=".concat(n.id));
                                        },
                                        report_link(e, i) {
                                            const n = this.getItem(i);
                                            e.ctrlKey ? window.open(location.href.replace(location.hash, "#!/report?id=".concat(n.id))) : t.show("./report?id=".concat(n.id));
                                        },
                                    },
                                },
                                {
                                    localId: "pager",
                                    view: "pager",
                                    template: (t, i) => i.first(t, i) + " " + i.pages(t, i) + " " + i.last(t, i) + " " + e("common.pager", { page: t.page + 1, total: t.limit, count: t.count }),
                                    size: 100,
                                    group: 5,
                                },
                            ],
                        };
                    }
                    init() {
                        (this.roomViewer = this.ui(o.default)),
                            (this.roomEditor = this.ui(a.default)),
                            (this.userViewer = this.ui(r.default)),
                            (this.exportDialog = this.ui(l.default)),
                            webix.extend(this.$$("table"), webix.ProgressBar),
                            this.$$("table").define({ pager: this.$$("pager") });
                    }
                    getURL() {
                        let t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "",
                            e = ""
                                .concat(t ? s.hj.url : "")
                                .concat(h, "?limit=")
                                .concat(t);
                        return u && (e += "&filter=".concat(encodeURIComponent(u))), e;
                    }
                }
            },
            202: (t, e, i) => {
                "use strict";
                i.r(e), i.d(e, { default: () => a });
                var n = i(3036),
                    s = i(633);
                const r = "vision_filter";
                var o = localStorage.getItem(r) || "startedAt > ".concat(new Date().toJSON().substr(0, 10));
                class a extends n.iC {
                    config() {
                        const t = this,
                            e = this.app.getService("locale")._;
                        return {
                            cols: [
                                {
                                    maxWidth: 300,
                                    minWidth: 150,
                                    header: e("sessions.titles.several"),
                                    body: {
                                        rows: [
                                            {
                                                view: "toolbar",
                                                cols: [
                                                    {
                                                        view: "search",
                                                        value: o,
                                                        placeholder: e("common.filter.text"),
                                                        on: {
                                                            onSearchIconClick() {
                                                                t.$$("list").callEvent("doReload");
                                                            },
                                                            onChange(e) {
                                                                (o = e || ""), localStorage.setItem(r, o), t.$$("list").callEvent("doReload");
                                                            },
                                                        },
                                                    },
                                                    {
                                                        view: "toggle",
                                                        type: "iconTop",
                                                        icon: "mdi mdi-gesture-tap",
                                                        tooltip: e("sessions.buttons.touch"),
                                                        width: 40,
                                                        click() {
                                                            this.getValue() ? t.$$("list").define({ multiselect: !0 }) : t.$$("list").define({ multiselect: "touch" });
                                                        },
                                                    },
                                                ],
                                            },
                                            {
                                                localId: "list",
                                                view: "datatable",
                                                select: !0,
                                                multiselect: !0,
                                                navigation: !0,
                                                scroll: "y",
                                                url: t.getURL(30),
                                                datafetch: 30,
                                                header: !1,
                                                rowLineHeight: 30,
                                                rowHeight: 90,
                                                columns: [
                                                    {
                                                        id: "id",
                                                        fillspace: 1,
                                                        template(t) {
                                                            var i = "";
                                                            if (
                                                                ((i += '<div style="display: flex; flex-direction: column; white-space: nowrap; overflow: hidden;">'),
                                                                (i += '<div style="display: flex; align-items: center;">'),
                                                                (i += '<div style="flex: 1; font-weight: bold; margin-right: 10px; overflow: hidden; font-size: 10px;">'),
                                                                t.startedAt ? (i += webix.Date.parseDate(t.startedAt, "%j %M, %H:%i")) : (i += e("sessions.noDate")),
                                                                t.duration >= 0)
                                                            ) {
                                                                let n = t.duration,
                                                                    s = Math.floor(n / 1440);
                                                                n -= 60 * s * 24;
                                                                let r,
                                                                    o = Math.floor(n / 60);
                                                                (n -= 60 * o),
                                                                    s > 0
                                                                        ? (r = ""
                                                                              .concat(e("common.time.days", { days: s }), " ")
                                                                              .concat(e("common.time.hours", { hours: o }), " ")
                                                                              .concat(e("common.time.minutes", { minutes: n })))
                                                                        : o > 0
                                                                        ? (r = "".concat(e("common.time.hours", { hours: o }), " ").concat(e("common.time.minutes", { minutes: n })))
                                                                        : n >= 0 && (r = "".concat(e("common.time.minutes", { minutes: n }))),
                                                                    r && (i += " &#8212; ".concat(r));
                                                            }
                                                            if (((i += "</div>"), t.error)) {
                                                                const e = (0, s.aF)(t.error || "", 100);
                                                                i += '<div class="status" title="'.concat(e, '"><span class="mdi mdi-bug"></span></div>');
                                                            }
                                                            if ((t.incidents && (i += '<div class="status" title="'.concat(t.incidents, '"><span class="mdi mdi-chat-alert"></span></div>')), t.proctor)) {
                                                                const e = (0, s.aF)(t.comment || "", 100);
                                                                i += '<div class="status" title="'.concat(e, '"><span class="mdi mdi-account-check"></span></div>');
                                                            }
                                                            if ("number" == typeof t.score) {
                                                                const e = t.score;
                                                                i += '<div class="status" style="background-color: hsla('
                                                                    .concat(e, ', 75%, 60%, 0.8); color: white; font-size: 10px; font-weight: bold;" title="')
                                                                    .concat(e, '%">')
                                                                    .concat(e, "</div>");
                                                            }
                                                            let n = "";
                                                            switch (t.status) {
                                                                case "template":
                                                                    n = "mdi-file";
                                                                    break;
                                                                case "created":
                                                                    n = "mdi-clock";
                                                                    break;
                                                                case "started":
                                                                    n = "mdi-play";
                                                                    break;
                                                                case "paused":
                                                                    n = "mdi-pause";
                                                                    break;
                                                                case "stopped":
                                                                    n = "mdi-stop";
                                                                    break;
                                                                case "skipped":
                                                                    n = "mdi-block-helper";
                                                                    break;
                                                                case "accepted":
                                                                    n = "mdi-thumb-up";
                                                                    break;
                                                                case "rejected":
                                                                    n = "mdi-thumb-down";
                                                            }
                                                            if (n) {
                                                                const s = e("sessions.status." + t.status);
                                                                i += '<div class="status status_'.concat(t.status, '" title="').concat(s, '"><span class="mdi ').concat(n, '"></span></div>');
                                                            }
                                                            i += "</div>";
                                                            const r = t.student || {};
                                                            let o = "mdi-account-outline";
                                                            return (
                                                                r.face && (o = "mdi-face-recognition"),
                                                                r.passport && (o = "mdi-card-account-details-outline"),
                                                                r.similar && r.similar.length && (o = "mdi-account-switch"),
                                                                "boolean" == typeof r.verified && (o = r.verified ? "mdi-fingerprint" : "mdi-fingerprint-off"),
                                                                r.nickname
                                                                    ? (i += '<div style="color: #737d8c;"><span class="mdi '
                                                                          .concat(o, '"></span><span style="vertical-align: middle; padding-left: 5px;">')
                                                                          .concat(r.nickname, "</span></div>"))
                                                                    : (i += "<div>&#8212;</div>"),
                                                                (i += '<div style="display: flex;">'),
                                                                (i += '<div style="flex: 1;">' + t.subject + "</div>"),
                                                                2 !== t.index && (i += '<div style="padding-left: 5px;"><span class="webix_icon mdi mdi-chevron-right"></span></div>'),
                                                                (i += "</div>"),
                                                                (i += "</div>")
                                                            );
                                                        },
                                                    },
                                                ],
                                                on: {
                                                    onBeforeSelect(t) {
                                                        var e = this.getItem(t);
                                                        return !!e && 2 !== e.index;
                                                    },
                                                    onSelectChange() {
                                                        if (this.config.silent_selection) return;
                                                        const e = this.getSelectedItem(!0);
                                                        if (!e.length) return t.show("./vision");
                                                        const i = e.filter((t) => t.startedAt && !t.stoppedAt);
                                                        return i.length ? t.show("./vision?id=".concat(i.map((t) => t.id).join("."))) : t.show("./report?id=".concat(e[0].id));
                                                    },
                                                    onBeforeLoad() {
                                                        return this.hideOverlay(), !0;
                                                    },
                                                    onAfterLoad() {
                                                        this.count() || this.showOverlay(e("common.messages.empty")),
                                                            this.data.each(function (e) {
                                                                e.index = t.getIndex(e.status);
                                                            }),
                                                            t.rooms.length ? ((this.config.silent_selection = !0), t.rooms.forEach((t) => this.select(t, !0)), (this.config.silent_selection = !1)) : this.select(this.getFirstId());
                                                    },
                                                    onAfterAdd() {
                                                        this.hideOverlay();
                                                    },
                                                    onKeyPress(t, e) {
                                                        if (65 === t && e.ctrlKey)
                                                            return (
                                                                e.preventDefault(),
                                                                (this.config.silent_selection = !0),
                                                                this.unselect(),
                                                                this.find((t) => 1 === t.index).forEach((t) => this.select(t.id, !0)),
                                                                (this.config.silent_selection = !1),
                                                                this.callEvent("onSelectChange"),
                                                                !1
                                                            );
                                                    },
                                                    doReload() {
                                                        (this.config.silent_selection = !0), this.clearAll(), (this.config.silent_selection = !1), (this.config.url = t.getURL(30)), this.load(this.config.url);
                                                    },
                                                },
                                            },
                                            { cols: [{ localId: "pager", view: "pager", template: (t, e) => e.first(t, e) + " " + e.pages(t, e) + " " + e.last(t, e), size: 30, group: 6 }] },
                                        ],
                                    },
                                },
                                { view: "resizer" },
                                { $subview: !0 },
                            ],
                        };
                    }
                    init() {
                        this.rooms = [];
                        var t = this.$$("list");
                        webix.extend(t, webix.ProgressBar),
                            t.define({ pager: this.$$("pager") }),
                            (this.startHandler = this.startHandler.bind(this)),
                            (this.stopHandler = this.stopHandler.bind(this)),
                            (this.eventHandler = this.eventHandler.bind(this)),
                            (this.messageHandler = this.messageHandler.bind(this)),
                            s.Wb.on("room:start", this.startHandler),
                            s.Wb.on("room:stop", this.stopHandler),
                            s.Wb.on("chat:event", this.eventHandler),
                            s.Wb.on("chat:message", this.messageHandler),
                            this.app.attachEvent("side:unselect", (e) => t.unselect(e));
                    }
                    urlChange(t, e) {
                        var i = this.$$("list");
                        e[1] && e[1].params.id
                            ? ((this.rooms = e[1].params.id.split(".")),
                              (i.config.silent_selection = !0),
                              i.unselect(),
                              this.rooms.forEach((t) => {
                                  i.exists(t) && i.select(t, !0);
                              }),
                              (i.config.silent_selection = !1))
                            : (this.rooms = []);
                    }
                    destroy() {
                        s.Wb.off("room:start", this.startHandler), s.Wb.off("room:stop", this.stopHandler), s.Wb.off("chat:event", this.eventHandler), s.Wb.off("chat:message", this.messageHandler), this.app.detachEvent("side:unselect");
                    }
                    getURL() {
                        let t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "";
                        var e = "".concat(s.hj.url, "/api/room?limit=").concat(t);
                        return o && (e += "&filter=".concat(window.encodeURIComponent(o))), e;
                    }
                    getIndex(t) {
                        var e;
                        switch (t) {
                            case "started":
                            case "paused":
                                e = 1;
                                break;
                            case "created":
                            case "template":
                            case "skipped":
                                e = 2;
                                break;
                            case "stopped":
                            case "accepted":
                            case "rejected":
                                e = 3;
                        }
                        return e;
                    }
                    startHandler(t) {
                        var e = this.$$("list");
                        (t.index = this.getIndex(t.status)), e.exists(t.id) ? (e.updateItem(t.id, t), this.rooms.length || e.select(t.id)) : e.add(t);
                    }
                    stopHandler(t) {
                        var e = this.$$("list"),
                            i = e.getItem(t.id);
                        i && ((i.index = this.getIndex(i.status)), e.updateItem(t.id, t));
                    }
                    eventHandler(t) {
                        var e = this.$$("list"),
                            i = e.getItem(t.room);
                        if (i) {
                            const n = t.metadata && t.metadata.score;
                            "number" == typeof n && ((i.score = n), e.updateItem(t.room, i));
                        }
                    }
                    messageHandler(t) {
                        var e = this.$$("list"),
                            i = e.getItem(t.room);
                        if (i) {
                            const n = t.metadata && t.metadata.incidents;
                            "number" == typeof n && ((i.incidents = n), e.updateItem(t.room, i));
                        }
                    }
                }
            },
            7061: (t, e, i) => {
                "use strict";
                i.r(e), i.d(e, { default: () => h });
                var n = i(633),
                    s = i(3036);
                const r = 6e4,
                    o = { ROOMS: "rooms", USERS: "users", CPU: "cpu", RAM: "ram" },
                    a = 0.3,
                    l = 0.1;
                class h extends s.iC {
                    config() {
                        return { rows: [{ body: { rows: [this._getHeaderRow(), this._getTilesRow(), { cols: [this._getChart(o.ROOMS), this._getChart(o.USERS)] }, { cols: [this._getChart(o.CPU), this._getChart(o.RAM)] }] } }] };
                    }
                    init() {
                        (this._filterDateFrom = null), (this._filterDateTo = null), this._setUpdatable(!0), this._reload();
                    }
                    destroy() {
                        clearInterval(this._updatableInterval);
                    }
                    _getChart(t) {
                        const e = this,
                            i = this.app.getService("locale")._;
                        return {
                            view: "chart",
                            localId: t,
                            offset: 0,
                            border: !0,
                            tooltip: {
                                template(e) {
                                    var i = new Date(e.timestamp * r);
                                    return "".concat(e[t].toFixed(2), "<br>").concat(i.toLocaleDateString(), " ").concat(i.toLocaleTimeString());
                                },
                            },
                            xAxis: { template: (t) => (t.index % e._step ? "" : e._dateFormatter(new Date(t.timestamp * r))), title: i("stats.charts.".concat(t)) },
                            yAxis: {},
                            series: [{ type: "area", value: "#".concat(t, "#"), color: "#b9a8f9", alpha: 0.5 }],
                        };
                    }
                    _getHeaderRow() {
                        const t = this.app.getService("locale")._;
                        return {
                            view: "toolbar",
                            cols: [
                                { type: "header", borderless: !0, template: t("stats.title"), gravity: 0.7 },
                                {
                                    localId: "date",
                                    view: "daterangepicker",
                                    gravity: 0.3,
                                    maxWidth: 350,
                                    placeholder: t("stats.datetime"),
                                    format: webix.i18n.fullDateFormat,
                                    timepicker: !0,
                                    editable: !0,
                                    on: {
                                        onChange() {
                                            let t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
                                            this.$scope._setUpdatable(!t.start), (this.$scope._filterDateFrom = t.start), (this.$scope._filterDateTo = t.end), this.$scope._reload();
                                        },
                                    },
                                },
                            ],
                        };
                    }
                    _getTilesRow() {
                        return {
                            localId: "tiles",
                            autoheight: !0,
                            template: function (t) {
                                let e = t.items,
                                    i = void 0 === e ? [] : e;
                                const n = { rooms: "mdi-view-grid", users: "mdi-account-multiple", cpu: "mdi-memory", ram: "mdi-chip" };
                                return i.length
                                    ? '\n          <div class="stats__tiles">\n            '.concat(
                                          i
                                              .map((t) =>
                                                  '\n        <div class="stats__tiles-item">\n          <span class="stats__tiles-item_icon mdi '
                                                      .concat(n[t.id], '"></span>\n          <span class="stats__tiles-item_text">')
                                                      .concat(t.text, '</span>\n          <span class="stats__tiles-item_value">')
                                                      .concat(t.value, "</span>\n        </div>")
                                              )
                                              .join(""),
                                          "\n          </div>\n        "
                                      )
                                    : "";
                            },
                            on: {
                                onAfterRender() {
                                    this.resize();
                                },
                            },
                        };
                    }
                    _setUpdatable(t) {
                        (this._isUpdatable = t),
                            t
                                ? this._updatableInterval ||
                                  (this._updatableInterval = setInterval(() => {
                                      this._reload();
                                  }, 6e4))
                                : clearInterval(this._updatableInterval);
                    }
                    _reload() {
                        this._loadData().then((t) => {
                            (t = t.map((t, e) => ((t.index = e), t))).length && this._updateModifiers(t), this._updateCharts(t);
                            const e = {};
                            for (let i = 0; i < t.length; i++) {
                                const n = t[i] || {};
                                for (let t in o) {
                                    const i = o[t];
                                    e[i] || (e[i] = 0), n[i] > e[i] && (e[i] = n[i]);
                                }
                            }
                            this._updateTiles(e);
                        });
                    }
                    _updateTiles(t) {
                        const e = this.app.getService("locale")._,
                            i = [];
                        for (let n in o) {
                            const s = o[n];
                            i.push({ id: s, text: e("stats.charts.".concat(s)), value: t ? Math.ceil(t[s]) : "" });
                        }
                        this.$$("tiles").parse({ items: i });
                    }
                    _updateModifiers(t) {
                        let e, i;
                        const n = new Date(t[0].timestamp * r);
                        new Date(t[t.length - 1].timestamp * r) - n > 864e5 ? ((e = a), (i = webix.i18n.fullDateFormatStr)) : ((e = l), (i = webix.i18n.timeFormatStr)), (this._step = Math.ceil(t.length * e)), (this._dateFormatter = i);
                    }
                    _updateCharts(t) {
                        for (let e in o) {
                            const i = o[e];
                            this.$$(i).clearAll(), this.$$(i).parse(t);
                        }
                    }
                    _loadData() {
                        const t = Math.ceil(window.innerWidth / 25),
                            e = this._filterDateFrom ? this._filterDateFrom.toJSON() : "",
                            i = this._filterDateTo ? this._filterDateTo.toJSON() : "";
                        return (0, n.hj)("/api/stat?fd=".concat(e, "&td=").concat(i, "&size=").concat(t));
                    }
                }
            },
            848: (t, e, i) => {
                "use strict";
                i.r(e), i.d(e, { default: () => a });
                var n = i(3036),
                    s = i(633),
                    r = i(712),
                    o = i(6530);
                class a extends n.iC {
                    config() {
                        const t = this,
                            e = this.app.getService("locale")._;
                        return {
                            type: "space",
                            rows: [
                                {
                                    localId: "menu",
                                    view: "toolbar",
                                    type: "clean",
                                    css: "app_menu",
                                    borderless: !0,
                                    minWidth: 300,
                                    hidden: s.EA.isRole("student"),
                                    cols: [
                                        {
                                            cols: [
                                                { width: 5 },
                                                {
                                                    view: "icon",
                                                    icon: "mdi mdi-home",
                                                    click() {
                                                        s.EA.isRole("student") ? t.app.callEvent("reload") : t.app.show("/");
                                                    },
                                                },
                                            ],
                                        },
                                        {
                                            css: "app_title",
                                            type: "header",
                                            borderless: !0,
                                            template: e("app.name").toUpperCase() + (s.EA.isRole("administrator") ? " <sup style='line-height: 0; font-size: 10px; opacity: 0.5'>".concat(this.app.config.version, "</sup>") : ""),
                                        },
                                        {
                                            localId: "usage",
                                            css: "app_usage",
                                            borderless: !0,
                                            hidden: !s.EA.isRole("administrator"),
                                            tooltip() {
                                                const i = t.$$("usage").getValues(),
                                                    n = i.hst,
                                                    s = i.unt,
                                                    r = new Date(i.iss),
                                                    o = new Date(i.exp),
                                                    a = Math.ceil(i.vol || 0),
                                                    l = Math.ceil(i.use || 0);
                                                return "\n                <table>\n                <tr>\n                  <td>"
                                                    .concat(e("menu.usage.volume"), ":</td>\n                  <td>")
                                                    .concat(l, " / ")
                                                    .concat(a, " ")
                                                    .concat(e("menu.usage.unit." + s), "</td>\n                </tr>\n                <tr>\n                  <td>")
                                                    .concat(e("menu.usage.expires"), ":</td>\n                  <td>")
                                                    .concat(r.toLocaleDateString(), " - ")
                                                    .concat(o.toLocaleDateString(), "</td>\n                </tr>\n                <tr>\n                  <td>")
                                                    .concat(e("menu.usage.host"), ":</td>\n                  <td>")
                                                    .concat(n, "</td>\n                </tr>\n                </table>\n                ");
                                            },
                                            template(t) {
                                                if (!t.vol) return "";
                                                const i = new Date(t.iss),
                                                    n = new Date(t.exp),
                                                    s = new Date(t.now),
                                                    r = Math.ceil(t.vol || 0);
                                                let o = Math.ceil(t.use || 0) / r;
                                                (isNaN(o) || o > 1) && (o = 1);
                                                let a = (s.getTime() - i.getTime()) / (n.getTime() - i.getTime());
                                                (isNaN(a) || a < 0 || a > 1) && (a = 1);
                                                return '\n                <div class="bar">\n                  <div class="progress">\n                    <span>'
                                                    .concat(e("menu.usage.volume"), '</span>\n                    <progress min="0" max="1" value="')
                                                    .concat(o, '"></progress>\n                  </div>\n                  <div class="progress">\n                    <span>')
                                                    .concat(e("menu.usage.expires"), '</span>\n                    <progress min="0" max="1" value="')
                                                    .concat(a, '"></progress>\n                  </div>\n                </div>\n                ');
                                            },
                                            data: s.vc.get("license") || {},
                                        },
                                        {
                                            view: "button",
                                            type: "icon",
                                            icon: "mdi mdi-account",
                                            label: (0, s.aF)(s.EA.get("nickname") || s.EA.get("id"), 15) + ' <span class="mdi mdi-chevron-down"></span>',
                                            css: "webix_transparent",
                                            autowidth: !0,
                                            click() {
                                                return t.menu.open(this.getNode());
                                            },
                                        },
                                    ],
                                },
                                {
                                    localId: "content",
                                    cols: [
                                        {
                                            hidden: !s.EA.isRole("administrator"),
                                            body: {
                                                rows: [
                                                    {
                                                        localId: "sidebar",
                                                        view: "sidebar",
                                                        collapsed: !0,
                                                        width: 220,
                                                        data: [
                                                            { id: "rooms", icon: "mdi mdi-calendar-text", value: e("menu.rooms") },
                                                            { id: "users", icon: "mdi mdi-account-multiple", value: e("menu.users") },
                                                            { id: "blanks", icon: "mdi mdi-clipboard-text-outline", value: e("menu.blanks") },
                                                            { id: "jobs", icon: "mdi mdi-timetable", value: e("menu.jobs") },
                                                            { id: "stats", icon: "mdi mdi-chart-areaspline", value: e("menu.stats") },
                                                            { id: "configs", icon: "mdi mdi-cog", value: e("menu.configs") },
                                                        ],
                                                    },
                                                ],
                                            },
                                        },
                                        { $subview: !0 },
                                    ],
                                },
                            ],
                        };
                    }
                    init() {
                        const t = this.app.getService("user");
                        this.use(n.Gr.Menu, "sidebar"),
                            (this.faceId = this.ui(r.default)),
                            (this.menu = this.ui(o.default)),
                            this.app.on("app:route", () => {
                                const t = this.$$("sidebar"),
                                    e = this.getUrlString().split("/").pop();
                                t.exists(e) || this.$$("sidebar").unselectAll();
                            }),
                            (this.fullscreenchangeHandler = () => {
                                (0, s.rB)() ? this.$$("menu").hide() : this.$$("menu").show();
                            }),
                            ["webkitfullscreenchange", "mozfullscreenchange", "fullscreenchange"].forEach((t) => {
                                document.addEventListener(t, this.fullscreenchangeHandler, !1);
                            }),
                            this.app.attachEvent("lock", () => {
                                s.EA.get("secure") &&
                                    !s.EA.isRole("student") &&
                                    (document.body.classList.add("webix_lock"),
                                    this.faceId.open((e) => {
                                        e ? document.body.classList.remove("webix_lock") : t.logout();
                                    }));
                            }),
                            this.app.callEvent("lock");
                    }
                    destroy() {
                        this.app.detachEvent("app:route"),
                            this.app.detachEvent("lock"),
                            ["webkitfullscreenchange", "mozfullscreenchange", "fullscreenchange"].forEach((t) => {
                                document.removeEventListener(t, this.fullscreenchangeHandler);
                            });
                    }
                }
            },
            1718: (t, e, i) => {
                "use strict";
                i.r(e), i.d(e, { default: () => u });
                var n = i(3036),
                    s = i(633),
                    r = i(2226),
                    o = i(3867),
                    a = i(3144);
                const l = "/api/user",
                    h = "users_filter";
                var c,
                    d = localStorage.getItem(h) || "";
                class u extends n.iC {
                    config() {
                        const t = this,
                            e = this.app.getService("locale")._;
                        return {
                            rows: [
                                { type: "header", template: e("users.titles.several") },
                                {
                                    view: "toolbar",
                                    cols: [
                                        {
                                            view: "search",
                                            value: d,
                                            placeholder: e("common.filter.text"),
                                            gravity: 0.6,
                                            on: {
                                                onSearchIconClick() {
                                                    t.$$("table").callEvent("doReload");
                                                },
                                                onChange(e) {
                                                    (d = e || ""), localStorage.setItem(h, d), t.$$("table").callEvent("doReload");
                                                },
                                            },
                                        },
                                        {
                                            view: "icon",
                                            icon: "mdi mdi-plus",
                                            tooltip: e("common.buttons.add"),
                                            click() {
                                                t.userEditor.open(null, function () {
                                                    t.$$("table").callEvent("doReload");
                                                });
                                            },
                                        },
                                        {
                                            view: "icon",
                                            icon: "mdi mdi-pencil",
                                            tooltip: e("common.buttons.edit"),
                                            click() {
                                                const e = t.$$("table").getSelectedId(!0);
                                                e[0] &&
                                                    t.userEditor.open("".concat(e[0]), function () {
                                                        t.$$("table").callEvent("doReload");
                                                    });
                                            },
                                        },
                                        {
                                            view: "icon",
                                            icon: "mdi mdi-delete",
                                            tooltip: e("common.buttons.delete"),
                                            click() {
                                                const i = t.$$("table"),
                                                    n = i.getSelectedId(!0);
                                                var r = n.length;
                                                if (r) {
                                                    var o = 0;
                                                    webix.confirm({
                                                        ok: e("common.removeDialog.ok"),
                                                        cancel: e("common.removeDialog.cancel"),
                                                        text: e("common.removeDialog.text"),
                                                        type: "confirm-error",
                                                        callback(t) {
                                                            t &&
                                                                (a(),
                                                                n.forEach(function (t) {
                                                                    (0, s.hj)("".concat(l, "/").concat(t), { method: "DELETE" }).then(a).catch(a);
                                                                }));
                                                        },
                                                    });
                                                }
                                                function a(t) {
                                                    t && o++;
                                                    var e = o / r;
                                                    i.showProgress({ type: "bottom", position: e }), 1 === e && i.callEvent("doReload");
                                                }
                                            },
                                        },
                                        {
                                            view: "icon",
                                            icon: "mdi mdi-upload",
                                            tooltip: e("common.buttons.import"),
                                            click() {
                                                (0, s.cT)({ url: "/api/csv/user", accept: "text/*" }).then(() => {
                                                    t.$$("table").callEvent("doReload");
                                                });
                                            },
                                        },
                                        {
                                            view: "icon",
                                            icon: "mdi mdi-download",
                                            tooltip: e("common.buttons.export"),
                                            click() {
                                                const i = {
                                                    username: e("users.username"),
                                                    provider: e("users.provider"),
                                                    role: e("users.role"),
                                                    group: e("users.group"),
                                                    nickname: e("users.nickname"),
                                                    labels: e("users.labels"),
                                                    rating: e("users.rating"),
                                                    verified: e("users.verified"),
                                                    secure: e("users.secure"),
                                                    locked: e("users.locked"),
                                                    createdAt: e("users.createdAt"),
                                                    loggedAt: e("users.loggedAt"),
                                                    ipaddress: e("users.ipaddress"),
                                                    useragent: e("users.useragent"),
                                                    "similar.user": e("users.similar"),
                                                    "similar.distance": e("users.distance"),
                                                };
                                                t.exportDialog.open(i, function (t) {
                                                    if (0 == t.length) return;
                                                    const e = "/api/csv/user?filter=".concat(encodeURIComponent(d), "&select=").concat(encodeURIComponent(t.join(" ")));
                                                    (0, s.Sv)({ url: e });
                                                });
                                            },
                                        },
                                    ],
                                },
                                {
                                    localId: "table",
                                    view: "datatable",
                                    tooltip: !0,
                                    resizeColumn: !0,
                                    select: !0,
                                    multiselect: !0,
                                    url: t.getURL(100),
                                    datafetch: 100,
                                    scroll: "y",
                                    columns: [
                                        { id: "index", header: "#", adjust: !0, tooltip: !1 },
                                        { id: "nickname", header: e("users.nickname"), fillspace: 2, sort: "server", tooltip: !1, template: (t) => "<a class='user_link'>".concat(t.nickname, "</a>") },
                                        { id: "id", header: e("users.username"), fillspace: 2, sort: "server", tooltip: !1 },
                                        { id: "role", header: e("users.role"), fillspace: 1, sort: "server", tooltip: !1, template: (t) => e("users.roles." + t.role) },
                                        { id: "loggedAt", header: e("users.loggedAt"), fillspace: 1, sort: "server", tooltip: !1, template: (t) => (t.loggedAt ? webix.Date.parseDate(t.loggedAt, webix.i18n.fullDateFormat) : "&#8212;") },
                                        {
                                            id: "rating",
                                            header: e("users.rating"),
                                            adjust: !0,
                                            sort: "server",
                                            tooltip: (t) => (t.rating ? ~~t.rating : ""),
                                            template(t) {
                                                if (!t.rating) return "&#8212;";
                                                const e = Math.ceil(t.rating / 10);
                                                let i = '<div style="color: orange">';
                                                for (let t = 0; t < 10; t += 2) i += e >= t + 2 ? '<span class="mdi mdi-star"></span>' : e == t + 1 ? '<span class="mdi mdi-star-half"></span>' : '<span class="mdi mdi-star-outline"></span>';
                                                return (i += "</div>"), i;
                                            },
                                        },
                                        {
                                            id: "locked",
                                            header: '<span class="webix_icon mdi mdi-lock" title="'.concat(e("users.locked"), '"></span>'),
                                            adjust: !0,
                                            sort: "server",
                                            tooltip: !1,
                                            template: (t) => (t.locked ? '<span class="webix_icon mdi mdi-lock"></span>' : "&#8212;"),
                                        },
                                        {
                                            id: "face",
                                            header: '<span class="webix_icon mdi mdi-face-recognition" title="'.concat(e("users.face"), '"></span>'),
                                            adjust: !0,
                                            sort: "server",
                                            tooltip: !1,
                                            template: (t) => (t.face ? '<span class="webix_icon mdi mdi-face-recognition"></span>' : "&#8212;"),
                                        },
                                        {
                                            id: "passport",
                                            header: '<span class="webix_icon mdi mdi-card-account-details-outline" title="'.concat(e("users.passport"), '"></span>'),
                                            adjust: !0,
                                            sort: "server",
                                            tooltip: !1,
                                            template: (t) => (t.passport ? '<span class="webix_icon mdi mdi-card-account-details-outline"></span>' : "&#8212;"),
                                        },
                                        {
                                            id: "similar",
                                            header: '<span class="webix_icon mdi mdi-account-switch" title="'.concat(e("users.similar"), '"></span>'),
                                            adjust: !0,
                                            sort: "server",
                                            tooltip: !1,
                                            template: (t) => (t.similar && t.similar.length ? '<span class="webix_icon mdi mdi-account-switch"></span>' : "&#8212;"),
                                        },
                                        {
                                            id: "verified",
                                            header: '<span class="webix_icon mdi mdi-fingerprint" title="'.concat(e("users.verified"), '"></span>'),
                                            adjust: !0,
                                            sort: "server",
                                            tooltip: !1,
                                            template: (t) => ("boolean" != typeof t.verified ? "&#8212;" : t.verified ? '<span class="webix_icon mdi mdi-fingerprint"></span>' : '<span class="webix_icon mdi mdi-fingerprint-off"></span>'),
                                        },
                                    ],
                                    on: {
                                        "data->onStoreUpdated"() {
                                            this.data.each(function (t, e) {
                                                t.index = e + 1;
                                            });
                                        },
                                        onBeforeLoad() {
                                            return this.hideOverlay(), !0;
                                        },
                                        onAfterLoad() {
                                            if (this.count()) {
                                                const t = c;
                                                (c = null), this.exists(t) && (this.select(t), this.showItem(t));
                                            } else this.showOverlay(e("common.messages.empty"));
                                        },
                                        onItemDblClick(e) {
                                            t.userEditor.open("".concat(e), () => {
                                                this.callEvent("doReload");
                                            });
                                        },
                                        doReload() {
                                            const e = this.getSelectedId(!1, !0),
                                                i = this.getPage();
                                            (c = e),
                                                this.clearAll(),
                                                (this.config.url = t.getURL(100)),
                                                this.load(this.config.url, (t, n) => {
                                                    n.json() && (this.setPage(i), (c = e));
                                                });
                                        },
                                    },
                                    onClick: {
                                        user_link(e, i) {
                                            const n = this.getItem(i);
                                            t.userViewer.open(n.id);
                                        },
                                    },
                                },
                                {
                                    localId: "pager",
                                    view: "pager",
                                    template: (t, i) => i.first(t, i) + " " + i.pages(t, i) + " " + i.last(t, i) + " " + e("common.pager", { page: t.page + 1, total: t.limit, count: t.count }),
                                    size: 100,
                                    group: 5,
                                },
                            ],
                        };
                    }
                    init() {
                        (this.userViewer = this.ui(r.default)),
                            (this.userEditor = this.ui(o.default)),
                            (this.exportDialog = this.ui(a.default)),
                            webix.extend(this.$$("table"), webix.ProgressBar),
                            this.$$("table").define({ pager: this.$$("pager") });
                    }
                    getURL() {
                        let t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "",
                            e = ""
                                .concat(t ? s.hj.url : "")
                                .concat(l, "?limit=")
                                .concat(t);
                        return d && (e += "&filter=".concat(encodeURIComponent(d))), e;
                    }
                }
            },
            3931: (t, e, i) => {
                "use strict";
                i.r(e), i.d(e, { default: () => c });
                var n = i(3036),
                    s = i(633),
                    r = i(6627),
                    o = i(894),
                    a = i(2226),
                    l = i(8795),
                    h = i(5809);
                i(9524), i(8016);
                class c extends n.iC {
                    config() {
                        const t = this,
                            e = this.app.getService("locale")._;
                        return {
                            localId: "vision",
                            disabled: !0,
                            cols: [
                                {
                                    rows: [
                                        {
                                            view: "toolbar",
                                            elements: [
                                                {
                                                    localId: "subject",
                                                    view: "template",
                                                    borderless: !0,
                                                    type: "header",
                                                    template(t) {
                                                        if (!t.id) return e("report.title");
                                                        var i = '<div style="display: flex; align-items: center; white-space: nowrap; overflow: hidden;">';
                                                        let n = "";
                                                        switch (t.status) {
                                                            case "template":
                                                                n = "mdi-file";
                                                                break;
                                                            case "created":
                                                                n = "mdi-clock";
                                                                break;
                                                            case "started":
                                                                n = "mdi-play";
                                                                break;
                                                            case "paused":
                                                                n = "mdi-pause";
                                                                break;
                                                            case "stopped":
                                                                n = "mdi-stop";
                                                                break;
                                                            case "skipped":
                                                                n = "mdi-block-helper";
                                                                break;
                                                            case "accepted":
                                                                n = "mdi-thumb-up";
                                                                break;
                                                            case "rejected":
                                                                n = "mdi-thumb-down";
                                                        }
                                                        if (n) {
                                                            const s = e("sessions.status." + t.status);
                                                            i += '<div class="status status_'.concat(t.status, '" title="').concat(s, '"><span class="mdi ').concat(n, '"></span></div>');
                                                        }
                                                        if ("number" == typeof t.score) {
                                                            const e = t.score;
                                                            i += '<div class="status" style="background-color: hsla('
                                                                .concat(e, ', 75%, 60%, 0.8); color: white; font-size: 10px; font-weight: bold;" title="')
                                                                .concat(e, '%">')
                                                                .concat(e, "</div>");
                                                        }
                                                        if (t.proctor) {
                                                            const e = (0, s.aF)(t.comment || "", 100);
                                                            i += '<div class="status" title="'.concat(e, '"><span class="mdi mdi-account-check"></span></div>');
                                                        }
                                                        if ((t.incidents && (i += '<div class="status" title="'.concat(t.incidents, '"><span class="mdi mdi-chat-alert"></span></div>')), t.error)) {
                                                            const e = (0, s.aF)(t.error || "", 100);
                                                            i += '<div class="status" title="'.concat(e, '"><span class="mdi mdi-bug"></span></div>');
                                                        }
                                                        i += "<div style=\"margin: 0 10px; overflow: hidden;\"><a class='subject_link' data-id='".concat(t.id, "'>").concat(t.subject, "</a></div>");
                                                        const r = t.student || {};
                                                        let o = "mdi-account-outline";
                                                        return (
                                                            r.face && (o = "mdi-face-recognition"),
                                                            r.passport && (o = "mdi-card-account-details-outline"),
                                                            r.similar && r.similar.length && (o = "mdi-account-switch"),
                                                            "boolean" == typeof r.verified && (o = r.verified ? "mdi-fingerprint" : "mdi-fingerprint-off"),
                                                            r.nickname &&
                                                                ((i += '<div class="status" style="background-color: #ffffffcc;"><span class="mdi '.concat(o, '"></span></div>')),
                                                                (i += '<div style="margin: 0 10px; overflow: hidden;"><a class="student_link" data-id="'.concat(r.id, '">').concat(r.nickname, "</a></div>"))),
                                                            (i += "</div>")
                                                        );
                                                    },
                                                    onClick: {
                                                        subject_link(e) {
                                                            t.roomViewer.open(e.target.dataset.id);
                                                        },
                                                        student_link(e) {
                                                            t.userViewer.open(e.target.dataset.id);
                                                        },
                                                    },
                                                },
                                                {
                                                    localId: "audio_btn",
                                                    view: "toggle",
                                                    type: "icon",
                                                    label: e("vision.buttons.audio"),
                                                    onIcon: "mdi mdi-microphone",
                                                    offIcon: "mdi mdi-microphone-off",
                                                    autowidth: !0,
                                                    tooltip: e("vision.tooltips.audio"),
                                                    on: {
                                                        onChange(e) {
                                                            e
                                                                ? t.webcam.enabled
                                                                    ? (t.webcam.audioEnabled = !0)
                                                                    : t.startWebcam().then(() => {
                                                                          (t.webcam.audioEnabled = !0), (t.webcam.videoEnabled = !1);
                                                                      })
                                                                : ((t.webcam.audioEnabled = !1), t.webcam.videoEnabled || t.stopWebcam());
                                                        },
                                                    },
                                                },
                                                {
                                                    localId: "video_btn",
                                                    view: "toggle",
                                                    type: "icon",
                                                    label: e("vision.buttons.video"),
                                                    onIcon: "mdi mdi-video",
                                                    offIcon: "mdi mdi-video-off",
                                                    autowidth: !0,
                                                    tooltip: e("vision.tooltips.video"),
                                                    on: {
                                                        onChange(e) {
                                                            e
                                                                ? t.webcam.enabled
                                                                    ? (t.webcam.videoEnabled = !0)
                                                                    : t.startWebcam().then(() => {
                                                                          (t.webcam.audioEnabled = !0), (t.webcam.videoEnabled = !0), t.$$("audio_btn").setValue(!0);
                                                                      })
                                                                : ((t.webcam.videoEnabled = !1), t.webcam.audioEnabled || t.stopWebcam());
                                                        },
                                                    },
                                                },
                                                {
                                                    localId: "screen_btn",
                                                    view: "toggle",
                                                    type: "icon",
                                                    label: e("vision.buttons.screen"),
                                                    onIcon: "mdi mdi-monitor",
                                                    offIcon: "mdi mdi-monitor-off",
                                                    autowidth: !0,
                                                    tooltip: e("vision.tooltips.screen"),
                                                    on: {
                                                        onChange(e) {
                                                            e ? t.screen.enabled || t.startScreen() : t.stopScreen();
                                                        },
                                                    },
                                                },
                                                {
                                                    view: "button",
                                                    css: "webix_danger",
                                                    label: e("vision.buttons.finish"),
                                                    autowidth: !0,
                                                    click() {
                                                        var e = t.$$("supervision").getSelectedId();
                                                        e &&
                                                            t.roomSubmit.open({ roomId: e }, () => {
                                                                t.show("./report?id=".concat(e));
                                                            });
                                                    },
                                                },
                                            ],
                                        },
                                        {
                                            localId: "supervision",
                                            view: "supervision",
                                            select: !0,
                                            footer: [
                                                { view: "text", template: (t) => t.nickname || "Guest" },
                                                {
                                                    view: "button",
                                                    css: "mute_btn",
                                                    tooltip: e("vision.tooltips.mute"),
                                                    template(t) {
                                                        if (!(t.id.indexOf(s.EA.get("id")) > -1)) return t.$muted ? '<span class="mdi mdi-volume-mute"></span>' : '<span class="mdi mdi-volume-high"></span>';
                                                    },
                                                },
                                                {
                                                    view: "button",
                                                    css: "single_btn",
                                                    tooltip: e("vision.tooltips.single"),
                                                    template: (t) => (t.$single ? '<span class="mdi mdi-window-maximize"></span>' : '<span class="mdi mdi-window-restore"></span>'),
                                                },
                                                { view: "button", css: "snapshot_btn", tooltip: e("vision.tooltips.snapshot"), template: '<span class="mdi mdi-camera"></span>' },
                                                {
                                                    view: "button",
                                                    css: "maximize_btn",
                                                    tooltip: e("vision.tooltips.maximize"),
                                                    template: (t) => (t.$maximized ? '<span class="mdi mdi-arrow-collapse"></span>' : '<span class="mdi mdi-arrow-expand"></span>'),
                                                },
                                            ],
                                            template2: (e, i) => (
                                                i.addEventListener("update", (e) => {
                                                    [].forEach.call(e.target.querySelectorAll(".webix_supervision_metrics"), (t) => t.remove());
                                                    var i = t.renderMetrics(e.detail.$metrics, e.detail.$threshold);
                                                    i && e.target.appendChild(i);
                                                }),
                                                t.renderMetrics(e.$metrics, e.$threshold)
                                            ),
                                            onClick: {
                                                single_btn(t) {
                                                    var e = this.locate(t),
                                                        i = this.getItem(e);
                                                    this.updateItem(e, { $single: !i.$single });
                                                },
                                                mute_btn(t) {
                                                    var e = this.locate(t),
                                                        i = this.getItem(e);
                                                    this.updateItem(e, { $muted: !i.$muted });
                                                },
                                                maximize_btn(t) {
                                                    var e = this.locate(t),
                                                        i = this.getItem(e);
                                                    if (this.getSelectedId() === i.$parent) {
                                                        this.updateItem(i.id, { $maximized: !i.$maximized });
                                                        var n = this.getItem(i.$parent);
                                                        this.updateItem(n.id, { $maximized: !n.$maximized });
                                                    }
                                                },
                                                snapshot_btn(e) {
                                                    var i = this.locate(e),
                                                        n = this.getItem(i);
                                                    if (this.getSelectedId() === n.$parent) {
                                                        var r = this.getTopVideo(i);
                                                        if (r) {
                                                            var o = (0, s.oi)(r, { filename: "image.jpg" });
                                                            if (o) {
                                                                t.$$("chat").expand();
                                                                var a = t.uploader;
                                                                a.files.parse({ name: o.name, sizetext: Number(o.size / 1024).toFixed(2) + " " + webix.i18n.fileSize[1], status: "client", file: o }), a.send();
                                                            }
                                                        }
                                                    }
                                                },
                                            },
                                            on: {
                                                onKeyPress(e) {
                                                    if (46 === e) {
                                                        var i = this.getSelectedId();
                                                        i && t.app.callEvent("side:unselect", [i]);
                                                    }
                                                },
                                                onSelectChange() {
                                                    var e = this.getSelectedItem();
                                                    if (e) {
                                                        t.$$("vision").enable(), t.$$("subject").setValues(e);
                                                        var i = t.$$("messages_list");
                                                        i.clearAll(),
                                                            i.load(t.getURL("message"), function () {
                                                                this.showItem(this.getLastId());
                                                            });
                                                        var n = t.$$("faces_list");
                                                        n.clearAll(),
                                                            n.load(t.getURL("face"), function () {
                                                                this.showItem(this.getLastId());
                                                            });
                                                        var s = t.$$("events_list");
                                                        s.clearAll(),
                                                            s.load(t.getURL("event"), function () {
                                                                this.showItem(this.getLastId());
                                                            }),
                                                            t.stopWebcam(),
                                                            t.stopScreen();
                                                    }
                                                },
                                                onAfterSelect(t) {
                                                    (this.data.getBranch(t) || []).forEach(function (t) {
                                                        this.updateItem(t.id, { $css: void 0 });
                                                    }, this);
                                                },
                                                onBeforeDelete(e) {
                                                    const i = this.getItem(e) || {};
                                                    return (
                                                        i.$listener && i.$listener.stop(),
                                                        0 === i.$parent &&
                                                            this.count() <= 1 &&
                                                            (t.$$("vision").disable(), t.$$("subject").setValues({}), t.$$("messages_list").clearAll(), t.$$("faces_list").clearAll(), t.$$("events_list").clearAll()),
                                                        !0
                                                    );
                                                },
                                                onDestruct() {
                                                    this.data.each(function (t) {
                                                        t.$listener && t.$listener.stop(), delete t.$listener;
                                                    });
                                                },
                                            },
                                        },
                                    ],
                                },
                                { view: "resizer" },
                                {
                                    localId: "chat",
                                    maxWidth: 300,
                                    minWidth: 150,
                                    header: e("vision.chat"),
                                    body: {
                                        localId: "tabs",
                                        view: "tabview",
                                        tabbar: {
                                            tabMinWidth: 45,
                                            on: {
                                                onAfterTabClick(e) {
                                                    var i;
                                                    switch (this.optionIndex(e)) {
                                                        case 0:
                                                            i = t.$$("messages_list");
                                                            break;
                                                        case 1:
                                                            i = t.$$("faces_list");
                                                            break;
                                                        case 2:
                                                            i = t.$$("events_list");
                                                    }
                                                    i && i.showItem(i.getLastId());
                                                },
                                            },
                                        },
                                        cells: [
                                            {
                                                header: '<span class="webix_icon mdi mdi-comment-text-multiple-outline"></span>',
                                                body: {
                                                    rows: [
                                                        {
                                                            localId: "messages_list",
                                                            view: "chatlist",
                                                            navigation: !1,
                                                            userId: s.EA.get("id"),
                                                            ajax: s.hj,
                                                            on: {
                                                                onItemClick(e, i) {
                                                                    ("IMG" !== i.target.tagName && "VIDEO" !== i.target.tagName) || (i.preventDefault(), i.stopPropagation(), t.imageViewer.open(i.target));
                                                                },
                                                                onAfterAdd() {
                                                                    this.showItem(this.getLastId());
                                                                },
                                                                onBeforeLoad() {
                                                                    (this.config.full = !1), t.uploader.files.clearAll(), t.$$("input").setValue("");
                                                                },
                                                                onAfterLoad() {
                                                                    this.sort("#createdAt#", "asc", "string");
                                                                },
                                                                onAfterScroll() {
                                                                    if (!this.config.full) {
                                                                        var e = this.getNode(),
                                                                            i = this.count();
                                                                        if (0 === e.scrollTop && i > 0) {
                                                                            e.scrollTop = 30;
                                                                            var n = this.getFirstId();
                                                                            this.load(t.getURL("message", i), function () {
                                                                                this.showItem(n), this.count() === i && (this.config.full = !0);
                                                                            });
                                                                        }
                                                                    }
                                                                },
                                                            },
                                                            onClick: {
                                                                webix_chatlist_link: function (e) {
                                                                    t.userViewer.open(e.target.dataset.id);
                                                                },
                                                            },
                                                        },
                                                        {
                                                            localId: "files",
                                                            view: "list",
                                                            type: "uploader",
                                                            autoheight: !0,
                                                            scroll: !1,
                                                            onClick: {
                                                                webix_remove_upload(e, i) {
                                                                    for (var n in this.data.pull)
                                                                        if (this.data.pull[n].id === i) {
                                                                            t.uploader.files.remove(n);
                                                                            break;
                                                                        }
                                                                },
                                                            },
                                                        },
                                                        {
                                                            paddingX: 3,
                                                            paddingY: 3,
                                                            rows: [
                                                                {
                                                                    cols: [
                                                                        { localId: "incident_btn", view: "switch", value: 0, labelWidth: 0, onLabel: e("chat.buttons.incident"), offLabel: e("chat.buttons.normal") },
                                                                        {
                                                                            view: "icon",
                                                                            icon: "mdi mdi-clipboard-text-outline",
                                                                            tooltip: e("chat.buttons.templates"),
                                                                            click() {
                                                                                t.tplPopup.open(this.getNode(), function (e) {
                                                                                    var i = t.$$("input");
                                                                                    i.setValue(e), i.focus();
                                                                                });
                                                                            },
                                                                        },
                                                                        {
                                                                            view: "icon",
                                                                            icon: "mdi mdi-paperclip",
                                                                            tooltip: e("chat.buttons.attach"),
                                                                            click() {
                                                                                t.uploader.fileDialog();
                                                                            },
                                                                        },
                                                                        {
                                                                            localId: "send_btn",
                                                                            view: "icon",
                                                                            icon: "mdi mdi-send",
                                                                            tooltip: e("chat.buttons.send"),
                                                                            on: {
                                                                                onItemClick() {
                                                                                    if (this.isEnabled()) {
                                                                                        var e = t.uploader,
                                                                                            i = t.$$("input"),
                                                                                            n = i.getValue(),
                                                                                            r = e.files;
                                                                                        if ((n || r.count()) && e.isUploaded()) {
                                                                                            var o = t.$$("supervision").getSelectedId();
                                                                                            this.disable(), i.blur();
                                                                                            var a = !!t.$$("incident_btn").getValue();
                                                                                            t.$$("incident_btn").setValue(0),
                                                                                                (0, s.hj)("/api/chat/".concat(o), {
                                                                                                    method: "POST",
                                                                                                    body: { type: "message", message: n, attach: r.serialize().map((t) => t.id || t), metadata: { incident: a } },
                                                                                                })
                                                                                                    .then(() => {
                                                                                                        r.clearAll(), i.setValue(""), i.focus(), this.enable();
                                                                                                    })
                                                                                                    .catch(() => {
                                                                                                        i.focus(), this.enable();
                                                                                                    });
                                                                                        }
                                                                                    }
                                                                                },
                                                                            },
                                                                        },
                                                                    ],
                                                                },
                                                                {
                                                                    localId: "input",
                                                                    view: "textarea",
                                                                    height: 70,
                                                                    placeholder: e("chat.inputPlaceholder"),
                                                                    on: {
                                                                        onKeyPress(e, i) {
                                                                            if (13 === e && !i.shiftKey) return t.$$("send_btn").callEvent("onItemClick"), !1;
                                                                        },
                                                                    },
                                                                },
                                                            ],
                                                        },
                                                    ],
                                                },
                                            },
                                            {
                                                header: '<span class="webix_icon mdi mdi-face"></span>',
                                                body: {
                                                    localId: "faces_list",
                                                    view: "chatlist",
                                                    ajax: s.hj,
                                                    on: {
                                                        onAfterRender() {
                                                            this.getNode().scrollTop = 5;
                                                        },
                                                        onItemClick(e, i) {
                                                            ("IMG" !== i.target.tagName && "VIDEO" !== i.target.tagName) || (i.preventDefault(), i.stopPropagation(), t.imageViewer.open(i.target, this.getItem(e).metadata));
                                                        },
                                                        onAfterAdd() {
                                                            this.showItem(this.getLastId());
                                                        },
                                                        onBeforeLoad() {
                                                            this.config.full = !1;
                                                        },
                                                        onAfterLoad() {
                                                            this.sort("#createdAt#", "asc", "string");
                                                        },
                                                        onAfterScroll() {
                                                            if (!this.config.full) {
                                                                var e = this.getNode(),
                                                                    i = this.count();
                                                                if (0 === e.scrollTop && i > 0) {
                                                                    e.scrollTop = 5;
                                                                    var n = this.getFirstId();
                                                                    this.load(t.getURL("face", i), function () {
                                                                        this.showItem(n), this.count() === i && (this.config.full = !0);
                                                                    });
                                                                }
                                                            }
                                                        },
                                                    },
                                                    onClick: {
                                                        webix_chatlist_link(e) {
                                                            t.userViewer.open(e.target.dataset.id);
                                                        },
                                                    },
                                                },
                                            },
                                            {
                                                header: '<span class="webix_icon mdi mdi-chart-bar"></span>',
                                                body: {
                                                    localId: "events_list",
                                                    view: "chatlist",
                                                    ajax: s.hj,
                                                    on: {
                                                        onAfterRender() {
                                                            this.getNode().scrollTop = 5;
                                                        },
                                                        onItemClick(e, i) {
                                                            ("IMG" !== i.target.tagName && "VIDEO" !== i.target.tagName) || (i.preventDefault(), i.stopPropagation(), t.imageViewer.open(i.target));
                                                        },
                                                        onAfterAdd() {
                                                            this.showItem(this.getLastId());
                                                        },
                                                        onBeforeLoad() {
                                                            this.config.full = !1;
                                                        },
                                                        onAfterLoad() {
                                                            this.sort("#createdAt#", "asc", "string");
                                                        },
                                                        onAfterScroll() {
                                                            if (!this.config.full) {
                                                                var e = this.getNode(),
                                                                    i = this.count();
                                                                if (0 === e.scrollTop && i > 0) {
                                                                    e.scrollTop = 5;
                                                                    var n = this.getFirstId();
                                                                    this.load(t.getURL("event", i), function () {
                                                                        this.showItem(n), this.count() === i && (this.config.full = !0);
                                                                    });
                                                                }
                                                            }
                                                        },
                                                    },
                                                    onClick: {
                                                        webix_chatlist_link(e) {
                                                            t.userViewer.open(e.target.dataset.id);
                                                        },
                                                    },
                                                },
                                            },
                                        ],
                                    },
                                },
                            ],
                        };
                    }
                    init() {
                        this.rooms = [];
                        const t = this.app.getService("locale")._;
                        (this.startSession = this.startSession.bind(this)),
                            (this.stopSession = this.stopSession.bind(this)),
                            (this.messageHandler = this.messageHandler.bind(this)),
                            (this.pasteHandler = this.pasteHandler.bind(this)),
                            s.Wb.on("room:stop", this.stopSession),
                            s.Wb.on("chat:message", this.messageHandler),
                            s.Wb.on("chat:face", this.messageHandler),
                            s.Wb.on("chat:event", this.messageHandler),
                            window.addEventListener("paste", this.pasteHandler),
                            (this.roomViewer = this.ui(r.default)),
                            (this.roomSubmit = this.ui(o.default)),
                            (this.userViewer = this.ui(a.default)),
                            (this.imageViewer = this.ui(l.default)),
                            (this.tplPopup = this.ui(h.default)),
                            (this.uploader = this.ui({
                                view: "uploader",
                                apiOnly: !0,
                                link: this.getRoot().queryView({ localId: "files" }).config.id,
                                upload: "/api/storage",
                                on: {
                                    onBeforeFileAdd(e) {
                                        var i = s.vc.get("upload.limit") || 5;
                                        return !(e.size >= 1024 * i * 1024) || (webix.message({ type: "error", text: t("common.messages.uploadLimit", { size: i }) }), !1);
                                    },
                                },
                            })),
                            (this.webcam = new s.eB(s.vc.get("p2p"))),
                            this.webcam.on("start", (t) => {
                                let e = t.id,
                                    i = t.room,
                                    n = t.user,
                                    r = t.data,
                                    o = t.stream;
                                const a = this.$$("supervision");
                                if (!a || a.exists(e)) return;
                                if (i !== a.getSelectedId()) return;
                                const l = (0, s.v3)({ spinner: !0, mirror: !0, muted: !0 });
                                (l.srcObject = o), a.add({ id: e, room: i, user: { id: n, nickname: r }, $video: l });
                            }),
                            this.webcam.on("stop", (t) => {
                                let e = t.id;
                                try {
                                    const t = this.$$("supervision");
                                    t && t.exists(e) && t.remove(e);
                                    const i = this.$$("audio_btn");
                                    i && i.setValue(!1);
                                    const n = this.$$("video_btn");
                                    n && n.setValue(!1);
                                } catch (t) {}
                            }),
                            (this.screen = new s.eB(s.vc.get("p2p"))),
                            this.screen.on("start", (t) => {
                                let e = t.id,
                                    i = t.room,
                                    n = t.user,
                                    r = t.data,
                                    o = t.stream;
                                const a = this.$$("supervision");
                                if (!a || a.exists(e)) return;
                                if (i !== a.getSelectedId()) return;
                                const l = (0, s.v3)({ spinner: !0, muted: !0 });
                                (l.srcObject = o), a.add({ id: e, room: i, user: { id: n, nickname: r }, $video: l });
                            }),
                            this.screen.on("stop", (t) => {
                                let e = t.id;
                                try {
                                    const t = this.$$("supervision");
                                    t && t.exists(e) && t.remove(e);
                                    const i = this.$$("screen_btn");
                                    i && i.setValue(!1);
                                } catch (t) {}
                            });
                    }
                    urlChange(t, e) {
                        var i = [];
                        e[0].params.id && (i = e[0].params.id.split("."));
                        var n = (0, s.bt)(this.rooms, i),
                            r = n.left,
                            o = n.right;
                        (this.rooms = i), r.forEach(this.stopSession), o.forEach(this.startSession);
                    }
                    destroy() {
                        (this.rooms = []),
                            this.stopWebcam(),
                            this.stopScreen(),
                            s.Wb.off("room:stop", this.stopSession),
                            s.Wb.off("chat:message", this.messageHandler),
                            s.Wb.off("chat:face", this.messageHandler),
                            s.Wb.off("chat:event", this.messageHandler),
                            window.removeEventListener("paste", this.pasteHandler);
                    }
                    startWebcam() {
                        const t = this.app.getService("locale")._,
                            e = s.vc.get("webcam") || {},
                            i = this.$$("supervision").getSelectedId();
                        return (0, s.oj)({
                            width: e.width,
                            height: e.height,
                            frameRate: e.frameRate,
                            facingMode: e.facingMode,
                            source: e.source || "webcam",
                            audioDeviceId: localStorage.getItem("audio_id"),
                            videoDeviceId: localStorage.getItem("video_id"),
                        })
                            .then((t) => {
                                (t.oninactive = () => this.stopWebcam()), this.webcam.broadcast({ stream: t, room: i, user: s.EA.get("id"), data: s.EA.get("nickname") || s.EA.get("id"), bitrate: e.bitrate });
                            })
                            .catch((e) => {
                                console.error(e), webix.message({ type: "error", text: t("vision.errors.screen") });
                            });
                    }
                    stopWebcam() {
                        this.webcam.stop();
                    }
                    startScreen() {
                        const t = this.app.getService("locale")._,
                            e = s.vc.get("screen") || {},
                            i = this.$$("supervision").getSelectedId();
                        return (0, s.oj)({ width: e.width, height: e.height, frameRate: e.frameRate, source: e.source || "screen", displaySurface: "any" })
                            .then((t) => {
                                (t.oninactive = () => this.stopScreen()), this.screen.broadcast({ stream: t, room: i, user: s.EA.get("id"), data: s.EA.get("nickname") || s.EA.get("id"), bitrate: e.bitrate });
                            })
                            .catch((e) => {
                                console.error(e), webix.message({ type: "error", text: t("vision.errors.screen") });
                            });
                    }
                    stopScreen() {
                        this.screen.stop();
                    }
                    messageHandler() {
                        let t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
                        var e = [t.room, (t.user && t.user.id) || t.user].join("."),
                            i = this.$$("supervision"),
                            n = this.$$("subject"),
                            s = i.getSelectedId();
                        if ("message" === t.type)
                            if (t.room === s) {
                                let e = this.$$("messages_list");
                                if (!e.exists(t.id)) {
                                    this.$$("chat").expand(), e.add(t);
                                    const r = t.metadata && t.metadata.incidents;
                                    "number" == typeof r && (i.updateItem(s, { incidents: r }), n.setValues({ incidents: r }, !0));
                                }
                            } else i.exists(e) && i.updateItem(e, { $css: "highlight" });
                        if ("face" === t.type && t.room === s) {
                            let e = this.$$("faces_list");
                            e.exists(t.id) || e.add(t);
                        }
                        if ("event" === t.type && t.room === s) {
                            let e = this.$$("events_list");
                            if (!e.exists(t.id)) {
                                e.add(t);
                                const r = t.metadata && t.metadata.score;
                                "number" == typeof r && (i.updateItem(s, { score: r }), n.setValues({ score: r }, !0));
                            }
                        }
                    }
                    startSession(t) {
                        const e = this.app.getService("locale")._;
                        (0, s.hj)("/api/room/".concat(t, "?populate=student"))
                            .then((t) => {
                                if (!t) return;
                                this.$$("supervision").add(t), s.Wb.join(t.id);
                                const e = (t.$listener = new s.eB(s.vc.get("p2p")));
                                e.listen({ room: t.id, user: s.EA.get("id") }),
                                    e.on("start", (t) => {
                                        let e = t.id,
                                            i = t.room,
                                            n = t.user,
                                            r = t.data,
                                            o = t.stream;
                                        const a = this.$$("supervision");
                                        if (!a || a.exists(e)) return;
                                        const l = (0, s.v3)({ spinner: !0 });
                                        (l.srcObject = o), a.add({ id: e, room: i, user: { id: n, nickname: r }, $video: l });
                                    }),
                                    e.on("stop", (t) => {
                                        let e = t.id;
                                        const i = this.$$("supervision");
                                        i && i.exists(e) && i.remove(e);
                                    }),
                                    e.on("data", (t) => {
                                        let e = t.user,
                                            i = t.room,
                                            n = t.data;
                                        var s = [i, e].join(".");
                                        const r = this.$$("supervision");
                                        r && r.exists(s) && r.updateItem(s, { $metrics: n.metrics, $threshold: n.threshold });
                                    });
                            })
                            .catch((t) => {
                                console.error(t), webix.message({ type: "error", text: e("vision.errors.start") });
                            });
                    }
                    stopSession(t) {
                        var e = this.$$("supervision"),
                            i = t ? e.getItem(t.id || t) : e.getSelectedItem();
                        i && (s.Wb.leave(i.id), e.remove(i.id));
                    }
                    getURL() {
                        let t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "message",
                            e = arguments.length > 1 ? arguments[1] : void 0;
                        var i = "?limit=20";
                        e && (i += "&skip=".concat(e)), (i += "&filter[type]=".concat(t));
                        var n = this.$$("supervision").getSelectedId();
                        return "".concat(s.hj.url, "/api/chat/").concat(n).concat(i);
                    }
                    renderMetrics(t, e) {
                        if (!t) return;
                        const i = this.app.getService("locale")._,
                            n = {
                                b1: "mdi-microsoft-internet-explorer",
                                b2: "mdi-arrange-bring-forward",
                                b3: "mdi-image-size-select-small",
                                c1: "mdi-video-off",
                                c2: "mdi-ghost",
                                c3: "mdi-account-supervisor",
                                c4: "mdi-face-recognition",
                                c5: "mdi-account-convert",
                                k1: "mdi-keyboard-outline",
                                m1: "mdi-microphone-off",
                                m2: "mdi-volume-high",
                                n1: "mdi-wifi-off",
                                n2: "mdi-cellphone-erase",
                                s1: "mdi-monitor-off",
                                s2: "mdi-monitor-multiple",
                            },
                            s = document.createElement("div");
                        s.className = "webix_supervision_metrics";
                        var r = "";
                        return (
                            Object.keys(t)
                                .sort(function (e, i) {
                                    return t[i] - t[e];
                                })
                                .forEach(function (s) {
                                    var o = t[s];
                                    o >= 100 - e &&
                                        (r += '<div class="webix_supervision_violation" style="background-color: hsl('
                                            .concat(100 - o, ', 60%, 60%);" title="')
                                            .concat(i("sessions.metrics." + s), " (")
                                            .concat(s, ')"><span class="mdi ')
                                            .concat(n[s], '"></span></div>'));
                                }),
                            r || (r = '<div class="webix_supervision_violation" style="background-color: hsl(100, 60%, 60%);" title="'.concat(i("sessions.metrics.ok"), '"><span class="mdi mdi-shield-check-outline"></span></div>')),
                            (s.innerHTML = r),
                            s
                        );
                    }
                    pasteHandler() {
                        let t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
                        if (t.clipboardData) {
                            var e = t.clipboardData.items;
                            if (e)
                                for (var i = 0; i < e.length; i++)
                                    if ("image/png" === e[i].type) {
                                        var n = e[i].getAsFile(),
                                            s = this.uploader;
                                        n && (s.files.parse({ name: n.name, sizetext: Number(n.size / 1024).toFixed(2) + " " + webix.i18n.fileSize[1], status: "client", file: n }), s.send());
                                    }
                        }
                    }
                }
            },
            2738: (t, e, i) => {
                "use strict";
                i.r(e), i.d(e, { default: () => o });
                var n = i(3036),
                    s = i(633);
                const r = "/api/blank";
                class o extends n.iC {
                    config() {
                        const t = this,
                            e = this.app.getService("locale")._;
                        return {
                            view: "window",
                            position: "center",
                            autoheight: !0,
                            move: !0,
                            modal: !0,
                            maxWidth: 650,
                            head: {
                                view: "toolbar",
                                cols: [
                                    { type: "header", borderless: !0, template: e("blanks.editor") },
                                    {
                                        view: "icon",
                                        icon: "mdi mdi-check-circle",
                                        click() {
                                            var i = this,
                                                n = i.getTopParentView(),
                                                o = t.$$("params");
                                            if (o.validate()) {
                                                i.disable();
                                                var a = o.getValues(),
                                                    l = JSON.stringify(a, function (t, e) {
                                                        return "" === e || "null" === e ? null : e;
                                                    });
                                                (t._id && t._id === a.id ? (0, s.hj)("".concat(r, "/").concat(a.id), { method: "PUT", body: JSON.parse(l) }) : (0, s.hj)("".concat(r), { method: "POST", body: JSON.parse(l) }))
                                                    .then(function () {
                                                        i.enable(), n.hide(), "function" == typeof t._cb && t._cb();
                                                    })
                                                    .catch(function () {
                                                        webix.message({ type: "error", text: e("common.messages.savingError") }), i.enable();
                                                    });
                                            }
                                        },
                                    },
                                    {
                                        view: "icon",
                                        icon: "mdi mdi-close-circle",
                                        click() {
                                            this.getTopParentView().hide();
                                        },
                                    },
                                ],
                            },
                            body: { rows: [{ localId: "params", view: "form", elements: [{ name: "text", view: "textarea", height: 200, placeholder: e("blanks.messagePlaceholder") }], rules: { text: webix.rules.isNotEmpty } }] },
                        };
                    }
                    open(t, e) {
                        (this._id = t), (this._cb = e);
                        const i = this.$$("params");
                        i.clear(),
                            t &&
                                (0, s.hj)("".concat(r, "/").concat(t)).then((t) => {
                                    t && i.parse(t);
                                }),
                            this.getRoot().show();
                    }
                }
            },
            8927: (t, e, i) => {
                "use strict";
                i.r(e), i.d(e, { default: () => o });
                var n = i(3036),
                    s = i(633);
                const r = "/api/chat";
                class o extends n.iC {
                    config() {
                        const t = this,
                            e = this.app.getService("locale")._;
                        return {
                            view: "window",
                            position: "center",
                            autoheight: !0,
                            move: !0,
                            modal: !0,
                            maxWidth: 600,
                            head: {
                                view: "toolbar",
                                cols: [
                                    { type: "header", borderless: !0, template: e("chat.editor.title") },
                                    {
                                        localId: "save_btn",
                                        view: "icon",
                                        icon: "mdi mdi-check-circle",
                                        click() {
                                            var i = this,
                                                n = i.getTopParentView(),
                                                o = t.$$("params");
                                            if (o.validate()) {
                                                i.disable();
                                                var a = o.getValues();
                                                (a.id
                                                    ? a.message
                                                        ? (0, s.hj)("".concat(r, "/").concat(a.room, "/").concat(a.id), { method: "PUT", body: { message: a.message } })
                                                        : (0, s.hj)("".concat(r, "/").concat(a.room, "/").concat(a.id), { method: "DELETE" })
                                                    : (0, s.hj)("".concat(r, "/").concat(a.room), { method: "POST", body: { type: "remark", createdAt: new Date(a.createdAt), message: a.message } })
                                                )
                                                    .then(function (e) {
                                                        i.enable(), n.hide(), "function" == typeof t._cb && t._cb(a.message ? e : null);
                                                    })
                                                    .catch(function () {
                                                        webix.message({ type: "error", text: e("common.messages.savingError") }), i.enable();
                                                    });
                                            }
                                        },
                                    },
                                    {
                                        view: "icon",
                                        icon: "mdi mdi-close-circle",
                                        click() {
                                            this.getTopParentView().hide();
                                        },
                                    },
                                ],
                            },
                            body: {
                                rows: [
                                    {
                                        localId: "params",
                                        view: "form",
                                        elements: [
                                            { name: "createdAt", view: "datepicker", format: webix.i18n.fullDateFormat, readonly: !0 },
                                            { name: "nickname", view: "text", readonly: !0 },
                                            { name: "message", view: "textarea", height: 200, placeholder: e("chat.inputPlaceholder") },
                                        ],
                                        rules: {
                                            message(t) {
                                                return !!this.getValues().id || !!t;
                                            },
                                        },
                                    },
                                ],
                            },
                        };
                    }
                    open(t, e) {
                        let i = t.id,
                            n = t.room,
                            o = t.createdAt;
                        this._cb = e;
                        const a = this.$$("params"),
                            l = this.$$("save_btn");
                        a.setValues({ id: i, room: n, createdAt: o, nickname: s.EA.get("nickname") || s.EA.get("id") }),
                            l.enable(),
                            i &&
                                (0, s.hj)("".concat(r, "/").concat(n, "/").concat(i)).then((t) => {
                                    t && (s.EA.isMe(t.user.id) || l.disable(), a.setValues({ message: t.message || "", nickname: t.user.nickname }, !0));
                                }),
                            this.getRoot().show();
                    }
                }
            },
            5809: (t, e, i) => {
                "use strict";
                i.r(e), i.d(e, { default: () => o });
                var n = i(633),
                    s = i(3036),
                    r = "";
                class o extends s.iC {
                    config() {
                        const t = this.app.getService("locale")._,
                            e = this;
                        return {
                            view: "popup",
                            width: 350,
                            height: 200,
                            body: {
                                rows: [
                                    {
                                        view: "toolbar",
                                        rows: [
                                            {
                                                view: "search",
                                                placeholder: t("chat.templates.search"),
                                                value: r,
                                                on: {
                                                    onSearchIconClick() {
                                                        (r = this.getValue()), e.doLoad();
                                                    },
                                                    onEnter() {
                                                        (r = this.getValue()), e.doLoad();
                                                    },
                                                },
                                            },
                                            {
                                                localId: "list",
                                                view: "list",
                                                template: "#text#",
                                                type: { height: "auto" },
                                                on: {
                                                    onBeforeLoad() {
                                                        return this.hideOverlay(), !0;
                                                    },
                                                    onAfterLoad() {
                                                        this.count() || this.showOverlay(t("chat.templates.empty"));
                                                    },
                                                    onItemClick(t) {
                                                        const i = this.getItem(t) || {},
                                                            n = this.getTopParentView();
                                                        "function" == typeof e._cb && e._cb(i.text), n.hide();
                                                    },
                                                },
                                            },
                                        ],
                                    },
                                ],
                            },
                        };
                    }
                    open(t, e) {
                        (this._cb = e), this.doLoad(), this.getRoot().show(t);
                    }
                    getURL() {
                        let t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 100;
                        var e = "".concat(n.hj.url, "/api/blank?limit=").concat(t);
                        return r && (e += "&filter=".concat(window.encodeURIComponent(r))), e;
                    }
                    doLoad() {
                        const t = this.$$("list");
                        t.clearAll(), (t.config.url = this.getURL()), t.load(t.config.url);
                    }
                }
            },
            8795: (t, e, i) => {
                "use strict";
                i.r(e), i.d(e, { default: () => r });
                var n = i(3036),
                    s = i(633);
                class r extends n.iC {
                    config() {
                        const t = this,
                            e = this.app.getService("locale")._,
                            i = () => webix.uid().toString();
                        return (
                            (this.uid = {}),
                            {
                                view: "window",
                                position: "center",
                                move: !0,
                                modal: !0,
                                maxWidth: 620,
                                maxHeight: 500,
                                head: {
                                    view: "toolbar",
                                    cols: [
                                        { type: "header", borderless: !0, template: e("chat.viewer.title") },
                                        {
                                            view: "icon",
                                            icon: "mdi mdi-arrow-expand",
                                            click() {
                                                var t = this.getTopParentView();
                                                this.config.fullscreen ? t.define({ position: "center", width: 480, height: 400 }) : t.define({ position: "center", width: window.innerWidth, height: window.innerHeight }),
                                                    (this.config.fullscreen = !this.config.fullscreen),
                                                    t.resize();
                                            },
                                        },
                                        {
                                            view: "icon",
                                            icon: "mdi mdi-download",
                                            click() {
                                                const e = $$(t.uid.image).data;
                                                var i = document.createElement("a");
                                                (i.href = e.src), (i.download = e.getAttribute("alt")), i.click();
                                            },
                                        },
                                        {
                                            view: "icon",
                                            icon: "mdi mdi-close-circle",
                                            click() {
                                                this.getTopParentView().hide();
                                            },
                                        },
                                    ],
                                },
                                body: {
                                    rows: [
                                        {
                                            veiw: "multiview",
                                            animate: !1,
                                            cells: [
                                                {
                                                    id: (t.uid.image = i()),
                                                    template: (t) =>
                                                        "<"
                                                            .concat(t.tagName, ' style="width: 100%; height: 100%; object-fit: contain;" src="')
                                                            .concat(t.src, '" poster="')
                                                            .concat(t.poster ? t.poster : "", '" alt="')
                                                            .concat(t.getAttribute("alt"), '" controls/>'),
                                                },
                                                {
                                                    id: (t.uid.similar = i()),
                                                    view: "dataview",
                                                    xCount: 1,
                                                    type: {
                                                        width: "auto",
                                                        height: "auto",
                                                        template: '<div style="display:flex;"><div><img src="'
                                                            .concat(s.hj.url, "/api/storage/#face#?token=")
                                                            .concat(s.hj.token, '" width="120" /></div><div style="padding-left:10px;"><div style="font-weight:bold;">#nickname#</div><div>#id#</div></div></div>'),
                                                    },
                                                },
                                            ],
                                        },
                                        {
                                            localId: "tabs",
                                            view: "tabbar",
                                            value: t.uid.image,
                                            multiview: !0,
                                            type: "bottom",
                                            options: [
                                                { value: e("chat.viewer.image"), id: t.uid.image },
                                                { value: e("chat.viewer.similar"), id: t.uid.similar },
                                            ],
                                        },
                                    ],
                                },
                                on: {
                                    onHide() {
                                        var e = $$(t.uid.image).getNode().querySelector("video");
                                        e && e.pause();
                                    },
                                },
                            }
                        );
                    }
                    open(t, e) {
                        const i = this.app.getService("locale")._;
                        var n = this.getRoot();
                        n.define({ position: "center" }), $$(this.uid.image).parse(t);
                        var r = this.$$("tabs");
                        r.setValue(this.uid.image);
                        var o = $$(this.uid.similar);
                        if ((o.clearAll(), o.showOverlay(i("chat.viewer.overlay")), e)) {
                            if (e.similar && e.similar.length) {
                                var a = e.similar.map((t) => "filter[id]=".concat(t.user)).join("&");
                                (0, s.hj)("/api/user?".concat(a)).then((t) => {
                                    o.parse(t.data), o.hideOverlay();
                                });
                            }
                            r.show();
                        } else r.hide();
                        n.show();
                    }
                }
            },
            8958: (t, e, i) => {
                "use strict";
                i.r(e), i.d(e, { default: () => o });
                var n = i(3036),
                    s = i(633);
                const r = "/api/config";
                class o extends n.iC {
                    config() {
                        const t = this,
                            e = this.app.getService("locale")._;
                        return {
                            view: "window",
                            position: "center",
                            autoheight: !0,
                            move: !0,
                            modal: !0,
                            maxWidth: 650,
                            head: {
                                view: "toolbar",
                                cols: [
                                    { type: "header", borderless: !0, template: e("configs.editor") },
                                    {
                                        view: "icon",
                                        icon: "mdi mdi-check-circle",
                                        click() {
                                            var i = this,
                                                n = i.getTopParentView(),
                                                o = t.$$("params");
                                            if (o.validate()) {
                                                i.disable();
                                                var a = o.getValues();
                                                (t._id && t._id === a.id ? (0, s.hj)("".concat(r, "/").concat(a.id), { method: "PUT", body: a }) : (0, s.hj)("".concat(r), { method: "POST", body: a }))
                                                    .then(function () {
                                                        i.enable(), n.hide(), "function" == typeof t._cb && t._cb();
                                                    })
                                                    .catch(function () {
                                                        webix.message({ type: "error", text: e("common.messages.savingError") }), i.enable();
                                                    });
                                            }
                                        },
                                    },
                                    {
                                        view: "icon",
                                        icon: "mdi mdi-close-circle",
                                        click() {
                                            this.getTopParentView().hide();
                                        },
                                    },
                                ],
                            },
                            body: {
                                rows: [
                                    {
                                        localId: "params",
                                        view: "form",
                                        elements: [
                                            { name: "id", view: "text", placeholder: e("configs.idPlaceholder") },
                                            { name: "value", view: "textarea", height: 200, placeholder: e("configs.valuePlaceholder") },
                                        ],
                                        rules: { id: webix.rules.isNotEmpty },
                                        on: {
                                            onChange() {
                                                this.validate();
                                            },
                                        },
                                    },
                                ],
                            },
                        };
                    }
                    open(t, e) {
                        (this._id = t), (this._cb = e);
                        const i = this.$$("params");
                        i.clear(),
                            t &&
                                (0, s.hj)("".concat(r, "/").concat(t)).then((t) => {
                                    t && i.parse(t);
                                }),
                            this.getRoot().show();
                    }
                }
            },
            3144: (t, e, i) => {
                "use strict";
                i.r(e), i.d(e, { default: () => s });
                var n = i(3036);
                class s extends n.iC {
                    config() {
                        const t = this;
                        return {
                            view: "window",
                            position: "center",
                            move: !0,
                            modal: !0,
                            maxWidth: 500,
                            head: {
                                view: "toolbar",
                                cols: [
                                    { type: "header", borderless: !0, template: (0, this.app.getService("locale")._)("common.exportDialog.title") },
                                    {
                                        view: "icon",
                                        icon: "mdi mdi-checkbox-marked-outline",
                                        click() {
                                            var e = t.$$("list");
                                            e.find(function (t) {
                                                return (t.checked = !0), !0;
                                            }),
                                                e.refresh();
                                        },
                                    },
                                    {
                                        view: "icon",
                                        icon: "mdi mdi-checkbox-blank-outline",
                                        click() {
                                            var e = t.$$("list");
                                            e.find(function (t) {
                                                return (t.checked = !1), !0;
                                            }),
                                                e.refresh();
                                        },
                                    },
                                    {
                                        view: "icon",
                                        icon: "mdi mdi-check-circle",
                                        click() {
                                            var e = this.getTopParentView(),
                                                i = t.$$("list").find((t) => t.checked);
                                            t.callback && t.callback(i.map((t) => t.columnId)), e.hide();
                                        },
                                    },
                                    {
                                        view: "icon",
                                        icon: "mdi mdi-close-circle",
                                        click() {
                                            this.getTopParentView().hide();
                                        },
                                    },
                                ],
                            },
                            body: {
                                rows: [
                                    {
                                        localId: "list",
                                        view: "list",
                                        height: 400,
                                        template: (t) =>
                                            '<div style="display: inline-block; vertical-align: middle; white-space: nowrap;"><span class="webix_icon mdi ' +
                                            (t.checked ? "mdi-check-box-outline" : "mdi-checkbox-blank-outline") +
                                            '" style="padding-right: 10px;"></span>' +
                                            t.columnName +
                                            " (" +
                                            t.columnId +
                                            ")</div>",
                                        type: { height: 40 },
                                        on: {
                                            onItemClick(t) {
                                                var e = this.getItem(t).checked;
                                                (this.getItem(t).checked = !e), this.refresh(t);
                                            },
                                        },
                                    },
                                ],
                            },
                        };
                    }
                    open(t, e) {
                        this.callback = e;
                        const i = this.$$("list");
                        i.clearAll();
                        const n = [];
                        for (const e in t) n.push({ columnName: t[e], columnId: e, checked: !0 });
                        i.parse(n), this.getRoot().show();
                    }
                }
            },
            712: (t, e, i) => {
                "use strict";
                i.r(e), i.d(e, { default: () => r });
                var n = i(3036),
                    s = i(633);
                i(6812);
                class r extends n.iC {
                    config() {
                        const t = this,
                            e = t.app.getService("locale")._;
                        return {
                            css: "faceid_window",
                            view: "window",
                            position: "center",
                            move: !0,
                            modal: !0,
                            maxWidth: 500,
                            maxHeight: 480,
                            head: {
                                view: "toolbar",
                                cols: [
                                    { type: "header", borderless: !0, template: e("faceid.title") },
                                    {
                                        view: "icon",
                                        icon: "mdi mdi-logout-variant",
                                        click() {
                                            t.getRoot().hide(), t.callback();
                                        },
                                    },
                                ],
                            },
                            body: {
                                rows: [
                                    { localId: "video", css: "faceid_video", template: "&nbsp;" },
                                    {
                                        localId: "alert",
                                        view: "alert",
                                        onClick: {
                                            take() {
                                                const i = t.$$("alert");
                                                i.setValues({ type: "loading", message: e("faceid.message.processing") }),
                                                    t
                                                        .takePhoto()
                                                        .then(() => {
                                                            i.setValues({ type: "info", message: e("faceid.message.success") }),
                                                                setTimeout(() => {
                                                                    t.getRoot().hide(), t.callback(!0);
                                                                }, 1e3);
                                                        })
                                                        .catch((t) => {
                                                            i.setValues({ type: "error", message: e("faceid.message.nomatch"), button: { name: "retry", label: e("faceid.button.retry") } }), console.error(t);
                                                        });
                                            },
                                            retry() {
                                                t.stopVideo(), t.startVideo();
                                            },
                                        },
                                    },
                                ],
                            },
                            on: {
                                onShow() {
                                    t.startVideo();
                                },
                                onHide() {
                                    t.stopVideo();
                                },
                            },
                        };
                    }
                    open(t) {
                        (this.callback = t), this.getRoot().show();
                    }
                    startVideo() {
                        const t = this.app.getService("locale")._,
                            e = this.$$("alert");
                        e.setValues({ type: "loading", message: t("faceid.message.loading") }),
                            (0, s.oj)({ audio: !1 })
                                .then((i) => {
                                    this._mediaStream = i;
                                    const n = (0, s.v3)();
                                    (n.dataset.spinner = !0),
                                        (n.onplaying = function () {
                                            delete n.dataset.spinner, (this.dataset.mirror = !0);
                                            const i = document.createElement("div");
                                            (i.className = "faceid_overlay"), r.appendChild(i), e.setValues({ type: "info", message: t("faceid.message.take"), button: { name: "take", label: t("faceid.button.take") } });
                                        }),
                                        (n.srcObject = i);
                                    const r = this.$$("video").getNode();
                                    (r.innerHTML = ""), r.appendChild(n);
                                })
                                .catch((i) => {
                                    e.setValues({ type: "error", message: t("faceid.message.nocamera"), button: { name: "retry", label: t("faceid.button.retry") } }), console.error(i);
                                });
                    }
                    stopVideo() {
                        this._mediaStream && (this._mediaStream.getTracks().forEach((t) => t.stop()), (this._mediaStream = null));
                    }
                    takePhoto() {
                        return new Promise((t, e) => {
                            const i = this.$$("video").getNode().querySelector("video");
                            i.pause();
                            const n = document.createElement("canvas"),
                                r = n.getContext("2d");
                            (n.width = i.videoWidth),
                                (n.height = i.videoHeight),
                                r.drawImage(i, 0, 0, n.width, n.height),
                                n.toBlob(
                                    (i) => {
                                        (0, s.hj)("/api/storage/face", { method: "POST", body: new File([i], "passport.jpg", { type: "image/jpeg" }) })
                                            .then((i) => ((i.metadata || {}).verified ? (s.EA.get("face") ? void t(i) : s.EA.update({ face: i.id }).then(t).catch(e)) : e(new Error("Face not vefified"))))
                                            .catch(e);
                                    },
                                    "image/jpeg",
                                    0.8
                                );
                        });
                    }
                }
            },
            6530: (t, e, i) => {
                "use strict";
                i.r(e), i.d(e, { default: () => a });
                var n = i(3036),
                    s = i(633),
                    r = i(5804),
                    o = i(9126);
                class a extends n.iC {
                    config() {
                        const t = this,
                            e = this.app.getService("locale"),
                            i = e._,
                            n = e.setLang,
                            r = this.app.getService("user");
                        return {
                            view: "popup",
                            body: {
                                view: "menu",
                                layout: "y",
                                autoheight: !0,
                                autowidth: !0,
                                subMenuPos: "left",
                                data: [
                                    { id: "maximize", value: i("menu.maximize") },
                                    { id: "conference", value: i("menu.conference") },
                                    { id: "settings", value: i("menu.settings") },
                                    { $template: "Separator" },
                                    { id: "logout", value: i("menu.logout") },
                                ],
                                type: { subsign: !0, width: 150 },
                                on: {
                                    onMenuItemClick(e) {
                                        switch (e) {
                                            case "lang_en":
                                                n("en");
                                                break;
                                            case "lang_ru":
                                                n("ru");
                                                break;
                                            case "conference":
                                                t.promptDialog.open({ title: i("menu.conferencePrompt.title"), label: i("menu.conferencePrompt.label"), value: Math.random().toString(16).substr(2, 6) }, function (t) {
                                                    window.open("/#!/conference?id=".concat(encodeURIComponent(t)));
                                                });
                                                break;
                                            case "maximize":
                                                (0, s.q_)();
                                                break;
                                            case "settings":
                                                t.settingsDialog.open();
                                                break;
                                            case "logout":
                                                webix.confirm({
                                                    ok: i("menu.logoutDialog.ok"),
                                                    cancel: i("menu.logoutDialog.cancel"),
                                                    text: i("menu.logoutDialog.text"),
                                                    type: "confirm-warning",
                                                    callback: (t) => {
                                                        t && r.logout();
                                                    },
                                                });
                                        }
                                        t.getRoot().hide();
                                    },
                                },
                            },
                        };
                    }
                    init() {
                        (this.settingsDialog = this.ui(r.default)), (this.promptDialog = this.ui(o.default));
                    }
                    open(t) {
                        this.getRoot().show(t);
                    }
                }
            },
            9126: (t, e, i) => {
                "use strict";
                i.r(e), i.d(e, { default: () => s });
                var n = i(3036);
                class s extends n.iC {
                    config() {
                        const t = this;
                        return (
                            (t._params = {}),
                            {
                                view: "window",
                                position: "center",
                                move: !0,
                                modal: !0,
                                maxWidth: 400,
                                head: {
                                    view: "toolbar",
                                    cols: [
                                        { localId: "header", type: "header", borderless: !0, template: "#title#" },
                                        {
                                            view: "icon",
                                            icon: "mdi mdi-close-circle",
                                            click() {
                                                t.getRoot().hide();
                                            },
                                        },
                                    ],
                                },
                                body: {
                                    localId: "form",
                                    view: "form",
                                    elements: [
                                        { localId: "label", borderless: !0, autoheight: !0, template: "#label#" },
                                        { localId: "input", view: "text", name: "value" },
                                        {
                                            cols: [
                                                {},
                                                {
                                                    view: "button",
                                                    css: "webix_primary",
                                                    label: "OK",
                                                    width: 150,
                                                    click() {
                                                        var e = t.getRoot(),
                                                            i = t.$$("form").getValues();
                                                        e.hide(), "function" == typeof t._cb && t._cb(i.value);
                                                    },
                                                },
                                            ],
                                        },
                                    ],
                                },
                            }
                        );
                    }
                    open(t, e) {
                        (this._cb = e), this.$$("label").setValues({ label: t.label }), this.$$("header").setValues({ title: t.title }), this.$$("input").setValue(t.value), this.getRoot().show();
                    }
                }
            },
            6422: (t, e, i) => {
                "use strict";
                i.r(e), i.d(e, { default: () => l });
                var n = i(3036),
                    s = i(633),
                    r = i(4375);
                const o = ["b1", "b2", "b3", "c1", "c2", "c3", "c4", "c5", "k1", "m1", "m2", "n1", "n2", "s1", "s2"],
                    a = ["rules", "check", "face", "passport", "scan", "qrcode", "track", "record", "mobile", "screen", "webrtc", "seb", "content", "preview", "chat", "upload", "lock", "shared", "finish", "auto"];
                class l extends n.iC {
                    config() {
                        const t = this,
                            e = this.app.getService("locale")._,
                            i = () => webix.uid().toString();
                        return (
                            (this.uid = {}),
                            {
                                view: "window",
                                position: "center",
                                autoheight: !0,
                                move: !0,
                                modal: !0,
                                maxWidth: 650,
                                head: {
                                    view: "toolbar",
                                    cols: [
                                        { type: "header", borderless: !0, template: e("sessions.titles.single") },
                                        {
                                            view: "icon",
                                            icon: "mdi mdi-eraser",
                                            click() {
                                                t.reset();
                                            },
                                        },
                                        {
                                            view: "icon",
                                            icon: "mdi mdi-check-circle",
                                            click() {
                                                var i = this,
                                                    n = i.getTopParentView(),
                                                    r = t.$$("form");
                                                if (r.validate()) {
                                                    i.disable();
                                                    var o = r.getValues();
                                                    (o.complete = !1),
                                                        (!o.deadline || o.deadline > new Date(o.stoppedAt)) && ((o.stoppedAt = null), (o.proctor = null), (o.conclusion = null), (o.comment = null)),
                                                        (o.addons = t
                                                            .$$("addons_list")
                                                            .serialize()
                                                            .filter(function (t) {
                                                                return !!t.checked;
                                                            })
                                                            .map(function (t) {
                                                                return t.id;
                                                            })),
                                                        (o.metrics = t
                                                            .$$("metrics_list")
                                                            .serialize()
                                                            .filter(function (t) {
                                                                return !!t.checked;
                                                            })
                                                            .map(function (t) {
                                                                return t.id;
                                                            })),
                                                        (o.weights = t
                                                            .$$("metrics_list")
                                                            .serialize()
                                                            .filter(function (t) {
                                                                return !!t.checked;
                                                            })
                                                            .map(function (t) {
                                                                return t.weight;
                                                            })),
                                                        (o.members = t
                                                            .$$("members_list")
                                                            .serialize()
                                                            .map(function (t) {
                                                                return t.id;
                                                            })),
                                                        (o.invites = t
                                                            .$$("invites_list")
                                                            .serialize()
                                                            .map(function (t) {
                                                                return t.id;
                                                            }));
                                                    var a = JSON.stringify(o, function (t, e) {
                                                        return "" === e || "null" === e ? null : e;
                                                    });
                                                    (t._id && t._id === o.id ? (0, s.hj)("/api/room/".concat(o.id), { method: "PUT", body: JSON.parse(a) }) : (0, s.hj)("/api/room", { method: "POST", body: JSON.parse(a) }))
                                                        .then(function () {
                                                            i.enable(), n.hide(), "function" == typeof t._cb && t._cb();
                                                        })
                                                        .catch(function () {
                                                            webix.message({ type: "error", text: e("common.messages.savingError") }), i.enable();
                                                        });
                                                }
                                            },
                                        },
                                        {
                                            view: "icon",
                                            icon: "mdi mdi-close-circle",
                                            click() {
                                                this.getTopParentView().hide();
                                            },
                                        },
                                    ],
                                },
                                body: {
                                    localId: "form",
                                    view: "form",
                                    type: "line",
                                    elements: [
                                        {
                                            animate: !1,
                                            fitBiggest: !0,
                                            cells: [
                                                {
                                                    id: (t.uid.params = i()),
                                                    type: "form",
                                                    rows: [
                                                        {
                                                            view: "search",
                                                            name: "student",
                                                            label: e("sessions.student"),
                                                            labelWidth: 150,
                                                            placeholder: e("sessions.studentPlaceholder"),
                                                            suggest: {
                                                                view: "suggest",
                                                                textValue: "id",
                                                                keyPressTimeout: 100,
                                                                body: {
                                                                    view: "list",
                                                                    dataFeed: "".concat(s.hj.url, "/api/suggest/users?filter[role]=student"),
                                                                    template: (t) => (t.nickname && t.id !== t.nickname ? "".concat(t.id, " (").concat(t.nickname, ")") : t.id),
                                                                },
                                                            },
                                                        },
                                                        { view: "text", name: "id", label: e("sessions.identifier"), labelWidth: 150, placeholder: e("sessions.identifierPlaceholder") },
                                                        { view: "text", name: "subject", label: e("sessions.subject"), labelWidth: 150, placeholder: e("sessions.subjectPlaceholder") },
                                                        {
                                                            cols: [
                                                                {
                                                                    view: "datepicker",
                                                                    name: "scheduledAt",
                                                                    label: e("sessions.scheduledAt"),
                                                                    labelWidth: 150,
                                                                    placeholder: e("sessions.scheduledAtPlaceholder"),
                                                                    format: webix.i18n.fullDateFormat,
                                                                    timepicker: !0,
                                                                    editable: !0,
                                                                },
                                                                {
                                                                    view: "text",
                                                                    name: "lifetime",
                                                                    label: e("sessions.lifetime"),
                                                                    labelAlign: "right",
                                                                    labelWidth: 100,
                                                                    width: 200,
                                                                    placeholder: e("sessions.lifetimePlaceholder"),
                                                                    attributes: { type: "number", min: 0 },
                                                                },
                                                            ],
                                                        },
                                                        {
                                                            cols: [
                                                                {
                                                                    view: "datepicker",
                                                                    name: "deadline",
                                                                    label: e("sessions.deadline"),
                                                                    labelWidth: 150,
                                                                    placeholder: e("sessions.deadlinePlaceholder"),
                                                                    format: webix.i18n.fullDateFormat,
                                                                    timepicker: !0,
                                                                    editable: !0,
                                                                },
                                                                {
                                                                    view: "text",
                                                                    name: "timeout",
                                                                    label: e("sessions.timeout"),
                                                                    labelAlign: "right",
                                                                    labelWidth: 100,
                                                                    width: 200,
                                                                    placeholder: e("sessions.timeoutPlaceholder"),
                                                                    attributes: { type: "number", min: 0 },
                                                                },
                                                            ],
                                                        },
                                                        {
                                                            cols: [
                                                                {
                                                                    view: "combo",
                                                                    name: "locale",
                                                                    label: e("sessions.locale"),
                                                                    placeholder: e("sessions.localePlaceholder"),
                                                                    labelWidth: 150,
                                                                    options: (0, r.getLocalesList)().map((t) => ({ id: t, value: e("common.locales." + t) })),
                                                                },
                                                                {
                                                                    view: "text",
                                                                    name: "threshold",
                                                                    label: e("sessions.threshold"),
                                                                    labelAlign: "right",
                                                                    labelWidth: 100,
                                                                    width: 200,
                                                                    placeholder: e("sessions.thresholdPlaceholder"),
                                                                    attributes: { type: "number", min: 0, max: 100 },
                                                                },
                                                            ],
                                                        },
                                                        {
                                                            view: "text",
                                                            name: "timezone",
                                                            label: e("sessions.timezone"),
                                                            placeholder: e("sessions.timezonePlaceholder"),
                                                            labelWidth: 150,
                                                            suggest: { view: "suggest", keyPressTimeout: 100, body: { view: "list", dataFeed: "".concat(s.hj.url, "/api/suggest/tz"), template: "#value#" } },
                                                        },
                                                        { view: "text", name: "rules", label: e("sessions.rules"), labelWidth: 150, placeholder: e("sessions.rulesPlaceholder") },
                                                        { view: "text", name: "url", label: e("sessions.url"), labelWidth: 150, placeholder: e("sessions.urlPlaceholder") },
                                                        { view: "text", name: "api", label: e("sessions.api"), labelWidth: 150, placeholder: e("sessions.apiPlaceholder") },
                                                        {
                                                            view: "text",
                                                            name: "tags",
                                                            label: e("sessions.tags"),
                                                            labelWidth: 150,
                                                            placeholder: e("sessions.tagsPlaceholder"),
                                                            on: {
                                                                onChange(t) {
                                                                    t &&
                                                                        this.$setValue(
                                                                            t
                                                                                .split(",")
                                                                                .map((t) => t.trim())
                                                                                .join(", ")
                                                                        );
                                                                },
                                                            },
                                                        },
                                                        {},
                                                    ],
                                                },
                                                {
                                                    id: (t.uid.addons = i()),
                                                    type: "form",
                                                    rows: [
                                                        {
                                                            localId: "addons_list",
                                                            view: "list",
                                                            drag: "inner",
                                                            type: { height: "auto" },
                                                            template: (t) =>
                                                                '<div style="display: flex; align-items: center;"><div style="padding-right: 10px"><span class="webix_icon mdi '
                                                                    .concat(t.checked ? "mdi-check-box-outline" : "mdi-checkbox-blank-outline", '"></span></div><div style="flex: 1;">')
                                                                    .concat(t.value, " (")
                                                                    .concat(t.id, ")</div></div>"),
                                                            on: {
                                                                onItemClick(t) {
                                                                    const e = this.getItem(t);
                                                                    (e.checked = !e.checked), this.updateItem(t, e);
                                                                },
                                                            },
                                                        },
                                                    ],
                                                },
                                                {
                                                    id: (t.uid.metrics = i()),
                                                    type: "form",
                                                    rows: [
                                                        {
                                                            localId: "metrics_list",
                                                            view: "list",
                                                            drag: "inner",
                                                            type: { height: "auto" },
                                                            template: (t) =>
                                                                '<div style="display: flex; align-items: center;"><div style="padding-right: 10px"><span class="webix_icon mdi '
                                                                    .concat(t.checked ? "mdi-check-box-outline" : "mdi-checkbox-blank-outline", '"></span></div><div style="flex: 1;">')
                                                                    .concat(t.value, " (")
                                                                    .concat(t.id, ')</div><div><input type="number" step="0.01" min="0" style="width: 50px; padding: 2px 4px" value="')
                                                                    .concat(t.weight || 1, '" data-id="')
                                                                    .concat(t.id, '" /></div></div>'),
                                                            on: {
                                                                onAfterRender() {
                                                                    [].forEach.call(this.getNode().querySelectorAll("input"), (t) => {
                                                                        t.onchange = (t) => {
                                                                            const e = t.target.dataset.id,
                                                                                i = t.target.value;
                                                                            this.getItem(e).weight = parseFloat(i) || 1;
                                                                        };
                                                                    });
                                                                },
                                                                onDataUpdate(t) {
                                                                    const e = this.getItemNode(t);
                                                                    e &&
                                                                        (e.querySelector("input").onchange = (t) => {
                                                                            const e = t.target.dataset.id,
                                                                                i = t.target.value;
                                                                            this.getItem(e).weight = parseFloat(i) || 1;
                                                                        });
                                                                },
                                                                onItemClick(t, e) {
                                                                    if ("INPUT" === e.target.tagName) return;
                                                                    const i = this.getItem(t);
                                                                    (i.checked = !i.checked), this.updateItem(t, i);
                                                                },
                                                            },
                                                        },
                                                    ],
                                                },
                                                {
                                                    id: (t.uid.members = i()),
                                                    type: "form",
                                                    rows: [
                                                        {
                                                            view: "search",
                                                            icon: "mdi mdi-plus",
                                                            placeholder: e("sessions.memberPlaceholder"),
                                                            suggest: {
                                                                view: "suggest",
                                                                textValue: "id",
                                                                keyPressTimeout: 100,
                                                                body: {
                                                                    view: "list",
                                                                    dataFeed: "/api/suggest/users?filter[role]=proctor",
                                                                    template: (t) => (t.nickname && t.id !== t.nickname ? "".concat(t.id, " (").concat(t.nickname, ")") : t.id),
                                                                },
                                                            },
                                                            on: {
                                                                doAddItem() {
                                                                    var e = this.getValue();
                                                                    if (e) {
                                                                        var i = t.$$("members_list");
                                                                        e
                                                                            .replace(/\s/g, "")
                                                                            .split(",")
                                                                            .forEach((t) => {
                                                                                i.exists(t) || i.add({ id: t });
                                                                            }),
                                                                            setTimeout(() => this.setValue(""), 0);
                                                                    }
                                                                },
                                                                onEnter() {
                                                                    this.callEvent("doAddItem");
                                                                },
                                                                onSearchIconClick() {
                                                                    this.callEvent("doAddItem");
                                                                },
                                                            },
                                                        },
                                                        {
                                                            localId: "members_list",
                                                            view: "list",
                                                            drag: "inner",
                                                            type: { height: "auto" },
                                                            template: (t) =>
                                                                t
                                                                    ? '<div style="display:flex;"><div style="align-self: center; word-break: break-word; line-height: normal; width: 100%;"><span class="mdi mdi-account"></span><span style="padding-left: 10px;">'
                                                                          .concat(t.id, '</span></div><div><a class="delete_link" href="javascript:void(0)"><span class="webix_icon mdi mdi-delete" data-id="')
                                                                          .concat(t.id, '"></span></a></div></div>')
                                                                    : "",
                                                            onClick: {
                                                                delete_link(e) {
                                                                    const i = e.target.dataset.id;
                                                                    i && t.$$("members_list").remove(i);
                                                                },
                                                            },
                                                            on: {
                                                                doClear() {
                                                                    this.clearAll(), this.showOverlay(e("sessions.overlays.members"));
                                                                },
                                                                onAfterAdd() {
                                                                    this.count() && this.hideOverlay();
                                                                },
                                                                onAfterDelete() {
                                                                    this.count() || this.showOverlay(e("sessions.overlays.members"));
                                                                },
                                                                onAfterLoad() {
                                                                    this.count() ? this.hideOverlay() : this.showOverlay(e("sessions.overlays.members"));
                                                                },
                                                            },
                                                        },
                                                    ],
                                                },
                                                {
                                                    id: (t.uid.invites = i()),
                                                    type: "form",
                                                    rows: [
                                                        {
                                                            view: "search",
                                                            icon: "mdi mdi-plus",
                                                            placeholder: e("sessions.memberPlaceholder"),
                                                            suggest: {
                                                                view: "suggest",
                                                                textValue: "id",
                                                                keyPressTimeout: 100,
                                                                body: {
                                                                    view: "list",
                                                                    dataFeed: "/api/suggest/users?filter[role]=proctor",
                                                                    template: (t) => (t.nickname && t.id !== t.nickname ? "".concat(t.id, " (").concat(t.nickname, ")") : t.id),
                                                                },
                                                            },
                                                            on: {
                                                                doAddItem() {
                                                                    var e = this.getValue();
                                                                    if (e) {
                                                                        var i = t.$$("invites_list");
                                                                        e
                                                                            .replace(/\s/g, "")
                                                                            .split(",")
                                                                            .forEach((t) => {
                                                                                i.exists(t) || i.add({ id: t });
                                                                            }),
                                                                            setTimeout(() => this.setValue(""), 0);
                                                                    }
                                                                },
                                                                onEnter() {
                                                                    this.callEvent("doAddItem");
                                                                },
                                                                onSearchIconClick() {
                                                                    this.callEvent("doAddItem");
                                                                },
                                                            },
                                                        },
                                                        {
                                                            localId: "invites_list",
                                                            view: "list",
                                                            drag: "inner",
                                                            type: { height: "auto" },
                                                            template: (t) =>
                                                                t
                                                                    ? '<div style="display:flex;"><div style="align-self: center; word-break: break-word; line-height: normal; width: 100%;"><span class="mdi mdi-account"></span><span style="padding-left: 10px;">'
                                                                          .concat(t.id, '</span></div><div><a class="delete_link" href="javascript:void(0)"><span class="webix_icon mdi mdi-delete" data-id="')
                                                                          .concat(t.id, '"></span></a></div></div>')
                                                                    : "",
                                                            onClick: {
                                                                delete_link(e) {
                                                                    const i = e.target.dataset.id;
                                                                    i && t.$$("invites_list").remove(i);
                                                                },
                                                            },
                                                            on: {
                                                                doClear() {
                                                                    this.clearAll(), this.showOverlay(e("sessions.overlays.members"));
                                                                },
                                                                onAfterAdd() {
                                                                    this.count() && this.hideOverlay();
                                                                },
                                                                onAfterDelete() {
                                                                    this.count() || this.showOverlay(e("sessions.overlays.members"));
                                                                },
                                                                onAfterLoad() {
                                                                    this.count() ? this.hideOverlay() : this.showOverlay(e("sessions.overlays.members"));
                                                                },
                                                            },
                                                        },
                                                        {
                                                            view: "fieldset",
                                                            label: e("sessions.inviteRules"),
                                                            body: {
                                                                cols: [
                                                                    { view: "counter", name: "quota", label: e("sessions.quota"), labelWidth: 150, placeholder: e("sessions.quotaPlaceholder"), min: 0 },
                                                                    { view: "counter", name: "concurrent", label: e("sessions.concurrent"), labelWidth: 150, placeholder: e("sessions.concurrentPlaceholder"), min: 0 },
                                                                ],
                                                            },
                                                        },
                                                    ],
                                                },
                                            ],
                                        },
                                        {
                                            localId: "tabs",
                                            view: "tabbar",
                                            value: t.uid.params,
                                            multiview: !0,
                                            type: "bottom",
                                            options: [
                                                { value: e("sessions.tabs.params"), id: t.uid.params },
                                                { value: e("sessions.tabs.addons"), id: t.uid.addons },
                                                { value: e("sessions.tabs.metrics"), id: t.uid.metrics },
                                                { value: e("sessions.tabs.members"), id: t.uid.members },
                                                { value: e("sessions.tabs.invites"), id: t.uid.invites },
                                            ],
                                        },
                                    ],
                                    elementsConfig: {
                                        labelAlign: "left",
                                        on: {
                                            onChange() {
                                                this.getFormView().validate();
                                            },
                                        },
                                    },
                                },
                            }
                        );
                    }
                    reset() {
                        const t = this.app.getService("locale")._;
                        this.$$("form").clear(),
                            this.$$("addons_list").clearAll(),
                            this.$$("addons_list").parse(
                                a.map(function (e) {
                                    return { id: e, checked: !0, value: t("sessions.addons." + e) };
                                })
                            ),
                            this.$$("metrics_list").clearAll(),
                            this.$$("metrics_list").parse(
                                o.map(function (e) {
                                    return { id: e, checked: !0, value: t("sessions.metrics." + e), weight: 1 };
                                })
                            ),
                            this.$$("invites_list").callEvent("doClear"),
                            this.$$("members_list").callEvent("doClear");
                    }
                    open(t, e) {
                        (this._id = t), (this._cb = e), this.reset();
                        const i = this.app.getService("locale")._;
                        var n = this.$$("form"),
                            r = this.$$("addons_list"),
                            l = this.$$("metrics_list"),
                            h = this.$$("members_list"),
                            c = this.$$("invites_list");
                        t &&
                            (0, s.hj)("/api/room/".concat(t)).then((t) => {
                                if (t) {
                                    t.scheduledAt && (t.scheduledAt = new Date(t.scheduledAt)), t.deadline && (t.deadline = new Date(t.deadline)), n.parse(t), r.clearAll();
                                    for (let e = 0, n = t.addons || []; e < n.length; e++) {
                                        const t = n[e];
                                        -1 !== a.indexOf(t) && r.add({ id: t, checked: !0, value: i("sessions.addons." + t) });
                                    }
                                    for (let t = 0, e = a; t < e.length; t++) {
                                        const n = e[t];
                                        r.exists(n) || r.add({ id: n, checked: !1, value: i("sessions.addons." + n) });
                                    }
                                    l.clearAll();
                                    for (let e = 0, n = t.metrics || []; e < n.length; e++) {
                                        const s = n[e],
                                            r = (t.weights || [])[e];
                                        -1 !== o.indexOf(s) && l.add({ id: s, checked: !0, weight: "number" == typeof r ? r : 1, value: i("sessions.metrics." + s) });
                                    }
                                    for (let t = 0, e = o; t < e.length; t++) {
                                        const n = e[t];
                                        l.exists(n) || l.add({ id: n, checked: !1, weight: 1, value: i("sessions.metrics." + n) });
                                    }
                                    h.clearAll(), h.parse(t.members || []), c.clearAll(), c.parse(t.invites || []);
                                }
                            }),
                            this.$$("tabs").setValue(this.uid.params),
                            this.getRoot().show();
                    }
                }
            },
            894: (t, e, i) => {
                "use strict";
                i.r(e), i.d(e, { default: () => r });
                var n = i(3036),
                    s = i(633);
                class r extends n.iC {
                    config() {
                        const t = this,
                            e = this.app.getService("locale")._;
                        return {
                            view: "window",
                            move: !0,
                            modal: !0,
                            position: "center",
                            maxWidth: 600,
                            head: {
                                view: "toolbar",
                                cols: [
                                    { type: "header", borderless: !0, template: e("sessions.titles.submit") },
                                    {
                                        view: "icon",
                                        icon: "mdi mdi-check-circle",
                                        click() {
                                            const i = this,
                                                n = t.$$("form");
                                            if (!n.validate()) return;
                                            const r = n.getValues(),
                                                o = this.getTopParentView();
                                            i.disable(),
                                                (0, s.hj)("/api/room/submit?id=".concat(r.roomId), { method: "POST", body: { conclusion: r.conclusion, comment: r.comment } })
                                                    .then((e) => {
                                                        try {
                                                            i.enable(), o.hide();
                                                        } catch (t) {}
                                                        "function" == typeof t._cb && t._cb(e);
                                                    })
                                                    .catch(function () {
                                                        webix.message({ type: "error", text: e("common.messages.savingError") }), i.enable();
                                                    });
                                        },
                                    },
                                    {
                                        view: "icon",
                                        icon: "mdi mdi-close-circle",
                                        click() {
                                            this.getTopParentView().hide();
                                        },
                                    },
                                ],
                            },
                            body: {
                                localId: "form",
                                view: "form",
                                elements: [
                                    {
                                        name: "conclusion",
                                        view: "segmented",
                                        label: e("sessions.rate"),
                                        labelPosition: "top",
                                        options: [
                                            { id: "null", value: e("sessions.rates.null") },
                                            { id: "positive", value: '<span class="mdi mdi mdi-thumb-up"></span> '.concat(e("sessions.rates.positive")) },
                                            { id: "negative", value: '<span class="mdi mdi mdi-thumb-down"></span> '.concat(e("sessions.rates.negative")) },
                                        ],
                                    },
                                    {
                                        view: "textarea",
                                        name: "comment",
                                        placeholder: e("sessions.commentPlaceholder"),
                                        height: 200,
                                        on: {
                                            onTimedKeyPress() {
                                                this.getFormView().validate();
                                            },
                                        },
                                    },
                                    { borderless: !0, autoheight: !0, css: { "background-color": "#FDD590", "border-radius": "2px" }, template: e("sessions.conclusionWarning") },
                                ],
                                rules: {
                                    conclusion: webix.rules.isNotEmpty,
                                    comment(t) {
                                        const e = this.getValues();
                                        return !!t || "null" === e.conclusion;
                                    },
                                },
                                elementsConfig: {
                                    on: {
                                        onChange() {
                                            this.getFormView().validate();
                                        },
                                    },
                                },
                            },
                            on: {
                                onShow() {
                                    t.$$("form").validate(), t.app.callEvent("lock");
                                },
                            },
                        };
                    }
                    open(t, e) {
                        this._cb = e;
                        const i = this.$$("form");
                        i.clear(), i.parse(t), this.getRoot().show();
                    }
                }
            },
            6627: (t, e, i) => {
                "use strict";
                i.r(e), i.d(e, { default: () => r });
                var n = i(3036),
                    s = i(633);
                class r extends n.iC {
                    config() {
                        const t = this,
                            e = this.app.getService("locale")._,
                            i = () => webix.uid().toString();
                        return (
                            (this.uid = {}),
                            {
                                view: "window",
                                position: "center",
                                move: !0,
                                modal: !0,
                                maxWidth: 550,
                                head: {
                                    view: "toolbar",
                                    cols: [
                                        { type: "header", borderless: !0, template: e("sessions.titles.single") },
                                        {
                                            view: "icon",
                                            icon: "mdi mdi-close-circle",
                                            click() {
                                                this.getTopParentView().hide();
                                            },
                                        },
                                    ],
                                },
                                body: {
                                    rows: [
                                        {
                                            animate: !1,
                                            height: 400,
                                            cells: [
                                                {
                                                    id: (t.uid.params = i()),
                                                    scroll: "auto",
                                                    template(t) {
                                                        if (!t.id) return e("common.messages.loading");
                                                        var i = "",
                                                            n = function (t, e) {
                                                                (i += "<tr>"), (i += "<td><b>".concat(t, "</b></td>")), (i += "<td>".concat(e, "</td>")), (i += "</tr>");
                                                            };
                                                        if (
                                                            ((i += '<table style="width: 100%" cellspacing="8">'),
                                                            n(e("sessions.identifier"), t.id),
                                                            t.integrator && n(e("sessions.integrator"), t.integrator),
                                                            t.template && n(e("sessions.template"), t.template),
                                                            t.subject && n(e("sessions.subject"), t.subject),
                                                            t.student)
                                                        ) {
                                                            const i = t.student.nickname && t.student.id !== t.student.nickname ? "".concat(t.student.nickname, " (").concat(t.student.id, ")") : t.student.id;
                                                            n(e("sessions.student"), i);
                                                        }
                                                        if (
                                                            (t.startedAt
                                                                ? n(e("sessions.startedAt"), webix.Date.parseDate(t.startedAt, webix.i18n.fullDateFormat))
                                                                : t.scheduledAt
                                                                ? n(e("sessions.scheduledAt"), webix.Date.parseDate(t.scheduledAt, webix.i18n.fullDateFormat))
                                                                : t.createdAt && n(e("sessions.createdAt"), webix.Date.parseDate(t.createdAt, webix.i18n.fullDateFormat)),
                                                            t.stoppedAt
                                                                ? n(e("sessions.stoppedAt"), webix.Date.parseDate(t.stoppedAt, webix.i18n.fullDateFormat))
                                                                : t.deadline && n(e("sessions.deadline"), webix.Date.parseDate(t.deadline, webix.i18n.fullDateFormat)),
                                                            t.duration >= 0)
                                                        ) {
                                                            let i = t.duration,
                                                                s = Math.floor(i / 1440);
                                                            i -= 60 * s * 24;
                                                            let r = Math.floor(i / 60);
                                                            i -= 60 * r;
                                                            let o = "";
                                                            s > 0
                                                                ? (o += ""
                                                                      .concat(e("common.time.days", { days: s }), " ")
                                                                      .concat(e("common.time.hours", { hours: r }), " ")
                                                                      .concat(e("common.time.minutes", { minutes: i })))
                                                                : r > 0
                                                                ? (o += "".concat(e("common.time.hours", { hours: r }), " ").concat(e("common.time.minutes", { minutes: i })))
                                                                : i >= 0 && (o += "".concat(e("common.time.minutes", { minutes: i }))),
                                                                o && n(e("sessions.duration"), o);
                                                        }
                                                        if (
                                                            (t.status && n(e("sessions.statusName"), e("sessions.status." + t.status)),
                                                            "number" == typeof t.score && n(e("sessions.score"), "".concat(Math.round(t.score), "%")),
                                                            t.incidents && n(e("sessions.incidents"), t.incidents),
                                                            t.proctor)
                                                        ) {
                                                            const i = t.proctor.nickname && t.proctor.id !== t.proctor.nickname ? "".concat(t.proctor.nickname, " (").concat(t.proctor.id, ")") : t.proctor.id;
                                                            n(e("sessions.proctor"), i);
                                                        }
                                                        if ((t.signedAt && n(e("sessions.signedAt"), webix.Date.parseDate(t.signedAt, webix.i18n.fullDateFormat)), t.comment && n(e("sessions.comment"), t.comment), t.browser)) {
                                                            const i = t.browser.name || "",
                                                                s = t.browser.version || "";
                                                            n(e("sessions.browser"), [i, s].join(" "));
                                                        }
                                                        if (t.os) {
                                                            const i = t.os.name || "",
                                                                s = t.os.version || t.os.versionName || "";
                                                            n(e("sessions.os"), [i, s].join(" "));
                                                        }
                                                        return (
                                                            t.ipaddress && n(e("sessions.ipaddress"), t.ipaddress),
                                                            t.url && n(e("sessions.url"), '<a href="'.concat(t.url, '" target="_blank">').concat((0, s.aF)(t.url, 45), "</a>")),
                                                            t.error && n(e("sessions.error"), t.error),
                                                            t.tags &&
                                                                t.tags.length &&
                                                                n(e("sessions.tags"), t.tags.map((t) => '<span style="text-decoration: underline;" title="'.concat(t, '">').concat((0, s.aF)(t, 30), "</span>")).join(", ")),
                                                            i
                                                        );
                                                    },
                                                },
                                                {
                                                    id: (t.uid.addons = i()),
                                                    view: "list",
                                                    template: (t) =>
                                                        '<div style="display: flex; align-items: center;"><div style="width: 30px"><span class="webix_icon mdi '
                                                            .concat(
                                                                {
                                                                    rules: "mdi-file-document",
                                                                    check: "mdi-order-bool-descending-variant",
                                                                    face: "mdi-face-recognition",
                                                                    passport: "mdi-card-account-details",
                                                                    scan: "mdi-file-account",
                                                                    qrcode: "mdi-qrcode-scan",
                                                                    track: "mdi-chart-bar",
                                                                    record: "mdi-filmstrip",
                                                                    mobile: "mdi-cellphone-android",
                                                                    screen: "mdi-cast-connected",
                                                                    webrtc: "mdi-webrtc",
                                                                    seb: "mdi-shield-lock",
                                                                    content: "mdi-download-lock",
                                                                    preview: "mdi-video",
                                                                    chat: "mdi-chat-processing",
                                                                    upload: "mdi-paperclip",
                                                                    lock: "mdi-monitor-lock",
                                                                    shared: "mdi-share-variant",
                                                                    finish: "mdi-exit-run",
                                                                    auto: "mdi-robot",
                                                                }[t.id],
                                                                '"></span></div><div>'
                                                            )
                                                            .concat(t.value, " (")
                                                            .concat(t.id, ")</div></div>"),
                                                    type: { height: "auto" },
                                                    on: {
                                                        "data->onStoreUpdated"() {
                                                            this.count() ? this.hideOverlay() : this.showOverlay(e("sessions.overlays.addons"));
                                                        },
                                                    },
                                                },
                                                {
                                                    id: (t.uid.metrics = i()),
                                                    view: "list",
                                                    template: (t) =>
                                                        '<div style="display: flex; align-items: center;"><div style="width: 30px"><span class="webix_icon mdi '
                                                            .concat(
                                                                {
                                                                    b1: "mdi-microsoft-internet-explorer",
                                                                    b2: "mdi-arrange-bring-forward",
                                                                    b3: "mdi-image-size-select-small",
                                                                    c1: "mdi-video-off",
                                                                    c2: "mdi-ghost",
                                                                    c3: "mdi-account-supervisor",
                                                                    c4: "mdi-face-recognition",
                                                                    c5: "mdi-account-convert",
                                                                    k1: "mdi-keyboard-outline",
                                                                    m1: "mdi-microphone-off",
                                                                    m2: "mdi-volume-high",
                                                                    n1: "mdi-wifi-off",
                                                                    n2: "mdi-cellphone-erase",
                                                                    s1: "mdi-monitor-off",
                                                                    s2: "mdi-monitor-multiple",
                                                                }[t.id],
                                                                '"></span></div><div>'
                                                            )
                                                            .concat(t.value, " (")
                                                            .concat(t.id, ")</div></div>"),
                                                    type: { height: "auto" },
                                                    on: {
                                                        "data->onStoreUpdated"() {
                                                            this.count() ? this.hideOverlay() : this.showOverlay(e("sessions.overlays.metrics"));
                                                        },
                                                    },
                                                },
                                                {
                                                    id: (t.uid.members = i()),
                                                    view: "list",
                                                    template: (t) => (t ? "<span class=\"mdi mdi-account\"> <span style='padding-left: 10px;'>".concat(t.id, "</span>") : ""),
                                                    on: {
                                                        "data->onStoreUpdated"() {
                                                            this.count() ? this.hideOverlay() : this.showOverlay(e("sessions.overlays.members"));
                                                        },
                                                    },
                                                },
                                            ],
                                        },
                                        {
                                            view: "tabbar",
                                            value: t.uid.params,
                                            multiview: !0,
                                            type: "bottom",
                                            options: [
                                                { value: e("sessions.tabs.params"), id: t.uid.params },
                                                { value: e("sessions.tabs.addons"), id: t.uid.addons },
                                                { value: e("sessions.tabs.metrics"), id: t.uid.metrics },
                                                { value: e("sessions.tabs.members"), id: t.uid.members },
                                            ],
                                        },
                                    ],
                                },
                            }
                        );
                    }
                    open(t) {
                        if (!t) return;
                        const e = this.app.getService("locale")._;
                        var i = $$(this.uid.params),
                            n = $$(this.uid.addons),
                            r = $$(this.uid.metrics),
                            o = $$(this.uid.members);
                        i.setValues({}),
                            n.clearAll(),
                            r.clearAll(),
                            o.clearAll(),
                            (0, s.hj)("/api/room/".concat(t, "?populate=student&populate=proctor")).then((t) => {
                                if (t) {
                                    i.setValues(t);
                                    var s = t.addons || [];
                                    n.parse(
                                        s.map(function (t) {
                                            return { id: t, value: e("sessions.addons." + t) };
                                        })
                                    );
                                    var a = t.metrics || [];
                                    r.parse(
                                        a.map(function (t) {
                                            return { id: t, value: e("sessions.metrics." + t) };
                                        })
                                    ),
                                        o.parse(t.members);
                                }
                            }),
                            this.getRoot().show();
                    }
                }
            },
            5804: (t, e, i) => {
                "use strict";
                i.r(e), i.d(e, { default: () => r });
                var n = i(3036),
                    s = i(633);
                class r extends n.iC {
                    config() {
                        const t = this,
                            e = t.app.getService("locale")._;
                        return {
                            view: "window",
                            position: "center",
                            move: !0,
                            modal: !0,
                            maxWidth: 500,
                            head: {
                                view: "toolbar",
                                cols: [
                                    { type: "header", borderless: !0, template: e("settings.title") },
                                    {
                                        view: "icon",
                                        icon: "mdi mdi-check-circle",
                                        click() {
                                            var e = t.getRoot(),
                                                i = t.$$("form").getValues();
                                            "0" !== i.video ? localStorage.setItem("video_id", i.video) : localStorage.removeItem("video_id"),
                                                "0" !== i.audio ? localStorage.setItem("audio_id", i.audio) : localStorage.removeItem("audio_id"),
                                                e.hide();
                                        },
                                    },
                                    {
                                        view: "icon",
                                        icon: "mdi mdi-close-circle",
                                        click() {
                                            t.getRoot().hide();
                                        },
                                    },
                                ],
                            },
                            body: {
                                rows: [
                                    {
                                        type: "clean",
                                        rows: [
                                            {
                                                localId: "form",
                                                view: "form",
                                                elements: [
                                                    {
                                                        localId: "video",
                                                        view: "richselect",
                                                        name: "video",
                                                        label: e("settings.video"),
                                                        labelWidth: 80,
                                                        bottomLabel: e("settings.attention"),
                                                        options: [],
                                                        on: {
                                                            onAfterRender() {
                                                                t.updateCombo(this, "videoinput");
                                                            },
                                                        },
                                                    },
                                                    {
                                                        localId: "audio",
                                                        view: "richselect",
                                                        name: "audio",
                                                        label: e("settings.audio"),
                                                        labelWidth: 80,
                                                        bottomLabel: e("settings.attention"),
                                                        options: [],
                                                        on: {
                                                            onAfterRender() {
                                                                t.updateCombo(this, "audioinput");
                                                            },
                                                        },
                                                    },
                                                ],
                                                on: {
                                                    onChange() {
                                                        t.stopMediaPreview(), t.startMediaPreview();
                                                    },
                                                },
                                            },
                                            {
                                                type: "clean",
                                                padding: 10,
                                                height: 270,
                                                cols: [
                                                    { localId: "webcam", borderless: !0, template: "<video autoplay playsinline muted></video>" },
                                                    { localId: "canvas", width: 45, borderless: !0, template: '<canvas width="20px" height="240px" style="border:1px solid #ddd"></canvas>' },
                                                ],
                                            },
                                        ],
                                    },
                                ],
                            },
                            on: {
                                onShow() {
                                    t.startMediaPreview();
                                },
                                onHide() {
                                    t.stopMediaPreview();
                                },
                            },
                        };
                    }
                    open() {
                        for (var t = this.getRoot(), e = this.$$("form"), i = e.getChildViews(), n = 0, s = i.length; n < s; n++) i[n].refresh();
                        e.setValues({ video: localStorage.getItem("video_id") || "0", audio: localStorage.getItem("audio_id") || "0" }), t.show();
                    }
                    updateCombo(t, e) {
                        const i = this.app.getService("locale")._;
                        var n = t.getPopup().getList();
                        navigator.mediaDevices.enumerateDevices().then(function (t) {
                            for (var s = [{ id: "0", value: i("settings.default") }], r = 0, o = t.length; r < o; r++) {
                                var a = t[r];
                                (e && a.kind != e) || s.push({ id: a.deviceId, value: a.label || a.deviceId });
                            }
                            n.clearAll(), n.parse(s);
                        });
                    }
                    startMediaPreview() {
                        var t = this.$$("webcam").getNode().querySelector("video"),
                            e = this.$$("canvas").getNode().querySelector("canvas"),
                            i = e.getContext("2d"),
                            n = this.$$("form").getValues();
                        if (
                            (t.removeAttribute("src"),
                            (t.dataset.mirror = !0),
                            (t.dataset.spinner = !0),
                            delete t.dataset.video,
                            (t.onplaying = function () {
                                (t.dataset.video = !0), delete t.dataset.spinner;
                            }),
                            (t.muted = !0),
                            !this._audioContext)
                        ) {
                            var r = window.AudioContext || window.webkitAudioContext;
                            this._audioContext = new r();
                        }
                        (0, s.oj)({ audioDeviceId: "0" !== n.audio && n.audio, videoDeviceId: "0" !== n.video && n.video })
                            .then((n) => {
                                (this._mediaStream = n), void 0 !== t.srcObject ? (t.srcObject = n) : ((this._url = URL.createObjectURL(n)), (t.src = this._url));
                                var s = this._audioContext.createMediaStreamSource(n),
                                    r = this._audioContext.createScriptProcessor(0, 1, 1);
                                s.connect(r), r.connect(this._audioContext.destination);
                                var o = 0,
                                    a = 0;
                                (r.onaudioprocess = function (t) {
                                    for (var n = t.inputBuffer.getChannelData(0), s = 0, r = 0, l = 0; l < n.length; ++l) r += n[l] * n[l];
                                    (s = Math.sqrt(r / n.length)),
                                        (o = Math.max(o, s)),
                                        (s = Math.max(s, a - 0.01)),
                                        (a = s),
                                        i.clearRect(0, 0, e.width, e.height),
                                        (i.fillStyle = "#27ae60"),
                                        i.fillRect(0, (1 - s / o) * e.height, e.width, e.height);
                                }),
                                    this.updateCombo(this.$$("video"), "videoinput"),
                                    this.updateCombo(this.$$("audio"), "audioinput");
                            })
                            .catch(function () {
                                delete t.dataset.mirror, delete t.dataset.spinner;
                            });
                    }
                    stopMediaPreview() {
                        this._mediaStream && (this._mediaStream.getTracks().forEach((t) => t.stop()), (this._mediaStream = null)),
                            this._audioContext && ("function" == typeof this._audioContext.close && this._audioContext.close(), (this._audioContext = null)),
                            this._url && (URL.revokeObjectURL(this._url), delete this._url);
                    }
                }
            },
            3867: (t, e, i) => {
                "use strict";
                i.r(e), i.d(e, { default: () => o });
                var n = i(3036),
                    s = i(633),
                    r = i(4375);
                class o extends n.iC {
                    config() {
                        const t = this,
                            e = this.app.getService("locale")._,
                            i = () => webix.uid().toString();
                        return (
                            (this.uid = {}),
                            {
                                view: "window",
                                position: "center",
                                autoheight: !0,
                                move: !0,
                                modal: !0,
                                maxWidth: 650,
                                head: {
                                    view: "toolbar",
                                    cols: [
                                        { type: "header", borderless: !0, template: e("users.titles.single") },
                                        {
                                            view: "icon",
                                            icon: "mdi mdi-eraser",
                                            click() {
                                                t.reset();
                                            },
                                        },
                                        {
                                            view: "icon",
                                            icon: "mdi mdi-check-circle",
                                            click() {
                                                var i = this,
                                                    n = i.getTopParentView(),
                                                    r = t.$$("general");
                                                if (r.validate()) {
                                                    i.disable();
                                                    var o = r.getValues();
                                                    o.password || delete o.password,
                                                        (o.exclude = t
                                                            .$$("exclude_list")
                                                            .serialize()
                                                            .map((t) => t.id));
                                                    var a = JSON.stringify(o, function (t, e) {
                                                        return "" === e || "null" === e || "undefined" === e ? null : e;
                                                    });
                                                    (t._id && t._id === o.id ? (0, s.hj)("/api/user/".concat(o.id), { method: "PUT", body: JSON.parse(a) }) : (0, s.hj)("/api/user", { method: "POST", body: JSON.parse(a) }))
                                                        .then(function () {
                                                            i.enable(), n.hide(), "function" == typeof t._cb && t._cb();
                                                        })
                                                        .catch(function () {
                                                            webix.message({ type: "error", text: e("common.messages.savingError") }), i.enable();
                                                        });
                                                }
                                            },
                                        },
                                        {
                                            view: "icon",
                                            icon: "mdi mdi-close-circle",
                                            click() {
                                                this.getTopParentView().hide();
                                            },
                                        },
                                    ],
                                },
                                body: {
                                    rows: [
                                        {
                                            animate: !1,
                                            fitBiggest: !0,
                                            cells: [
                                                {
                                                    id: (t.uid.general = i()),
                                                    localId: "general",
                                                    view: "form",
                                                    rows: [
                                                        { view: "text", name: "username", label: e("users.username"), labelWidth: 150, placeholder: e("users.usernamePlaceholder"), required: !0 },
                                                        { view: "text", name: "password", type: "password", label: e("users.password"), labelWidth: 150, placeholder: e("users.passwordPlaceholder") },
                                                        {
                                                            view: "combo",
                                                            name: "role",
                                                            label: e("users.role"),
                                                            placeholder: e("users.rolePlaceholder"),
                                                            labelWidth: 150,
                                                            required: !0,
                                                            options: [
                                                                { id: "student", value: e("users.roles.student") },
                                                                { id: "proctor", value: e("users.roles.proctor") },
                                                                { id: "administrator", value: e("users.roles.administrator") },
                                                            ],
                                                        },
                                                        { view: "text", name: "nickname", label: e("users.nickname"), labelWidth: 150, placeholder: e("users.nicknamePlaceholder") },
                                                        { view: "text", name: "group", label: e("users.group"), labelWidth: 150, placeholder: e("users.groupPlaceholder") },
                                                        {
                                                            view: "combo",
                                                            name: "lang",
                                                            label: e("users.language"),
                                                            placeholder: e("users.languagePlaceholder"),
                                                            labelWidth: 150,
                                                            options: (0, r.getLocalesList)().map((t) => ({ id: t, value: e("common.locales." + t) })),
                                                        },
                                                        {
                                                            view: "text",
                                                            name: "labels",
                                                            label: e("users.labels"),
                                                            labelWidth: 150,
                                                            placeholder: e("users.labelsPlaceholder"),
                                                            on: {
                                                                onChange(t) {
                                                                    t &&
                                                                        this.$setValue(
                                                                            t
                                                                                .split(",")
                                                                                .map((t) => t.trim())
                                                                                .join(", ")
                                                                        );
                                                                },
                                                            },
                                                        },
                                                        { view: "checkbox", name: "locked", label: e("users.locked"), labelWidth: 150 },
                                                        { view: "checkbox", name: "secure", label: e("users.secure"), labelWidth: 150 },
                                                        {},
                                                    ],
                                                },
                                                {
                                                    id: (t.uid.face = i()),
                                                    cols: [
                                                        {
                                                            localId: "face_img",
                                                            template(t) {
                                                                var e = "";
                                                                if (((e += '<div style="display: flex; justify-content: center; align-items: center; height: 100%;">'), t.loading))
                                                                    e += '<div style="font-size: 48px; width: 48px;" class="webix_icon mdi mdi-timer-sand-empty"></div>';
                                                                else if (t.id) {
                                                                    var i = t.id ? "".concat(s.hj.url, "/api/storage/").concat(t.id, "?token=").concat(s.hj.token) : "";
                                                                    e += "<img style='width: 100%; height: 100%; object-fit: contain;' src='".concat(i, "'/>");
                                                                } else e += '<div style="font-size: 48px; width: 48px;" class="webix_icon mdi mdi-image-off"></div>';
                                                                return (e += "</div>");
                                                            },
                                                        },
                                                        {
                                                            view: "toolbar",
                                                            type: "space",
                                                            width: 120,
                                                            rows: [
                                                                {},
                                                                {
                                                                    localId: "face_uploader",
                                                                    view: "uploader",
                                                                    name: "attach",
                                                                    label: e("users.buttons.upload"),
                                                                    accept: "image/png, image/jpeg",
                                                                    upload: "/api/storage/face",
                                                                    on: {
                                                                        onBeforeFileAdd(i) {
                                                                            if (
                                                                                (i.context && (i.name = [i.context.kind, i.type].join(".")),
                                                                                this.files.serialize().some(function (t) {
                                                                                    return t.name == i.name;
                                                                                }))
                                                                            )
                                                                                return !1;
                                                                            var n = s.vc.get("upload.limit") || 5;
                                                                            if (i.size >= 1024 * n * 1024) return webix.message({ type: "error", text: e("common.messages.uploadLimit", { size: n }) }), !1;
                                                                            t.$$("face_img").setValues({ loading: !0 });
                                                                        },
                                                                        onFileUpload(e, i) {
                                                                            t.$$("general").setValues({ face: i.id }, !0), t.$$("face_img").setValues({ id: i.id }), this.files.clearAll();
                                                                        },
                                                                        onFileUploadError() {
                                                                            t.$$("face_img").setValues({ error: !0 }), this.files.clearAll();
                                                                        },
                                                                    },
                                                                },
                                                                {
                                                                    view: "button",
                                                                    label: e("users.buttons.delete"),
                                                                    click() {
                                                                        t.$$("general").setValues({ face: null }, !0), t.$$("face_img").setValues({}), t.$$("face_uploader").files.clearAll();
                                                                    },
                                                                },
                                                                {},
                                                            ],
                                                        },
                                                    ],
                                                },
                                                {
                                                    id: (t.uid.passport = i()),
                                                    cols: [
                                                        {
                                                            localId: "passport_img",
                                                            template(t) {
                                                                var e = "";
                                                                if (((e += '<div style="display: flex; justify-content: center; align-items: center; height: 100%;">'), t.loading))
                                                                    e += '<div style="font-size: 48px; width: 48px;" class="webix_icon mdi mdi-timer-sand-empty"></div>';
                                                                else if (t.id) {
                                                                    var i = t.id ? "".concat(s.hj.url, "/api/storage/").concat(t.id, "?token=").concat(s.hj.token) : "";
                                                                    e += "<img style='width: 100%; height: 100%; object-fit: contain;' src='".concat(i, "'/>");
                                                                } else e += '<div style="font-size: 48px; width: 48px;" class="webix_icon mdi mdi-image-off"></div>';
                                                                return (e += "</div>");
                                                            },
                                                        },
                                                        {
                                                            view: "toolbar",
                                                            type: "space",
                                                            width: 120,
                                                            rows: [
                                                                {},
                                                                {
                                                                    localId: "passport_uploader",
                                                                    view: "uploader",
                                                                    name: "attach",
                                                                    label: e("users.buttons.upload"),
                                                                    accept: "image/png, image/jpeg",
                                                                    upload: "/api/storage/passport",
                                                                    on: {
                                                                        onBeforeFileAdd(i) {
                                                                            if (
                                                                                (i.context && (i.name = [i.context.kind, i.type].join(".")),
                                                                                this.files.serialize().some(function (t) {
                                                                                    return t.name == i.name;
                                                                                }))
                                                                            )
                                                                                return !1;
                                                                            var n = s.vc.get("upload.limit") || 5;
                                                                            if (i.size >= 1024 * n * 1024) return webix.message({ type: "error", text: e("common.messages.uploadLimit", { size: n }) }), !1;
                                                                            t.$$("passport_img").setValues({ loading: !0 });
                                                                        },
                                                                        onFileUpload(e, i) {
                                                                            t.$$("general").setValues({ passport: i.id }, !0), t.$$("passport_img").setValues({ id: i.id }), this.files.clearAll();
                                                                        },
                                                                        onFileUploadError() {
                                                                            t.$$("passport_img").setValues({ error: !0 }), this.files.clearAll();
                                                                        },
                                                                    },
                                                                },
                                                                {
                                                                    view: "button",
                                                                    label: e("users.buttons.delete"),
                                                                    click() {
                                                                        t.$$("general").setValues({ passport: null }, !0), t.$$("passport_img").setValues({}), t.$$("passport_uploader").files.clearAll();
                                                                    },
                                                                },
                                                                {},
                                                            ],
                                                        },
                                                    ],
                                                },
                                                {
                                                    id: (t.uid.exclude = i()),
                                                    type: "form",
                                                    rows: [
                                                        {
                                                            view: "search",
                                                            icon: "mdi mdi-plus",
                                                            placeholder: e("users.excludePlaceholder"),
                                                            suggest: {
                                                                view: "suggest",
                                                                textValue: "id",
                                                                keyPressTimeout: 100,
                                                                body: { view: "list", dataFeed: "/api/suggest/users", template: (t) => (t.nickname && t.id !== t.nickname ? "".concat(t.id, " (").concat(t.nickname, ")") : t.id) },
                                                            },
                                                            on: {
                                                                doAddItem() {
                                                                    var e = this.getValue();
                                                                    if (e) {
                                                                        var i = t.$$("exclude_list");
                                                                        i.exists(e) || i.add({ id: e }), setTimeout(() => this.setValue(""), 0);
                                                                    }
                                                                },
                                                                onEnter() {
                                                                    this.callEvent("doAddItem");
                                                                },
                                                                onSearchIconClick() {
                                                                    this.callEvent("doAddItem");
                                                                },
                                                            },
                                                        },
                                                        {
                                                            localId: "exclude_list",
                                                            view: "list",
                                                            drag: "inner",
                                                            type: { height: "auto" },
                                                            template: (t) =>
                                                                t
                                                                    ? '<div style="display:flex;"><div style="align-self: center; word-break: break-word; line-height: normal; width: 100%;"><span class="mdi mdi-account"></span><span style="padding-left: 10px;">' +
                                                                      t.id +
                                                                      '</span></div><div><a class="delete_link" href="javascript:void(0)"><span class="webix_icon mdi mdi-delete" data-id="' +
                                                                      t.id +
                                                                      '"></span></a></div></div>'
                                                                    : "",
                                                            onClick: {
                                                                delete_link(e) {
                                                                    const i = e.target.dataset.id;
                                                                    i && t.$$("exclude_list").remove(i);
                                                                },
                                                            },
                                                            on: {
                                                                doClear() {
                                                                    this.clearAll(), this.showOverlay(e("users.overlays.exclude"));
                                                                },
                                                                onAfterAdd() {
                                                                    this.count() && this.hideOverlay();
                                                                },
                                                                onAfterDelete() {
                                                                    this.count() || this.showOverlay(e("users.overlays.exclude"));
                                                                },
                                                                onAfterLoad() {
                                                                    this.count() ? this.hideOverlay() : this.showOverlay(e("users.overlays.exclude"));
                                                                },
                                                            },
                                                        },
                                                    ],
                                                },
                                            ],
                                        },
                                        {
                                            localId: "tabs",
                                            view: "tabbar",
                                            value: t.uid.general,
                                            multiview: !0,
                                            type: "bottom",
                                            options: [
                                                { value: e("users.tabs.general"), id: t.uid.general },
                                                { value: e("users.tabs.face"), id: t.uid.face },
                                                { value: e("users.tabs.passport"), id: t.uid.passport },
                                                { value: e("users.tabs.exclude"), id: t.uid.exclude },
                                            ],
                                        },
                                    ],
                                    elementsConfig: {
                                        labelAlign: "left",
                                        on: {
                                            onChange() {
                                                this.getFormView().validate();
                                            },
                                        },
                                    },
                                },
                            }
                        );
                    }
                    reset() {
                        this.$$("general").clear(), this.$$("face_img").setValues({}), this.$$("passport_img").setValues({}), this.$$("exclude_list").callEvent("doClear");
                    }
                    open(t, e) {
                        (this._id = t), (this._cb = e), this.reset();
                        var i = this.$$("general"),
                            n = this.$$("face_img"),
                            r = this.$$("passport_img"),
                            o = this.$$("exclude_list");
                        t &&
                            ((0, s.hj)("/api/user/".concat(t)).then((t) => {
                                t && (delete t.similar, i.parse(t), n.setValues({ id: t.face }), r.setValues({ id: t.passport }), o.parse(t.exclude || []));
                            }),
                            (this.$$("face_uploader").config.upload = "".concat(s.hj.url, "/api/storage/face?user=").concat(t)),
                            (this.$$("passport_uploader").config.upload = "".concat(s.hj.url, "/api/storage/passport?user=").concat(t))),
                            this.$$("tabs").setValue(this.uid.general),
                            this.getRoot().show();
                    }
                }
            },
            2226: (t, e, i) => {
                "use strict";
                i.r(e), i.d(e, { default: () => r });
                var n = i(3036),
                    s = i(633);
                class r extends n.iC {
                    config() {
                        const t = this,
                            e = this.app.getService("locale")._,
                            i = () => webix.uid().toString();
                        return (
                            (this.uid = {}),
                            {
                                view: "window",
                                position: "center",
                                move: !0,
                                modal: !0,
                                maxWidth: 550,
                                head: {
                                    view: "toolbar",
                                    cols: [
                                        { type: "header", borderless: !0, template: e("users.titles.single") },
                                        {
                                            view: "icon",
                                            icon: "mdi mdi-link-variant",
                                            hidden: !s.EA.isRole("administrator"),
                                            click() {
                                                const i = ($$(t.uid.profile).getValues() || {}).id;
                                                (0, s.hj)("/api/auth/token?id=" + i).then((t) => {
                                                    const i = "".concat(location.origin, "?token=").concat(t.token);
                                                    navigator.clipboard.writeText(i).then(() => {
                                                        webix.message({ type: "success", text: e("users.linkCopied") });
                                                    });
                                                });
                                            },
                                        },
                                        {
                                            view: "icon",
                                            icon: "mdi mdi-close-circle",
                                            click() {
                                                this.getTopParentView().hide();
                                            },
                                        },
                                    ],
                                },
                                body: {
                                    rows: [
                                        {
                                            animate: !1,
                                            height: 400,
                                            cells: [
                                                {
                                                    id: (t.uid.profile = i()),
                                                    scroll: "auto",
                                                    template(t) {
                                                        if (!t.id) return e("common.messages.loading");
                                                        var i = "",
                                                            n = function (t, e) {
                                                                (i += "<tr>"), (i += "<td><b>".concat(t, "</b></td>")), (i += "<td>".concat(e, "</td>")), (i += "</tr>");
                                                            };
                                                        if (
                                                            ((i += '<table style="width: 100%" cellspacing="8">'),
                                                            n(e("users.username"), t.id),
                                                            t.provider && n(e("users.provider"), t.provider),
                                                            t.role && n(e("users.role"), e("users.roles." + t.role)),
                                                            t.nickname && n(e("users.nickname"), t.nickname),
                                                            t.group && n(e("users.group"), t.group),
                                                            "number" == typeof t.rating)
                                                        ) {
                                                            const i = Math.ceil(t.rating / 10);
                                                            let s = '<div style="color: orange">';
                                                            for (let t = 0; t < 10; t += 2)
                                                                s += i >= t + 2 ? '<span class="mdi mdi-star"></span>' : i == t + 1 ? '<span class="mdi mdi-star-half"></span>' : '<span class="mdi mdi-star-outline"></span>';
                                                            (s += " (".concat(~~t.rating, ")</div>")), n(e("users.rating"), s);
                                                        }
                                                        if (("boolean" == typeof t.verified && n(e("users.verified"), e("users.booleans." + t.verified)), t.browser)) {
                                                            const i = t.browser.name || "",
                                                                s = t.browser.version || "";
                                                            n(e("users.browser"), [i, s].join(" "));
                                                        }
                                                        if (t.os) {
                                                            const i = t.os.name || "",
                                                                s = t.os.version || t.os.versionName || "";
                                                            n(e("users.os"), [i, s].join(" "));
                                                        }
                                                        return (
                                                            t.ipaddress && n(e("users.ipaddress"), t.ipaddress),
                                                            t.createdAt && n(e("users.createdAt"), webix.Date.parseDate(t.createdAt, webix.i18n.dateFormat)),
                                                            t.loggedAt && n(e("users.loggedAt"), webix.Date.parseDate(t.loggedAt, webix.i18n.fullDateFormat)),
                                                            t.labels &&
                                                                t.labels.length &&
                                                                n(e("users.labels"), t.labels.map((t) => '<span style="text-decoration: underline;" title="'.concat(t, '">').concat((0, s.aF)(t, 30), "</span>")).join(", ")),
                                                            (i += "</table>")
                                                        );
                                                    },
                                                },
                                                {
                                                    id: (t.uid.face = i()),
                                                    height: 240,
                                                    template(t) {
                                                        var e = "";
                                                        e += '<div style="display: flex; justify-content: center; align-items: center; height: 100%;">';
                                                        var i = "";
                                                        return (
                                                            t.id && (i = "".concat(s.hj.url, "/api/storage/").concat(t.id, "?token=").concat(s.hj.token)),
                                                            t.file && (i = URL.createObjectURL(t.file)),
                                                            (e += i
                                                                ? "<img style='width: 100%; height: 100%; object-fit: contain;' src='".concat(i, "'/>")
                                                                : '<div style="font-size: 48px; width: 48px;" class="webix_icon mdi mdi-image-off"></div>'),
                                                            (e += "</div>")
                                                        );
                                                    },
                                                },
                                                {
                                                    id: (t.uid.passport = i()),
                                                    height: 240,
                                                    template(t) {
                                                        var e = "";
                                                        e += '<div style="display: flex; justify-content: center; align-items: center; height: 100%;">';
                                                        var i = "";
                                                        return (
                                                            t.id && (i = "".concat(s.hj.url, "/api/storage/").concat(t.id, "?token=").concat(s.hj.token)),
                                                            t.file && (i = URL.createObjectURL(t.file)),
                                                            (e += i
                                                                ? "<img style='width: 100%; height: 100%; object-fit: contain;' src='".concat(i, "'/>")
                                                                : '<div style="font-size: 48px; width: 48px;" class="webix_icon mdi mdi-image-off"></div>'),
                                                            (e += "</div>")
                                                        );
                                                    },
                                                },
                                                {
                                                    id: (t.uid.similar = i()),
                                                    view: "dataview",
                                                    xCount: 1,
                                                    type: {
                                                        width: "auto",
                                                        height: "auto",
                                                        template: '<div style="display:flex;"><div><img src="'
                                                            .concat(s.hj.url, "/api/storage/#user.face#?token=")
                                                            .concat(s.hj.token, '" width="120" /></div><div style="padding-left:10px;"><div style="font-weight:bold;">#user.nickname#</div><div>#user.id#</div></div></div>'),
                                                    },
                                                },
                                            ],
                                        },
                                        {
                                            view: "tabbar",
                                            value: t.uid.profile,
                                            multiview: !0,
                                            type: "bottom",
                                            height: 35,
                                            options: [
                                                { id: t.uid.profile, value: e("users.tabs.profile") },
                                                { id: t.uid.face, value: e("users.tabs.face") },
                                                { id: t.uid.passport, value: e("users.tabs.passport") },
                                                { id: t.uid.similar, value: e("users.tabs.similar") },
                                            ],
                                        },
                                    ],
                                },
                            }
                        );
                    }
                    open(t) {
                        if (!t) return;
                        const e = this.app.getService("locale")._;
                        var i = this.getRoot(),
                            n = $$(this.uid.profile),
                            r = $$(this.uid.face),
                            o = $$(this.uid.passport),
                            a = $$(this.uid.similar);
                        n.setValues({}),
                            r.setValues({}),
                            o.setValues({}),
                            a.clearAll(),
                            a.showOverlay(e("users.overlays.similar")),
                            (0, s.hj)("/api/user/".concat(t)).then((t) => {
                                t && (n.setValues(t), t.face && r.setValues({ id: t.face }), t.passport && o.setValues({ id: t.passport }), t.similar && (a.parse(t.similar), a.hideOverlay()));
                            }),
                            i.show();
                    }
                }
            },
            6240: (t, e, i) => {
                "use strict";
                i.r(e), i.d(e, { default: () => r });
                var n = i(3036),
                    s = i(633);
                class r extends n.iC {
                    config() {
                        return {};
                    }
                    init() {
                        (this._eventHandler = (t) => {
                            let e = t.data;
                            if ("string" == typeof e) {
                                if ("START" === e) {
                                    return this._supervisor.start().catch((t) => this.logout(t));
                                }
                                if ("STOP" === e) {
                                    return this._supervisor
                                        .stop()
                                        .then(() => this.logout())
                                        .catch((t) => this.logout(t));
                                }
                                if (/^[A-Za-z0-9-_=]+\.[A-Za-z0-9-_=]+\.?[A-Za-z0-9-_.+/=]*$/.test(e)) {
                                    const t = this._supervisor;
                                    return t.init({ provider: s.EA.get("provider"), token: e }).then(() => t.start());
                                }
                            }
                        }),
                            window.addEventListener("message", this._eventHandler, !1);
                        try {
                            const t = "".concat(document.domain).split(".");
                            document.domain = t.slice(-2).join(".");
                        } catch (t) {
                            console.error(t);
                        }
                    }
                    ready() {
                        const t = this;
                        webix.require("sdk/supervisor.js", function () {
                            const e = (t._supervisor = new Supervisor({ el: t.getRoot().getNode() }));
                            e.sync(s.nP.state)
                                .then(() => e.start())
                                .catch((e) => t.logout(e));
                        });
                    }
                    destroy() {
                        window.removeEventListener("message", this._eventHandler), this._supervisor && (this._supervisor.close(), (this._supervisor = null));
                    }
                    logout(t) {
                        t && console.error(t);
                        this.app.getService("user").logout();
                    }
                }
            },
            633: (t, e, i) => {
                "use strict";
                i.d(e, {
                    eB: () => Ht,
                    KN: () => Wt,
                    hj: () => x,
                    bt: () => u,
                    oi: () => v,
                    vc: () => _,
                    v3: () => jt,
                    Sv: () => y,
                    d6: () => b,
                    _n: () => c,
                    vl: () => h,
                    oj: () => Lt,
                    rB: () => f,
                    Li: () => Ut,
                    nP: () => qt,
                    Wb: () => D,
                    q_: () => p,
                    aF: () => d,
                    cT: () => w,
                    EA: () => C,
                });
                var n = {};
                i.r(n),
                    i.d(n, {
                        fixNegotiationNeeded: () => it,
                        shimAddTrackRemoveTrack: () => tt,
                        shimAddTrackRemoveTrackWithNative: () => Q,
                        shimGetDisplayMedia: () => G,
                        shimGetSendersWithDtmf: () => K,
                        shimGetStats: () => Z,
                        shimGetUserMedia: () => U,
                        shimMediaStream: () => q,
                        shimOnTrack: () => X,
                        shimPeerConnection: () => et,
                        shimSenderReceiverGetStats: () => J,
                    });
                var s = {};
                i.r(s), i.d(s, { shimGetDisplayMedia: () => ot, shimGetUserMedia: () => rt, shimPeerConnection: () => at, shimReplaceTrack: () => lt });
                var r = {};
                i.r(r),
                    i.d(r, {
                        shimAddTransceiver: () => vt,
                        shimCreateAnswer: () => wt,
                        shimCreateOffer: () => yt,
                        shimGetDisplayMedia: () => ct,
                        shimGetParameters: () => bt,
                        shimGetUserMedia: () => ht,
                        shimOnTrack: () => dt,
                        shimPeerConnection: () => ut,
                        shimRTCDataChannel: () => gt,
                        shimReceiverGetStats: () => ft,
                        shimRemoveStream: () => mt,
                        shimSenderGetStats: () => pt,
                    });
                var o = {};
                i.r(o),
                    i.d(o, {
                        shimAudioContext: () => $t,
                        shimCallbacksAPI: () => kt,
                        shimConstraints: () => St,
                        shimCreateOfferLegacy: () => Tt,
                        shimGetUserMedia: () => Pt,
                        shimLocalStreamsAPI: () => xt,
                        shimRTCIceServerUrls: () => Ct,
                        shimRemoteStreamsAPI: () => _t,
                        shimTrackEventTransceiver: () => It,
                    });
                var a,
                    l = {};
                function h(t, e) {
                    t = (t = t || window.location.search).split("+").join(" ");
                    for (var i = {}, n = /[?&]([^=]+)=([^&]*)/g, s = n.exec(t); s; ) (i[decodeURIComponent(s[1])] = decodeURIComponent(s[2])), (s = n.exec(t));
                    return e ? i[e] : i;
                }
                function c(t, e) {
                    if (!t) return !0;
                    return (function t(e, i) {
                        if (e instanceof Array) {
                            for (var n = 0; n < e.length; n++) if (t(e[n], i)) return !0;
                        } else
                            for (var s in e) {
                                if ("object" == typeof e[s] && t(e[s], i)) return !0;
                                if ("string" == typeof e[s] && i.test(e[s])) return !0;
                            }
                        return !1;
                    })(e, new RegExp(t, "i"));
                }
                function d(t) {
                    let e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 100,
                        i = arguments.length > 2 ? arguments[2] : void 0;
                    return (t = "".concat(t)), (i = i && ~t.indexOf(".") ? t.split(".").pop() : ""), t.length > e && (t = t.substring(0, e - i.length) + "..." + i), t;
                }
                function u(t, e) {
                    var i = t.slice(),
                        n = e.slice(),
                        s = [];
                    for (let r = 0; r < t.length; r++) for (let o = 0; o < e.length; o++) t[r] === e[o] && (s.push(t[r]), (i[r] = void 0), (n[o] = void 0));
                    return { joint: s, left: i.filter((t) => void 0 !== t), right: n.filter((t) => void 0 !== t) };
                }
                function p(t, e) {
                    t || (t = document.body),
                        e || !f()
                            ? t.requestFullscreen
                                ? t.requestFullscreen()
                                : t.mozRequestFullScreen
                                ? t.mozRequestFullScreen()
                                : t.webkitRequestFullscreen && t.webkitRequestFullscreen()
                            : document.exitFullscreen
                            ? document.exitFullscreen()
                            : document.mozCancelFullScreen
                            ? document.mozCancelFullScreen()
                            : document.webkitCancelFullScreen && document.webkitCancelFullScreen();
                }
                function f() {
                    return document.fullScreen || document.mozFullScreenEnabled || document.webkitIsFullScreen;
                }
                function m(t, e) {
                    const i = (function (t) {
                        for (var e = atob(t.split(",")[1]), i = t.substring("data:".length, t.indexOf(";base64")), n = new Uint8Array(e.length), s = 0, r = e.length; s < r; s++) n[s] = e.charCodeAt(s);
                        return new Blob([n], { type: i });
                    })(t);
                    return new File([i], e, { type: i.type });
                }
                function g(t) {
                    let e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
                    var i = e.format || "image/jpeg",
                        n = e.quality || 0.8,
                        s = e.scale || 1,
                        r = t.videoWidth * s,
                        o = t.videoHeight * s;
                    if (r && o) {
                        var a = document.createElement("canvas");
                        return (a.width = r), (a.height = o), a.getContext("2d").drawImage(t, 0, 0, a.width, a.height), a.toDataURL(i, n);
                    }
                }
                function v(t) {
                    let e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
                    var i = g(t, e);
                    if (!e.filename) return i;
                    var n = m(i, e.filename);
                    return n;
                }
                function b(t) {
                    return "string" != typeof t ? "" : t.replace(/&/g, "&amp;").replace(/</g, "&lt;").replace(/>/g, "&gt;").replace(/"/g, "&quot;").replace(/'/g, "&apos;");
                }
                function y(t) {
                    let e = t.url,
                        i = t.filename;
                    return new Promise((t) => {
                        const n = document.createElement("a"),
                            s = -1 === e.indexOf("?") ? "?" : "&";
                        (n.target = "_blank"), (n.href = "".concat(x.url).concat(e).concat(s, "token=").concat(x.token)), i && (n.download = i), document.body.appendChild(n), n.click(), (n.onclick = t), document.body.removeChild(n);
                    });
                }
                function w(t) {
                    let e = t.url,
                        i = t.accept;
                    return new Promise((t, n) => {
                        const s = document.createElement("input");
                        (s.type = "file"),
                            i && (s.accept = i),
                            (s.onchange = function (i) {
                                const s = i.currentTarget.files;
                                x(e, { body: s[0] }).then(t).catch(n);
                            }),
                            (s.onerror = n);
                        const r = document.createEvent("MouseEvents");
                        r.initMouseEvent("click", !0, !0, window, 1, 0, 0, 0, 0, !1, !1, !1, !1, 0, null), s.dispatchEvent(r);
                    });
                }
                function x(t) {
                    let e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
                    return new Promise(function (i, n) {
                        var s = e.body,
                            r = e.method || (s ? "POST" : "GET"),
                            o = !0 === e.credentials,
                            a = Object.assign({ Authorization: "Bearer ".concat(x.token) }, e.headers || {}),
                            l = e.progress;
                        if (s instanceof File) {
                            var h = new FormData();
                            h.append("upload", s), (s = h);
                        } else "object" == typeof s && ((a["Content-Type"] = "application/json; charset=utf-8"), (s = JSON.stringify(s)));
                        const c = new XMLHttpRequest();
                        c.open(r, "".concat(x.url).concat(t), !0);
                        for (let t in a) c.setRequestHeader(t, a[t]);
                        (c.withCredentials = o),
                            "function" == typeof l && c.upload.addEventListener("progress", l, !1),
                            (c.onreadystatechange = function () {
                                if (this.readyState === this.DONE) {
                                    if (200 !== this.status) return n(new Error(this.statusText || "Request error"));
                                    try {
                                        let t = JSON.parse(this.responseText);
                                        return i(t);
                                    } catch (t) {
                                        return i(this.responseText);
                                    }
                                }
                            }),
                            c.send(s);
                    });
                }
                i.r(l),
                    i.d(l, { removeAllowExtmapMixed: () => Rt, shimConnectionState: () => Ot, shimMaxMessageSize: () => At, shimRTCIceCandidate: () => Mt, shimSendThrowTypeError: () => Nt }),
                    (x.url = "".concat(location.origin).concat(location.pathname).replace(/\/$/, "")),
                    (x.token = "");
                const _ = {
                    get: (t) =>
                        t
                            ? t.split(".").reduce(function (t, e) {
                                  if (t) return t[e];
                              }, a)
                            : a,
                    sync: (t) => (void 0 !== t ? new Promise((e) => e((a = t))) : x("/api/config/sdk").then((t) => t && (a = t))),
                };
                var k = i(4805);
                k.Manager;
                var P;
                const S = {
                        get: (t) =>
                            t && P
                                ? t.split(".").reduce(function (t, e) {
                                      if (t) return t[e];
                                  }, P)
                                : P,
                        filter(t) {
                            if ((Array.isArray(t) || (t = arguments), !t.length)) return S.get();
                            for (var e = {}, i = 0, n = t.length; i < n; i++) {
                                var s = t[i],
                                    r = S.get(s);
                                void 0 !== r && (e[s] = r);
                            }
                            return e;
                        },
                        isAuth: () => !!P,
                        isMe: (t) => P && P.id === t,
                        isRole(t) {
                            if (!P) return !1;
                            for (var e = [].concat(t), i = 0, n = e.length; i < n; i++) if (e[i] === P.role) return !0;
                            return !1;
                        },
                        sync: (t) => (void 0 !== t ? new Promise((e) => e((P = t))) : x("/api/user/me").then((t) => t && (P = t))),
                        update: (t) =>
                            x("/api/user/me", { method: "PUT", body: t }).then(function (t) {
                                return (P = t);
                            }),
                    },
                    C = S;
                var I,
                    T,
                    $ = {};
                const E = k("http://localhost", { autoConnect: !1, transports: ["websocket"] });
                E.on("connect", function () {
                    for (let t in $) E.emit("join", t);
                    "function" == typeof I && (I(), (I = null));
                }),
                    E.io.on("error", function (t) {
                        "function" == typeof T && (T(t), (T = null));
                    });
                const D = {
                    get connected() {
                        return E.connected;
                    },
                    sync: (t) => (
                        t && "function" == typeof t.close && t.close(),
                        new Promise((t, e) => {
                            (I = t), (T = e), C.get("id") && ($[C.get("id")] = !0), C.get("group") && ($[C.get("group")] = !0), (E.io.opts.query = "token=".concat(x.token)), (E.io.uri = x.url), E.connected ? I() : E.open();
                        })
                    ),
                    close: () => (($ = {}), E.close()),
                    join(t, e) {
                        if (t) return ($[t] = !0), E.emit("join", t, e);
                    },
                    leave(t) {
                        if (arguments.length) E && E.emit("leave", t), delete $[t];
                        else for (let t in $) E && E.emit("leave", t), delete $[t];
                    },
                    on() {
                        return E.on.apply(E, arguments);
                    },
                    off() {
                        return E.off.apply(E, arguments);
                    },
                    emit() {
                        return E.emit.apply(E, arguments);
                    },
                };
                let M = !0,
                    A = !0;
                function N(t, e, i) {
                    const n = t.match(e);
                    return n && n.length >= i && parseInt(n[i], 10);
                }
                function O(t, e, i) {
                    if (!t.RTCPeerConnection) return;
                    const n = t.RTCPeerConnection.prototype,
                        s = n.addEventListener;
                    n.addEventListener = function (t, n) {
                        if (t !== e) return s.apply(this, arguments);
                        const r = (t) => {
                            const e = i(t);
                            e && (n.handleEvent ? n.handleEvent(e) : n(e));
                        };
                        return (this._eventMap = this._eventMap || {}), this._eventMap[e] || (this._eventMap[e] = new Map()), this._eventMap[e].set(n, r), s.apply(this, [t, r]);
                    };
                    const r = n.removeEventListener;
                    (n.removeEventListener = function (t, i) {
                        if (t !== e || !this._eventMap || !this._eventMap[e]) return r.apply(this, arguments);
                        if (!this._eventMap[e].has(i)) return r.apply(this, arguments);
                        const n = this._eventMap[e].get(i);
                        return this._eventMap[e].delete(i), 0 === this._eventMap[e].size && delete this._eventMap[e], 0 === Object.keys(this._eventMap).length && delete this._eventMap, r.apply(this, [t, n]);
                    }),
                        Object.defineProperty(n, "on" + e, {
                            get() {
                                return this["_on" + e];
                            },
                            set(t) {
                                this["_on" + e] && (this.removeEventListener(e, this["_on" + e]), delete this["_on" + e]), t && this.addEventListener(e, (this["_on" + e] = t));
                            },
                            enumerable: !0,
                            configurable: !0,
                        });
                }
                function R(t) {
                    return "boolean" != typeof t ? new Error("Argument type: " + typeof t + ". Please use a boolean.") : ((M = t), t ? "adapter.js logging disabled" : "adapter.js logging enabled");
                }
                function V(t) {
                    return "boolean" != typeof t ? new Error("Argument type: " + typeof t + ". Please use a boolean.") : ((A = !t), "adapter.js deprecation warnings " + (t ? "disabled" : "enabled"));
                }
                function L() {
                    if ("object" == typeof window) {
                        if (M) return;
                        "undefined" != typeof console && "function" == typeof console.log && console.log.apply(console, arguments);
                    }
                }
                function j(t, e) {
                    A && console.warn(t + " is deprecated, please use " + e + " instead.");
                }
                function F(t) {
                    const e = { browser: null, version: null };
                    if (void 0 === t || !t.navigator) return (e.browser = "Not a browser."), e;
                    const { navigator: i } = t;
                    if (i.mozGetUserMedia) (e.browser = "firefox"), (e.version = N(i.userAgent, /Firefox\/(\d+)\./, 1));
                    else if (i.webkitGetUserMedia || (!1 === t.isSecureContext && t.webkitRTCPeerConnection && !t.RTCIceGatherer)) (e.browser = "chrome"), (e.version = N(i.userAgent, /Chrom(e|ium)\/(\d+)\./, 2));
                    else if (i.mediaDevices && i.userAgent.match(/Edge\/(\d+).(\d+)$/)) (e.browser = "edge"), (e.version = N(i.userAgent, /Edge\/(\d+).(\d+)$/, 2));
                    else {
                        if (!t.RTCPeerConnection || !i.userAgent.match(/AppleWebKit\/(\d+)\./)) return (e.browser = "Not a supported browser."), e;
                        (e.browser = "safari"), (e.version = N(i.userAgent, /AppleWebKit\/(\d+)\./, 1)), (e.supportsUnifiedPlan = t.RTCRtpTransceiver && "currentDirection" in t.RTCRtpTransceiver.prototype);
                    }
                    return e;
                }
                function z(t) {
                    return "[object Object]" === Object.prototype.toString.call(t);
                }
                function H(t) {
                    return z(t)
                        ? Object.keys(t).reduce(function (e, i) {
                              const n = z(t[i]),
                                  s = n ? H(t[i]) : t[i],
                                  r = n && !Object.keys(s).length;
                              return void 0 === s || r ? e : Object.assign(e, { [i]: s });
                          }, {})
                        : t;
                }
                function W(t, e, i) {
                    e &&
                        !i.has(e.id) &&
                        (i.set(e.id, e),
                        Object.keys(e).forEach((n) => {
                            n.endsWith("Id")
                                ? W(t, t.get(e[n]), i)
                                : n.endsWith("Ids") &&
                                  e[n].forEach((e) => {
                                      W(t, t.get(e), i);
                                  });
                        }));
                }
                function B(t, e, i) {
                    const n = i ? "outbound-rtp" : "inbound-rtp",
                        s = new Map();
                    if (null === e) return s;
                    const r = [];
                    return (
                        t.forEach((t) => {
                            "track" === t.type && t.trackIdentifier === e.id && r.push(t);
                        }),
                        r.forEach((e) => {
                            t.forEach((i) => {
                                i.type === n && i.trackId === e.id && W(t, i, s);
                            });
                        }),
                        s
                    );
                }
                const Y = L;
                function U(t) {
                    const e = t && t.navigator;
                    if (!e.mediaDevices) return;
                    const i = F(t),
                        n = function (t) {
                            if ("object" != typeof t || t.mandatory || t.optional) return t;
                            const e = {};
                            return (
                                Object.keys(t).forEach((i) => {
                                    if ("require" === i || "advanced" === i || "mediaSource" === i) return;
                                    const n = "object" == typeof t[i] ? t[i] : { ideal: t[i] };
                                    void 0 !== n.exact && "number" == typeof n.exact && (n.min = n.max = n.exact);
                                    const s = function (t, e) {
                                        return t ? t + e.charAt(0).toUpperCase() + e.slice(1) : "deviceId" === e ? "sourceId" : e;
                                    };
                                    if (void 0 !== n.ideal) {
                                        e.optional = e.optional || [];
                                        let t = {};
                                        "number" == typeof n.ideal ? ((t[s("min", i)] = n.ideal), e.optional.push(t), (t = {}), (t[s("max", i)] = n.ideal), e.optional.push(t)) : ((t[s("", i)] = n.ideal), e.optional.push(t));
                                    }
                                    void 0 !== n.exact && "number" != typeof n.exact
                                        ? ((e.mandatory = e.mandatory || {}), (e.mandatory[s("", i)] = n.exact))
                                        : ["min", "max"].forEach((t) => {
                                              void 0 !== n[t] && ((e.mandatory = e.mandatory || {}), (e.mandatory[s(t, i)] = n[t]));
                                          });
                                }),
                                t.advanced && (e.optional = (e.optional || []).concat(t.advanced)),
                                e
                            );
                        },
                        s = function (t, s) {
                            if (i.version >= 61) return s(t);
                            if ((t = JSON.parse(JSON.stringify(t))) && "object" == typeof t.audio) {
                                const e = function (t, e, i) {
                                    e in t && !(i in t) && ((t[i] = t[e]), delete t[e]);
                                };
                                e((t = JSON.parse(JSON.stringify(t))).audio, "autoGainControl", "googAutoGainControl"), e(t.audio, "noiseSuppression", "googNoiseSuppression"), (t.audio = n(t.audio));
                            }
                            if (t && "object" == typeof t.video) {
                                let r = t.video.facingMode;
                                r = r && ("object" == typeof r ? r : { ideal: r });
                                const o = i.version < 66;
                                if (
                                    r &&
                                    ("user" === r.exact || "environment" === r.exact || "user" === r.ideal || "environment" === r.ideal) &&
                                    (!e.mediaDevices.getSupportedConstraints || !e.mediaDevices.getSupportedConstraints().facingMode || o)
                                ) {
                                    let i;
                                    if ((delete t.video.facingMode, "environment" === r.exact || "environment" === r.ideal ? (i = ["back", "rear"]) : ("user" !== r.exact && "user" !== r.ideal) || (i = ["front"]), i))
                                        return e.mediaDevices.enumerateDevices().then((e) => {
                                            let o = (e = e.filter((t) => "videoinput" === t.kind)).find((t) => i.some((e) => t.label.toLowerCase().includes(e)));
                                            return (
                                                !o && e.length && i.includes("back") && (o = e[e.length - 1]),
                                                o && (t.video.deviceId = r.exact ? { exact: o.deviceId } : { ideal: o.deviceId }),
                                                (t.video = n(t.video)),
                                                Y("chrome: " + JSON.stringify(t)),
                                                s(t)
                                            );
                                        });
                                }
                                t.video = n(t.video);
                            }
                            return Y("chrome: " + JSON.stringify(t)), s(t);
                        },
                        r = function (t) {
                            return i.version >= 64
                                ? t
                                : {
                                      name:
                                          {
                                              PermissionDeniedError: "NotAllowedError",
                                              PermissionDismissedError: "NotAllowedError",
                                              InvalidStateError: "NotAllowedError",
                                              DevicesNotFoundError: "NotFoundError",
                                              ConstraintNotSatisfiedError: "OverconstrainedError",
                                              TrackStartError: "NotReadableError",
                                              MediaDeviceFailedDueToShutdown: "NotAllowedError",
                                              MediaDeviceKillSwitchOn: "NotAllowedError",
                                              TabCaptureError: "AbortError",
                                              ScreenCaptureError: "AbortError",
                                              DeviceCaptureError: "AbortError",
                                          }[t.name] || t.name,
                                      message: t.message,
                                      constraint: t.constraint || t.constraintName,
                                      toString() {
                                          return this.name + (this.message && ": ") + this.message;
                                      },
                                  };
                        };
                    if (
                        ((e.getUserMedia = function (t, i, n) {
                            s(t, (t) => {
                                e.webkitGetUserMedia(t, i, (t) => {
                                    n && n(r(t));
                                });
                            });
                        }.bind(e)),
                        e.mediaDevices.getUserMedia)
                    ) {
                        const t = e.mediaDevices.getUserMedia.bind(e.mediaDevices);
                        e.mediaDevices.getUserMedia = function (e) {
                            return s(e, (e) =>
                                t(e).then(
                                    (t) => {
                                        if ((e.audio && !t.getAudioTracks().length) || (e.video && !t.getVideoTracks().length))
                                            throw (
                                                (t.getTracks().forEach((t) => {
                                                    t.stop();
                                                }),
                                                new DOMException("", "NotFoundError"))
                                            );
                                        return t;
                                    },
                                    (t) => Promise.reject(r(t))
                                )
                            );
                        };
                    }
                }
                function G(t, e) {
                    (t.navigator.mediaDevices && "getDisplayMedia" in t.navigator.mediaDevices) ||
                        (t.navigator.mediaDevices &&
                            ("function" == typeof e
                                ? (t.navigator.mediaDevices.getDisplayMedia = function (i) {
                                      return e(i).then((e) => {
                                          const n = i.video && i.video.width,
                                              s = i.video && i.video.height,
                                              r = i.video && i.video.frameRate;
                                          return (
                                              (i.video = { mandatory: { chromeMediaSource: "desktop", chromeMediaSourceId: e, maxFrameRate: r || 3 } }),
                                              n && (i.video.mandatory.maxWidth = n),
                                              s && (i.video.mandatory.maxHeight = s),
                                              t.navigator.mediaDevices.getUserMedia(i)
                                          );
                                      });
                                  })
                                : console.error("shimGetDisplayMedia: getSourceId argument is not a function")));
                }
                function q(t) {
                    t.MediaStream = t.MediaStream || t.webkitMediaStream;
                }
                function X(t) {
                    if ("object" == typeof t && t.RTCPeerConnection && !("ontrack" in t.RTCPeerConnection.prototype)) {
                        Object.defineProperty(t.RTCPeerConnection.prototype, "ontrack", {
                            get() {
                                return this._ontrack;
                            },
                            set(t) {
                                this._ontrack && this.removeEventListener("track", this._ontrack), this.addEventListener("track", (this._ontrack = t));
                            },
                            enumerable: !0,
                            configurable: !0,
                        });
                        const e = t.RTCPeerConnection.prototype.setRemoteDescription;
                        t.RTCPeerConnection.prototype.setRemoteDescription = function () {
                            return (
                                this._ontrackpoly ||
                                    ((this._ontrackpoly = (e) => {
                                        e.stream.addEventListener("addtrack", (i) => {
                                            let n;
                                            n = t.RTCPeerConnection.prototype.getReceivers ? this.getReceivers().find((t) => t.track && t.track.id === i.track.id) : { track: i.track };
                                            const s = new Event("track");
                                            (s.track = i.track), (s.receiver = n), (s.transceiver = { receiver: n }), (s.streams = [e.stream]), this.dispatchEvent(s);
                                        }),
                                            e.stream.getTracks().forEach((i) => {
                                                let n;
                                                n = t.RTCPeerConnection.prototype.getReceivers ? this.getReceivers().find((t) => t.track && t.track.id === i.id) : { track: i };
                                                const s = new Event("track");
                                                (s.track = i), (s.receiver = n), (s.transceiver = { receiver: n }), (s.streams = [e.stream]), this.dispatchEvent(s);
                                            });
                                    }),
                                    this.addEventListener("addstream", this._ontrackpoly)),
                                e.apply(this, arguments)
                            );
                        };
                    } else O(t, "track", (t) => (t.transceiver || Object.defineProperty(t, "transceiver", { value: { receiver: t.receiver } }), t));
                }
                function K(t) {
                    if ("object" == typeof t && t.RTCPeerConnection && !("getSenders" in t.RTCPeerConnection.prototype) && "createDTMFSender" in t.RTCPeerConnection.prototype) {
                        const e = function (t, e) {
                            return {
                                track: e,
                                get dtmf() {
                                    return void 0 === this._dtmf && ("audio" === e.kind ? (this._dtmf = t.createDTMFSender(e)) : (this._dtmf = null)), this._dtmf;
                                },
                                _pc: t,
                            };
                        };
                        if (!t.RTCPeerConnection.prototype.getSenders) {
                            t.RTCPeerConnection.prototype.getSenders = function () {
                                return (this._senders = this._senders || []), this._senders.slice();
                            };
                            const i = t.RTCPeerConnection.prototype.addTrack;
                            t.RTCPeerConnection.prototype.addTrack = function (t, n) {
                                let s = i.apply(this, arguments);
                                return s || ((s = e(this, t)), this._senders.push(s)), s;
                            };
                            const n = t.RTCPeerConnection.prototype.removeTrack;
                            t.RTCPeerConnection.prototype.removeTrack = function (t) {
                                n.apply(this, arguments);
                                const e = this._senders.indexOf(t);
                                -1 !== e && this._senders.splice(e, 1);
                            };
                        }
                        const i = t.RTCPeerConnection.prototype.addStream;
                        t.RTCPeerConnection.prototype.addStream = function (t) {
                            (this._senders = this._senders || []),
                                i.apply(this, [t]),
                                t.getTracks().forEach((t) => {
                                    this._senders.push(e(this, t));
                                });
                        };
                        const n = t.RTCPeerConnection.prototype.removeStream;
                        t.RTCPeerConnection.prototype.removeStream = function (t) {
                            (this._senders = this._senders || []),
                                n.apply(this, [t]),
                                t.getTracks().forEach((t) => {
                                    const e = this._senders.find((e) => e.track === t);
                                    e && this._senders.splice(this._senders.indexOf(e), 1);
                                });
                        };
                    } else if ("object" == typeof t && t.RTCPeerConnection && "getSenders" in t.RTCPeerConnection.prototype && "createDTMFSender" in t.RTCPeerConnection.prototype && t.RTCRtpSender && !("dtmf" in t.RTCRtpSender.prototype)) {
                        const e = t.RTCPeerConnection.prototype.getSenders;
                        (t.RTCPeerConnection.prototype.getSenders = function () {
                            const t = e.apply(this, []);
                            return t.forEach((t) => (t._pc = this)), t;
                        }),
                            Object.defineProperty(t.RTCRtpSender.prototype, "dtmf", {
                                get() {
                                    return void 0 === this._dtmf && ("audio" === this.track.kind ? (this._dtmf = this._pc.createDTMFSender(this.track)) : (this._dtmf = null)), this._dtmf;
                                },
                            });
                    }
                }
                function Z(t) {
                    if (!t.RTCPeerConnection) return;
                    const e = t.RTCPeerConnection.prototype.getStats;
                    t.RTCPeerConnection.prototype.getStats = function () {
                        const [t, i, n] = arguments;
                        if (arguments.length > 0 && "function" == typeof t) return e.apply(this, arguments);
                        if (0 === e.length && (0 === arguments.length || "function" != typeof t)) return e.apply(this, []);
                        const s = function (t) {
                                const e = {};
                                return (
                                    t.result().forEach((t) => {
                                        const i = { id: t.id, timestamp: t.timestamp, type: { localcandidate: "local-candidate", remotecandidate: "remote-candidate" }[t.type] || t.type };
                                        t.names().forEach((e) => {
                                            i[e] = t.stat(e);
                                        }),
                                            (e[i.id] = i);
                                    }),
                                    e
                                );
                            },
                            r = function (t) {
                                return new Map(Object.keys(t).map((e) => [e, t[e]]));
                            };
                        if (arguments.length >= 2) {
                            const n = function (t) {
                                i(r(s(t)));
                            };
                            return e.apply(this, [n, t]);
                        }
                        return new Promise((t, i) => {
                            e.apply(this, [
                                function (e) {
                                    t(r(s(e)));
                                },
                                i,
                            ]);
                        }).then(i, n);
                    };
                }
                function J(t) {
                    if (!("object" == typeof t && t.RTCPeerConnection && t.RTCRtpSender && t.RTCRtpReceiver)) return;
                    if (!("getStats" in t.RTCRtpSender.prototype)) {
                        const e = t.RTCPeerConnection.prototype.getSenders;
                        e &&
                            (t.RTCPeerConnection.prototype.getSenders = function () {
                                const t = e.apply(this, []);
                                return t.forEach((t) => (t._pc = this)), t;
                            });
                        const i = t.RTCPeerConnection.prototype.addTrack;
                        i &&
                            (t.RTCPeerConnection.prototype.addTrack = function () {
                                const t = i.apply(this, arguments);
                                return (t._pc = this), t;
                            }),
                            (t.RTCRtpSender.prototype.getStats = function () {
                                const t = this;
                                return this._pc.getStats().then((e) => B(e, t.track, !0));
                            });
                    }
                    if (!("getStats" in t.RTCRtpReceiver.prototype)) {
                        const e = t.RTCPeerConnection.prototype.getReceivers;
                        e &&
                            (t.RTCPeerConnection.prototype.getReceivers = function () {
                                const t = e.apply(this, []);
                                return t.forEach((t) => (t._pc = this)), t;
                            }),
                            O(t, "track", (t) => ((t.receiver._pc = t.srcElement), t)),
                            (t.RTCRtpReceiver.prototype.getStats = function () {
                                const t = this;
                                return this._pc.getStats().then((e) => B(e, t.track, !1));
                            });
                    }
                    if (!("getStats" in t.RTCRtpSender.prototype) || !("getStats" in t.RTCRtpReceiver.prototype)) return;
                    const e = t.RTCPeerConnection.prototype.getStats;
                    t.RTCPeerConnection.prototype.getStats = function () {
                        if (arguments.length > 0 && arguments[0] instanceof t.MediaStreamTrack) {
                            const t = arguments[0];
                            let e, i, n;
                            return (
                                this.getSenders().forEach((i) => {
                                    i.track === t && (e ? (n = !0) : (e = i));
                                }),
                                this.getReceivers().forEach((e) => (e.track === t && (i ? (n = !0) : (i = e)), e.track === t)),
                                n || (e && i)
                                    ? Promise.reject(new DOMException("There are more than one sender or receiver for the track.", "InvalidAccessError"))
                                    : e
                                    ? e.getStats()
                                    : i
                                    ? i.getStats()
                                    : Promise.reject(new DOMException("There is no sender or receiver for the track.", "InvalidAccessError"))
                            );
                        }
                        return e.apply(this, arguments);
                    };
                }
                function Q(t) {
                    t.RTCPeerConnection.prototype.getLocalStreams = function () {
                        return (this._shimmedLocalStreams = this._shimmedLocalStreams || {}), Object.keys(this._shimmedLocalStreams).map((t) => this._shimmedLocalStreams[t][0]);
                    };
                    const e = t.RTCPeerConnection.prototype.addTrack;
                    t.RTCPeerConnection.prototype.addTrack = function (t, i) {
                        if (!i) return e.apply(this, arguments);
                        this._shimmedLocalStreams = this._shimmedLocalStreams || {};
                        const n = e.apply(this, arguments);
                        return this._shimmedLocalStreams[i.id] ? -1 === this._shimmedLocalStreams[i.id].indexOf(n) && this._shimmedLocalStreams[i.id].push(n) : (this._shimmedLocalStreams[i.id] = [i, n]), n;
                    };
                    const i = t.RTCPeerConnection.prototype.addStream;
                    t.RTCPeerConnection.prototype.addStream = function (t) {
                        (this._shimmedLocalStreams = this._shimmedLocalStreams || {}),
                            t.getTracks().forEach((t) => {
                                if (this.getSenders().find((e) => e.track === t)) throw new DOMException("Track already exists.", "InvalidAccessError");
                            });
                        const e = this.getSenders();
                        i.apply(this, arguments);
                        const n = this.getSenders().filter((t) => -1 === e.indexOf(t));
                        this._shimmedLocalStreams[t.id] = [t].concat(n);
                    };
                    const n = t.RTCPeerConnection.prototype.removeStream;
                    t.RTCPeerConnection.prototype.removeStream = function (t) {
                        return (this._shimmedLocalStreams = this._shimmedLocalStreams || {}), delete this._shimmedLocalStreams[t.id], n.apply(this, arguments);
                    };
                    const s = t.RTCPeerConnection.prototype.removeTrack;
                    t.RTCPeerConnection.prototype.removeTrack = function (t) {
                        return (
                            (this._shimmedLocalStreams = this._shimmedLocalStreams || {}),
                            t &&
                                Object.keys(this._shimmedLocalStreams).forEach((e) => {
                                    const i = this._shimmedLocalStreams[e].indexOf(t);
                                    -1 !== i && this._shimmedLocalStreams[e].splice(i, 1), 1 === this._shimmedLocalStreams[e].length && delete this._shimmedLocalStreams[e];
                                }),
                            s.apply(this, arguments)
                        );
                    };
                }
                function tt(t) {
                    if (!t.RTCPeerConnection) return;
                    const e = F(t);
                    if (t.RTCPeerConnection.prototype.addTrack && e.version >= 65) return Q(t);
                    const i = t.RTCPeerConnection.prototype.getLocalStreams;
                    t.RTCPeerConnection.prototype.getLocalStreams = function () {
                        const t = i.apply(this);
                        return (this._reverseStreams = this._reverseStreams || {}), t.map((t) => this._reverseStreams[t.id]);
                    };
                    const n = t.RTCPeerConnection.prototype.addStream;
                    t.RTCPeerConnection.prototype.addStream = function (e) {
                        if (
                            ((this._streams = this._streams || {}),
                            (this._reverseStreams = this._reverseStreams || {}),
                            e.getTracks().forEach((t) => {
                                if (this.getSenders().find((e) => e.track === t)) throw new DOMException("Track already exists.", "InvalidAccessError");
                            }),
                            !this._reverseStreams[e.id])
                        ) {
                            const i = new t.MediaStream(e.getTracks());
                            (this._streams[e.id] = i), (this._reverseStreams[i.id] = e), (e = i);
                        }
                        n.apply(this, [e]);
                    };
                    const s = t.RTCPeerConnection.prototype.removeStream;
                    function r(t, e) {
                        let i = e.sdp;
                        return (
                            Object.keys(t._reverseStreams || []).forEach((e) => {
                                const n = t._reverseStreams[e],
                                    s = t._streams[n.id];
                                i = i.replace(new RegExp(s.id, "g"), n.id);
                            }),
                            new RTCSessionDescription({ type: e.type, sdp: i })
                        );
                    }
                    function o(t, e) {
                        let i = e.sdp;
                        return (
                            Object.keys(t._reverseStreams || []).forEach((e) => {
                                const n = t._reverseStreams[e],
                                    s = t._streams[n.id];
                                i = i.replace(new RegExp(n.id, "g"), s.id);
                            }),
                            new RTCSessionDescription({ type: e.type, sdp: i })
                        );
                    }
                    (t.RTCPeerConnection.prototype.removeStream = function (t) {
                        (this._streams = this._streams || {}),
                            (this._reverseStreams = this._reverseStreams || {}),
                            s.apply(this, [this._streams[t.id] || t]),
                            delete this._reverseStreams[this._streams[t.id] ? this._streams[t.id].id : t.id],
                            delete this._streams[t.id];
                    }),
                        (t.RTCPeerConnection.prototype.addTrack = function (e, i) {
                            if ("closed" === this.signalingState) throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.", "InvalidStateError");
                            const n = [].slice.call(arguments, 1);
                            if (1 !== n.length || !n[0].getTracks().find((t) => t === e))
                                throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.", "NotSupportedError");
                            const s = this.getSenders().find((t) => t.track === e);
                            if (s) throw new DOMException("Track already exists.", "InvalidAccessError");
                            (this._streams = this._streams || {}), (this._reverseStreams = this._reverseStreams || {});
                            const r = this._streams[i.id];
                            if (r)
                                r.addTrack(e),
                                    Promise.resolve().then(() => {
                                        this.dispatchEvent(new Event("negotiationneeded"));
                                    });
                            else {
                                const n = new t.MediaStream([e]);
                                (this._streams[i.id] = n), (this._reverseStreams[n.id] = i), this.addStream(n);
                            }
                            return this.getSenders().find((t) => t.track === e);
                        }),
                        ["createOffer", "createAnswer"].forEach(function (e) {
                            const i = t.RTCPeerConnection.prototype[e],
                                n = {
                                    [e]() {
                                        const t = arguments;
                                        return arguments.length && "function" == typeof arguments[0]
                                            ? i.apply(this, [
                                                  (e) => {
                                                      const i = r(this, e);
                                                      t[0].apply(null, [i]);
                                                  },
                                                  (e) => {
                                                      t[1] && t[1].apply(null, e);
                                                  },
                                                  arguments[2],
                                              ])
                                            : i.apply(this, arguments).then((t) => r(this, t));
                                    },
                                };
                            t.RTCPeerConnection.prototype[e] = n[e];
                        });
                    const a = t.RTCPeerConnection.prototype.setLocalDescription;
                    t.RTCPeerConnection.prototype.setLocalDescription = function () {
                        return arguments.length && arguments[0].type ? ((arguments[0] = o(this, arguments[0])), a.apply(this, arguments)) : a.apply(this, arguments);
                    };
                    const l = Object.getOwnPropertyDescriptor(t.RTCPeerConnection.prototype, "localDescription");
                    Object.defineProperty(t.RTCPeerConnection.prototype, "localDescription", {
                        get() {
                            const t = l.get.apply(this);
                            return "" === t.type ? t : r(this, t);
                        },
                    }),
                        (t.RTCPeerConnection.prototype.removeTrack = function (t) {
                            if ("closed" === this.signalingState) throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.", "InvalidStateError");
                            if (!t._pc) throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.", "TypeError");
                            if (!(t._pc === this)) throw new DOMException("Sender was not created by this connection.", "InvalidAccessError");
                            let e;
                            (this._streams = this._streams || {}),
                                Object.keys(this._streams).forEach((i) => {
                                    this._streams[i].getTracks().find((e) => t.track === e) && (e = this._streams[i]);
                                }),
                                e && (1 === e.getTracks().length ? this.removeStream(this._reverseStreams[e.id]) : e.removeTrack(t.track), this.dispatchEvent(new Event("negotiationneeded")));
                        });
                }
                function et(t) {
                    const e = F(t);
                    if ((!t.RTCPeerConnection && t.webkitRTCPeerConnection && (t.RTCPeerConnection = t.webkitRTCPeerConnection), !t.RTCPeerConnection)) return;
                    const i = 0 === t.RTCPeerConnection.prototype.addIceCandidate.length;
                    e.version < 53 &&
                        ["setLocalDescription", "setRemoteDescription", "addIceCandidate"].forEach(function (e) {
                            const i = t.RTCPeerConnection.prototype[e],
                                n = {
                                    [e]() {
                                        return (arguments[0] = new ("addIceCandidate" === e ? t.RTCIceCandidate : t.RTCSessionDescription)(arguments[0])), i.apply(this, arguments);
                                    },
                                };
                            t.RTCPeerConnection.prototype[e] = n[e];
                        });
                    const n = t.RTCPeerConnection.prototype.addIceCandidate;
                    t.RTCPeerConnection.prototype.addIceCandidate = function () {
                        return i || arguments[0] ? (e.version < 78 && arguments[0] && "" === arguments[0].candidate ? Promise.resolve() : n.apply(this, arguments)) : (arguments[1] && arguments[1].apply(null), Promise.resolve());
                    };
                }
                function it(t) {
                    const e = F(t);
                    O(t, "negotiationneeded", (t) => {
                        const i = t.target;
                        if (!(e.version < 72 || (i.getConfiguration && "plan-b" === i.getConfiguration().sdpSemantics)) || "stable" === i.signalingState) return t;
                    });
                }
                var nt = i(6294),
                    st = i.n(nt);
                function rt(t) {
                    const e = t && t.navigator,
                        i = e.mediaDevices.getUserMedia.bind(e.mediaDevices);
                    e.mediaDevices.getUserMedia = function (t) {
                        return i(t).catch((t) =>
                            Promise.reject(
                                (function (t) {
                                    return {
                                        name: { PermissionDeniedError: "NotAllowedError" }[t.name] || t.name,
                                        message: t.message,
                                        constraint: t.constraint,
                                        toString() {
                                            return this.name;
                                        },
                                    };
                                })(t)
                            )
                        );
                    };
                }
                function ot(t) {
                    "getDisplayMedia" in t.navigator &&
                        t.navigator.mediaDevices &&
                        ((t.navigator.mediaDevices && "getDisplayMedia" in t.navigator.mediaDevices) || (t.navigator.mediaDevices.getDisplayMedia = t.navigator.getDisplayMedia.bind(t.navigator)));
                }
                function at(t) {
                    const e = F(t);
                    if (
                        t.RTCIceGatherer &&
                        (t.RTCIceCandidate ||
                            (t.RTCIceCandidate = function (t) {
                                return t;
                            }),
                        t.RTCSessionDescription ||
                            (t.RTCSessionDescription = function (t) {
                                return t;
                            }),
                        e.version < 15025)
                    ) {
                        const e = Object.getOwnPropertyDescriptor(t.MediaStreamTrack.prototype, "enabled");
                        Object.defineProperty(t.MediaStreamTrack.prototype, "enabled", {
                            set(t) {
                                e.set.call(this, t);
                                const i = new Event("enabled");
                                (i.enabled = t), this.dispatchEvent(i);
                            },
                        });
                    }
                    t.RTCRtpSender &&
                        !("dtmf" in t.RTCRtpSender.prototype) &&
                        Object.defineProperty(t.RTCRtpSender.prototype, "dtmf", {
                            get() {
                                return void 0 === this._dtmf && ("audio" === this.track.kind ? (this._dtmf = new t.RTCDtmfSender(this)) : "video" === this.track.kind && (this._dtmf = null)), this._dtmf;
                            },
                        }),
                        t.RTCDtmfSender && !t.RTCDTMFSender && (t.RTCDTMFSender = t.RTCDtmfSender);
                    const i = st()(t, e.version);
                    (t.RTCPeerConnection = function (t) {
                        return (
                            t &&
                                t.iceServers &&
                                ((t.iceServers = (function (t, e) {
                                    let i = !1;
                                    return (t = JSON.parse(JSON.stringify(t))).filter((t) => {
                                        if (t && (t.urls || t.url)) {
                                            let e = t.urls || t.url;
                                            t.url && !t.urls && j("RTCIceServer.url", "RTCIceServer.urls");
                                            const n = "string" == typeof e;
                                            return (
                                                n && (e = [e]),
                                                (e = e.filter((t) => {
                                                    if (0 === t.indexOf("stun:")) return !1;
                                                    const e = t.startsWith("turn") && !t.startsWith("turn:[") && t.includes("transport=udp");
                                                    return e && !i ? ((i = !0), !0) : e && !i;
                                                })),
                                                delete t.url,
                                                (t.urls = n ? e[0] : e),
                                                !!e.length
                                            );
                                        }
                                    });
                                })(t.iceServers, e.version)),
                                L("ICE servers after filtering:", t.iceServers)),
                            new i(t)
                        );
                    }),
                        (t.RTCPeerConnection.prototype = i.prototype);
                }
                function lt(t) {
                    t.RTCRtpSender && !("replaceTrack" in t.RTCRtpSender.prototype) && (t.RTCRtpSender.prototype.replaceTrack = t.RTCRtpSender.prototype.setTrack);
                }
                function ht(t) {
                    const e = F(t),
                        i = t && t.navigator,
                        n = t && t.MediaStreamTrack;
                    if (
                        ((i.getUserMedia = function (t, e, n) {
                            j("navigator.getUserMedia", "navigator.mediaDevices.getUserMedia"), i.mediaDevices.getUserMedia(t).then(e, n);
                        }),
                        !(e.version > 55 && "autoGainControl" in i.mediaDevices.getSupportedConstraints()))
                    ) {
                        const t = function (t, e, i) {
                                e in t && !(i in t) && ((t[i] = t[e]), delete t[e]);
                            },
                            e = i.mediaDevices.getUserMedia.bind(i.mediaDevices);
                        if (
                            ((i.mediaDevices.getUserMedia = function (i) {
                                return (
                                    "object" == typeof i && "object" == typeof i.audio && ((i = JSON.parse(JSON.stringify(i))), t(i.audio, "autoGainControl", "mozAutoGainControl"), t(i.audio, "noiseSuppression", "mozNoiseSuppression")),
                                    e(i)
                                );
                            }),
                            n && n.prototype.getSettings)
                        ) {
                            const e = n.prototype.getSettings;
                            n.prototype.getSettings = function () {
                                const i = e.apply(this, arguments);
                                return t(i, "mozAutoGainControl", "autoGainControl"), t(i, "mozNoiseSuppression", "noiseSuppression"), i;
                            };
                        }
                        if (n && n.prototype.applyConstraints) {
                            const e = n.prototype.applyConstraints;
                            n.prototype.applyConstraints = function (i) {
                                return (
                                    "audio" === this.kind && "object" == typeof i && ((i = JSON.parse(JSON.stringify(i))), t(i, "autoGainControl", "mozAutoGainControl"), t(i, "noiseSuppression", "mozNoiseSuppression")), e.apply(this, [i])
                                );
                            };
                        }
                    }
                }
                function ct(t, e) {
                    (t.navigator.mediaDevices && "getDisplayMedia" in t.navigator.mediaDevices) ||
                        (t.navigator.mediaDevices &&
                            (t.navigator.mediaDevices.getDisplayMedia = function (i) {
                                if (!i || !i.video) {
                                    const t = new DOMException("getDisplayMedia without video constraints is undefined");
                                    return (t.name = "NotFoundError"), (t.code = 8), Promise.reject(t);
                                }
                                return !0 === i.video ? (i.video = { mediaSource: e }) : (i.video.mediaSource = e), t.navigator.mediaDevices.getUserMedia(i);
                            }));
                }
                function dt(t) {
                    "object" == typeof t &&
                        t.RTCTrackEvent &&
                        "receiver" in t.RTCTrackEvent.prototype &&
                        !("transceiver" in t.RTCTrackEvent.prototype) &&
                        Object.defineProperty(t.RTCTrackEvent.prototype, "transceiver", {
                            get() {
                                return { receiver: this.receiver };
                            },
                        });
                }
                function ut(t) {
                    const e = F(t);
                    if ("object" != typeof t || (!t.RTCPeerConnection && !t.mozRTCPeerConnection)) return;
                    if (
                        (!t.RTCPeerConnection && t.mozRTCPeerConnection && (t.RTCPeerConnection = t.mozRTCPeerConnection),
                        e.version < 53 &&
                            ["setLocalDescription", "setRemoteDescription", "addIceCandidate"].forEach(function (e) {
                                const i = t.RTCPeerConnection.prototype[e],
                                    n = {
                                        [e]() {
                                            return (arguments[0] = new ("addIceCandidate" === e ? t.RTCIceCandidate : t.RTCSessionDescription)(arguments[0])), i.apply(this, arguments);
                                        },
                                    };
                                t.RTCPeerConnection.prototype[e] = n[e];
                            }),
                        e.version < 68)
                    ) {
                        const e = t.RTCPeerConnection.prototype.addIceCandidate;
                        t.RTCPeerConnection.prototype.addIceCandidate = function () {
                            return arguments[0] ? (arguments[0] && "" === arguments[0].candidate ? Promise.resolve() : e.apply(this, arguments)) : (arguments[1] && arguments[1].apply(null), Promise.resolve());
                        };
                    }
                    const i = { inboundrtp: "inbound-rtp", outboundrtp: "outbound-rtp", candidatepair: "candidate-pair", localcandidate: "local-candidate", remotecandidate: "remote-candidate" },
                        n = t.RTCPeerConnection.prototype.getStats;
                    t.RTCPeerConnection.prototype.getStats = function () {
                        const [t, s, r] = arguments;
                        return n
                            .apply(this, [t || null])
                            .then((t) => {
                                if (e.version < 53 && !s)
                                    try {
                                        t.forEach((t) => {
                                            t.type = i[t.type] || t.type;
                                        });
                                    } catch (e) {
                                        if ("TypeError" !== e.name) throw e;
                                        t.forEach((e, n) => {
                                            t.set(n, Object.assign({}, e, { type: i[e.type] || e.type }));
                                        });
                                    }
                                return t;
                            })
                            .then(s, r);
                    };
                }
                function pt(t) {
                    if ("object" != typeof t || !t.RTCPeerConnection || !t.RTCRtpSender) return;
                    if (t.RTCRtpSender && "getStats" in t.RTCRtpSender.prototype) return;
                    const e = t.RTCPeerConnection.prototype.getSenders;
                    e &&
                        (t.RTCPeerConnection.prototype.getSenders = function () {
                            const t = e.apply(this, []);
                            return t.forEach((t) => (t._pc = this)), t;
                        });
                    const i = t.RTCPeerConnection.prototype.addTrack;
                    i &&
                        (t.RTCPeerConnection.prototype.addTrack = function () {
                            const t = i.apply(this, arguments);
                            return (t._pc = this), t;
                        }),
                        (t.RTCRtpSender.prototype.getStats = function () {
                            return this.track ? this._pc.getStats(this.track) : Promise.resolve(new Map());
                        });
                }
                function ft(t) {
                    if ("object" != typeof t || !t.RTCPeerConnection || !t.RTCRtpSender) return;
                    if (t.RTCRtpSender && "getStats" in t.RTCRtpReceiver.prototype) return;
                    const e = t.RTCPeerConnection.prototype.getReceivers;
                    e &&
                        (t.RTCPeerConnection.prototype.getReceivers = function () {
                            const t = e.apply(this, []);
                            return t.forEach((t) => (t._pc = this)), t;
                        }),
                        O(t, "track", (t) => ((t.receiver._pc = t.srcElement), t)),
                        (t.RTCRtpReceiver.prototype.getStats = function () {
                            return this._pc.getStats(this.track);
                        });
                }
                function mt(t) {
                    t.RTCPeerConnection &&
                        !("removeStream" in t.RTCPeerConnection.prototype) &&
                        (t.RTCPeerConnection.prototype.removeStream = function (t) {
                            j("removeStream", "removeTrack"),
                                this.getSenders().forEach((e) => {
                                    e.track && t.getTracks().includes(e.track) && this.removeTrack(e);
                                });
                        });
                }
                function gt(t) {
                    t.DataChannel && !t.RTCDataChannel && (t.RTCDataChannel = t.DataChannel);
                }
                function vt(t) {
                    if ("object" != typeof t || !t.RTCPeerConnection) return;
                    const e = t.RTCPeerConnection.prototype.addTransceiver;
                    e &&
                        (t.RTCPeerConnection.prototype.addTransceiver = function () {
                            this.setParametersPromises = [];
                            const t = arguments[1],
                                i = t && "sendEncodings" in t;
                            i &&
                                t.sendEncodings.forEach((t) => {
                                    if ("rid" in t) {
                                        if (!/^[a-z0-9]{0,16}$/i.test(t.rid)) throw new TypeError("Invalid RID value provided.");
                                    }
                                    if ("scaleResolutionDownBy" in t && !(parseFloat(t.scaleResolutionDownBy) >= 1)) throw new RangeError("scale_resolution_down_by must be >= 1.0");
                                    if ("maxFramerate" in t && !(parseFloat(t.maxFramerate) >= 0)) throw new RangeError("max_framerate must be >= 0.0");
                                });
                            const n = e.apply(this, arguments);
                            if (i) {
                                const { sender: e } = n,
                                    i = e.getParameters();
                                (!("encodings" in i) || (1 === i.encodings.length && 0 === Object.keys(i.encodings[0]).length)) &&
                                    ((i.encodings = t.sendEncodings),
                                    (e.sendEncodings = t.sendEncodings),
                                    this.setParametersPromises.push(
                                        e
                                            .setParameters(i)
                                            .then(() => {
                                                delete e.sendEncodings;
                                            })
                                            .catch(() => {
                                                delete e.sendEncodings;
                                            })
                                    ));
                            }
                            return n;
                        });
                }
                function bt(t) {
                    if ("object" != typeof t || !t.RTCRtpSender) return;
                    const e = t.RTCRtpSender.prototype.getParameters;
                    e &&
                        (t.RTCRtpSender.prototype.getParameters = function () {
                            const t = e.apply(this, arguments);
                            return "encodings" in t || (t.encodings = [].concat(this.sendEncodings || [{}])), t;
                        });
                }
                function yt(t) {
                    if ("object" != typeof t || !t.RTCPeerConnection) return;
                    const e = t.RTCPeerConnection.prototype.createOffer;
                    t.RTCPeerConnection.prototype.createOffer = function () {
                        return this.setParametersPromises && this.setParametersPromises.length
                            ? Promise.all(this.setParametersPromises)
                                  .then(() => e.apply(this, arguments))
                                  .finally(() => {
                                      this.setParametersPromises = [];
                                  })
                            : e.apply(this, arguments);
                    };
                }
                function wt(t) {
                    if ("object" != typeof t || !t.RTCPeerConnection) return;
                    const e = t.RTCPeerConnection.prototype.createAnswer;
                    t.RTCPeerConnection.prototype.createAnswer = function () {
                        return this.setParametersPromises && this.setParametersPromises.length
                            ? Promise.all(this.setParametersPromises)
                                  .then(() => e.apply(this, arguments))
                                  .finally(() => {
                                      this.setParametersPromises = [];
                                  })
                            : e.apply(this, arguments);
                    };
                }
                function xt(t) {
                    if ("object" == typeof t && t.RTCPeerConnection) {
                        if (
                            ("getLocalStreams" in t.RTCPeerConnection.prototype ||
                                (t.RTCPeerConnection.prototype.getLocalStreams = function () {
                                    return this._localStreams || (this._localStreams = []), this._localStreams;
                                }),
                            !("addStream" in t.RTCPeerConnection.prototype))
                        ) {
                            const e = t.RTCPeerConnection.prototype.addTrack;
                            (t.RTCPeerConnection.prototype.addStream = function (t) {
                                this._localStreams || (this._localStreams = []),
                                    this._localStreams.includes(t) || this._localStreams.push(t),
                                    t.getAudioTracks().forEach((i) => e.call(this, i, t)),
                                    t.getVideoTracks().forEach((i) => e.call(this, i, t));
                            }),
                                (t.RTCPeerConnection.prototype.addTrack = function (t, ...i) {
                                    return (
                                        i &&
                                            i.forEach((t) => {
                                                this._localStreams ? this._localStreams.includes(t) || this._localStreams.push(t) : (this._localStreams = [t]);
                                            }),
                                        e.apply(this, arguments)
                                    );
                                });
                        }
                        "removeStream" in t.RTCPeerConnection.prototype ||
                            (t.RTCPeerConnection.prototype.removeStream = function (t) {
                                this._localStreams || (this._localStreams = []);
                                const e = this._localStreams.indexOf(t);
                                if (-1 === e) return;
                                this._localStreams.splice(e, 1);
                                const i = t.getTracks();
                                this.getSenders().forEach((t) => {
                                    i.includes(t.track) && this.removeTrack(t);
                                });
                            });
                    }
                }
                function _t(t) {
                    if (
                        "object" == typeof t &&
                        t.RTCPeerConnection &&
                        ("getRemoteStreams" in t.RTCPeerConnection.prototype ||
                            (t.RTCPeerConnection.prototype.getRemoteStreams = function () {
                                return this._remoteStreams ? this._remoteStreams : [];
                            }),
                        !("onaddstream" in t.RTCPeerConnection.prototype))
                    ) {
                        Object.defineProperty(t.RTCPeerConnection.prototype, "onaddstream", {
                            get() {
                                return this._onaddstream;
                            },
                            set(t) {
                                this._onaddstream && (this.removeEventListener("addstream", this._onaddstream), this.removeEventListener("track", this._onaddstreampoly)),
                                    this.addEventListener("addstream", (this._onaddstream = t)),
                                    this.addEventListener(
                                        "track",
                                        (this._onaddstreampoly = (t) => {
                                            t.streams.forEach((t) => {
                                                if ((this._remoteStreams || (this._remoteStreams = []), this._remoteStreams.includes(t))) return;
                                                this._remoteStreams.push(t);
                                                const e = new Event("addstream");
                                                (e.stream = t), this.dispatchEvent(e);
                                            });
                                        })
                                    );
                            },
                        });
                        const e = t.RTCPeerConnection.prototype.setRemoteDescription;
                        t.RTCPeerConnection.prototype.setRemoteDescription = function () {
                            const t = this;
                            return (
                                this._onaddstreampoly ||
                                    this.addEventListener(
                                        "track",
                                        (this._onaddstreampoly = function (e) {
                                            e.streams.forEach((e) => {
                                                if ((t._remoteStreams || (t._remoteStreams = []), t._remoteStreams.indexOf(e) >= 0)) return;
                                                t._remoteStreams.push(e);
                                                const i = new Event("addstream");
                                                (i.stream = e), t.dispatchEvent(i);
                                            });
                                        })
                                    ),
                                e.apply(t, arguments)
                            );
                        };
                    }
                }
                function kt(t) {
                    if ("object" != typeof t || !t.RTCPeerConnection) return;
                    const e = t.RTCPeerConnection.prototype,
                        i = e.createOffer,
                        n = e.createAnswer,
                        s = e.setLocalDescription,
                        r = e.setRemoteDescription,
                        o = e.addIceCandidate;
                    (e.createOffer = function (t, e) {
                        const n = arguments.length >= 2 ? arguments[2] : arguments[0],
                            s = i.apply(this, [n]);
                        return e ? (s.then(t, e), Promise.resolve()) : s;
                    }),
                        (e.createAnswer = function (t, e) {
                            const i = arguments.length >= 2 ? arguments[2] : arguments[0],
                                s = n.apply(this, [i]);
                            return e ? (s.then(t, e), Promise.resolve()) : s;
                        });
                    let a = function (t, e, i) {
                        const n = s.apply(this, [t]);
                        return i ? (n.then(e, i), Promise.resolve()) : n;
                    };
                    (e.setLocalDescription = a),
                        (a = function (t, e, i) {
                            const n = r.apply(this, [t]);
                            return i ? (n.then(e, i), Promise.resolve()) : n;
                        }),
                        (e.setRemoteDescription = a),
                        (a = function (t, e, i) {
                            const n = o.apply(this, [t]);
                            return i ? (n.then(e, i), Promise.resolve()) : n;
                        }),
                        (e.addIceCandidate = a);
                }
                function Pt(t) {
                    const e = t && t.navigator;
                    if (e.mediaDevices && e.mediaDevices.getUserMedia) {
                        const t = e.mediaDevices,
                            i = t.getUserMedia.bind(t);
                        e.mediaDevices.getUserMedia = (t) => i(St(t));
                    }
                    !e.getUserMedia &&
                        e.mediaDevices &&
                        e.mediaDevices.getUserMedia &&
                        (e.getUserMedia = function (t, i, n) {
                            e.mediaDevices.getUserMedia(t).then(i, n);
                        }.bind(e));
                }
                function St(t) {
                    return t && void 0 !== t.video ? Object.assign({}, t, { video: H(t.video) }) : t;
                }
                function Ct(t) {
                    if (!t.RTCPeerConnection) return;
                    const e = t.RTCPeerConnection;
                    (t.RTCPeerConnection = function (t, i) {
                        if (t && t.iceServers) {
                            const e = [];
                            for (let i = 0; i < t.iceServers.length; i++) {
                                let n = t.iceServers[i];
                                !n.hasOwnProperty("urls") && n.hasOwnProperty("url") ? (j("RTCIceServer.url", "RTCIceServer.urls"), (n = JSON.parse(JSON.stringify(n))), (n.urls = n.url), delete n.url, e.push(n)) : e.push(t.iceServers[i]);
                            }
                            t.iceServers = e;
                        }
                        return new e(t, i);
                    }),
                        (t.RTCPeerConnection.prototype = e.prototype),
                        "generateCertificate" in e && Object.defineProperty(t.RTCPeerConnection, "generateCertificate", { get: () => e.generateCertificate });
                }
                function It(t) {
                    "object" == typeof t &&
                        t.RTCTrackEvent &&
                        "receiver" in t.RTCTrackEvent.prototype &&
                        !("transceiver" in t.RTCTrackEvent.prototype) &&
                        Object.defineProperty(t.RTCTrackEvent.prototype, "transceiver", {
                            get() {
                                return { receiver: this.receiver };
                            },
                        });
                }
                function Tt(t) {
                    const e = t.RTCPeerConnection.prototype.createOffer;
                    t.RTCPeerConnection.prototype.createOffer = function (t) {
                        if (t) {
                            void 0 !== t.offerToReceiveAudio && (t.offerToReceiveAudio = !!t.offerToReceiveAudio);
                            const e = this.getTransceivers().find((t) => "audio" === t.receiver.track.kind);
                            !1 === t.offerToReceiveAudio && e
                                ? "sendrecv" === e.direction
                                    ? e.setDirection
                                        ? e.setDirection("sendonly")
                                        : (e.direction = "sendonly")
                                    : "recvonly" === e.direction && (e.setDirection ? e.setDirection("inactive") : (e.direction = "inactive"))
                                : !0 !== t.offerToReceiveAudio || e || this.addTransceiver("audio"),
                                void 0 !== t.offerToReceiveVideo && (t.offerToReceiveVideo = !!t.offerToReceiveVideo);
                            const i = this.getTransceivers().find((t) => "video" === t.receiver.track.kind);
                            !1 === t.offerToReceiveVideo && i
                                ? "sendrecv" === i.direction
                                    ? i.setDirection
                                        ? i.setDirection("sendonly")
                                        : (i.direction = "sendonly")
                                    : "recvonly" === i.direction && (i.setDirection ? i.setDirection("inactive") : (i.direction = "inactive"))
                                : !0 !== t.offerToReceiveVideo || i || this.addTransceiver("video");
                        }
                        return e.apply(this, arguments);
                    };
                }
                function $t(t) {
                    "object" != typeof t || t.AudioContext || (t.AudioContext = t.webkitAudioContext);
                }
                var Et = i(2281),
                    Dt = i.n(Et);
                function Mt(t) {
                    if (!t.RTCIceCandidate || (t.RTCIceCandidate && "foundation" in t.RTCIceCandidate.prototype)) return;
                    const e = t.RTCIceCandidate;
                    (t.RTCIceCandidate = function (t) {
                        if (("object" == typeof t && t.candidate && 0 === t.candidate.indexOf("a=") && ((t = JSON.parse(JSON.stringify(t))).candidate = t.candidate.substr(2)), t.candidate && t.candidate.length)) {
                            const i = new e(t),
                                n = Dt().parseCandidate(t.candidate),
                                s = Object.assign(i, n);
                            return (
                                (s.toJSON = function () {
                                    return { candidate: s.candidate, sdpMid: s.sdpMid, sdpMLineIndex: s.sdpMLineIndex, usernameFragment: s.usernameFragment };
                                }),
                                s
                            );
                        }
                        return new e(t);
                    }),
                        (t.RTCIceCandidate.prototype = e.prototype),
                        O(t, "icecandidate", (e) => (e.candidate && Object.defineProperty(e, "candidate", { value: new t.RTCIceCandidate(e.candidate), writable: "false" }), e));
                }
                function At(t) {
                    if (!t.RTCPeerConnection) return;
                    const e = F(t);
                    "sctp" in t.RTCPeerConnection.prototype ||
                        Object.defineProperty(t.RTCPeerConnection.prototype, "sctp", {
                            get() {
                                return void 0 === this._sctp ? null : this._sctp;
                            },
                        });
                    const i = function (t) {
                            if (!t || !t.sdp) return !1;
                            const e = Dt().splitSections(t.sdp);
                            return (
                                e.shift(),
                                e.some((t) => {
                                    const e = Dt().parseMLine(t);
                                    return e && "application" === e.kind && -1 !== e.protocol.indexOf("SCTP");
                                })
                            );
                        },
                        n = function (t) {
                            const e = t.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);
                            if (null === e || e.length < 2) return -1;
                            const i = parseInt(e[1], 10);
                            return i != i ? -1 : i;
                        },
                        s = function (t) {
                            let i = 65536;
                            return "firefox" === e.browser && (i = e.version < 57 ? (-1 === t ? 16384 : 2147483637) : e.version < 60 ? (57 === e.version ? 65535 : 65536) : 2147483637), i;
                        },
                        r = function (t, i) {
                            let n = 65536;
                            "firefox" === e.browser && 57 === e.version && (n = 65535);
                            const s = Dt().matchPrefix(t.sdp, "a=max-message-size:");
                            return s.length > 0 ? (n = parseInt(s[0].substr(19), 10)) : "firefox" === e.browser && -1 !== i && (n = 2147483637), n;
                        },
                        o = t.RTCPeerConnection.prototype.setRemoteDescription;
                    t.RTCPeerConnection.prototype.setRemoteDescription = function () {
                        if (((this._sctp = null), "chrome" === e.browser && e.version >= 76)) {
                            const { sdpSemantics: t } = this.getConfiguration();
                            "plan-b" === t &&
                                Object.defineProperty(this, "sctp", {
                                    get() {
                                        return void 0 === this._sctp ? null : this._sctp;
                                    },
                                    enumerable: !0,
                                    configurable: !0,
                                });
                        }
                        if (i(arguments[0])) {
                            const t = n(arguments[0]),
                                e = s(t),
                                i = r(arguments[0], t);
                            let o;
                            o = 0 === e && 0 === i ? Number.POSITIVE_INFINITY : 0 === e || 0 === i ? Math.max(e, i) : Math.min(e, i);
                            const a = {};
                            Object.defineProperty(a, "maxMessageSize", { get: () => o }), (this._sctp = a);
                        }
                        return o.apply(this, arguments);
                    };
                }
                function Nt(t) {
                    if (!t.RTCPeerConnection || !("createDataChannel" in t.RTCPeerConnection.prototype)) return;
                    function e(t, e) {
                        const i = t.send;
                        t.send = function () {
                            const n = arguments[0],
                                s = n.length || n.size || n.byteLength;
                            if ("open" === t.readyState && e.sctp && s > e.sctp.maxMessageSize) throw new TypeError("Message too large (can send a maximum of " + e.sctp.maxMessageSize + " bytes)");
                            return i.apply(t, arguments);
                        };
                    }
                    const i = t.RTCPeerConnection.prototype.createDataChannel;
                    (t.RTCPeerConnection.prototype.createDataChannel = function () {
                        const t = i.apply(this, arguments);
                        return e(t, this), t;
                    }),
                        O(t, "datachannel", (t) => (e(t.channel, t.target), t));
                }
                function Ot(t) {
                    if (!t.RTCPeerConnection || "connectionState" in t.RTCPeerConnection.prototype) return;
                    const e = t.RTCPeerConnection.prototype;
                    Object.defineProperty(e, "connectionState", {
                        get() {
                            return { completed: "connected", checking: "connecting" }[this.iceConnectionState] || this.iceConnectionState;
                        },
                        enumerable: !0,
                        configurable: !0,
                    }),
                        Object.defineProperty(e, "onconnectionstatechange", {
                            get() {
                                return this._onconnectionstatechange || null;
                            },
                            set(t) {
                                this._onconnectionstatechange && (this.removeEventListener("connectionstatechange", this._onconnectionstatechange), delete this._onconnectionstatechange),
                                    t && this.addEventListener("connectionstatechange", (this._onconnectionstatechange = t));
                            },
                            enumerable: !0,
                            configurable: !0,
                        }),
                        ["setLocalDescription", "setRemoteDescription"].forEach((t) => {
                            const i = e[t];
                            e[t] = function () {
                                return (
                                    this._connectionstatechangepoly ||
                                        ((this._connectionstatechangepoly = (t) => {
                                            const e = t.target;
                                            if (e._lastConnectionState !== e.connectionState) {
                                                e._lastConnectionState = e.connectionState;
                                                const i = new Event("connectionstatechange", t);
                                                e.dispatchEvent(i);
                                            }
                                            return t;
                                        }),
                                        this.addEventListener("iceconnectionstatechange", this._connectionstatechangepoly)),
                                    i.apply(this, arguments)
                                );
                            };
                        });
                }
                function Rt(t) {
                    if (!t.RTCPeerConnection) return;
                    const e = F(t);
                    if ("chrome" === e.browser && e.version >= 71) return;
                    if ("safari" === e.browser && e.version >= 605) return;
                    const i = t.RTCPeerConnection.prototype.setRemoteDescription;
                    t.RTCPeerConnection.prototype.setRemoteDescription = function (t) {
                        return (
                            t &&
                                t.sdp &&
                                -1 !== t.sdp.indexOf("\na=extmap-allow-mixed") &&
                                (t.sdp = t.sdp
                                    .split("\n")
                                    .filter((t) => "a=extmap-allow-mixed" !== t.trim())
                                    .join("\n")),
                            i.apply(this, arguments)
                        );
                    };
                }
                const Vt = (function ({ window: t } = {}, e = { shimChrome: !0, shimFirefox: !0, shimEdge: !0, shimSafari: !0 }) {
                    const i = L,
                        a = F(t),
                        h = { browserDetails: a, commonShim: l, extractVersion: N, disableLog: R, disableWarnings: V };
                    switch (a.browser) {
                        case "chrome":
                            if (!n || !et || !e.shimChrome) return i("Chrome shim is not included in this adapter release."), h;
                            if (null === a.version) return i("Chrome shim can not determine version, not shimming."), h;
                            i("adapter.js shimming chrome."), (h.browserShim = n), U(t), q(t), et(t), X(t), tt(t), K(t), Z(t), J(t), it(t), Mt(t), Ot(t), At(t), Nt(t), Rt(t);
                            break;
                        case "firefox":
                            if (!r || !ut || !e.shimFirefox) return i("Firefox shim is not included in this adapter release."), h;
                            i("adapter.js shimming firefox."), (h.browserShim = r), ht(t), ut(t), dt(t), mt(t), pt(t), ft(t), gt(t), vt(t), bt(t), yt(t), wt(t), Mt(t), Ot(t), At(t), Nt(t);
                            break;
                        case "edge":
                            if (!s || !at || !e.shimEdge) return i("MS edge shim is not included in this adapter release."), h;
                            i("adapter.js shimming edge."), (h.browserShim = s), rt(t), ot(t), at(t), lt(t), At(t), Nt(t);
                            break;
                        case "safari":
                            if (!o || !e.shimSafari) return i("Safari shim is not included in this adapter release."), h;
                            i("adapter.js shimming safari."), (h.browserShim = o), Ct(t), Tt(t), kt(t), xt(t), _t(t), It(t), Pt(t), $t(t), Mt(t), At(t), Nt(t), Rt(t);
                            break;
                        default:
                            i("Unsupported browser!");
                    }
                    return h;
                })({ window: "undefined" == typeof window ? void 0 : window });
                function Lt(t) {
                    return new Promise((e, i) => {
                        t || (t = {});
                        if ("screen" === t.source) {
                            const n = (e) => {
                                    const i = { audio: !1, video: { width: t.width || Math.min(1280, window.screen.width), height: t.height || Math.min(720, window.screen.height), frameRate: t.frameRate || 5 } };
                                    navigator.mediaDevices
                                        .getDisplayMedia(i)
                                        .then((n) => {
                                            if (t.displaySurface && "monitor" !== t.displaySurface) return e(null, n, i);
                                            const s = n.getVideoTracks()[0],
                                                r = s.getSettings().displaySurface,
                                                o = Vt.browserDetails.browser;
                                            if (("firefox" !== o && "monitor" !== r) || ("firefox" === o && "Primary Monitor" !== s.label))
                                                return n.getTracks().forEach((t) => t.stop()), e(new Error('Display surface "'.concat(r || s.label, '" not allowed')));
                                            e(null, n, i);
                                        })
                                        .catch(() => e(new Error("Screen source is not set")));
                                },
                                s = (e) => {
                                    const i = {
                                        audio: !1,
                                        video: {
                                            mandatory: { chromeMediaSource: "screen", maxWidth: t.width || Math.min(1280, window.screen.width), maxHeight: t.height || Math.min(720, window.screen.height), maxFrameRate: t.frameRate || 5 },
                                            mozMediaSource: "screen",
                                            mediaSource: "screen",
                                        },
                                    };
                                    navigator.getUserMedia(
                                        i,
                                        (t) => {
                                            e(null, t, i);
                                        },
                                        (t) => e(t)
                                    );
                                };
                            if ("function" == typeof navigator.mediaDevices.getDisplayMedia && (!window.chrome || window.chrome.app))
                                return void n((t, n) => {
                                    if (!t) return e(n);
                                    i(t);
                                });
                            const r = Vt.browserDetails.browser;
                            return "chrome" === r || "firefox" === r
                                ? void s((t, n) => {
                                      if (!t) return e(n);
                                      i(t);
                                  })
                                : i(new Error("Browser does not support screen capture"));
                        }
                        {
                            const n = {
                                audio: !1 !== t.audio && { deviceId: t.audioDeviceId ? { exact: t.audioDeviceId } : void 0, autoGainControl: !1 },
                                video: !1 !== t.video && { deviceId: t.videoDeviceId ? { exact: t.videoDeviceId } : void 0, facingMode: t.facingMode || "user", frameRate: t.frameRate || 10, width: t.width || 640, height: t.height || 480 },
                            };
                            if (!1 === t.audio)
                                return navigator.getUserMedia(
                                    n,
                                    (t) => {
                                        e(t);
                                    },
                                    (t) => {
                                        i(t);
                                    }
                                );
                            if (!1 === t.video)
                                return navigator.getUserMedia(
                                    n,
                                    (t) => {
                                        e(t);
                                    },
                                    (t) => {
                                        i(t);
                                    }
                                );
                            navigator.getUserMedia(
                                n,
                                (t) => {
                                    e(t);
                                },
                                () => {
                                    const t = { audio: !1, video: n.video };
                                    navigator.getUserMedia(
                                        t,
                                        (t) => {
                                            e(t);
                                        },
                                        () => {
                                            const t = { audio: n.audio, video: !1 };
                                            navigator.getUserMedia(
                                                t,
                                                (t) => {
                                                    e(t);
                                                },
                                                (t) => {
                                                    i(t);
                                                }
                                            );
                                        }
                                    );
                                }
                            );
                        }
                    });
                }
                function jt() {
                    let t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
                    const e = t.el,
                        i = t.muted,
                        n = t.spinner,
                        s = t.mirror,
                        r = e || document.createElement("video");
                    if (
                        ((r.playsinline = !0),
                        r.setAttribute("playsinline", ""),
                        (r.autoplay = !0),
                        r.setAttribute("autoplay", ""),
                        (r.oncontextmenu = function () {
                            return !1;
                        }),
                        (r.muted = !!i),
                        n && (r.dataset.spinner = !0),
                        s && (r.dataset.mirror = !0),
                        void 0 === r.srcObject)
                    ) {
                        let t;
                        Object.defineProperty(r, "srcObject", {
                            get: function () {
                                return t;
                            },
                            set: function (e) {
                                e ? (r.src = URL.createObjectURL(e)) : r.src && (URL.revokeObjectURL(r.src), r.removeAttribute("src")), (t = e);
                            },
                        });
                    }
                    const o = (t) => {
                        const e = "get" + t + "Tracks";
                        return {
                            get() {
                                const t = r.srcObject;
                                if (!t) return !1;
                                const i = t[e]();
                                for (let t = 0; t < i.length; t++) {
                                    if (!i[t].enabled) return !1;
                                }
                                return !0;
                            },
                            set(t) {
                                const i = r.srcObject;
                                if (!i) return;
                                const n = i[e]();
                                for (let e = 0; e < n.length; e++) {
                                    n[e].enabled = t;
                                }
                            },
                        };
                    };
                    Object.defineProperties(r, { audioEnabled: o("Audio"), videoEnabled: o("Video") });
                    const a = {
                        playing: () => {
                            n && delete r.dataset.spinner;
                        },
                        click: () => {
                            const t = r.play();
                            t && "undefined" != typeof Promise && t instanceof Promise && t.catch(function () {});
                        },
                    };
                    for (let t in a) r.addEventListener(t, a[t]);
                    return r;
                }
                function Ft(t, e, i) {
                    if (!i) return t;
                    const n = function (t) {
                        return Object.keys(t)
                            .map((e) => "".concat(e, "=").concat(t[e]))
                            .join(";");
                    };
                    var s, r, o;
                    if (((r = new RegExp("a=rtpmap:([0-9]+) ".concat(e))), !(s = t.match(r)))) return t;
                    if (((o = s[1]), (r = new RegExp("a=fmtp:".concat(o, " ([^\r\n]+)"))), (s = t.match(r)))) {
                        const e = s[1];
                        (i = Object.assign(
                            e.split(";").reduce((t, e) => {
                                var i = (e = e.trim().split("="))[0],
                                    n = e[1];
                                return (t[i] = n), t;
                            }, {}),
                            i
                        )),
                            (r = new RegExp("(a=fmtp:".concat(o, ") [^\r\n]+"))),
                            (t = t.replace(r, "$1 ".concat(n(i))));
                    } else (r = new RegExp("(a=rtpmap:".concat(o, " ").concat(e, ")"))), (t = t.replace(r, "$1\r\na=fmtp:".concat(o, " ").concat(n(i))));
                    return t;
                }
                function zt(t, e, i) {
                    var n, s;
                    if (((n = new RegExp("a=rtpmap:([0-9]+) ".concat(i))), !(s = t.match(n)))) return t;
                    var r = s[1];
                    if (((n = new RegExp("m=".concat(e, " [^\\s]+ [^\\s]+ ([0-9 ]+)"))), !(s = t.match(n)))) return t;
                    var o = s[1].split(" ");
                    if (o[0] !== r) {
                        const i = o.indexOf(r);
                        -1 !== i && o.splice(i, 1), o.unshift(r), (n = new RegExp("(m=".concat(e, " [^\\s]+ [^\\s]+) [0-9 ]+"))), (t = t.replace(n, "$1 ".concat(o.join(" "))));
                    }
                    return t;
                }
                class Ht {
                    constructor(t) {
                        (this._config = t || {}), (this._handlers = {}), (this._events = {}), (this._peers = {}), (this._streams = {});
                    }
                    static createOffer() {
                        let t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
                        return new Promise((e, i) => {
                            const n = t.id,
                                s = t.from,
                                r = t.stream,
                                o = t.room,
                                a = t.user,
                                l = t.data,
                                h = t.config,
                                c = t.bitrate,
                                d = t.ondispose;
                            let u,
                                p = h.iceServers,
                                f = void 0 === p ? [{ urls: "stun:stun.l.google.com:19302" }] : p,
                                m = h.quorum,
                                g = void 0 === m ? 2 : m;
                            const v = c || {},
                                b = v.audio,
                                y = void 0 === b ? 16 : b,
                                w = v.video,
                                x = void 0 === w ? 64 : w,
                                _ = new RTCPeerConnection({ iceServers: Ht.getIceServers(f, g) }),
                                k = (t) => {
                                    D.off("p2p:dispose", P),
                                        D.off("p2p:answer", C),
                                        D.off("p2p:ice", S),
                                        r.removeEventListener("inactive", I),
                                        u && u.close(),
                                        _.close(),
                                        t ? ("string" == typeof t && (t = new Error(t)), D.emit("p2p:dispose", { to: s, id: n, error: t.message }), console.error(t)) : D.emit("p2p:dispose", { to: s, id: n }),
                                        "function" == typeof d && d({ id: n, room: o, user: a, data: l, error: t });
                                },
                                P = (t) => {
                                    t && t.id === n && k(t.error);
                                };
                            D.on("p2p:dispose", P);
                            const S = (t) => {
                                t && t.id === n && t.candidate && _.addIceCandidate(t.candidate);
                            };
                            D.on("p2p:ice", S),
                                _.addEventListener("iceconnectionstatechange", (t) => {
                                    switch (t.target.iceConnectionState) {
                                        case "disconnected":
                                            k("ICE connection state is disconnected");
                                            break;
                                        case "failed":
                                            k("ICE connection state is failed");
                                    }
                                }),
                                _.addEventListener("icecandidate", (t) => {
                                    t && t.candidate && D.emit("p2p:ice", { to: s, id: n, candidate: t.candidate });
                                }),
                                "function" == typeof _.createDataChannel && (u = _.createDataChannel(n));
                            const C = (t) => {
                                if (!t || !t.answer || t.id !== n) return;
                                D.off("p2p:answer", C);
                                const s = new RTCSessionDescription(t.answer);
                                _.setRemoteDescription(s)
                                    .then(() => {
                                        !(function (t, e) {
                                            if (e)
                                                "function" == typeof t.getSenders &&
                                                    "RTCRtpSender" in window &&
                                                    "getParameters" in window.RTCRtpSender.prototype &&
                                                    "setParameters" in window.RTCRtpSender.prototype &&
                                                    t.getSenders().forEach(function (t) {
                                                        const i = e[t.track && t.track.kind];
                                                        if (!i) return;
                                                        const n = t.getParameters();
                                                        n.encodings || (n.encodings = [{}]), (n.encodings[0].maxBitrate = 1e3 * i), t.setParameters(n);
                                                    });
                                        })(_, { audio: y, video: x }),
                                            e({ id: n, room: o, user: a, data: l, stream: r, peer: _, channel: u, dispose: k });
                                    })
                                    .catch((t) => {
                                        k(t), i(t);
                                    });
                            };
                            D.on("p2p:answer", C);
                            const I = () => k();
                            r.addEventListener("inactive", I),
                                r.getTracks().forEach((t) => _.addTrack(t, r)),
                                _.createOffer({ offerToReceiveAudio: !0, offerToReceiveVideo: !0, voiceActivityDetection: !0, iceRestart: !1 })
                                    .then((t) => {
                                        const e = y >>> 0,
                                            i = x >>> 0;
                                        let n = t.sdp;
                                        return (
                                            (n = (function (t, e) {
                                                if (!e) return t;
                                                let i = e.audio,
                                                    n = e.video,
                                                    s = "AS";
                                                return (
                                                    "firefox" === Vt.browserDetails.browser && ((i = 1e3 * (i >>> 0)), (n = 1e3 * (n >>> 0)), (s = "TIAS")),
                                                    (t = t.replace(/b=AS:.*\r\n/g, "").replace(/b=TIAS:.*\r\n/g, "")),
                                                    i && (t = t.replace(/m=audio (.*)\r\n/g, "m=audio $1\r\nb=".concat(s, ":").concat(i, "\r\n"))),
                                                    n && (t = t.replace(/m=video (.*)\r\n/g, "m=video $1\r\nb=".concat(s, ":").concat(n, "\r\n"))),
                                                    t
                                                );
                                            })(n, c)),
                                            (n = zt(n, "audio", "opus/48000/2")),
                                            (n = zt(n, "video", "H264/90000")),
                                            (n = zt(n, "video", "VP9/90000")),
                                            (n = zt(n, "video", "VP8/90000")),
                                            (n = Ft(n, "opus/48000/2", { maxaveragebitrate: 1e3 * e, maxplaybackrate: 1e3 * e, stereo: 0 })),
                                            (n = Ft(n, "VP8/90000", { "x-google-min-bitrate": i, "x-google-max-bitrate": i })),
                                            (n = Ft(n, "VP9/90000", { "x-google-min-bitrate": i, "x-google-max-bitrate": i })),
                                            (n = Ft(n, "H264/90000", { "max-br": i })),
                                            (t.sdp = n),
                                            _.setLocalDescription(t)
                                        );
                                    })
                                    .then(() => {
                                        D.emit("p2p:offer", { to: s, id: n, rid: o, uid: a, data: l, offer: _.localDescription });
                                    })
                                    .catch((t) => {
                                        k(t), i(t);
                                    });
                        });
                    }
                    static createAnswer() {
                        let t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
                        return new Promise((e, i) => {
                            const n = t.id,
                                s = t.from,
                                r = t.room,
                                o = t.user,
                                a = t.data,
                                l = t.config,
                                h = t.offer,
                                c = t.ondata,
                                d = t.ondispose;
                            let u,
                                p = l.iceServers,
                                f = void 0 === p ? [{ urls: "stun:stun.l.google.com:19302" }] : p,
                                m = l.quorum,
                                g = void 0 === m ? 2 : m;
                            const v = new RTCPeerConnection({ iceServers: Ht.getIceServers(f, g) }),
                                b = (t) => {
                                    D.off("p2p:dispose", y),
                                        D.off("p2p:ice", w),
                                        u && u.close(),
                                        v.close(),
                                        t ? ("string" == typeof t && (t = new Error(t)), D.emit("p2p:dispose", { to: s, id: n, error: t.message }), console.error(t)) : D.emit("p2p:dispose", { to: s, id: n }),
                                        "function" == typeof d && d({ id: n, room: r, user: o, data: a, error: t });
                                },
                                y = (t) => {
                                    t && t.id === n && b(t.error);
                                };
                            D.on("p2p:dispose", y);
                            const w = (t) => {
                                t && t.id === n && t.candidate && v.addIceCandidate(t.candidate);
                            };
                            D.on("p2p:ice", w),
                                v.addEventListener("iceconnectionstatechange", (t) => {
                                    switch (t.target.iceConnectionState) {
                                        case "disconnected":
                                            b("ICE connection state is disconnected");
                                            break;
                                        case "failed":
                                            b("ICE connection state is failed");
                                    }
                                }),
                                v.addEventListener("icecandidate", (t) => {
                                    t && t.candidate && D.emit("p2p:ice", { to: s, id: n, candidate: t.candidate });
                                }),
                                v.addEventListener("datachannel", (t) => {
                                    (u = t.channel), u.addEventListener("message", c);
                                }),
                                v.addEventListener("track", (t) => {
                                    const i = t.streams[0];
                                    e({ id: n, room: r, user: o, data: a, stream: i, peer: v, channel: u, dispose: b });
                                });
                            const x = new RTCSessionDescription(h);
                            v.setRemoteDescription(x)
                                .then(() => v.createAnswer())
                                .then((t) => v.setLocalDescription(t))
                                .then(() => {
                                    D.emit("p2p:answer", { to: s, id: n, answer: v.localDescription });
                                })
                                .catch((t) => {
                                    b(t), i(t);
                                });
                        });
                    }
                    static getIceServers(t, e) {
                        if (!t.urls) {
                            const e = [];
                            for (let i in t) e.push(t[i]);
                            t = e;
                        }
                        return [].concat(t).map((t) => {
                            const i = Object.assign({}, t);
                            let n = t.urls;
                            return (
                                "string" == typeof n && (n = n.split(/,\s*/)),
                                Array.isArray(n) &&
                                    (n = n
                                        .slice()
                                        .sort(() => 0.5 - Math.random())
                                        .splice(0, e)),
                                (i.urls = n),
                                i
                            );
                        });
                    }
                    broadcast() {
                        let t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
                        const e = t.stream,
                            i = t.room,
                            n = t.user,
                            s = t.data,
                            r = t.bitrate;
                        if (this._streams[e.id]) return;
                        this._streams[e.id] = e;
                        const o = this._config,
                            a = {},
                            l = () => {
                                for (let t in a) {
                                    const e = a[t];
                                    return delete a[t], setTimeout(e.bind(this, t), 0);
                                }
                            };
                        this.bind("p2p:invoke", (t) => {
                            let h = t.from,
                                c = t.rid,
                                d = t.uid;
                            const u = [h, e.id].join("-");
                            a[u] ||
                                i !== c ||
                                n === d ||
                                ((a[u] = (t) =>
                                    this._peers[t]
                                        ? l()
                                        : Ht.createOffer({
                                              from: h,
                                              id: t,
                                              room: i,
                                              user: n,
                                              data: s,
                                              stream: e,
                                              bitrate: r,
                                              config: o,
                                              ondispose: (t) => {
                                                  delete this._peers[t.id], this.dispatchEvent("stop", t);
                                              },
                                          })
                                              .then((t) => ((this._peers[t.id] = t), this.dispatchEvent("start", t), l()))
                                              .catch((t) => (console.error(t), l()))),
                                Object.keys(a).length > 1 || l());
                        }),
                            D.emit("p2p:broadcast", { to: i, rid: i, uid: n });
                    }
                    listen() {
                        let t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
                        const e = t.room,
                            i = t.user,
                            n = t.ping,
                            s = void 0 === n ? 3e4 : n,
                            r = this._config,
                            o = {},
                            a = () => {
                                for (let t in o) {
                                    const e = o[t];
                                    return delete o[t], setTimeout(e.bind(this, t), 0);
                                }
                            };
                        this.bind("p2p:offer", (t) => {
                            let n = t.from,
                                s = t.id,
                                l = t.rid,
                                h = t.uid,
                                c = t.data,
                                d = t.offer;
                            o[s] ||
                                e !== l ||
                                i === h ||
                                ((o[s] = (t) =>
                                    this._peers[t]
                                        ? a()
                                        : Ht.createAnswer({
                                              from: n,
                                              id: t,
                                              room: l,
                                              user: h,
                                              data: c,
                                              offer: d,
                                              config: r,
                                              ondata: (t) => {
                                                  let e;
                                                  try {
                                                      e = JSON.parse(t.data);
                                                  } catch (i) {
                                                      e = t.data;
                                                  }
                                                  this.dispatchEvent("data", e);
                                              },
                                              ondispose: (t) => {
                                                  delete this._peers[t.id], this.dispatchEvent("stop", t);
                                              },
                                          })
                                              .then((t) => ((this._peers[t.id] = t), this.dispatchEvent("start", t), a()))
                                              .catch((t) => (console.error(t), a()))),
                                Object.keys(o).length > 1 || a());
                        }),
                            this.bind("p2p:broadcast", (t) => {
                                let n = t.from,
                                    s = t.rid,
                                    r = t.uid;
                                e === s && i !== r && D.emit("p2p:invoke", { to: n, rid: e, uid: i });
                            }),
                            D.emit("p2p:invoke", { to: e, rid: e, uid: i }),
                            (this._timer = setInterval(() => {
                                D.emit("p2p:invoke", { to: e, rid: e, uid: i });
                            }, s));
                    }
                    stop() {
                        clearInterval(this._timer);
                        for (let t in this._handlers) D.off(t, this._handlers[t]), delete this._handlers[t];
                        for (let t in this._peers) {
                            const e = this._peers[t];
                            delete this._peers[t], "function" == typeof e.dispose && e.dispose();
                        }
                        for (let t in this._streams) {
                            const e = this._streams[t];
                            delete this._streams[t], (e.oninactive = null), e.getTracks().forEach((t) => t.stop());
                        }
                    }
                    send(t) {
                        for (let e in this._peers) {
                            const i = this._peers[e].channel;
                            if (i && "open" === i.readyState) {
                                let e;
                                try {
                                    e = JSON.stringify(t);
                                } catch (i) {
                                    e = t;
                                }
                                i.send(e);
                            }
                        }
                    }
                    bind(t, e) {
                        t && e && (this._handlers[t] && D.off(t, this._handlers[t]), (this._handlers[t] = e), D.on(t, this._handlers[t]));
                    }
                    on(t, e) {
                        t &&
                            e &&
                            (t = [].concat(t)).forEach((t) => {
                                this._events[t] || (this._events[t] = []), this._events[t].push(e);
                            });
                    }
                    off(t, e) {
                        if (!t) return (this._events = {});
                        (t = [].concat(t)).forEach((t) => {
                            e || delete this._events[t];
                            var i = this._events[t];
                            if (i) {
                                var n = i.indexOf(e);
                                n > -1 && i.splice(n, 1);
                            }
                        });
                    }
                    dispatchEvent(t, e) {
                        var i = this._events[t];
                        i && i.forEach((t) => t.call(this, e));
                    }
                    get config() {
                        return this._config;
                    }
                    set config(t) {
                        this._config = t || {};
                    }
                    get streams() {
                        return Object.keys(this._streams).map((t) => this._streams[t]);
                    }
                    get peers() {
                        return Object.keys(this._peers).map((t) => this._peers[t]);
                    }
                    get audioEnabled() {
                        let t = !1;
                        t: for (let e in this._streams) {
                            const i = this._streams[e].getAudioTracks();
                            for (let e = 0; e < i.length; e++)
                                if (i[e].enabled) {
                                    t = !0;
                                    break t;
                                }
                        }
                        return t;
                    }
                    set audioEnabled(t) {
                        void 0 === t && (t = !0);
                        for (let e in this._streams) {
                            const i = this._streams[e].getAudioTracks();
                            for (let e = 0; e < i.length; e++) i[e].enabled = t;
                        }
                    }
                    get videoEnabled() {
                        let t = !1;
                        t: for (let e in this._streams) {
                            const i = this._streams[e].getVideoTracks();
                            for (let e = 0; e < i.length; e++)
                                if (i[e].enabled) {
                                    t = !0;
                                    break t;
                                }
                        }
                        return t;
                    }
                    set videoEnabled(t) {
                        void 0 === t && (t = !0);
                        for (let e in this._streams) {
                            const i = this._streams[e].getVideoTracks();
                            for (let e = 0; e < i.length; e++) i[e].enabled = t;
                        }
                    }
                    get enabled() {
                        return this.audioEnabled || this.videoEnabled;
                    }
                    set enabled(t) {
                        void 0 === t && (t = !0), (this.audioEnabled = t), (this.videoEnabled = t);
                    }
                }
                class Wt {
                    constructor() {
                        let t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
                        (this._filename = t.filename || "record"), (this._jpegQuality = t.jpegQuality || 0.5), (this._audioBitsPerSecond = t.audioBitsPerSecond || 16e3), (this._videoBitsPerSecond = t.videoBitsPerSecond || 1e5);
                    }
                    start(t) {
                        return new Promise((e, i) => {
                            if (!this.supported) return i(new Error("MediaRecorder is not supported"));
                            if ((this.active && (n.stop(), (this._recorder = null)), !(t && t.srcObject && t.videoWidth && t.videoHeight))) return i(new Error("No video found"));
                            this._poster = v(t, { quality: this._jpegQuality, filename: "".concat(this._filename, ".jpg") });
                            const n = new MediaRecorder(t.srcObject, { audioBitsPerSecond: this._audioBitsPerSecond, videoBitsPerSecond: this._videoBitsPerSecond, bitsPerSecond: this._audioBitsPerSecond + this._videoBitsPerSecond });
                            if (!n) return i(new Error("Recorder failed to start"));
                            (n.onstart = () => e(n)), (n.onerror = (t) => i(t)), n.start(), (this._recorder = n);
                        });
                    }
                    stop() {
                        return new Promise((t, e) => {
                            const i = this._recorder;
                            if (!this._recorder || "inactive" === i.state) return (this._recorder = null), t(i);
                            const n = this._poster;
                            (i.ondataavailable = (s) => {
                                if (!s.data || !s.data.size) return e(new Error("Data not available"));
                                const r = new File([s.data], "".concat(this._filename, ".webm"), { type: i.mimeType });
                                t({ poster: n, record: r });
                            }),
                                (i.onstop = () => t(i)),
                                (i.onerror = (t) => e(t)),
                                i.stop(),
                                (this._recorder = null);
                        });
                    }
                    get active() {
                        const t = this._recorder;
                        return !(!t || "recording" !== t.state);
                    }
                    get supported() {
                        return !!window.MediaRecorder;
                    }
                }
                var Bt;
                const Yt = {
                        get: (t) =>
                            t && Bt
                                ? t.split(".").reduce(function (t, e) {
                                      if (t) return t[e];
                                  }, Bt)
                                : Bt,
                        filter(t) {
                            if ((Array.isArray(t) || (t = arguments), !t.length)) return Yt.get();
                            for (var e = {}, i = 0, n = t.length; i < n; i++) {
                                var s = t[i],
                                    r = Yt.get(s);
                                void 0 !== r && (e[s] = r);
                            }
                            return e;
                        },
                        sync: (t) => (void 0 !== t ? new Promise((e) => e((Bt = t))) : x("/api/room/fetch").then((t) => t && (Bt = t))),
                        start: () => (Yt.get("id") ? x("/api/room/start?id=".concat(Yt.get("id")), { method: "POST" }).then((t) => (Bt = t)) : new Promise((t, e) => e(new Error("Room ID not defined")))),
                        stop: () => (Yt.get("id") ? x("/api/room/stop?id=".concat(Yt.get("id")), { method: "POST" }).then((t) => (Bt = t)) : new Promise((t, e) => e(new Error("Room ID not defined")))),
                        next() {
                            let t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : null;
                            return Yt.get("id")
                                ? x("/api/room/next?id=".concat(Yt.get("id")), { method: "POST", body: { error: t ? String(t) : null } }).then((t) => {
                                      Bt && (Bt.error = t && t.error);
                                  })
                                : new Promise((t, e) => e(new Error("Room ID not defined")));
                        },
                        getAddons() {
                            let t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : [];
                            var e = Yt.get("addons") || [];
                            return t.filter(function (t) {
                                return e.indexOf(t) >= 0;
                            });
                        },
                        hasAddon(t) {
                            var e = Yt.get("addons") || [];
                            return [].concat(t).reduce(function (t, i) {
                                return e.indexOf(i) >= 0 && (t = !0), t;
                            }, !1);
                        },
                    },
                    Ut = Yt,
                    Gt = {
                        get state() {
                            return { token: x.token, url: x.url, user: C.get(), room: Ut.get(), config: _.get(), socket: D };
                        },
                        sync() {
                            let t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
                            return new Promise((e) => e(t.token))
                                .then(
                                    (t) => (
                                        t && (x.token = t),
                                        x("/api/auth").then((t) => {
                                            if (!t) throw Error("Unauthorized");
                                            return (x.token = t.token), C.sync(t);
                                        })
                                    )
                                )
                                .then(() => C.sync(t.user))
                                .then(() => Ut.sync(t.room))
                                .then(() => _.sync(t.config))
                                .then(() => D.sync(t.socket).catch(() => {}))
                                .then(() => ({ token: x.token }))
                                .catch((t) => {
                                    throw (D.close(), t);
                                });
                        },
                        login() {
                            let t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
                            const e = { method: "POST" };
                            "string" == typeof t.token ? (e.headers = { Authorization: "Bearer ".concat(t.token) }) : (e.body = t);
                            const i = t.provider || "";
                            return x("/api/auth/".concat(i), e).then((t) => {
                                const e = (t || {}).token;
                                return Gt.sync({ token: e });
                            });
                        },
                        logout: () =>
                            x("/api/auth/logout", { method: "POST" }).then(() => {
                                const t = C.get("referer");
                                return C.sync(null), Ut.sync(null), _.sync(null), D.close(), (x.token = ""), { referer: t };
                            }),
                        refresh: () => x("/api/auth").then((t) => (t && t.token && (x.token = t.token), t)),
                        qrcode() {
                            const t = (arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}).redirect;
                            return x("/api/auth/qrcode", { method: "POST", body: { redirect: void 0 === t ? "" : t, origin: x.url || location.origin } });
                        },
                    },
                    qt = Gt;
            },
            7911: (t) => {
                function e(t) {
                    (t = t || {}), (this.ms = t.min || 100), (this.max = t.max || 1e4), (this.factor = t.factor || 2), (this.jitter = t.jitter > 0 && t.jitter <= 1 ? t.jitter : 0), (this.attempts = 0);
                }
                (t.exports = e),
                    (e.prototype.duration = function () {
                        var t = this.ms * Math.pow(this.factor, this.attempts++);
                        if (this.jitter) {
                            var e = Math.random(),
                                i = Math.floor(e * this.jitter * t);
                            t = 0 == (1 & Math.floor(10 * e)) ? t - i : t + i;
                        }
                        return 0 | Math.min(t, this.max);
                    }),
                    (e.prototype.reset = function () {
                        this.attempts = 0;
                    }),
                    (e.prototype.setMin = function (t) {
                        this.ms = t;
                    }),
                    (e.prototype.setMax = function (t) {
                        this.max = t;
                    }),
                    (e.prototype.setJitter = function (t) {
                        this.jitter = t;
                    });
            },
            8328: (t, e) => {
                !(function (t) {
                    "use strict";
                    (e.encode = function (e) {
                        var i,
                            n = new Uint8Array(e),
                            s = n.length,
                            r = "";
                        for (i = 0; i < s; i += 3) (r += t[n[i] >> 2]), (r += t[((3 & n[i]) << 4) | (n[i + 1] >> 4)]), (r += t[((15 & n[i + 1]) << 2) | (n[i + 2] >> 6)]), (r += t[63 & n[i + 2]]);
                        return s % 3 == 2 ? (r = r.substring(0, r.length - 1) + "=") : s % 3 == 1 && (r = r.substring(0, r.length - 2) + "=="), r;
                    }),
                        (e.decode = function (e) {
                            var i,
                                n,
                                s,
                                r,
                                o,
                                a = 0.75 * e.length,
                                l = e.length,
                                h = 0;
                            "=" === e[e.length - 1] && (a--, "=" === e[e.length - 2] && a--);
                            var c = new ArrayBuffer(a),
                                d = new Uint8Array(c);
                            for (i = 0; i < l; i += 4)
                                (n = t.indexOf(e[i])),
                                    (s = t.indexOf(e[i + 1])),
                                    (r = t.indexOf(e[i + 2])),
                                    (o = t.indexOf(e[i + 3])),
                                    (d[h++] = (n << 2) | (s >> 4)),
                                    (d[h++] = ((15 & s) << 4) | (r >> 2)),
                                    (d[h++] = ((3 & r) << 6) | (63 & o));
                            return c;
                        });
                })("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/");
            },
            2150: (t) => {
                var e = [].slice;
                t.exports = function (t, i) {
                    if (("string" == typeof i && (i = t[i]), "function" != typeof i)) throw new Error("bind() requires a function");
                    var n = e.call(arguments, 2);
                    return function () {
                        return i.apply(t, n.concat(e.call(arguments)));
                    };
                };
            },
            7582: (t) => {
                function e(t) {
                    if (t)
                        return (function (t) {
                            for (var i in e.prototype) t[i] = e.prototype[i];
                            return t;
                        })(t);
                }
                (t.exports = e),
                    (e.prototype.on = e.prototype.addEventListener = function (t, e) {
                        return (this._callbacks = this._callbacks || {}), (this._callbacks["$" + t] = this._callbacks["$" + t] || []).push(e), this;
                    }),
                    (e.prototype.once = function (t, e) {
                        function i() {
                            this.off(t, i), e.apply(this, arguments);
                        }
                        return (i.fn = e), this.on(t, i), this;
                    }),
                    (e.prototype.off = e.prototype.removeListener = e.prototype.removeAllListeners = e.prototype.removeEventListener = function (t, e) {
                        if (((this._callbacks = this._callbacks || {}), 0 == arguments.length)) return (this._callbacks = {}), this;
                        var i,
                            n = this._callbacks["$" + t];
                        if (!n) return this;
                        if (1 == arguments.length) return delete this._callbacks["$" + t], this;
                        for (var s = 0; s < n.length; s++)
                            if ((i = n[s]) === e || i.fn === e) {
                                n.splice(s, 1);
                                break;
                            }
                        return 0 === n.length && delete this._callbacks["$" + t], this;
                    }),
                    (e.prototype.emit = function (t) {
                        this._callbacks = this._callbacks || {};
                        for (var e = new Array(arguments.length - 1), i = this._callbacks["$" + t], n = 1; n < arguments.length; n++) e[n - 1] = arguments[n];
                        if (i) {
                            n = 0;
                            for (var s = (i = i.slice(0)).length; n < s; ++n) i[n].apply(this, e);
                        }
                        return this;
                    }),
                    (e.prototype.listeners = function (t) {
                        return (this._callbacks = this._callbacks || {}), this._callbacks["$" + t] || [];
                    }),
                    (e.prototype.hasListeners = function (t) {
                        return !!this.listeners(t).length;
                    });
            },
            5881: (t) => {
                var e = 1e3,
                    i = 60 * e,
                    n = 60 * i,
                    s = 24 * n,
                    r = 7 * s,
                    o = 365.25 * s;
                function a(t, e, i, n) {
                    var s = e >= 1.5 * i;
                    return Math.round(t / i) + " " + n + (s ? "s" : "");
                }
                t.exports = function (t, l) {
                    l = l || {};
                    var h = typeof t;
                    if ("string" === h && t.length > 0)
                        return (function (t) {
                            if ((t = String(t)).length > 100) return;
                            var a = /^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);
                            if (!a) return;
                            var l = parseFloat(a[1]);
                            switch ((a[2] || "ms").toLowerCase()) {
                                case "years":
                                case "year":
                                case "yrs":
                                case "yr":
                                case "y":
                                    return l * o;
                                case "weeks":
                                case "week":
                                case "w":
                                    return l * r;
                                case "days":
                                case "day":
                                case "d":
                                    return l * s;
                                case "hours":
                                case "hour":
                                case "hrs":
                                case "hr":
                                case "h":
                                    return l * n;
                                case "minutes":
                                case "minute":
                                case "mins":
                                case "min":
                                case "m":
                                    return l * i;
                                case "seconds":
                                case "second":
                                case "secs":
                                case "sec":
                                case "s":
                                    return l * e;
                                case "milliseconds":
                                case "millisecond":
                                case "msecs":
                                case "msec":
                                case "ms":
                                    return l;
                                default:
                                    return;
                            }
                        })(t);
                    if ("number" === h && isFinite(t))
                        return l.long
                            ? (function (t) {
                                  var r = Math.abs(t);
                                  if (r >= s) return a(t, r, s, "day");
                                  if (r >= n) return a(t, r, n, "hour");
                                  if (r >= i) return a(t, r, i, "minute");
                                  if (r >= e) return a(t, r, e, "second");
                                  return t + " ms";
                              })(t)
                            : (function (t) {
                                  var r = Math.abs(t);
                                  if (r >= s) return Math.round(t / s) + "d";
                                  if (r >= n) return Math.round(t / n) + "h";
                                  if (r >= i) return Math.round(t / i) + "m";
                                  if (r >= e) return Math.round(t / e) + "s";
                                  return t + "ms";
                              })(t);
                    throw new Error("val is not a non-empty string or a valid number. val=" + JSON.stringify(t));
                };
            },
            5130: (t, e, i) => {
                (e.log = function (...t) {
                    return "object" == typeof console && console.log && console.log(...t);
                }),
                    (e.formatArgs = function (e) {
                        if (((e[0] = (this.useColors ? "%c" : "") + this.namespace + (this.useColors ? " %c" : " ") + e[0] + (this.useColors ? "%c " : " ") + "+" + t.exports.humanize(this.diff)), !this.useColors)) return;
                        const i = "color: " + this.color;
                        e.splice(1, 0, i, "color: inherit");
                        let n = 0,
                            s = 0;
                        e[0].replace(/%[a-zA-Z%]/g, (t) => {
                            "%%" !== t && (n++, "%c" === t && (s = n));
                        }),
                            e.splice(s, 0, i);
                    }),
                    (e.save = function (t) {
                        try {
                            t ? e.storage.setItem("debug", t) : e.storage.removeItem("debug");
                        } catch (t) {}
                    }),
                    (e.load = function () {
                        let t;
                        try {
                            t = e.storage.getItem("debug");
                        } catch (t) {}
                        !t && "undefined" != typeof process && "env" in process && (t = process.env.DEBUG);
                        return t;
                    }),
                    (e.useColors = function () {
                        if ("undefined" != typeof window && window.process && ("renderer" === window.process.type || window.process.__nwjs)) return !0;
                        if ("undefined" != typeof navigator && navigator.userAgent && navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)) return !1;
                        return (
                            ("undefined" != typeof document && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance) ||
                            ("undefined" != typeof window && window.console && (window.console.firebug || (window.console.exception && window.console.table))) ||
                            ("undefined" != typeof navigator && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/) && parseInt(RegExp.$1, 10) >= 31) ||
                            ("undefined" != typeof navigator && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))
                        );
                    }),
                    (e.storage = (function () {
                        try {
                            return localStorage;
                        } catch (t) {}
                    })()),
                    (e.colors = [
                        "#0000CC",
                        "#0000FF",
                        "#0033CC",
                        "#0033FF",
                        "#0066CC",
                        "#0066FF",
                        "#0099CC",
                        "#0099FF",
                        "#00CC00",
                        "#00CC33",
                        "#00CC66",
                        "#00CC99",
                        "#00CCCC",
                        "#00CCFF",
                        "#3300CC",
                        "#3300FF",
                        "#3333CC",
                        "#3333FF",
                        "#3366CC",
                        "#3366FF",
                        "#3399CC",
                        "#3399FF",
                        "#33CC00",
                        "#33CC33",
                        "#33CC66",
                        "#33CC99",
                        "#33CCCC",
                        "#33CCFF",
                        "#6600CC",
                        "#6600FF",
                        "#6633CC",
                        "#6633FF",
                        "#66CC00",
                        "#66CC33",
                        "#9900CC",
                        "#9900FF",
                        "#9933CC",
                        "#9933FF",
                        "#99CC00",
                        "#99CC33",
                        "#CC0000",
                        "#CC0033",
                        "#CC0066",
                        "#CC0099",
                        "#CC00CC",
                        "#CC00FF",
                        "#CC3300",
                        "#CC3333",
                        "#CC3366",
                        "#CC3399",
                        "#CC33CC",
                        "#CC33FF",
                        "#CC6600",
                        "#CC6633",
                        "#CC9900",
                        "#CC9933",
                        "#CCCC00",
                        "#CCCC33",
                        "#FF0000",
                        "#FF0033",
                        "#FF0066",
                        "#FF0099",
                        "#FF00CC",
                        "#FF00FF",
                        "#FF3300",
                        "#FF3333",
                        "#FF3366",
                        "#FF3399",
                        "#FF33CC",
                        "#FF33FF",
                        "#FF6600",
                        "#FF6633",
                        "#FF9900",
                        "#FF9933",
                        "#FFCC00",
                        "#FFCC33",
                    ]),
                    (t.exports = i(7123)(e));
                const { formatters: n } = t.exports;
                n.j = function (t) {
                    try {
                        return JSON.stringify(t);
                    } catch (t) {
                        return "[UnexpectedJSONParseError]: " + t.message;
                    }
                };
            },
            7123: (t, e, i) => {
                t.exports = function (t) {
                    function e(t) {
                        let e = 0;
                        for (let i = 0; i < t.length; i++) (e = (e << 5) - e + t.charCodeAt(i)), (e |= 0);
                        return n.colors[Math.abs(e) % n.colors.length];
                    }
                    function n(t) {
                        let i;
                        function o(...t) {
                            if (!o.enabled) return;
                            const e = o,
                                s = Number(new Date()),
                                r = s - (i || s);
                            (e.diff = r), (e.prev = i), (e.curr = s), (i = s), (t[0] = n.coerce(t[0])), "string" != typeof t[0] && t.unshift("%O");
                            let a = 0;
                            (t[0] = t[0].replace(/%([a-zA-Z%])/g, (i, s) => {
                                if ("%%" === i) return i;
                                a++;
                                const r = n.formatters[s];
                                if ("function" == typeof r) {
                                    const n = t[a];
                                    (i = r.call(e, n)), t.splice(a, 1), a--;
                                }
                                return i;
                            })),
                                n.formatArgs.call(e, t);
                            (e.log || n.log).apply(e, t);
                        }
                        return (o.namespace = t), (o.enabled = n.enabled(t)), (o.useColors = n.useColors()), (o.color = e(t)), (o.destroy = s), (o.extend = r), "function" == typeof n.init && n.init(o), n.instances.push(o), o;
                    }
                    function s() {
                        const t = n.instances.indexOf(this);
                        return -1 !== t && (n.instances.splice(t, 1), !0);
                    }
                    function r(t, e) {
                        const i = n(this.namespace + (void 0 === e ? ":" : e) + t);
                        return (i.log = this.log), i;
                    }
                    function o(t) {
                        return t
                            .toString()
                            .substring(2, t.toString().length - 2)
                            .replace(/\.\*\?$/, "*");
                    }
                    return (
                        (n.debug = n),
                        (n.default = n),
                        (n.coerce = function (t) {
                            if (t instanceof Error) return t.stack || t.message;
                            return t;
                        }),
                        (n.disable = function () {
                            const t = [...n.names.map(o), ...n.skips.map(o).map((t) => "-" + t)].join(",");
                            return n.enable(""), t;
                        }),
                        (n.enable = function (t) {
                            let e;
                            n.save(t), (n.names = []), (n.skips = []);
                            const i = ("string" == typeof t ? t : "").split(/[\s,]+/),
                                s = i.length;
                            for (e = 0; e < s; e++) i[e] && ("-" === (t = i[e].replace(/\*/g, ".*?"))[0] ? n.skips.push(new RegExp("^" + t.substr(1) + "$")) : n.names.push(new RegExp("^" + t + "$")));
                            for (e = 0; e < n.instances.length; e++) {
                                const t = n.instances[e];
                                t.enabled = n.enabled(t.namespace);
                            }
                        }),
                        (n.enabled = function (t) {
                            if ("*" === t[t.length - 1]) return !0;
                            let e, i;
                            for (e = 0, i = n.skips.length; e < i; e++) if (n.skips[e].test(t)) return !1;
                            for (e = 0, i = n.names.length; e < i; e++) if (n.names[e].test(t)) return !0;
                            return !1;
                        }),
                        (n.humanize = i(5881)),
                        Object.keys(t).forEach((e) => {
                            n[e] = t[e];
                        }),
                        (n.instances = []),
                        (n.names = []),
                        (n.skips = []),
                        (n.formatters = {}),
                        (n.selectColor = e),
                        n.enable(n.load()),
                        n
                    );
                };
            },
            1438: (t) => {
                t.exports = "undefined" != typeof self ? self : "undefined" != typeof window ? window : Function("return this")();
            },
            4065: (t, e, i) => {
                const n = i(4980);
                (t.exports = (t, e) => new n(t, e)), (t.exports.Socket = n), (t.exports.protocol = n.protocol), (t.exports.Transport = i(5344)), (t.exports.transports = i(8113)), (t.exports.parser = i(1633));
            },
            4980: (t, e, i) => {
                const n = i(8113),
                    s = i(7582),
                    r = i(5130)("engine.io-client:socket"),
                    o = i(1633),
                    a = i(4243),
                    l = i(4355);
                class h extends s {
                    constructor(t, e = {}) {
                        super(),
                            t && "object" == typeof t && ((e = t), (t = null)),
                            t ? ((t = a(t)), (e.hostname = t.host), (e.secure = "https" === t.protocol || "wss" === t.protocol), (e.port = t.port), t.query && (e.query = t.query)) : e.host && (e.hostname = a(e.host).host),
                            (this.secure = null != e.secure ? e.secure : "undefined" != typeof location && "https:" === location.protocol),
                            e.hostname && !e.port && (e.port = this.secure ? "443" : "80"),
                            (this.hostname = e.hostname || ("undefined" != typeof location ? location.hostname : "localhost")),
                            (this.port = e.port || ("undefined" != typeof location && location.port ? location.port : this.secure ? 443 : 80)),
                            (this.transports = e.transports || ["polling", "websocket"]),
                            (this.readyState = ""),
                            (this.writeBuffer = []),
                            (this.prevBufferLen = 0),
                            (this.opts = Object.assign(
                                { path: "/engine.io", agent: !1, withCredentials: !1, upgrade: !0, jsonp: !0, timestampParam: "t", rememberUpgrade: !1, rejectUnauthorized: !0, perMessageDeflate: { threshold: 1024 }, transportOptions: {} },
                                e
                            )),
                            (this.opts.path = this.opts.path.replace(/\/$/, "") + "/"),
                            "string" == typeof this.opts.query && (this.opts.query = l.decode(this.opts.query)),
                            (this.id = null),
                            (this.upgrades = null),
                            (this.pingInterval = null),
                            (this.pingTimeout = null),
                            (this.pingTimeoutTimer = null),
                            this.open();
                    }
                    createTransport(t) {
                        r('creating transport "%s"', t);
                        const e = (function (t) {
                            const e = {};
                            for (let i in t) t.hasOwnProperty(i) && (e[i] = t[i]);
                            return e;
                        })(this.opts.query);
                        (e.EIO = o.protocol), (e.transport = t), this.id && (e.sid = this.id);
                        const i = Object.assign({}, this.opts.transportOptions[t], this.opts, { query: e, socket: this, hostname: this.hostname, secure: this.secure, port: this.port });
                        return r("options: %j", i), new n[t](i);
                    }
                    open() {
                        let t;
                        if (this.opts.rememberUpgrade && h.priorWebsocketSuccess && -1 !== this.transports.indexOf("websocket")) t = "websocket";
                        else {
                            if (0 === this.transports.length) {
                                const t = this;
                                return void setTimeout(function () {
                                    t.emit("error", "No transports available");
                                }, 0);
                            }
                            t = this.transports[0];
                        }
                        this.readyState = "opening";
                        try {
                            t = this.createTransport(t);
                        } catch (t) {
                            return r("error while creating transport: %s", t), this.transports.shift(), void this.open();
                        }
                        t.open(), this.setTransport(t);
                    }
                    setTransport(t) {
                        r("setting transport %s", t.name);
                        const e = this;
                        this.transport && (r("clearing existing transport %s", this.transport.name), this.transport.removeAllListeners()),
                            (this.transport = t),
                            t
                                .on("drain", function () {
                                    e.onDrain();
                                })
                                .on("packet", function (t) {
                                    e.onPacket(t);
                                })
                                .on("error", function (t) {
                                    e.onError(t);
                                })
                                .on("close", function () {
                                    e.onClose("transport close");
                                });
                    }
                    probe(t) {
                        r('probing transport "%s"', t);
                        let e = this.createTransport(t, { probe: 1 }),
                            i = !1;
                        const n = this;
                        function s() {
                            if (n.onlyBinaryUpgrades) {
                                const t = !this.supportsBinary && n.transport.supportsBinary;
                                i = i || t;
                            }
                            i ||
                                (r('probe transport "%s" opened', t),
                                e.send([{ type: "ping", data: "probe" }]),
                                e.once("packet", function (s) {
                                    if (!i)
                                        if ("pong" === s.type && "probe" === s.data) {
                                            if ((r('probe transport "%s" pong', t), (n.upgrading = !0), n.emit("upgrading", e), !e)) return;
                                            (h.priorWebsocketSuccess = "websocket" === e.name),
                                                r('pausing current transport "%s"', n.transport.name),
                                                n.transport.pause(function () {
                                                    i ||
                                                        ("closed" !== n.readyState &&
                                                            (r("changing transport and sending upgrade packet"), u(), n.setTransport(e), e.send([{ type: "upgrade" }]), n.emit("upgrade", e), (e = null), (n.upgrading = !1), n.flush()));
                                                });
                                        } else {
                                            r('probe transport "%s" failed', t);
                                            const i = new Error("probe error");
                                            (i.transport = e.name), n.emit("upgradeError", i);
                                        }
                                }));
                        }
                        function o() {
                            i || ((i = !0), u(), e.close(), (e = null));
                        }
                        function a(i) {
                            const s = new Error("probe error: " + i);
                            (s.transport = e.name), o(), r('probe transport "%s" failed because of error: %s', t, i), n.emit("upgradeError", s);
                        }
                        function l() {
                            a("transport closed");
                        }
                        function c() {
                            a("socket closed");
                        }
                        function d(t) {
                            e && t.name !== e.name && (r('"%s" works - aborting "%s"', t.name, e.name), o());
                        }
                        function u() {
                            e.removeListener("open", s), e.removeListener("error", a), e.removeListener("close", l), n.removeListener("close", c), n.removeListener("upgrading", d);
                        }
                        (h.priorWebsocketSuccess = !1), e.once("open", s), e.once("error", a), e.once("close", l), this.once("close", c), this.once("upgrading", d), e.open();
                    }
                    onOpen() {
                        if (
                            (r("socket open"),
                            (this.readyState = "open"),
                            (h.priorWebsocketSuccess = "websocket" === this.transport.name),
                            this.emit("open"),
                            this.flush(),
                            "open" === this.readyState && this.opts.upgrade && this.transport.pause)
                        ) {
                            r("starting upgrade probes");
                            let t = 0;
                            const e = this.upgrades.length;
                            for (; t < e; t++) this.probe(this.upgrades[t]);
                        }
                    }
                    onPacket(t) {
                        if ("opening" === this.readyState || "open" === this.readyState || "closing" === this.readyState)
                            switch ((r('socket receive: type "%s", data "%s"', t.type, t.data), this.emit("packet", t), this.emit("heartbeat"), t.type)) {
                                case "open":
                                    this.onHandshake(JSON.parse(t.data));
                                    break;
                                case "ping":
                                    this.resetPingTimeout(), this.sendPacket("pong"), this.emit("pong");
                                    break;
                                case "error":
                                    const e = new Error("server error");
                                    (e.code = t.data), this.onError(e);
                                    break;
                                case "message":
                                    this.emit("data", t.data), this.emit("message", t.data);
                            }
                        else r('packet received with socket readyState "%s"', this.readyState);
                    }
                    onHandshake(t) {
                        this.emit("handshake", t),
                            (this.id = t.sid),
                            (this.transport.query.sid = t.sid),
                            (this.upgrades = this.filterUpgrades(t.upgrades)),
                            (this.pingInterval = t.pingInterval),
                            (this.pingTimeout = t.pingTimeout),
                            this.onOpen(),
                            "closed" !== this.readyState && this.resetPingTimeout();
                    }
                    resetPingTimeout() {
                        clearTimeout(this.pingTimeoutTimer),
                            (this.pingTimeoutTimer = setTimeout(() => {
                                this.onClose("ping timeout");
                            }, this.pingInterval + this.pingTimeout));
                    }
                    onDrain() {
                        this.writeBuffer.splice(0, this.prevBufferLen), (this.prevBufferLen = 0), 0 === this.writeBuffer.length ? this.emit("drain") : this.flush();
                    }
                    flush() {
                        "closed" !== this.readyState &&
                            this.transport.writable &&
                            !this.upgrading &&
                            this.writeBuffer.length &&
                            (r("flushing %d packets in socket", this.writeBuffer.length), this.transport.send(this.writeBuffer), (this.prevBufferLen = this.writeBuffer.length), this.emit("flush"));
                    }
                    write(t, e, i) {
                        return this.sendPacket("message", t, e, i), this;
                    }
                    send(t, e, i) {
                        return this.sendPacket("message", t, e, i), this;
                    }
                    sendPacket(t, e, i, n) {
                        if (("function" == typeof e && ((n = e), (e = void 0)), "function" == typeof i && ((n = i), (i = null)), "closing" === this.readyState || "closed" === this.readyState)) return;
                        (i = i || {}).compress = !1 !== i.compress;
                        const s = { type: t, data: e, options: i };
                        this.emit("packetCreate", s), this.writeBuffer.push(s), n && this.once("flush", n), this.flush();
                    }
                    close() {
                        const t = this;
                        function e() {
                            t.onClose("forced close"), r("socket closing - telling transport to close"), t.transport.close();
                        }
                        function i() {
                            t.removeListener("upgrade", i), t.removeListener("upgradeError", i), e();
                        }
                        function n() {
                            t.once("upgrade", i), t.once("upgradeError", i);
                        }
                        return (
                            ("opening" !== this.readyState && "open" !== this.readyState) ||
                                ((this.readyState = "closing"),
                                this.writeBuffer.length
                                    ? this.once("drain", function () {
                                          this.upgrading ? n() : e();
                                      })
                                    : this.upgrading
                                    ? n()
                                    : e()),
                            this
                        );
                    }
                    onError(t) {
                        r("socket error %j", t), (h.priorWebsocketSuccess = !1), this.emit("error", t), this.onClose("transport error", t);
                    }
                    onClose(t, e) {
                        if ("opening" === this.readyState || "open" === this.readyState || "closing" === this.readyState) {
                            r('socket close with reason: "%s"', t);
                            const i = this;
                            clearTimeout(this.pingIntervalTimer),
                                clearTimeout(this.pingTimeoutTimer),
                                this.transport.removeAllListeners("close"),
                                this.transport.close(),
                                this.transport.removeAllListeners(),
                                (this.readyState = "closed"),
                                (this.id = null),
                                this.emit("close", t, e),
                                (i.writeBuffer = []),
                                (i.prevBufferLen = 0);
                        }
                    }
                    filterUpgrades(t) {
                        const e = [];
                        let i = 0;
                        const n = t.length;
                        for (; i < n; i++) ~this.transports.indexOf(t[i]) && e.push(t[i]);
                        return e;
                    }
                }
                (h.priorWebsocketSuccess = !1), (h.protocol = o.protocol), (t.exports = h);
            },
            5344: (t, e, i) => {
                const n = i(1633),
                    s = i(7582);
                t.exports = class extends s {
                    constructor(t) {
                        super(), (this.opts = t), (this.query = t.query), (this.readyState = ""), (this.socket = t.socket);
                    }
                    onError(t, e) {
                        const i = new Error(t);
                        return (i.type = "TransportError"), (i.description = e), this.emit("error", i), this;
                    }
                    open() {
                        return ("closed" !== this.readyState && "" !== this.readyState) || ((this.readyState = "opening"), this.doOpen()), this;
                    }
                    close() {
                        return ("opening" !== this.readyState && "open" !== this.readyState) || (this.doClose(), this.onClose()), this;
                    }
                    send(t) {
                        if ("open" !== this.readyState) throw new Error("Transport not open");
                        this.write(t);
                    }
                    onOpen() {
                        (this.readyState = "open"), (this.writable = !0), this.emit("open");
                    }
                    onData(t) {
                        const e = n.decodePacket(t, this.socket.binaryType);
                        this.onPacket(e);
                    }
                    onPacket(t) {
                        this.emit("packet", t);
                    }
                    onClose() {
                        (this.readyState = "closed"), this.emit("close");
                    }
                };
            },
            8113: (t, e, i) => {
                const n = i(6891),
                    s = i(1962),
                    r = i(8320),
                    o = i(8479);
                (e.polling = function (t) {
                    let e,
                        i = !1,
                        o = !1;
                    const a = !1 !== t.jsonp;
                    if ("undefined" != typeof location) {
                        const e = "https:" === location.protocol;
                        let n = location.port;
                        n || (n = e ? 443 : 80), (i = t.hostname !== location.hostname || n !== t.port), (o = t.secure !== e);
                    }
                    if (((t.xdomain = i), (t.xscheme = o), (e = new n(t)), "open" in e && !t.forceJSONP)) return new s(t);
                    if (!a) throw new Error("JSONP disabled");
                    return new r(t);
                }),
                    (e.websocket = o);
            },
            8320: (t, e, i) => {
                const n = i(5869),
                    s = i(1438),
                    r = /\n/g,
                    o = /\\n/g;
                let a;
                function l() {}
                t.exports = class extends n {
                    constructor(t) {
                        super(t), (this.query = this.query || {}), a || (a = s.___eio = s.___eio || []), (this.index = a.length);
                        const e = this;
                        a.push(function (t) {
                            e.onData(t);
                        }),
                            (this.query.j = this.index),
                            "function" == typeof addEventListener &&
                                addEventListener(
                                    "beforeunload",
                                    function () {
                                        e.script && (e.script.onerror = l);
                                    },
                                    !1
                                );
                    }
                    get supportsBinary() {
                        return !1;
                    }
                    doClose() {
                        this.script && (this.script.parentNode.removeChild(this.script), (this.script = null)), this.form && (this.form.parentNode.removeChild(this.form), (this.form = null), (this.iframe = null)), super.doClose();
                    }
                    doPoll() {
                        const t = this,
                            e = document.createElement("script");
                        this.script && (this.script.parentNode.removeChild(this.script), (this.script = null)),
                            (e.async = !0),
                            (e.src = this.uri()),
                            (e.onerror = function (e) {
                                t.onError("jsonp poll error", e);
                            });
                        const i = document.getElementsByTagName("script")[0];
                        i ? i.parentNode.insertBefore(e, i) : (document.head || document.body).appendChild(e), (this.script = e);
                        "undefined" != typeof navigator &&
                            /gecko/i.test(navigator.userAgent) &&
                            setTimeout(function () {
                                const t = document.createElement("iframe");
                                document.body.appendChild(t), document.body.removeChild(t);
                            }, 100);
                    }
                    doWrite(t, e) {
                        const i = this;
                        let n;
                        if (!this.form) {
                            const t = document.createElement("form"),
                                e = document.createElement("textarea"),
                                i = (this.iframeId = "eio_iframe_" + this.index);
                            (t.className = "socketio"),
                                (t.style.position = "absolute"),
                                (t.style.top = "-1000px"),
                                (t.style.left = "-1000px"),
                                (t.target = i),
                                (t.method = "POST"),
                                t.setAttribute("accept-charset", "utf-8"),
                                (e.name = "d"),
                                t.appendChild(e),
                                document.body.appendChild(t),
                                (this.form = t),
                                (this.area = e);
                        }
                        function s() {
                            a(), e();
                        }
                        function a() {
                            if (i.iframe)
                                try {
                                    i.form.removeChild(i.iframe);
                                } catch (t) {
                                    i.onError("jsonp polling iframe removal error", t);
                                }
                            try {
                                const t = '<iframe src="javascript:0" name="' + i.iframeId + '">';
                                n = document.createElement(t);
                            } catch (t) {
                                (n = document.createElement("iframe")), (n.name = i.iframeId), (n.src = "javascript:0");
                            }
                            (n.id = i.iframeId), i.form.appendChild(n), (i.iframe = n);
                        }
                        (this.form.action = this.uri()), a(), (t = t.replace(o, "\\\n")), (this.area.value = t.replace(r, "\\n"));
                        try {
                            this.form.submit();
                        } catch (t) {}
                        this.iframe.attachEvent
                            ? (this.iframe.onreadystatechange = function () {
                                  "complete" === i.iframe.readyState && s();
                              })
                            : (this.iframe.onload = s);
                    }
                };
            },
            1962: (t, e, i) => {
                const n = i(6891),
                    s = i(5869),
                    r = i(7582),
                    { pick: o } = i(7527),
                    a = i(1438),
                    l = i(5130)("engine.io-client:polling-xhr");
                function h() {}
                const c = null != new n({ xdomain: !1 }).responseType;
                class d extends r {
                    constructor(t, e) {
                        super(), (this.opts = e), (this.method = e.method || "GET"), (this.uri = t), (this.async = !1 !== e.async), (this.data = void 0 !== e.data ? e.data : null), this.create();
                    }
                    create() {
                        const t = o(this.opts, "agent", "enablesXDR", "pfx", "key", "passphrase", "cert", "ca", "ciphers", "rejectUnauthorized");
                        (t.xdomain = !!this.opts.xd), (t.xscheme = !!this.opts.xs);
                        const e = (this.xhr = new n(t)),
                            i = this;
                        try {
                            l("xhr open %s: %s", this.method, this.uri), e.open(this.method, this.uri, this.async);
                            try {
                                if (this.opts.extraHeaders) {
                                    e.setDisableHeaderCheck && e.setDisableHeaderCheck(!0);
                                    for (let t in this.opts.extraHeaders) this.opts.extraHeaders.hasOwnProperty(t) && e.setRequestHeader(t, this.opts.extraHeaders[t]);
                                }
                            } catch (t) {}
                            if ("POST" === this.method)
                                try {
                                    e.setRequestHeader("Content-type", "text/plain;charset=UTF-8");
                                } catch (t) {}
                            try {
                                e.setRequestHeader("Accept", "*/*");
                            } catch (t) {}
                            "withCredentials" in e && (e.withCredentials = this.opts.withCredentials),
                                this.opts.requestTimeout && (e.timeout = this.opts.requestTimeout),
                                this.hasXDR()
                                    ? ((e.onload = function () {
                                          i.onLoad();
                                      }),
                                      (e.onerror = function () {
                                          i.onError(e.responseText);
                                      }))
                                    : (e.onreadystatechange = function () {
                                          4 === e.readyState &&
                                              (200 === e.status || 1223 === e.status
                                                  ? i.onLoad()
                                                  : setTimeout(function () {
                                                        i.onError("number" == typeof e.status ? e.status : 0);
                                                    }, 0));
                                      }),
                                l("xhr data %s", this.data),
                                e.send(this.data);
                        } catch (t) {
                            return void setTimeout(function () {
                                i.onError(t);
                            }, 0);
                        }
                        "undefined" != typeof document && ((this.index = d.requestsCount++), (d.requests[this.index] = this));
                    }
                    onSuccess() {
                        this.emit("success"), this.cleanup();
                    }
                    onData(t) {
                        this.emit("data", t), this.onSuccess();
                    }
                    onError(t) {
                        this.emit("error", t), this.cleanup(!0);
                    }
                    cleanup(t) {
                        if (void 0 !== this.xhr && null !== this.xhr) {
                            if ((this.hasXDR() ? (this.xhr.onload = this.xhr.onerror = h) : (this.xhr.onreadystatechange = h), t))
                                try {
                                    this.xhr.abort();
                                } catch (t) {}
                            "undefined" != typeof document && delete d.requests[this.index], (this.xhr = null);
                        }
                    }
                    onLoad() {
                        const t = this.xhr.responseText;
                        null !== t && this.onData(t);
                    }
                    hasXDR() {
                        return "undefined" != typeof XDomainRequest && !this.xs && this.enablesXDR;
                    }
                    abort() {
                        this.cleanup();
                    }
                }
                if (((d.requestsCount = 0), (d.requests = {}), "undefined" != typeof document))
                    if ("function" == typeof attachEvent) attachEvent("onunload", u);
                    else if ("function" == typeof addEventListener) {
                        addEventListener("onpagehide" in a ? "pagehide" : "unload", u, !1);
                    }
                function u() {
                    for (let t in d.requests) d.requests.hasOwnProperty(t) && d.requests[t].abort();
                }
                (t.exports = class extends s {
                    constructor(t) {
                        if ((super(t), "undefined" != typeof location)) {
                            const e = "https:" === location.protocol;
                            let i = location.port;
                            i || (i = e ? 443 : 80), (this.xd = ("undefined" != typeof location && t.hostname !== location.hostname) || i !== t.port), (this.xs = t.secure !== e);
                        }
                        const e = t && t.forceBase64;
                        this.supportsBinary = c && !e;
                    }
                    request(t = {}) {
                        return Object.assign(t, { xd: this.xd, xs: this.xs }, this.opts), new d(this.uri(), t);
                    }
                    doWrite(t, e) {
                        const i = this.request({ method: "POST", data: t }),
                            n = this;
                        i.on("success", e),
                            i.on("error", function (t) {
                                n.onError("xhr post error", t);
                            });
                    }
                    doPoll() {
                        l("xhr poll");
                        const t = this.request(),
                            e = this;
                        t.on("data", function (t) {
                            e.onData(t);
                        }),
                            t.on("error", function (t) {
                                e.onError("xhr poll error", t);
                            }),
                            (this.pollXhr = t);
                    }
                }),
                    (t.exports.Request = d);
            },
            5869: (t, e, i) => {
                const n = i(5344),
                    s = i(4355),
                    r = i(1633),
                    o = i(4973),
                    a = i(5130)("engine.io-client:polling");
                t.exports = class extends n {
                    get name() {
                        return "polling";
                    }
                    doOpen() {
                        this.poll();
                    }
                    pause(t) {
                        const e = this;
                        function i() {
                            a("paused"), (e.readyState = "paused"), t();
                        }
                        if (((this.readyState = "pausing"), this.polling || !this.writable)) {
                            let t = 0;
                            this.polling &&
                                (a("we are currently polling - waiting to pause"),
                                t++,
                                this.once("pollComplete", function () {
                                    a("pre-pause polling complete"), --t || i();
                                })),
                                this.writable ||
                                    (a("we are currently writing - waiting to pause"),
                                    t++,
                                    this.once("drain", function () {
                                        a("pre-pause writing complete"), --t || i();
                                    }));
                        } else i();
                    }
                    poll() {
                        a("polling"), (this.polling = !0), this.doPoll(), this.emit("poll");
                    }
                    onData(t) {
                        const e = this;
                        a("polling got data %s", t);
                        r.decodePayload(t, this.socket.binaryType).forEach(function (t, i, n) {
                            if (("opening" === e.readyState && "open" === t.type && e.onOpen(), "close" === t.type)) return e.onClose(), !1;
                            e.onPacket(t);
                        }),
                            "closed" !== this.readyState && ((this.polling = !1), this.emit("pollComplete"), "open" === this.readyState ? this.poll() : a('ignoring poll - transport state "%s"', this.readyState));
                    }
                    doClose() {
                        const t = this;
                        function e() {
                            a("writing close packet"), t.write([{ type: "close" }]);
                        }
                        "open" === this.readyState ? (a("transport open - closing"), e()) : (a("transport not open - deferring close"), this.once("open", e));
                    }
                    write(t) {
                        (this.writable = !1),
                            r.encodePayload(t, (t) => {
                                this.doWrite(t, () => {
                                    (this.writable = !0), this.emit("drain");
                                });
                            });
                    }
                    uri() {
                        let t = this.query || {};
                        const e = this.opts.secure ? "https" : "http";
                        let i = "";
                        !1 !== this.opts.timestampRequests && (t[this.opts.timestampParam] = o()),
                            this.supportsBinary || t.sid || (t.b64 = 1),
                            (t = s.encode(t)),
                            this.opts.port && (("https" === e && 443 !== Number(this.opts.port)) || ("http" === e && 80 !== Number(this.opts.port))) && (i = ":" + this.opts.port),
                            t.length && (t = "?" + t);
                        return e + "://" + (-1 !== this.opts.hostname.indexOf(":") ? "[" + this.opts.hostname + "]" : this.opts.hostname) + i + this.opts.path + t;
                    }
                };
            },
            5513: (t, e, i) => {
                const n = i(1438);
                t.exports = { WebSocket: n.WebSocket || n.MozWebSocket, usingBrowserWebSocket: !0, defaultBinaryType: "arraybuffer" };
            },
            8479: (t, e, i) => {
                const n = i(5344),
                    s = i(1633),
                    r = i(4355),
                    o = i(4973),
                    { pick: a } = i(7527),
                    { WebSocket: l, usingBrowserWebSocket: h, defaultBinaryType: c } = i(5513),
                    d = i(5130)("engine.io-client:websocket"),
                    u = "undefined" != typeof navigator && "string" == typeof navigator.product && "reactnative" === navigator.product.toLowerCase();
                class p extends n {
                    constructor(t) {
                        super(t), (this.supportsBinary = !t.forceBase64);
                    }
                    get name() {
                        return "websocket";
                    }
                    doOpen() {
                        if (!this.check()) return;
                        const t = this.uri(),
                            e = this.opts.protocols,
                            i = u ? {} : a(this.opts, "agent", "perMessageDeflate", "pfx", "key", "passphrase", "cert", "ca", "ciphers", "rejectUnauthorized", "localAddress");
                        this.opts.extraHeaders && (i.headers = this.opts.extraHeaders);
                        try {
                            this.ws = h && !u ? (e ? new l(t, e) : new l(t)) : new l(t, e, i);
                        } catch (t) {
                            return this.emit("error", t);
                        }
                        (this.ws.binaryType = this.socket.binaryType || c), this.addEventListeners();
                    }
                    addEventListeners() {
                        const t = this;
                        (this.ws.onopen = function () {
                            t.onOpen();
                        }),
                            (this.ws.onclose = function () {
                                t.onClose();
                            }),
                            (this.ws.onmessage = function (e) {
                                t.onData(e.data);
                            }),
                            (this.ws.onerror = function (e) {
                                t.onError("websocket error", e);
                            });
                    }
                    write(t) {
                        const e = this;
                        this.writable = !1;
                        let i = t.length,
                            n = 0;
                        const r = i;
                        for (; n < r; n++)
                            !(function (t) {
                                s.encodePacket(t, e.supportsBinary, function (n) {
                                    const s = {};
                                    if (!h && (t.options && (s.compress = t.options.compress), e.opts.perMessageDeflate)) {
                                        ("string" == typeof n ? Buffer.byteLength(n) : n.length) < e.opts.perMessageDeflate.threshold && (s.compress = !1);
                                    }
                                    try {
                                        h ? e.ws.send(n) : e.ws.send(n, s);
                                    } catch (t) {
                                        d("websocket closed before onclose event");
                                    }
                                    --i || o();
                                });
                            })(t[n]);
                        function o() {
                            e.emit("flush"),
                                setTimeout(function () {
                                    (e.writable = !0), e.emit("drain");
                                }, 0);
                        }
                    }
                    onClose() {
                        n.prototype.onClose.call(this);
                    }
                    doClose() {
                        void 0 !== this.ws && this.ws.close();
                    }
                    uri() {
                        let t = this.query || {};
                        const e = this.opts.secure ? "wss" : "ws";
                        let i = "";
                        this.opts.port && (("wss" === e && 443 !== Number(this.opts.port)) || ("ws" === e && 80 !== Number(this.opts.port))) && (i = ":" + this.opts.port),
                            this.opts.timestampRequests && (t[this.opts.timestampParam] = o()),
                            this.supportsBinary || (t.b64 = 1),
                            (t = r.encode(t)),
                            t.length && (t = "?" + t);
                        return e + "://" + (-1 !== this.opts.hostname.indexOf(":") ? "[" + this.opts.hostname + "]" : this.opts.hostname) + i + this.opts.path + t;
                    }
                    check() {
                        return !(!l || ("__initialize" in l && this.name === p.prototype.name));
                    }
                }
                t.exports = p;
            },
            7527: (t) => {
                t.exports.pick = (t, ...e) => e.reduce((e, i) => ((e[i] = t[i]), e), {});
            },
            6891: (t, e, i) => {
                const n = i(9166),
                    s = i(1438);
                t.exports = function (t) {
                    const e = t.xdomain,
                        i = t.xscheme,
                        r = t.enablesXDR;
                    try {
                        if ("undefined" != typeof XMLHttpRequest && (!e || n)) return new XMLHttpRequest();
                    } catch (t) {}
                    try {
                        if ("undefined" != typeof XDomainRequest && !i && r) return new XDomainRequest();
                    } catch (t) {}
                    if (!e)
                        try {
                            return new s[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP");
                        } catch (t) {}
                };
            },
            5899: (t) => {
                const e = Object.create(null);
                (e.open = "0"), (e.close = "1"), (e.ping = "2"), (e.pong = "3"), (e.message = "4"), (e.upgrade = "5"), (e.noop = "6");
                const i = Object.create(null);
                Object.keys(e).forEach((t) => {
                    i[e[t]] = t;
                });
                t.exports = { PACKET_TYPES: e, PACKET_TYPES_REVERSE: i, ERROR_PACKET: { type: "error", data: "parser error" } };
            },
            6826: (t, e, i) => {
                const { PACKET_TYPES_REVERSE: n, ERROR_PACKET: s } = i(5899);
                let r;
                "function" == typeof ArrayBuffer && (r = i(8328));
                const o = (t, e) => {
                        if (r) {
                            const i = r.decode(t);
                            return a(i, e);
                        }
                        return { base64: !0, data: t };
                    },
                    a = (t, e) => {
                        switch (e) {
                            case "blob":
                                return t instanceof ArrayBuffer ? new Blob([t]) : t;
                            case "arraybuffer":
                            default:
                                return t;
                        }
                    };
                t.exports = (t, e) => {
                    if ("string" != typeof t) return { type: "message", data: a(t, e) };
                    const i = t.charAt(0);
                    if ("b" === i) return { type: "message", data: o(t.substring(1), e) };
                    return n[i] ? (t.length > 1 ? { type: n[i], data: t.substring(1) } : { type: n[i] }) : s;
                };
            },
            7414: (t, e, i) => {
                const { PACKET_TYPES: n } = i(5899),
                    s = "function" == typeof Blob || ("undefined" != typeof Blob && "[object BlobConstructor]" === Object.prototype.toString.call(Blob)),
                    r = "function" == typeof ArrayBuffer,
                    o = (t, e) => {
                        const i = new FileReader();
                        return (
                            (i.onload = function () {
                                const t = i.result.split(",")[1];
                                e("b" + t);
                            }),
                            i.readAsDataURL(t)
                        );
                    };
                t.exports = ({ type: t, data: e }, i, a) => {
                    return s && e instanceof Blob
                        ? i
                            ? a(e)
                            : o(e, a)
                        : r && (e instanceof ArrayBuffer || ((l = e), "function" == typeof ArrayBuffer.isView ? ArrayBuffer.isView(l) : l && l.buffer instanceof ArrayBuffer))
                        ? i
                            ? a(e instanceof ArrayBuffer ? e : e.buffer)
                            : o(new Blob([e]), a)
                        : a(n[t] + (e || ""));
                    var l;
                };
            },
            1633: (t, e, i) => {
                const n = i(7414),
                    s = i(6826),
                    r = String.fromCharCode(30);
                t.exports = {
                    protocol: 4,
                    encodePacket: n,
                    encodePayload: (t, e) => {
                        const i = t.length,
                            s = new Array(i);
                        let o = 0;
                        t.forEach((t, a) => {
                            n(t, !1, (t) => {
                                (s[a] = t), ++o === i && e(s.join(r));
                            });
                        });
                    },
                    decodePacket: s,
                    decodePayload: (t, e) => {
                        const i = t.split(r),
                            n = [];
                        for (let t = 0; t < i.length; t++) {
                            const r = s(i[t], e);
                            if ((n.push(r), "error" === r.type)) break;
                        }
                        return n;
                    },
                };
            },
            9166: (t) => {
                try {
                    t.exports = "undefined" != typeof XMLHttpRequest && "withCredentials" in new XMLHttpRequest();
                } catch (e) {
                    t.exports = !1;
                }
            },
            4355: (t, e) => {
                (e.encode = function (t) {
                    var e = "";
                    for (var i in t) t.hasOwnProperty(i) && (e.length && (e += "&"), (e += encodeURIComponent(i) + "=" + encodeURIComponent(t[i])));
                    return e;
                }),
                    (e.decode = function (t) {
                        for (var e = {}, i = t.split("&"), n = 0, s = i.length; n < s; n++) {
                            var r = i[n].split("=");
                            e[decodeURIComponent(r[0])] = decodeURIComponent(r[1]);
                        }
                        return e;
                    });
            },
            4243: (t) => {
                var e = /^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,
                    i = ["source", "protocol", "authority", "userInfo", "user", "password", "host", "port", "relative", "path", "directory", "file", "query", "anchor"];
                t.exports = function (t) {
                    var n = t,
                        s = t.indexOf("["),
                        r = t.indexOf("]");
                    -1 != s && -1 != r && (t = t.substring(0, s) + t.substring(s, r).replace(/:/g, ";") + t.substring(r, t.length));
                    for (var o, a, l = e.exec(t || ""), h = {}, c = 14; c--; ) h[i[c]] = l[c] || "";
                    return (
                        -1 != s && -1 != r && ((h.source = n), (h.host = h.host.substring(1, h.host.length - 1).replace(/;/g, ":")), (h.authority = h.authority.replace("[", "").replace("]", "").replace(/;/g, ":")), (h.ipv6uri = !0)),
                        (h.pathNames = (function (t, e) {
                            var i = /\/{2,9}/g,
                                n = e.replace(i, "/").split("/");
                            ("/" != e.substr(0, 1) && 0 !== e.length) || n.splice(0, 1);
                            "/" == e.substr(e.length - 1, 1) && n.splice(n.length - 1, 1);
                            return n;
                        })(0, h.path)),
                        (h.queryKey =
                            ((o = h.query),
                            (a = {}),
                            o.replace(/(?:^|&)([^&=]*)=?([^&]*)/g, function (t, e, i) {
                                e && (a[e] = i);
                            }),
                            a)),
                        h
                    );
                };
            },
            6294: (t, e, i) => {
                "use strict";
                var n = i(2281);
                function s(t, e, i, s, r) {
                    var o = n.writeRtpDescription(t.kind, e);
                    if (
                        ((o += n.writeIceParameters(t.iceGatherer.getLocalParameters())),
                        (o += n.writeDtlsParameters(t.dtlsTransport.getLocalParameters(), "offer" === i ? "actpass" : r || "active")),
                        (o += "a=mid:" + t.mid + "\r\n"),
                        t.rtpSender && t.rtpReceiver ? (o += "a=sendrecv\r\n") : t.rtpSender ? (o += "a=sendonly\r\n") : t.rtpReceiver ? (o += "a=recvonly\r\n") : (o += "a=inactive\r\n"),
                        t.rtpSender)
                    ) {
                        var a = t.rtpSender._initialTrackId || t.rtpSender.track.id;
                        t.rtpSender._initialTrackId = a;
                        var l = "msid:" + (s ? s.id : "-") + " " + a + "\r\n";
                        (o += "a=" + l),
                            (o += "a=ssrc:" + t.sendEncodingParameters[0].ssrc + " " + l),
                            t.sendEncodingParameters[0].rtx &&
                                ((o += "a=ssrc:" + t.sendEncodingParameters[0].rtx.ssrc + " " + l), (o += "a=ssrc-group:FID " + t.sendEncodingParameters[0].ssrc + " " + t.sendEncodingParameters[0].rtx.ssrc + "\r\n"));
                    }
                    return (
                        (o += "a=ssrc:" + t.sendEncodingParameters[0].ssrc + " cname:" + n.localCName + "\r\n"),
                        t.rtpSender && t.sendEncodingParameters[0].rtx && (o += "a=ssrc:" + t.sendEncodingParameters[0].rtx.ssrc + " cname:" + n.localCName + "\r\n"),
                        o
                    );
                }
                function r(t, e) {
                    var i = { codecs: [], headerExtensions: [], fecMechanisms: [] },
                        n = function (t, e) {
                            t = parseInt(t, 10);
                            for (var i = 0; i < e.length; i++) if (e[i].payloadType === t || e[i].preferredPayloadType === t) return e[i];
                        },
                        s = function (t, e, i, s) {
                            var r = n(t.parameters.apt, i),
                                o = n(e.parameters.apt, s);
                            return r && o && r.name.toLowerCase() === o.name.toLowerCase();
                        };
                    return (
                        t.codecs.forEach(function (n) {
                            for (var r = 0; r < e.codecs.length; r++) {
                                var o = e.codecs[r];
                                if (n.name.toLowerCase() === o.name.toLowerCase() && n.clockRate === o.clockRate) {
                                    if ("rtx" === n.name.toLowerCase() && n.parameters && o.parameters.apt && !s(n, o, t.codecs, e.codecs)) continue;
                                    ((o = JSON.parse(JSON.stringify(o))).numChannels = Math.min(n.numChannels, o.numChannels)),
                                        i.codecs.push(o),
                                        (o.rtcpFeedback = o.rtcpFeedback.filter(function (t) {
                                            for (var e = 0; e < n.rtcpFeedback.length; e++) if (n.rtcpFeedback[e].type === t.type && n.rtcpFeedback[e].parameter === t.parameter) return !0;
                                            return !1;
                                        }));
                                    break;
                                }
                            }
                        }),
                        t.headerExtensions.forEach(function (t) {
                            for (var n = 0; n < e.headerExtensions.length; n++) {
                                var s = e.headerExtensions[n];
                                if (t.uri === s.uri) {
                                    i.headerExtensions.push(s);
                                    break;
                                }
                            }
                        }),
                        i
                    );
                }
                function o(t, e, i) {
                    return (
                        -1 !==
                        {
                            offer: { setLocalDescription: ["stable", "have-local-offer"], setRemoteDescription: ["stable", "have-remote-offer"] },
                            answer: { setLocalDescription: ["have-remote-offer", "have-local-pranswer"], setRemoteDescription: ["have-local-offer", "have-remote-pranswer"] },
                        }[e][t].indexOf(i)
                    );
                }
                function a(t, e) {
                    var i = t.getRemoteCandidates().find(function (t) {
                        return e.foundation === t.foundation && e.ip === t.ip && e.port === t.port && e.priority === t.priority && e.protocol === t.protocol && e.type === t.type;
                    });
                    return i || t.addRemoteCandidate(e), !i;
                }
                function l(t, e) {
                    var i = new Error(e);
                    return (i.name = t), (i.code = { NotSupportedError: 9, InvalidStateError: 11, InvalidAccessError: 15, TypeError: void 0, OperationError: void 0 }[t]), i;
                }
                t.exports = function (t, e) {
                    function i(e, i) {
                        i.addTrack(e), i.dispatchEvent(new t.MediaStreamTrackEvent("addtrack", { track: e }));
                    }
                    function h(e, i, n, s) {
                        var r = new Event("track");
                        (r.track = i),
                            (r.receiver = n),
                            (r.transceiver = { receiver: n }),
                            (r.streams = s),
                            t.setTimeout(function () {
                                e._dispatchEvent("track", r);
                            });
                    }
                    var c = function (i) {
                        var s = this,
                            r = document.createDocumentFragment();
                        if (
                            (["addEventListener", "removeEventListener", "dispatchEvent"].forEach(function (t) {
                                s[t] = r[t].bind(r);
                            }),
                            (this.canTrickleIceCandidates = null),
                            (this.needNegotiation = !1),
                            (this.localStreams = []),
                            (this.remoteStreams = []),
                            (this._localDescription = null),
                            (this._remoteDescription = null),
                            (this.signalingState = "stable"),
                            (this.iceConnectionState = "new"),
                            (this.connectionState = "new"),
                            (this.iceGatheringState = "new"),
                            (i = JSON.parse(JSON.stringify(i || {}))),
                            (this.usingBundle = "max-bundle" === i.bundlePolicy),
                            "negotiate" === i.rtcpMuxPolicy)
                        )
                            throw l("NotSupportedError", "rtcpMuxPolicy 'negotiate' is not supported");
                        switch ((i.rtcpMuxPolicy || (i.rtcpMuxPolicy = "require"), i.iceTransportPolicy)) {
                            case "all":
                            case "relay":
                                break;
                            default:
                                i.iceTransportPolicy = "all";
                        }
                        switch (i.bundlePolicy) {
                            case "balanced":
                            case "max-compat":
                            case "max-bundle":
                                break;
                            default:
                                i.bundlePolicy = "balanced";
                        }
                        if (
                            ((i.iceServers = (function (t, e) {
                                var i = !1;
                                return (t = JSON.parse(JSON.stringify(t))).filter(function (t) {
                                    if (t && (t.urls || t.url)) {
                                        var n = t.urls || t.url;
                                        t.url && !t.urls && console.warn("RTCIceServer.url is deprecated! Use urls instead.");
                                        var s = "string" == typeof n;
                                        return (
                                            s && (n = [n]),
                                            (n = n.filter(function (t) {
                                                return 0 !== t.indexOf("turn:") || -1 === t.indexOf("transport=udp") || -1 !== t.indexOf("turn:[") || i
                                                    ? 0 === t.indexOf("stun:") && e >= 14393 && -1 === t.indexOf("?transport=udp")
                                                    : ((i = !0), !0);
                                            })),
                                            delete t.url,
                                            (t.urls = s ? n[0] : n),
                                            !!n.length
                                        );
                                    }
                                });
                            })(i.iceServers || [], e)),
                            (this._iceGatherers = []),
                            i.iceCandidatePoolSize)
                        )
                            for (var o = i.iceCandidatePoolSize; o > 0; o--) this._iceGatherers.push(new t.RTCIceGatherer({ iceServers: i.iceServers, gatherPolicy: i.iceTransportPolicy }));
                        else i.iceCandidatePoolSize = 0;
                        (this._config = i), (this.transceivers = []), (this._sdpSessionId = n.generateSessionId()), (this._sdpSessionVersion = 0), (this._dtlsRole = void 0), (this._isClosed = !1);
                    };
                    Object.defineProperty(c.prototype, "localDescription", {
                        configurable: !0,
                        get: function () {
                            return this._localDescription;
                        },
                    }),
                        Object.defineProperty(c.prototype, "remoteDescription", {
                            configurable: !0,
                            get: function () {
                                return this._remoteDescription;
                            },
                        }),
                        (c.prototype.onicecandidate = null),
                        (c.prototype.onaddstream = null),
                        (c.prototype.ontrack = null),
                        (c.prototype.onremovestream = null),
                        (c.prototype.onsignalingstatechange = null),
                        (c.prototype.oniceconnectionstatechange = null),
                        (c.prototype.onconnectionstatechange = null),
                        (c.prototype.onicegatheringstatechange = null),
                        (c.prototype.onnegotiationneeded = null),
                        (c.prototype.ondatachannel = null),
                        (c.prototype._dispatchEvent = function (t, e) {
                            this._isClosed || (this.dispatchEvent(e), "function" == typeof this["on" + t] && this["on" + t](e));
                        }),
                        (c.prototype._emitGatheringStateChange = function () {
                            var t = new Event("icegatheringstatechange");
                            this._dispatchEvent("icegatheringstatechange", t);
                        }),
                        (c.prototype.getConfiguration = function () {
                            return this._config;
                        }),
                        (c.prototype.getLocalStreams = function () {
                            return this.localStreams;
                        }),
                        (c.prototype.getRemoteStreams = function () {
                            return this.remoteStreams;
                        }),
                        (c.prototype._createTransceiver = function (t, e) {
                            var i = this.transceivers.length > 0,
                                n = {
                                    track: null,
                                    iceGatherer: null,
                                    iceTransport: null,
                                    dtlsTransport: null,
                                    localCapabilities: null,
                                    remoteCapabilities: null,
                                    rtpSender: null,
                                    rtpReceiver: null,
                                    kind: t,
                                    mid: null,
                                    sendEncodingParameters: null,
                                    recvEncodingParameters: null,
                                    stream: null,
                                    associatedRemoteMediaStreams: [],
                                    wantReceive: !0,
                                };
                            if (this.usingBundle && i) (n.iceTransport = this.transceivers[0].iceTransport), (n.dtlsTransport = this.transceivers[0].dtlsTransport);
                            else {
                                var s = this._createIceAndDtlsTransports();
                                (n.iceTransport = s.iceTransport), (n.dtlsTransport = s.dtlsTransport);
                            }
                            return e || this.transceivers.push(n), n;
                        }),
                        (c.prototype.addTrack = function (e, i) {
                            if (this._isClosed) throw l("InvalidStateError", "Attempted to call addTrack on a closed peerconnection.");
                            var n;
                            if (
                                this.transceivers.find(function (t) {
                                    return t.track === e;
                                })
                            )
                                throw l("InvalidAccessError", "Track already exists.");
                            for (var s = 0; s < this.transceivers.length; s++) this.transceivers[s].track || this.transceivers[s].kind !== e.kind || (n = this.transceivers[s]);
                            return (
                                n || (n = this._createTransceiver(e.kind)),
                                this._maybeFireNegotiationNeeded(),
                                -1 === this.localStreams.indexOf(i) && this.localStreams.push(i),
                                (n.track = e),
                                (n.stream = i),
                                (n.rtpSender = new t.RTCRtpSender(e, n.dtlsTransport)),
                                n.rtpSender
                            );
                        }),
                        (c.prototype.addStream = function (t) {
                            var i = this;
                            if (e >= 15025)
                                t.getTracks().forEach(function (e) {
                                    i.addTrack(e, t);
                                });
                            else {
                                var n = t.clone();
                                t.getTracks().forEach(function (t, e) {
                                    var i = n.getTracks()[e];
                                    t.addEventListener("enabled", function (t) {
                                        i.enabled = t.enabled;
                                    });
                                }),
                                    n.getTracks().forEach(function (t) {
                                        i.addTrack(t, n);
                                    });
                            }
                        }),
                        (c.prototype.removeTrack = function (e) {
                            if (this._isClosed) throw l("InvalidStateError", "Attempted to call removeTrack on a closed peerconnection.");
                            if (!(e instanceof t.RTCRtpSender)) throw new TypeError("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.");
                            var i = this.transceivers.find(function (t) {
                                return t.rtpSender === e;
                            });
                            if (!i) throw l("InvalidAccessError", "Sender was not created by this connection.");
                            var n = i.stream;
                            i.rtpSender.stop(),
                                (i.rtpSender = null),
                                (i.track = null),
                                (i.stream = null),
                                -1 ===
                                    this.transceivers
                                        .map(function (t) {
                                            return t.stream;
                                        })
                                        .indexOf(n) &&
                                    this.localStreams.indexOf(n) > -1 &&
                                    this.localStreams.splice(this.localStreams.indexOf(n), 1),
                                this._maybeFireNegotiationNeeded();
                        }),
                        (c.prototype.removeStream = function (t) {
                            var e = this;
                            t.getTracks().forEach(function (t) {
                                var i = e.getSenders().find(function (e) {
                                    return e.track === t;
                                });
                                i && e.removeTrack(i);
                            });
                        }),
                        (c.prototype.getSenders = function () {
                            return this.transceivers
                                .filter(function (t) {
                                    return !!t.rtpSender;
                                })
                                .map(function (t) {
                                    return t.rtpSender;
                                });
                        }),
                        (c.prototype.getReceivers = function () {
                            return this.transceivers
                                .filter(function (t) {
                                    return !!t.rtpReceiver;
                                })
                                .map(function (t) {
                                    return t.rtpReceiver;
                                });
                        }),
                        (c.prototype._createIceGatherer = function (e, i) {
                            var n = this;
                            if (i && e > 0) return this.transceivers[0].iceGatherer;
                            if (this._iceGatherers.length) return this._iceGatherers.shift();
                            var s = new t.RTCIceGatherer({ iceServers: this._config.iceServers, gatherPolicy: this._config.iceTransportPolicy });
                            return (
                                Object.defineProperty(s, "state", { value: "new", writable: !0 }),
                                (this.transceivers[e].bufferedCandidateEvents = []),
                                (this.transceivers[e].bufferCandidates = function (t) {
                                    var i = !t.candidate || 0 === Object.keys(t.candidate).length;
                                    (s.state = i ? "completed" : "gathering"), null !== n.transceivers[e].bufferedCandidateEvents && n.transceivers[e].bufferedCandidateEvents.push(t);
                                }),
                                s.addEventListener("localcandidate", this.transceivers[e].bufferCandidates),
                                s
                            );
                        }),
                        (c.prototype._gather = function (e, i) {
                            var s = this,
                                r = this.transceivers[i].iceGatherer;
                            if (!r.onlocalcandidate) {
                                var o = this.transceivers[i].bufferedCandidateEvents;
                                (this.transceivers[i].bufferedCandidateEvents = null),
                                    r.removeEventListener("localcandidate", this.transceivers[i].bufferCandidates),
                                    (r.onlocalcandidate = function (t) {
                                        if (!(s.usingBundle && i > 0)) {
                                            var o = new Event("icecandidate");
                                            o.candidate = { sdpMid: e, sdpMLineIndex: i };
                                            var a = t.candidate,
                                                l = !a || 0 === Object.keys(a).length;
                                            if (l) ("new" !== r.state && "gathering" !== r.state) || (r.state = "completed");
                                            else {
                                                "new" === r.state && (r.state = "gathering"), (a.component = 1), (a.ufrag = r.getLocalParameters().usernameFragment);
                                                var h = n.writeCandidate(a);
                                                (o.candidate = Object.assign(o.candidate, n.parseCandidate(h))),
                                                    (o.candidate.candidate = h),
                                                    (o.candidate.toJSON = function () {
                                                        return { candidate: o.candidate.candidate, sdpMid: o.candidate.sdpMid, sdpMLineIndex: o.candidate.sdpMLineIndex, usernameFragment: o.candidate.usernameFragment };
                                                    });
                                            }
                                            var c = n.getMediaSections(s._localDescription.sdp);
                                            (c[o.candidate.sdpMLineIndex] += l ? "a=end-of-candidates\r\n" : "a=" + o.candidate.candidate + "\r\n"), (s._localDescription.sdp = n.getDescription(s._localDescription.sdp) + c.join(""));
                                            var d = s.transceivers.every(function (t) {
                                                return t.iceGatherer && "completed" === t.iceGatherer.state;
                                            });
                                            "gathering" !== s.iceGatheringState && ((s.iceGatheringState = "gathering"), s._emitGatheringStateChange()),
                                                l || s._dispatchEvent("icecandidate", o),
                                                d && (s._dispatchEvent("icecandidate", new Event("icecandidate")), (s.iceGatheringState = "complete"), s._emitGatheringStateChange());
                                        }
                                    }),
                                    t.setTimeout(function () {
                                        o.forEach(function (t) {
                                            r.onlocalcandidate(t);
                                        });
                                    }, 0);
                            }
                        }),
                        (c.prototype._createIceAndDtlsTransports = function () {
                            var e = this,
                                i = new t.RTCIceTransport(null);
                            i.onicestatechange = function () {
                                e._updateIceConnectionState(), e._updateConnectionState();
                            };
                            var n = new t.RTCDtlsTransport(i);
                            return (
                                (n.ondtlsstatechange = function () {
                                    e._updateConnectionState();
                                }),
                                (n.onerror = function () {
                                    Object.defineProperty(n, "state", { value: "failed", writable: !0 }), e._updateConnectionState();
                                }),
                                { iceTransport: i, dtlsTransport: n }
                            );
                        }),
                        (c.prototype._disposeIceAndDtlsTransports = function (t) {
                            var e = this.transceivers[t].iceGatherer;
                            e && (delete e.onlocalcandidate, delete this.transceivers[t].iceGatherer);
                            var i = this.transceivers[t].iceTransport;
                            i && (delete i.onicestatechange, delete this.transceivers[t].iceTransport);
                            var n = this.transceivers[t].dtlsTransport;
                            n && (delete n.ondtlsstatechange, delete n.onerror, delete this.transceivers[t].dtlsTransport);
                        }),
                        (c.prototype._transceive = function (t, i, s) {
                            var o = r(t.localCapabilities, t.remoteCapabilities);
                            i &&
                                t.rtpSender &&
                                ((o.encodings = t.sendEncodingParameters),
                                (o.rtcp = { cname: n.localCName, compound: t.rtcpParameters.compound }),
                                t.recvEncodingParameters.length && (o.rtcp.ssrc = t.recvEncodingParameters[0].ssrc),
                                t.rtpSender.send(o)),
                                s &&
                                    t.rtpReceiver &&
                                    o.codecs.length > 0 &&
                                    ("video" === t.kind &&
                                        t.recvEncodingParameters &&
                                        e < 15019 &&
                                        t.recvEncodingParameters.forEach(function (t) {
                                            delete t.rtx;
                                        }),
                                    t.recvEncodingParameters.length ? (o.encodings = t.recvEncodingParameters) : (o.encodings = [{}]),
                                    (o.rtcp = { compound: t.rtcpParameters.compound }),
                                    t.rtcpParameters.cname && (o.rtcp.cname = t.rtcpParameters.cname),
                                    t.sendEncodingParameters.length && (o.rtcp.ssrc = t.sendEncodingParameters[0].ssrc),
                                    t.rtpReceiver.receive(o));
                        }),
                        (c.prototype.setLocalDescription = function (t) {
                            var e,
                                i,
                                s = this;
                            if (-1 === ["offer", "answer"].indexOf(t.type)) return Promise.reject(l("TypeError", 'Unsupported type "' + t.type + '"'));
                            if (!o("setLocalDescription", t.type, s.signalingState) || s._isClosed) return Promise.reject(l("InvalidStateError", "Can not set local " + t.type + " in state " + s.signalingState));
                            if ("offer" === t.type)
                                (e = n.splitSections(t.sdp)),
                                    (i = e.shift()),
                                    e.forEach(function (t, e) {
                                        var i = n.parseRtpParameters(t);
                                        s.transceivers[e].localCapabilities = i;
                                    }),
                                    s.transceivers.forEach(function (t, e) {
                                        s._gather(t.mid, e);
                                    });
                            else if ("answer" === t.type) {
                                (e = n.splitSections(s._remoteDescription.sdp)), (i = e.shift());
                                var a = n.matchPrefix(i, "a=ice-lite").length > 0;
                                e.forEach(function (t, e) {
                                    var o = s.transceivers[e],
                                        l = o.iceGatherer,
                                        h = o.iceTransport,
                                        c = o.dtlsTransport,
                                        d = o.localCapabilities,
                                        u = o.remoteCapabilities;
                                    if (!(n.isRejected(t) && 0 === n.matchPrefix(t, "a=bundle-only").length) && !o.rejected) {
                                        var p = n.getIceParameters(t, i),
                                            f = n.getDtlsParameters(t, i);
                                        a && (f.role = "server"), (s.usingBundle && 0 !== e) || (s._gather(o.mid, e), "new" === h.state && h.start(l, p, a ? "controlling" : "controlled"), "new" === c.state && c.start(f));
                                        var m = r(d, u);
                                        s._transceive(o, m.codecs.length > 0, !1);
                                    }
                                });
                            }
                            return (s._localDescription = { type: t.type, sdp: t.sdp }), "offer" === t.type ? s._updateSignalingState("have-local-offer") : s._updateSignalingState("stable"), Promise.resolve();
                        }),
                        (c.prototype.setRemoteDescription = function (s) {
                            var c = this;
                            if (-1 === ["offer", "answer"].indexOf(s.type)) return Promise.reject(l("TypeError", 'Unsupported type "' + s.type + '"'));
                            if (!o("setRemoteDescription", s.type, c.signalingState) || c._isClosed) return Promise.reject(l("InvalidStateError", "Can not set remote " + s.type + " in state " + c.signalingState));
                            var d = {};
                            c.remoteStreams.forEach(function (t) {
                                d[t.id] = t;
                            });
                            var u = [],
                                p = n.splitSections(s.sdp),
                                f = p.shift(),
                                m = n.matchPrefix(f, "a=ice-lite").length > 0,
                                g = n.matchPrefix(f, "a=group:BUNDLE ").length > 0;
                            c.usingBundle = g;
                            var v = n.matchPrefix(f, "a=ice-options:")[0];
                            return (
                                (c.canTrickleIceCandidates = !!v && v.substr(14).split(" ").indexOf("trickle") >= 0),
                                p.forEach(function (o, l) {
                                    var h = n.splitLines(o),
                                        p = n.getKind(o),
                                        v = n.isRejected(o) && 0 === n.matchPrefix(o, "a=bundle-only").length,
                                        b = h[0].substr(2).split(" ")[2],
                                        y = n.getDirection(o, f),
                                        w = n.parseMsid(o),
                                        x = n.getMid(o) || n.generateIdentifier();
                                    if (v || ("application" === p && ("DTLS/SCTP" === b || "UDP/DTLS/SCTP" === b))) c.transceivers[l] = { mid: x, kind: p, protocol: b, rejected: !0 };
                                    else {
                                        var _, k, P, S, C, I, T, $, E;
                                        !v && c.transceivers[l] && c.transceivers[l].rejected && (c.transceivers[l] = c._createTransceiver(p, !0));
                                        var D,
                                            M,
                                            A = n.parseRtpParameters(o);
                                        v || ((D = n.getIceParameters(o, f)), ((M = n.getDtlsParameters(o, f)).role = "client")), (T = n.parseRtpEncodingParameters(o));
                                        var N = n.parseRtcpParameters(o),
                                            O = n.matchPrefix(o, "a=end-of-candidates", f).length > 0,
                                            R = n
                                                .matchPrefix(o, "a=candidate:")
                                                .map(function (t) {
                                                    return n.parseCandidate(t);
                                                })
                                                .filter(function (t) {
                                                    return 1 === t.component;
                                                });
                                        if (
                                            (("offer" === s.type || "answer" === s.type) &&
                                                !v &&
                                                g &&
                                                l > 0 &&
                                                c.transceivers[l] &&
                                                (c._disposeIceAndDtlsTransports(l),
                                                (c.transceivers[l].iceGatherer = c.transceivers[0].iceGatherer),
                                                (c.transceivers[l].iceTransport = c.transceivers[0].iceTransport),
                                                (c.transceivers[l].dtlsTransport = c.transceivers[0].dtlsTransport),
                                                c.transceivers[l].rtpSender && c.transceivers[l].rtpSender.setTransport(c.transceivers[0].dtlsTransport),
                                                c.transceivers[l].rtpReceiver && c.transceivers[l].rtpReceiver.setTransport(c.transceivers[0].dtlsTransport)),
                                            "offer" !== s.type || v)
                                        ) {
                                            if ("answer" === s.type && !v) {
                                                (k = (_ = c.transceivers[l]).iceGatherer),
                                                    (P = _.iceTransport),
                                                    (S = _.dtlsTransport),
                                                    (C = _.rtpReceiver),
                                                    (I = _.sendEncodingParameters),
                                                    ($ = _.localCapabilities),
                                                    (c.transceivers[l].recvEncodingParameters = T),
                                                    (c.transceivers[l].remoteCapabilities = A),
                                                    (c.transceivers[l].rtcpParameters = N),
                                                    R.length &&
                                                        "new" === P.state &&
                                                        ((!m && !O) || (g && 0 !== l)
                                                            ? R.forEach(function (t) {
                                                                  a(_.iceTransport, t);
                                                              })
                                                            : P.setRemoteCandidates(R)),
                                                    (g && 0 !== l) || ("new" === P.state && P.start(k, D, "controlling"), "new" === S.state && S.start(M)),
                                                    !r(_.localCapabilities, _.remoteCapabilities).codecs.filter(function (t) {
                                                        return "rtx" === t.name.toLowerCase();
                                                    }).length &&
                                                        _.sendEncodingParameters[0].rtx &&
                                                        delete _.sendEncodingParameters[0].rtx,
                                                    c._transceive(_, "sendrecv" === y || "recvonly" === y, "sendrecv" === y || "sendonly" === y),
                                                    !C || ("sendrecv" !== y && "sendonly" !== y)
                                                        ? delete _.rtpReceiver
                                                        : ((E = C.track),
                                                          w
                                                              ? (d[w.stream] || (d[w.stream] = new t.MediaStream()), i(E, d[w.stream]), u.push([E, C, d[w.stream]]))
                                                              : (d.default || (d.default = new t.MediaStream()), i(E, d.default), u.push([E, C, d.default])));
                                            }
                                        } else {
                                            ((_ = c.transceivers[l] || c._createTransceiver(p)).mid = x),
                                                _.iceGatherer || (_.iceGatherer = c._createIceGatherer(l, g)),
                                                R.length &&
                                                    "new" === _.iceTransport.state &&
                                                    (!O || (g && 0 !== l)
                                                        ? R.forEach(function (t) {
                                                              a(_.iceTransport, t);
                                                          })
                                                        : _.iceTransport.setRemoteCandidates(R)),
                                                ($ = t.RTCRtpReceiver.getCapabilities(p)),
                                                e < 15019 &&
                                                    ($.codecs = $.codecs.filter(function (t) {
                                                        return "rtx" !== t.name;
                                                    })),
                                                (I = _.sendEncodingParameters || [{ ssrc: 1001 * (2 * l + 2) }]);
                                            var V,
                                                L = !1;
                                            if ("sendrecv" === y || "sendonly" === y) {
                                                if (((L = !_.rtpReceiver), (C = _.rtpReceiver || new t.RTCRtpReceiver(_.dtlsTransport, p)), L))
                                                    (E = C.track),
                                                        (w && "-" === w.stream) ||
                                                            (w
                                                                ? (d[w.stream] ||
                                                                      ((d[w.stream] = new t.MediaStream()),
                                                                      Object.defineProperty(d[w.stream], "id", {
                                                                          get: function () {
                                                                              return w.stream;
                                                                          },
                                                                      })),
                                                                  Object.defineProperty(E, "id", {
                                                                      get: function () {
                                                                          return w.track;
                                                                      },
                                                                  }),
                                                                  (V = d[w.stream]))
                                                                : (d.default || (d.default = new t.MediaStream()), (V = d.default))),
                                                        V && (i(E, V), _.associatedRemoteMediaStreams.push(V)),
                                                        u.push([E, C, V]);
                                            } else
                                                _.rtpReceiver &&
                                                    _.rtpReceiver.track &&
                                                    (_.associatedRemoteMediaStreams.forEach(function (e) {
                                                        var i = e.getTracks().find(function (t) {
                                                            return t.id === _.rtpReceiver.track.id;
                                                        });
                                                        i &&
                                                            (function (e, i) {
                                                                i.removeTrack(e), i.dispatchEvent(new t.MediaStreamTrackEvent("removetrack", { track: e }));
                                                            })(i, e);
                                                    }),
                                                    (_.associatedRemoteMediaStreams = []));
                                            (_.localCapabilities = $),
                                                (_.remoteCapabilities = A),
                                                (_.rtpReceiver = C),
                                                (_.rtcpParameters = N),
                                                (_.sendEncodingParameters = I),
                                                (_.recvEncodingParameters = T),
                                                c._transceive(c.transceivers[l], !1, L);
                                        }
                                    }
                                }),
                                void 0 === c._dtlsRole && (c._dtlsRole = "offer" === s.type ? "active" : "passive"),
                                (c._remoteDescription = { type: s.type, sdp: s.sdp }),
                                "offer" === s.type ? c._updateSignalingState("have-remote-offer") : c._updateSignalingState("stable"),
                                Object.keys(d).forEach(function (e) {
                                    var i = d[e];
                                    if (i.getTracks().length) {
                                        if (-1 === c.remoteStreams.indexOf(i)) {
                                            c.remoteStreams.push(i);
                                            var n = new Event("addstream");
                                            (n.stream = i),
                                                t.setTimeout(function () {
                                                    c._dispatchEvent("addstream", n);
                                                });
                                        }
                                        u.forEach(function (t) {
                                            var e = t[0],
                                                n = t[1];
                                            i.id === t[2].id && h(c, e, n, [i]);
                                        });
                                    }
                                }),
                                u.forEach(function (t) {
                                    t[2] || h(c, t[0], t[1], []);
                                }),
                                t.setTimeout(function () {
                                    c &&
                                        c.transceivers &&
                                        c.transceivers.forEach(function (t) {
                                            t.iceTransport &&
                                                "new" === t.iceTransport.state &&
                                                t.iceTransport.getRemoteCandidates().length > 0 &&
                                                (console.warn("Timeout for addRemoteCandidate. Consider sending an end-of-candidates notification"), t.iceTransport.addRemoteCandidate({}));
                                        });
                                }, 4e3),
                                Promise.resolve()
                            );
                        }),
                        (c.prototype.close = function () {
                            this.transceivers.forEach(function (t) {
                                t.iceTransport && t.iceTransport.stop(), t.dtlsTransport && t.dtlsTransport.stop(), t.rtpSender && t.rtpSender.stop(), t.rtpReceiver && t.rtpReceiver.stop();
                            }),
                                (this._isClosed = !0),
                                this._updateSignalingState("closed");
                        }),
                        (c.prototype._updateSignalingState = function (t) {
                            this.signalingState = t;
                            var e = new Event("signalingstatechange");
                            this._dispatchEvent("signalingstatechange", e);
                        }),
                        (c.prototype._maybeFireNegotiationNeeded = function () {
                            var e = this;
                            "stable" === this.signalingState &&
                                !0 !== this.needNegotiation &&
                                ((this.needNegotiation = !0),
                                t.setTimeout(function () {
                                    if (e.needNegotiation) {
                                        e.needNegotiation = !1;
                                        var t = new Event("negotiationneeded");
                                        e._dispatchEvent("negotiationneeded", t);
                                    }
                                }, 0));
                        }),
                        (c.prototype._updateIceConnectionState = function () {
                            var t,
                                e = { new: 0, closed: 0, checking: 0, connected: 0, completed: 0, disconnected: 0, failed: 0 };
                            if (
                                (this.transceivers.forEach(function (t) {
                                    t.iceTransport && !t.rejected && e[t.iceTransport.state]++;
                                }),
                                (t = "new"),
                                e.failed > 0
                                    ? (t = "failed")
                                    : e.checking > 0
                                    ? (t = "checking")
                                    : e.disconnected > 0
                                    ? (t = "disconnected")
                                    : e.new > 0
                                    ? (t = "new")
                                    : e.connected > 0
                                    ? (t = "connected")
                                    : e.completed > 0 && (t = "completed"),
                                t !== this.iceConnectionState)
                            ) {
                                this.iceConnectionState = t;
                                var i = new Event("iceconnectionstatechange");
                                this._dispatchEvent("iceconnectionstatechange", i);
                            }
                        }),
                        (c.prototype._updateConnectionState = function () {
                            var t,
                                e = { new: 0, closed: 0, connecting: 0, connected: 0, completed: 0, disconnected: 0, failed: 0 };
                            if (
                                (this.transceivers.forEach(function (t) {
                                    t.iceTransport && t.dtlsTransport && !t.rejected && (e[t.iceTransport.state]++, e[t.dtlsTransport.state]++);
                                }),
                                (e.connected += e.completed),
                                (t = "new"),
                                e.failed > 0 ? (t = "failed") : e.connecting > 0 ? (t = "connecting") : e.disconnected > 0 ? (t = "disconnected") : e.new > 0 ? (t = "new") : e.connected > 0 && (t = "connected"),
                                t !== this.connectionState)
                            ) {
                                this.connectionState = t;
                                var i = new Event("connectionstatechange");
                                this._dispatchEvent("connectionstatechange", i);
                            }
                        }),
                        (c.prototype.createOffer = function () {
                            var i = this;
                            if (i._isClosed) return Promise.reject(l("InvalidStateError", "Can not call createOffer after close"));
                            var r = i.transceivers.filter(function (t) {
                                    return "audio" === t.kind;
                                }).length,
                                o = i.transceivers.filter(function (t) {
                                    return "video" === t.kind;
                                }).length,
                                a = arguments[0];
                            if (a) {
                                if (a.mandatory || a.optional) throw new TypeError("Legacy mandatory/optional constraints not supported.");
                                void 0 !== a.offerToReceiveAudio && (r = !0 === a.offerToReceiveAudio ? 1 : !1 === a.offerToReceiveAudio ? 0 : a.offerToReceiveAudio),
                                    void 0 !== a.offerToReceiveVideo && (o = !0 === a.offerToReceiveVideo ? 1 : !1 === a.offerToReceiveVideo ? 0 : a.offerToReceiveVideo);
                            }
                            for (
                                i.transceivers.forEach(function (t) {
                                    "audio" === t.kind ? --r < 0 && (t.wantReceive = !1) : "video" === t.kind && --o < 0 && (t.wantReceive = !1);
                                });
                                r > 0 || o > 0;

                            )
                                r > 0 && (i._createTransceiver("audio"), r--), o > 0 && (i._createTransceiver("video"), o--);
                            var h = n.writeSessionBoilerplate(i._sdpSessionId, i._sdpSessionVersion++);
                            i.transceivers.forEach(function (s, r) {
                                var o = s.track,
                                    a = s.kind,
                                    l = s.mid || n.generateIdentifier();
                                (s.mid = l), s.iceGatherer || (s.iceGatherer = i._createIceGatherer(r, i.usingBundle));
                                var h = t.RTCRtpSender.getCapabilities(a);
                                e < 15019 &&
                                    (h.codecs = h.codecs.filter(function (t) {
                                        return "rtx" !== t.name;
                                    })),
                                    h.codecs.forEach(function (t) {
                                        "H264" === t.name && void 0 === t.parameters["level-asymmetry-allowed"] && (t.parameters["level-asymmetry-allowed"] = "1"),
                                            s.remoteCapabilities &&
                                                s.remoteCapabilities.codecs &&
                                                s.remoteCapabilities.codecs.forEach(function (e) {
                                                    t.name.toLowerCase() === e.name.toLowerCase() && t.clockRate === e.clockRate && (t.preferredPayloadType = e.payloadType);
                                                });
                                    }),
                                    h.headerExtensions.forEach(function (t) {
                                        ((s.remoteCapabilities && s.remoteCapabilities.headerExtensions) || []).forEach(function (e) {
                                            t.uri === e.uri && (t.id = e.id);
                                        });
                                    });
                                var c = s.sendEncodingParameters || [{ ssrc: 1001 * (2 * r + 1) }];
                                o && e >= 15019 && "video" === a && !c[0].rtx && (c[0].rtx = { ssrc: c[0].ssrc + 1 }),
                                    s.wantReceive && (s.rtpReceiver = new t.RTCRtpReceiver(s.dtlsTransport, a)),
                                    (s.localCapabilities = h),
                                    (s.sendEncodingParameters = c);
                            }),
                                "max-compat" !== i._config.bundlePolicy &&
                                    (h +=
                                        "a=group:BUNDLE " +
                                        i.transceivers
                                            .map(function (t) {
                                                return t.mid;
                                            })
                                            .join(" ") +
                                        "\r\n"),
                                (h += "a=ice-options:trickle\r\n"),
                                i.transceivers.forEach(function (t, e) {
                                    (h += s(t, t.localCapabilities, "offer", t.stream, i._dtlsRole)),
                                        (h += "a=rtcp-rsize\r\n"),
                                        !t.iceGatherer ||
                                            "new" === i.iceGatheringState ||
                                            (0 !== e && i.usingBundle) ||
                                            (t.iceGatherer.getLocalCandidates().forEach(function (t) {
                                                (t.component = 1), (h += "a=" + n.writeCandidate(t) + "\r\n");
                                            }),
                                            "completed" === t.iceGatherer.state && (h += "a=end-of-candidates\r\n"));
                                });
                            var c = new t.RTCSessionDescription({ type: "offer", sdp: h });
                            return Promise.resolve(c);
                        }),
                        (c.prototype.createAnswer = function () {
                            var i = this;
                            if (i._isClosed) return Promise.reject(l("InvalidStateError", "Can not call createAnswer after close"));
                            if ("have-remote-offer" !== i.signalingState && "have-local-pranswer" !== i.signalingState) return Promise.reject(l("InvalidStateError", "Can not call createAnswer in signalingState " + i.signalingState));
                            var o = n.writeSessionBoilerplate(i._sdpSessionId, i._sdpSessionVersion++);
                            i.usingBundle &&
                                (o +=
                                    "a=group:BUNDLE " +
                                    i.transceivers
                                        .map(function (t) {
                                            return t.mid;
                                        })
                                        .join(" ") +
                                    "\r\n"),
                                (o += "a=ice-options:trickle\r\n");
                            var a = n.getMediaSections(i._remoteDescription.sdp).length;
                            i.transceivers.forEach(function (t, n) {
                                if (!(n + 1 > a)) {
                                    if (t.rejected)
                                        return (
                                            "application" === t.kind
                                                ? "DTLS/SCTP" === t.protocol
                                                    ? (o += "m=application 0 DTLS/SCTP 5000\r\n")
                                                    : (o += "m=application 0 " + t.protocol + " webrtc-datachannel\r\n")
                                                : "audio" === t.kind
                                                ? (o += "m=audio 0 UDP/TLS/RTP/SAVPF 0\r\na=rtpmap:0 PCMU/8000\r\n")
                                                : "video" === t.kind && (o += "m=video 0 UDP/TLS/RTP/SAVPF 120\r\na=rtpmap:120 VP8/90000\r\n"),
                                            void (o += "c=IN IP4 0.0.0.0\r\na=inactive\r\na=mid:" + t.mid + "\r\n")
                                        );
                                    var l;
                                    if (t.stream)
                                        "audio" === t.kind ? (l = t.stream.getAudioTracks()[0]) : "video" === t.kind && (l = t.stream.getVideoTracks()[0]),
                                            l && e >= 15019 && "video" === t.kind && !t.sendEncodingParameters[0].rtx && (t.sendEncodingParameters[0].rtx = { ssrc: t.sendEncodingParameters[0].ssrc + 1 });
                                    var h = r(t.localCapabilities, t.remoteCapabilities);
                                    !h.codecs.filter(function (t) {
                                        return "rtx" === t.name.toLowerCase();
                                    }).length &&
                                        t.sendEncodingParameters[0].rtx &&
                                        delete t.sendEncodingParameters[0].rtx,
                                        (o += s(t, h, "answer", t.stream, i._dtlsRole)),
                                        t.rtcpParameters && t.rtcpParameters.reducedSize && (o += "a=rtcp-rsize\r\n");
                                }
                            });
                            var h = new t.RTCSessionDescription({ type: "answer", sdp: o });
                            return Promise.resolve(h);
                        }),
                        (c.prototype.addIceCandidate = function (t) {
                            var e,
                                i = this;
                            return t && void 0 === t.sdpMLineIndex && !t.sdpMid
                                ? Promise.reject(new TypeError("sdpMLineIndex or sdpMid required"))
                                : new Promise(function (s, r) {
                                      if (!i._remoteDescription) return r(l("InvalidStateError", "Can not add ICE candidate without a remote description"));
                                      if (t && "" !== t.candidate) {
                                          var o = t.sdpMLineIndex;
                                          if (t.sdpMid)
                                              for (var h = 0; h < i.transceivers.length; h++)
                                                  if (i.transceivers[h].mid === t.sdpMid) {
                                                      o = h;
                                                      break;
                                                  }
                                          var c = i.transceivers[o];
                                          if (!c) return r(l("OperationError", "Can not add ICE candidate"));
                                          if (c.rejected) return s();
                                          var d = Object.keys(t.candidate).length > 0 ? n.parseCandidate(t.candidate) : {};
                                          if ("tcp" === d.protocol && (0 === d.port || 9 === d.port)) return s();
                                          if (d.component && 1 !== d.component) return s();
                                          if ((0 === o || (o > 0 && c.iceTransport !== i.transceivers[0].iceTransport)) && !a(c.iceTransport, d)) return r(l("OperationError", "Can not add ICE candidate"));
                                          var u = t.candidate.trim();
                                          0 === u.indexOf("a=") && (u = u.substr(2)),
                                              ((e = n.getMediaSections(i._remoteDescription.sdp))[o] += "a=" + (d.type ? u : "end-of-candidates") + "\r\n"),
                                              (i._remoteDescription.sdp = n.getDescription(i._remoteDescription.sdp) + e.join(""));
                                      } else for (var p = 0; p < i.transceivers.length && (i.transceivers[p].rejected || (i.transceivers[p].iceTransport.addRemoteCandidate({}), ((e = n.getMediaSections(i._remoteDescription.sdp))[p] += "a=end-of-candidates\r\n"), (i._remoteDescription.sdp = n.getDescription(i._remoteDescription.sdp) + e.join("")), !i.usingBundle)); p++);
                                      s();
                                  });
                        }),
                        (c.prototype.getStats = function (e) {
                            if (e && e instanceof t.MediaStreamTrack) {
                                var i = null;
                                if (
                                    (this.transceivers.forEach(function (t) {
                                        t.rtpSender && t.rtpSender.track === e ? (i = t.rtpSender) : t.rtpReceiver && t.rtpReceiver.track === e && (i = t.rtpReceiver);
                                    }),
                                    !i)
                                )
                                    throw l("InvalidAccessError", "Invalid selector.");
                                return i.getStats();
                            }
                            var n = [];
                            return (
                                this.transceivers.forEach(function (t) {
                                    ["rtpSender", "rtpReceiver", "iceGatherer", "iceTransport", "dtlsTransport"].forEach(function (e) {
                                        t[e] && n.push(t[e].getStats());
                                    });
                                }),
                                Promise.all(n).then(function (t) {
                                    var e = new Map();
                                    return (
                                        t.forEach(function (t) {
                                            t.forEach(function (t) {
                                                e.set(t.id, t);
                                            });
                                        }),
                                        e
                                    );
                                })
                            );
                        });
                    ["RTCRtpSender", "RTCRtpReceiver", "RTCIceGatherer", "RTCIceTransport", "RTCDtlsTransport"].forEach(function (e) {
                        var i = t[e];
                        if (i && i.prototype && i.prototype.getStats) {
                            var n = i.prototype.getStats;
                            i.prototype.getStats = function () {
                                return n.apply(this).then(function (t) {
                                    var e = new Map();
                                    return (
                                        Object.keys(t).forEach(function (i) {
                                            var n;
                                            (t[i].type =
                                                { inboundrtp: "inbound-rtp", outboundrtp: "outbound-rtp", candidatepair: "candidate-pair", localcandidate: "local-candidate", remotecandidate: "remote-candidate" }[(n = t[i]).type] || n.type),
                                                e.set(i, t[i]);
                                        }),
                                        e
                                    );
                                });
                            };
                        }
                    });
                    var d = ["createOffer", "createAnswer"];
                    return (
                        d.forEach(function (t) {
                            var e = c.prototype[t];
                            c.prototype[t] = function () {
                                var t = arguments;
                                return "function" == typeof t[0] || "function" == typeof t[1]
                                    ? e.apply(this, [arguments[2]]).then(
                                          function (e) {
                                              "function" == typeof t[0] && t[0].apply(null, [e]);
                                          },
                                          function (e) {
                                              "function" == typeof t[1] && t[1].apply(null, [e]);
                                          }
                                      )
                                    : e.apply(this, arguments);
                            };
                        }),
                        (d = ["setLocalDescription", "setRemoteDescription", "addIceCandidate"]).forEach(function (t) {
                            var e = c.prototype[t];
                            c.prototype[t] = function () {
                                var t = arguments;
                                return "function" == typeof t[1] || "function" == typeof t[2]
                                    ? e.apply(this, arguments).then(
                                          function () {
                                              "function" == typeof t[1] && t[1].apply(null);
                                          },
                                          function (e) {
                                              "function" == typeof t[2] && t[2].apply(null, [e]);
                                          }
                                      )
                                    : e.apply(this, arguments);
                            };
                        }),
                        ["getStats"].forEach(function (t) {
                            var e = c.prototype[t];
                            c.prototype[t] = function () {
                                var t = arguments;
                                return "function" == typeof t[1]
                                    ? e.apply(this, arguments).then(function () {
                                          "function" == typeof t[1] && t[1].apply(null);
                                      })
                                    : e.apply(this, arguments);
                            };
                        }),
                        c
                    );
                };
            },
            2281: (t) => {
                "use strict";
                var e = {
                    generateIdentifier: function () {
                        return Math.random().toString(36).substr(2, 10);
                    },
                };
                (e.localCName = e.generateIdentifier()),
                    (e.splitLines = function (t) {
                        return t
                            .trim()
                            .split("\n")
                            .map(function (t) {
                                return t.trim();
                            });
                    }),
                    (e.splitSections = function (t) {
                        return t.split("\nm=").map(function (t, e) {
                            return (e > 0 ? "m=" + t : t).trim() + "\r\n";
                        });
                    }),
                    (e.getDescription = function (t) {
                        var i = e.splitSections(t);
                        return i && i[0];
                    }),
                    (e.getMediaSections = function (t) {
                        var i = e.splitSections(t);
                        return i.shift(), i;
                    }),
                    (e.matchPrefix = function (t, i) {
                        return e.splitLines(t).filter(function (t) {
                            return 0 === t.indexOf(i);
                        });
                    }),
                    (e.parseCandidate = function (t) {
                        for (
                            var e,
                                i = {
                                    foundation: (e = 0 === t.indexOf("a=candidate:") ? t.substring(12).split(" ") : t.substring(10).split(" "))[0],
                                    component: parseInt(e[1], 10),
                                    protocol: e[2].toLowerCase(),
                                    priority: parseInt(e[3], 10),
                                    ip: e[4],
                                    address: e[4],
                                    port: parseInt(e[5], 10),
                                    type: e[7],
                                },
                                n = 8;
                            n < e.length;
                            n += 2
                        )
                            switch (e[n]) {
                                case "raddr":
                                    i.relatedAddress = e[n + 1];
                                    break;
                                case "rport":
                                    i.relatedPort = parseInt(e[n + 1], 10);
                                    break;
                                case "tcptype":
                                    i.tcpType = e[n + 1];
                                    break;
                                case "ufrag":
                                    (i.ufrag = e[n + 1]), (i.usernameFragment = e[n + 1]);
                                    break;
                                default:
                                    i[e[n]] = e[n + 1];
                            }
                        return i;
                    }),
                    (e.writeCandidate = function (t) {
                        var e = [];
                        e.push(t.foundation), e.push(t.component), e.push(t.protocol.toUpperCase()), e.push(t.priority), e.push(t.address || t.ip), e.push(t.port);
                        var i = t.type;
                        return (
                            e.push("typ"),
                            e.push(i),
                            "host" !== i && t.relatedAddress && t.relatedPort && (e.push("raddr"), e.push(t.relatedAddress), e.push("rport"), e.push(t.relatedPort)),
                            t.tcpType && "tcp" === t.protocol.toLowerCase() && (e.push("tcptype"), e.push(t.tcpType)),
                            (t.usernameFragment || t.ufrag) && (e.push("ufrag"), e.push(t.usernameFragment || t.ufrag)),
                            "candidate:" + e.join(" ")
                        );
                    }),
                    (e.parseIceOptions = function (t) {
                        return t.substr(14).split(" ");
                    }),
                    (e.parseRtpMap = function (t) {
                        var e = t.substr(9).split(" "),
                            i = { payloadType: parseInt(e.shift(), 10) };
                        return (e = e[0].split("/")), (i.name = e[0]), (i.clockRate = parseInt(e[1], 10)), (i.channels = 3 === e.length ? parseInt(e[2], 10) : 1), (i.numChannels = i.channels), i;
                    }),
                    (e.writeRtpMap = function (t) {
                        var e = t.payloadType;
                        void 0 !== t.preferredPayloadType && (e = t.preferredPayloadType);
                        var i = t.channels || t.numChannels || 1;
                        return "a=rtpmap:" + e + " " + t.name + "/" + t.clockRate + (1 !== i ? "/" + i : "") + "\r\n";
                    }),
                    (e.parseExtmap = function (t) {
                        var e = t.substr(9).split(" ");
                        return { id: parseInt(e[0], 10), direction: e[0].indexOf("/") > 0 ? e[0].split("/")[1] : "sendrecv", uri: e[1] };
                    }),
                    (e.writeExtmap = function (t) {
                        return "a=extmap:" + (t.id || t.preferredId) + (t.direction && "sendrecv" !== t.direction ? "/" + t.direction : "") + " " + t.uri + "\r\n";
                    }),
                    (e.parseFmtp = function (t) {
                        for (var e, i = {}, n = t.substr(t.indexOf(" ") + 1).split(";"), s = 0; s < n.length; s++) i[(e = n[s].trim().split("="))[0].trim()] = e[1];
                        return i;
                    }),
                    (e.writeFmtp = function (t) {
                        var e = "",
                            i = t.payloadType;
                        if ((void 0 !== t.preferredPayloadType && (i = t.preferredPayloadType), t.parameters && Object.keys(t.parameters).length)) {
                            var n = [];
                            Object.keys(t.parameters).forEach(function (e) {
                                t.parameters[e] ? n.push(e + "=" + t.parameters[e]) : n.push(e);
                            }),
                                (e += "a=fmtp:" + i + " " + n.join(";") + "\r\n");
                        }
                        return e;
                    }),
                    (e.parseRtcpFb = function (t) {
                        var e = t.substr(t.indexOf(" ") + 1).split(" ");
                        return { type: e.shift(), parameter: e.join(" ") };
                    }),
                    (e.writeRtcpFb = function (t) {
                        var e = "",
                            i = t.payloadType;
                        return (
                            void 0 !== t.preferredPayloadType && (i = t.preferredPayloadType),
                            t.rtcpFeedback &&
                                t.rtcpFeedback.length &&
                                t.rtcpFeedback.forEach(function (t) {
                                    e += "a=rtcp-fb:" + i + " " + t.type + (t.parameter && t.parameter.length ? " " + t.parameter : "") + "\r\n";
                                }),
                            e
                        );
                    }),
                    (e.parseSsrcMedia = function (t) {
                        var e = t.indexOf(" "),
                            i = { ssrc: parseInt(t.substr(7, e - 7), 10) },
                            n = t.indexOf(":", e);
                        return n > -1 ? ((i.attribute = t.substr(e + 1, n - e - 1)), (i.value = t.substr(n + 1))) : (i.attribute = t.substr(e + 1)), i;
                    }),
                    (e.parseSsrcGroup = function (t) {
                        var e = t.substr(13).split(" ");
                        return {
                            semantics: e.shift(),
                            ssrcs: e.map(function (t) {
                                return parseInt(t, 10);
                            }),
                        };
                    }),
                    (e.getMid = function (t) {
                        var i = e.matchPrefix(t, "a=mid:")[0];
                        if (i) return i.substr(6);
                    }),
                    (e.parseFingerprint = function (t) {
                        var e = t.substr(14).split(" ");
                        return { algorithm: e[0].toLowerCase(), value: e[1] };
                    }),
                    (e.getDtlsParameters = function (t, i) {
                        return { role: "auto", fingerprints: e.matchPrefix(t + i, "a=fingerprint:").map(e.parseFingerprint) };
                    }),
                    (e.writeDtlsParameters = function (t, e) {
                        var i = "a=setup:" + e + "\r\n";
                        return (
                            t.fingerprints.forEach(function (t) {
                                i += "a=fingerprint:" + t.algorithm + " " + t.value + "\r\n";
                            }),
                            i
                        );
                    }),
                    (e.parseCryptoLine = function (t) {
                        var e = t.substr(9).split(" ");
                        return { tag: parseInt(e[0], 10), cryptoSuite: e[1], keyParams: e[2], sessionParams: e.slice(3) };
                    }),
                    (e.writeCryptoLine = function (t) {
                        return "a=crypto:" + t.tag + " " + t.cryptoSuite + " " + ("object" == typeof t.keyParams ? e.writeCryptoKeyParams(t.keyParams) : t.keyParams) + (t.sessionParams ? " " + t.sessionParams.join(" ") : "") + "\r\n";
                    }),
                    (e.parseCryptoKeyParams = function (t) {
                        if (0 !== t.indexOf("inline:")) return null;
                        var e = t.substr(7).split("|");
                        return { keyMethod: "inline", keySalt: e[0], lifeTime: e[1], mkiValue: e[2] ? e[2].split(":")[0] : void 0, mkiLength: e[2] ? e[2].split(":")[1] : void 0 };
                    }),
                    (e.writeCryptoKeyParams = function (t) {
                        return t.keyMethod + ":" + t.keySalt + (t.lifeTime ? "|" + t.lifeTime : "") + (t.mkiValue && t.mkiLength ? "|" + t.mkiValue + ":" + t.mkiLength : "");
                    }),
                    (e.getCryptoParameters = function (t, i) {
                        return e.matchPrefix(t + i, "a=crypto:").map(e.parseCryptoLine);
                    }),
                    (e.getIceParameters = function (t, i) {
                        var n = e.matchPrefix(t + i, "a=ice-ufrag:")[0],
                            s = e.matchPrefix(t + i, "a=ice-pwd:")[0];
                        return n && s ? { usernameFragment: n.substr(12), password: s.substr(10) } : null;
                    }),
                    (e.writeIceParameters = function (t) {
                        return "a=ice-ufrag:" + t.usernameFragment + "\r\na=ice-pwd:" + t.password + "\r\n";
                    }),
                    (e.parseRtpParameters = function (t) {
                        for (var i = { codecs: [], headerExtensions: [], fecMechanisms: [], rtcp: [] }, n = e.splitLines(t)[0].split(" "), s = 3; s < n.length; s++) {
                            var r = n[s],
                                o = e.matchPrefix(t, "a=rtpmap:" + r + " ")[0];
                            if (o) {
                                var a = e.parseRtpMap(o),
                                    l = e.matchPrefix(t, "a=fmtp:" + r + " ");
                                switch (((a.parameters = l.length ? e.parseFmtp(l[0]) : {}), (a.rtcpFeedback = e.matchPrefix(t, "a=rtcp-fb:" + r + " ").map(e.parseRtcpFb)), i.codecs.push(a), a.name.toUpperCase())) {
                                    case "RED":
                                    case "ULPFEC":
                                        i.fecMechanisms.push(a.name.toUpperCase());
                                }
                            }
                        }
                        return (
                            e.matchPrefix(t, "a=extmap:").forEach(function (t) {
                                i.headerExtensions.push(e.parseExtmap(t));
                            }),
                            i
                        );
                    }),
                    (e.writeRtpDescription = function (t, i) {
                        var n = "";
                        (n += "m=" + t + " "),
                            (n += i.codecs.length > 0 ? "9" : "0"),
                            (n += " UDP/TLS/RTP/SAVPF "),
                            (n +=
                                i.codecs
                                    .map(function (t) {
                                        return void 0 !== t.preferredPayloadType ? t.preferredPayloadType : t.payloadType;
                                    })
                                    .join(" ") + "\r\n"),
                            (n += "c=IN IP4 0.0.0.0\r\n"),
                            (n += "a=rtcp:9 IN IP4 0.0.0.0\r\n"),
                            i.codecs.forEach(function (t) {
                                (n += e.writeRtpMap(t)), (n += e.writeFmtp(t)), (n += e.writeRtcpFb(t));
                            });
                        var s = 0;
                        return (
                            i.codecs.forEach(function (t) {
                                t.maxptime > s && (s = t.maxptime);
                            }),
                            s > 0 && (n += "a=maxptime:" + s + "\r\n"),
                            (n += "a=rtcp-mux\r\n"),
                            i.headerExtensions &&
                                i.headerExtensions.forEach(function (t) {
                                    n += e.writeExtmap(t);
                                }),
                            n
                        );
                    }),
                    (e.parseRtpEncodingParameters = function (t) {
                        var i,
                            n = [],
                            s = e.parseRtpParameters(t),
                            r = -1 !== s.fecMechanisms.indexOf("RED"),
                            o = -1 !== s.fecMechanisms.indexOf("ULPFEC"),
                            a = e
                                .matchPrefix(t, "a=ssrc:")
                                .map(function (t) {
                                    return e.parseSsrcMedia(t);
                                })
                                .filter(function (t) {
                                    return "cname" === t.attribute;
                                }),
                            l = a.length > 0 && a[0].ssrc,
                            h = e.matchPrefix(t, "a=ssrc-group:FID").map(function (t) {
                                return t
                                    .substr(17)
                                    .split(" ")
                                    .map(function (t) {
                                        return parseInt(t, 10);
                                    });
                            });
                        h.length > 0 && h[0].length > 1 && h[0][0] === l && (i = h[0][1]),
                            s.codecs.forEach(function (t) {
                                if ("RTX" === t.name.toUpperCase() && t.parameters.apt) {
                                    var e = { ssrc: l, codecPayloadType: parseInt(t.parameters.apt, 10) };
                                    l && i && (e.rtx = { ssrc: i }), n.push(e), r && (((e = JSON.parse(JSON.stringify(e))).fec = { ssrc: l, mechanism: o ? "red+ulpfec" : "red" }), n.push(e));
                                }
                            }),
                            0 === n.length && l && n.push({ ssrc: l });
                        var c = e.matchPrefix(t, "b=");
                        return (
                            c.length &&
                                ((c = 0 === c[0].indexOf("b=TIAS:") ? parseInt(c[0].substr(7), 10) : 0 === c[0].indexOf("b=AS:") ? 1e3 * parseInt(c[0].substr(5), 10) * 0.95 - 16e3 : void 0),
                                n.forEach(function (t) {
                                    t.maxBitrate = c;
                                })),
                            n
                        );
                    }),
                    (e.parseRtcpParameters = function (t) {
                        var i = {},
                            n = e
                                .matchPrefix(t, "a=ssrc:")
                                .map(function (t) {
                                    return e.parseSsrcMedia(t);
                                })
                                .filter(function (t) {
                                    return "cname" === t.attribute;
                                })[0];
                        n && ((i.cname = n.value), (i.ssrc = n.ssrc));
                        var s = e.matchPrefix(t, "a=rtcp-rsize");
                        (i.reducedSize = s.length > 0), (i.compound = 0 === s.length);
                        var r = e.matchPrefix(t, "a=rtcp-mux");
                        return (i.mux = r.length > 0), i;
                    }),
                    (e.parseMsid = function (t) {
                        var i,
                            n = e.matchPrefix(t, "a=msid:");
                        if (1 === n.length) return { stream: (i = n[0].substr(7).split(" "))[0], track: i[1] };
                        var s = e
                            .matchPrefix(t, "a=ssrc:")
                            .map(function (t) {
                                return e.parseSsrcMedia(t);
                            })
                            .filter(function (t) {
                                return "msid" === t.attribute;
                            });
                        return s.length > 0 ? { stream: (i = s[0].value.split(" "))[0], track: i[1] } : void 0;
                    }),
                    (e.parseSctpDescription = function (t) {
                        var i,
                            n = e.parseMLine(t),
                            s = e.matchPrefix(t, "a=max-message-size:");
                        s.length > 0 && (i = parseInt(s[0].substr(19), 10)), isNaN(i) && (i = 65536);
                        var r = e.matchPrefix(t, "a=sctp-port:");
                        if (r.length > 0) return { port: parseInt(r[0].substr(12), 10), protocol: n.fmt, maxMessageSize: i };
                        if (e.matchPrefix(t, "a=sctpmap:").length > 0) {
                            var o = e.matchPrefix(t, "a=sctpmap:")[0].substr(10).split(" ");
                            return { port: parseInt(o[0], 10), protocol: o[1], maxMessageSize: i };
                        }
                    }),
                    (e.writeSctpDescription = function (t, e) {
                        var i = [];
                        return (
                            (i =
                                "DTLS/SCTP" !== t.protocol
                                    ? ["m=" + t.kind + " 9 " + t.protocol + " " + e.protocol + "\r\n", "c=IN IP4 0.0.0.0\r\n", "a=sctp-port:" + e.port + "\r\n"]
                                    : ["m=" + t.kind + " 9 " + t.protocol + " " + e.port + "\r\n", "c=IN IP4 0.0.0.0\r\n", "a=sctpmap:" + e.port + " " + e.protocol + " 65535\r\n"]),
                            void 0 !== e.maxMessageSize && i.push("a=max-message-size:" + e.maxMessageSize + "\r\n"),
                            i.join("")
                        );
                    }),
                    (e.generateSessionId = function () {
                        return Math.random().toString().substr(2, 21);
                    }),
                    (e.writeSessionBoilerplate = function (t, i, n) {
                        var s = void 0 !== i ? i : 2;
                        return "v=0\r\no=" + (n || "thisisadapterortc") + " " + (t || e.generateSessionId()) + " " + s + " IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\n";
                    }),
                    (e.writeMediaSection = function (t, i, n, s) {
                        var r = e.writeRtpDescription(t.kind, i);
                        if (
                            ((r += e.writeIceParameters(t.iceGatherer.getLocalParameters())),
                            (r += e.writeDtlsParameters(t.dtlsTransport.getLocalParameters(), "offer" === n ? "actpass" : "active")),
                            (r += "a=mid:" + t.mid + "\r\n"),
                            t.direction
                                ? (r += "a=" + t.direction + "\r\n")
                                : t.rtpSender && t.rtpReceiver
                                ? (r += "a=sendrecv\r\n")
                                : t.rtpSender
                                ? (r += "a=sendonly\r\n")
                                : t.rtpReceiver
                                ? (r += "a=recvonly\r\n")
                                : (r += "a=inactive\r\n"),
                            t.rtpSender)
                        ) {
                            var o = "msid:" + s.id + " " + t.rtpSender.track.id + "\r\n";
                            (r += "a=" + o),
                                (r += "a=ssrc:" + t.sendEncodingParameters[0].ssrc + " " + o),
                                t.sendEncodingParameters[0].rtx &&
                                    ((r += "a=ssrc:" + t.sendEncodingParameters[0].rtx.ssrc + " " + o), (r += "a=ssrc-group:FID " + t.sendEncodingParameters[0].ssrc + " " + t.sendEncodingParameters[0].rtx.ssrc + "\r\n"));
                        }
                        return (
                            (r += "a=ssrc:" + t.sendEncodingParameters[0].ssrc + " cname:" + e.localCName + "\r\n"),
                            t.rtpSender && t.sendEncodingParameters[0].rtx && (r += "a=ssrc:" + t.sendEncodingParameters[0].rtx.ssrc + " cname:" + e.localCName + "\r\n"),
                            r
                        );
                    }),
                    (e.getDirection = function (t, i) {
                        for (var n = e.splitLines(t), s = 0; s < n.length; s++)
                            switch (n[s]) {
                                case "a=sendrecv":
                                case "a=sendonly":
                                case "a=recvonly":
                                case "a=inactive":
                                    return n[s].substr(2);
                            }
                        return i ? e.getDirection(i) : "sendrecv";
                    }),
                    (e.getKind = function (t) {
                        return e.splitLines(t)[0].split(" ")[0].substr(2);
                    }),
                    (e.isRejected = function (t) {
                        return "0" === t.split(" ", 2)[1];
                    }),
                    (e.parseMLine = function (t) {
                        var i = e.splitLines(t)[0].substr(2).split(" ");
                        return { kind: i[0], port: parseInt(i[1], 10), protocol: i[2], fmt: i.slice(3).join(" ") };
                    }),
                    (e.parseOLine = function (t) {
                        var i = e.matchPrefix(t, "o=")[0].substr(2).split(" ");
                        return { username: i[0], sessionId: i[1], sessionVersion: parseInt(i[2], 10), netType: i[3], addressType: i[4], address: i[5] };
                    }),
                    (e.isValidSDP = function (t) {
                        if ("string" != typeof t || 0 === t.length) return !1;
                        for (var i = e.splitLines(t), n = 0; n < i.length; n++) if (i[n].length < 2 || "=" !== i[n].charAt(1)) return !1;
                        return !0;
                    }),
                    (t.exports = e);
            },
            4805: (t, e, i) => {
                "use strict";
                Object.defineProperty(e, "__esModule", { value: !0 }), (e.Socket = e.io = e.Manager = e.protocol = void 0);
                const n = i(273),
                    s = i(5200),
                    r = i(3363);
                Object.defineProperty(e, "Socket", {
                    enumerable: !0,
                    get: function () {
                        return r.Socket;
                    },
                });
                const o = i(5130)("socket.io-client");
                t.exports = e = l;
                const a = (e.managers = {});
                function l(t, e) {
                    "object" == typeof t && ((e = t), (t = void 0)), (e = e || {});
                    const i = n.url(t),
                        r = i.source,
                        l = i.id,
                        h = i.path,
                        c = a[l] && h in a[l].nsps;
                    let d;
                    return (
                        e.forceNew || e["force new connection"] || !1 === e.multiplex || c
                            ? (o("ignoring socket cache for %s", r), (d = new s.Manager(r, e)))
                            : (a[l] || (o("new io instance for %s", r), (a[l] = new s.Manager(r, e))), (d = a[l])),
                        i.query && !e.query && (e.query = i.query),
                        d.socket(i.path, e)
                    );
                }
                e.io = l;
                var h = i(8168);
                Object.defineProperty(e, "protocol", {
                    enumerable: !0,
                    get: function () {
                        return h.protocol;
                    },
                }),
                    (e.connect = l);
                var c = i(5200);
                Object.defineProperty(e, "Manager", {
                    enumerable: !0,
                    get: function () {
                        return c.Manager;
                    },
                });
            },
            5200: (t, e, i) => {
                "use strict";
                Object.defineProperty(e, "__esModule", { value: !0 }), (e.Manager = void 0);
                const n = i(4065),
                    s = i(3363),
                    r = i(7582),
                    o = i(8168),
                    a = i(494),
                    l = i(2150),
                    h = i(7911),
                    c = i(5130)("socket.io-client:manager");
                e.Manager = class extends r {
                    constructor(t, e) {
                        super(),
                            (this.nsps = {}),
                            (this.subs = []),
                            t && "object" == typeof t && ((e = t), (t = void 0)),
                            ((e = e || {}).path = e.path || "/socket.io"),
                            (this.opts = e),
                            this.reconnection(!1 !== e.reconnection),
                            this.reconnectionAttempts(e.reconnectionAttempts || 1 / 0),
                            this.reconnectionDelay(e.reconnectionDelay || 1e3),
                            this.reconnectionDelayMax(e.reconnectionDelayMax || 5e3),
                            this.randomizationFactor(e.randomizationFactor || 0.5),
                            (this.backoff = new h({ min: this.reconnectionDelay(), max: this.reconnectionDelayMax(), jitter: this.randomizationFactor() })),
                            this.timeout(null == e.timeout ? 2e4 : e.timeout),
                            (this._readyState = "closed"),
                            (this.uri = t);
                        const i = e.parser || o;
                        (this.encoder = new i.Encoder()), (this.decoder = new i.Decoder()), (this._autoConnect = !1 !== e.autoConnect), this._autoConnect && this.open();
                    }
                    reconnection(t) {
                        return arguments.length ? ((this._reconnection = !!t), this) : this._reconnection;
                    }
                    reconnectionAttempts(t) {
                        return void 0 === t ? this._reconnectionAttempts : ((this._reconnectionAttempts = t), this);
                    }
                    reconnectionDelay(t) {
                        var e;
                        return void 0 === t ? this._reconnectionDelay : ((this._reconnectionDelay = t), null === (e = this.backoff) || void 0 === e || e.setMin(t), this);
                    }
                    randomizationFactor(t) {
                        var e;
                        return void 0 === t ? this._randomizationFactor : ((this._randomizationFactor = t), null === (e = this.backoff) || void 0 === e || e.setJitter(t), this);
                    }
                    reconnectionDelayMax(t) {
                        var e;
                        return void 0 === t ? this._reconnectionDelayMax : ((this._reconnectionDelayMax = t), null === (e = this.backoff) || void 0 === e || e.setMax(t), this);
                    }
                    timeout(t) {
                        return arguments.length ? ((this._timeout = t), this) : this._timeout;
                    }
                    maybeReconnectOnOpen() {
                        !this._reconnecting && this._reconnection && 0 === this.backoff.attempts && this.reconnect();
                    }
                    open(t) {
                        if ((c("readyState %s", this._readyState), ~this._readyState.indexOf("open"))) return this;
                        c("opening %s", this.uri), (this.engine = n(this.uri, this.opts));
                        const e = this.engine,
                            i = this;
                        (this._readyState = "opening"), (this.skipReconnect = !1);
                        const s = a.on(e, "open", function () {
                                i.onopen(), t && t();
                            }),
                            r = a.on(e, "error", (e) => {
                                c("error"), i.cleanup(), (i._readyState = "closed"), super.emit("error", e), t ? t(e) : i.maybeReconnectOnOpen();
                            });
                        if (!1 !== this._timeout) {
                            const t = this._timeout;
                            c("connect attempt will timeout after %d", t), 0 === t && s.destroy();
                            const i = setTimeout(() => {
                                c("connect attempt timed out after %d", t), s.destroy(), e.close(), e.emit("error", new Error("timeout"));
                            }, t);
                            this.subs.push({
                                destroy: function () {
                                    clearTimeout(i);
                                },
                            });
                        }
                        return this.subs.push(s), this.subs.push(r), this;
                    }
                    connect(t) {
                        return this.open(t);
                    }
                    onopen() {
                        c("open"), this.cleanup(), (this._readyState = "open"), super.emit("open");
                        const t = this.engine;
                        this.subs.push(a.on(t, "data", l(this, "ondata")), a.on(t, "ping", l(this, "onping")), a.on(t, "error", l(this, "onerror")), a.on(t, "close", l(this, "onclose")), a.on(this.decoder, "decoded", l(this, "ondecoded")));
                    }
                    onping() {
                        super.emit("ping");
                    }
                    ondata(t) {
                        this.decoder.add(t);
                    }
                    ondecoded(t) {
                        super.emit("packet", t);
                    }
                    onerror(t) {
                        c("error", t), super.emit("error", t);
                    }
                    socket(t, e) {
                        let i = this.nsps[t];
                        return i || ((i = new s.Socket(this, t, e)), (this.nsps[t] = i)), i;
                    }
                    _destroy(t) {
                        const e = Object.keys(this.nsps);
                        for (const t of e) {
                            if (this.nsps[t].active) return void c("socket %s is still active, skipping close", t);
                        }
                        this._close();
                    }
                    _packet(t) {
                        c("writing packet %j", t), t.query && 0 === t.type && (t.nsp += "?" + t.query);
                        const e = this.encoder.encode(t);
                        for (let i = 0; i < e.length; i++) this.engine.write(e[i], t.options);
                    }
                    cleanup() {
                        c("cleanup");
                        const t = this.subs.length;
                        for (let e = 0; e < t; e++) {
                            this.subs.shift().destroy();
                        }
                        this.decoder.destroy();
                    }
                    _close() {
                        c("disconnect"), (this.skipReconnect = !0), (this._reconnecting = !1), "opening" === this._readyState && this.cleanup(), this.backoff.reset(), (this._readyState = "closed"), this.engine && this.engine.close();
                    }
                    disconnect() {
                        return this._close();
                    }
                    onclose(t) {
                        c("onclose"), this.cleanup(), this.backoff.reset(), (this._readyState = "closed"), super.emit("close", t), this._reconnection && !this.skipReconnect && this.reconnect();
                    }
                    reconnect() {
                        if (this._reconnecting || this.skipReconnect) return this;
                        const t = this;
                        if (this.backoff.attempts >= this._reconnectionAttempts) c("reconnect failed"), this.backoff.reset(), super.emit("reconnect_failed"), (this._reconnecting = !1);
                        else {
                            const e = this.backoff.duration();
                            c("will wait %dms before reconnect attempt", e), (this._reconnecting = !0);
                            const i = setTimeout(() => {
                                t.skipReconnect ||
                                    (c("attempting reconnect"),
                                    super.emit("reconnect_attempt", t.backoff.attempts),
                                    t.skipReconnect ||
                                        t.open((e) => {
                                            e ? (c("reconnect attempt error"), (t._reconnecting = !1), t.reconnect(), super.emit("reconnect_error", e)) : (c("reconnect success"), t.onreconnect());
                                        }));
                            }, e);
                            this.subs.push({
                                destroy: function () {
                                    clearTimeout(i);
                                },
                            });
                        }
                    }
                    onreconnect() {
                        const t = this.backoff.attempts;
                        (this._reconnecting = !1), this.backoff.reset(), super.emit("reconnect", t);
                    }
                };
            },
            494: (t, e) => {
                "use strict";
                Object.defineProperty(e, "__esModule", { value: !0 }),
                    (e.on = void 0),
                    (e.on = function (t, e, i) {
                        return (
                            t.on(e, i),
                            {
                                destroy: function () {
                                    t.off(e, i);
                                },
                            }
                        );
                    });
            },
            3363: (t, e, i) => {
                "use strict";
                Object.defineProperty(e, "__esModule", { value: !0 }), (e.Socket = void 0);
                const n = i(8168),
                    s = i(7582),
                    r = i(494),
                    o = i(2150),
                    a = i(5130)("socket.io-client:socket"),
                    l = Object.freeze({ connect: 1, connect_error: 1, disconnect: 1, disconnecting: 1, newListener: 1, removeListener: 1 });
                e.Socket = class extends s {
                    constructor(t, e, i) {
                        super(),
                            (this.ids = 0),
                            (this.acks = {}),
                            (this.receiveBuffer = []),
                            (this.sendBuffer = []),
                            (this.flags = {}),
                            (this.io = t),
                            (this.nsp = e),
                            (this.ids = 0),
                            (this.acks = {}),
                            (this.receiveBuffer = []),
                            (this.sendBuffer = []),
                            (this.connected = !1),
                            (this.disconnected = !0),
                            (this.flags = {}),
                            i && i.auth && (this.auth = i.auth),
                            this.io._autoConnect && this.open();
                    }
                    subEvents() {
                        if (this.subs) return;
                        const t = this.io;
                        this.subs = [r.on(t, "open", o(this, "onopen")), r.on(t, "packet", o(this, "onpacket")), r.on(t, "close", o(this, "onclose"))];
                    }
                    get active() {
                        return !!this.subs;
                    }
                    connect() {
                        return this.connected || (this.subEvents(), this.io._reconnecting || this.io.open(), "open" === this.io._readyState && this.onopen()), this;
                    }
                    open() {
                        return this.connect();
                    }
                    send(...t) {
                        return t.unshift("message"), this.emit.apply(this, t), this;
                    }
                    emit(t, ...e) {
                        if (l.hasOwnProperty(t)) throw new Error('"' + t + '" is a reserved event name');
                        e.unshift(t);
                        const i = { type: n.PacketType.EVENT, data: e, options: {} };
                        (i.options.compress = !1 !== this.flags.compress), "function" == typeof e[e.length - 1] && (a("emitting packet with ack id %d", this.ids), (this.acks[this.ids] = e.pop()), (i.id = this.ids++));
                        const s = this.io.engine && this.io.engine.transport && this.io.engine.transport.writable;
                        return this.flags.volatile && (!s || !this.connected) ? a("discard packet as the transport is not currently writable") : this.connected ? this.packet(i) : this.sendBuffer.push(i), (this.flags = {}), this;
                    }
                    packet(t) {
                        (t.nsp = this.nsp), this.io._packet(t);
                    }
                    onopen() {
                        a("transport is open - connecting"),
                            "function" == typeof this.auth
                                ? this.auth((t) => {
                                      this.packet({ type: n.PacketType.CONNECT, data: t });
                                  })
                                : this.packet({ type: n.PacketType.CONNECT, data: this.auth });
                    }
                    onclose(t) {
                        a("close (%s)", t), (this.connected = !1), (this.disconnected = !0), delete this.id, super.emit("disconnect", t);
                    }
                    onpacket(t) {
                        if (t.nsp === this.nsp)
                            switch (t.type) {
                                case n.PacketType.CONNECT:
                                    if (t.data && t.data.sid) {
                                        const e = t.data.sid;
                                        this.onconnect(e);
                                    } else
                                        super.emit(
                                            "connect_error",
                                            new Error(
                                                "It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"
                                            )
                                        );
                                    break;
                                case n.PacketType.EVENT:
                                case n.PacketType.BINARY_EVENT:
                                    this.onevent(t);
                                    break;
                                case n.PacketType.ACK:
                                case n.PacketType.BINARY_ACK:
                                    this.onack(t);
                                    break;
                                case n.PacketType.DISCONNECT:
                                    this.ondisconnect();
                                    break;
                                case n.PacketType.CONNECT_ERROR:
                                    const e = new Error(t.data.message);
                                    (e.data = t.data.data), super.emit("connect_error", e);
                            }
                    }
                    onevent(t) {
                        const e = t.data || [];
                        a("emitting event %j", e), null != t.id && (a("attaching ack callback to event"), e.push(this.ack(t.id))), this.connected ? this.emitEvent(e) : this.receiveBuffer.push(Object.freeze(e));
                    }
                    emitEvent(t) {
                        if (this._anyListeners && this._anyListeners.length) {
                            const e = this._anyListeners.slice();
                            for (const i of e) i.apply(this, t);
                        }
                        super.emit.apply(this, t);
                    }
                    ack(t) {
                        const e = this;
                        let i = !1;
                        return function (...s) {
                            i || ((i = !0), a("sending ack %j", s), e.packet({ type: n.PacketType.ACK, id: t, data: s }));
                        };
                    }
                    onack(t) {
                        const e = this.acks[t.id];
                        "function" == typeof e ? (a("calling ack %s with %j", t.id, t.data), e.apply(this, t.data), delete this.acks[t.id]) : a("bad ack %s", t.id);
                    }
                    onconnect(t) {
                        a("socket connected with id %s", t), (this.id = t), (this.connected = !0), (this.disconnected = !1), super.emit("connect"), this.emitBuffered();
                    }
                    emitBuffered() {
                        this.receiveBuffer.forEach((t) => this.emitEvent(t)), (this.receiveBuffer = []), this.sendBuffer.forEach((t) => this.packet(t)), (this.sendBuffer = []);
                    }
                    ondisconnect() {
                        a("server disconnect (%s)", this.nsp), this.destroy(), this.onclose("io server disconnect");
                    }
                    destroy() {
                        if (this.subs) {
                            for (let t = 0; t < this.subs.length; t++) this.subs[t].destroy();
                            this.subs = null;
                        }
                        this.io._destroy(this);
                    }
                    disconnect() {
                        return this.connected && (a("performing disconnect (%s)", this.nsp), this.packet({ type: n.PacketType.DISCONNECT })), this.destroy(), this.connected && this.onclose("io client disconnect"), this;
                    }
                    close() {
                        return this.disconnect();
                    }
                    compress(t) {
                        return (this.flags.compress = t), this;
                    }
                    get volatile() {
                        return (this.flags.volatile = !0), this;
                    }
                    onAny(t) {
                        return (this._anyListeners = this._anyListeners || []), this._anyListeners.push(t), this;
                    }
                    prependAny(t) {
                        return (this._anyListeners = this._anyListeners || []), this._anyListeners.unshift(t), this;
                    }
                    offAny(t) {
                        if (!this._anyListeners) return this;
                        if (t) {
                            const e = this._anyListeners;
                            for (let i = 0; i < e.length; i++) if (t === e[i]) return e.splice(i, 1), this;
                        } else this._anyListeners = [];
                        return this;
                    }
                    listenersAny() {
                        return this._anyListeners || [];
                    }
                };
            },
            273: (t, e, i) => {
                "use strict";
                Object.defineProperty(e, "__esModule", { value: !0 }), (e.url = void 0);
                const n = i(4243),
                    s = i(5130)("socket.io-client:url");
                e.url = function (t, e) {
                    let i = t;
                    (e = e || ("undefined" != typeof location && location)),
                        null == t && (t = e.protocol + "//" + e.host),
                        "string" == typeof t &&
                            ("/" === t.charAt(0) && (t = "/" === t.charAt(1) ? e.protocol + t : e.host + t),
                            /^(https?|wss?):\/\//.test(t) || (s("protocol-less url %s", t), (t = void 0 !== e ? e.protocol + "//" + t : "https://" + t)),
                            s("parse %s", t),
                            (i = n(t))),
                        i.port || (/^(http|ws)$/.test(i.protocol) ? (i.port = "80") : /^(http|ws)s$/.test(i.protocol) && (i.port = "443")),
                        (i.path = i.path || "/");
                    const r = -1 !== i.host.indexOf(":") ? "[" + i.host + "]" : i.host;
                    return (i.id = i.protocol + "://" + r + ":" + i.port), (i.href = i.protocol + "://" + r + (e && e.port === i.port ? "" : ":" + i.port)), i;
                };
            },
            52: (t, e, i) => {
                "use strict";
                Object.defineProperty(e, "__esModule", { value: !0 }), (e.reconstructPacket = e.deconstructPacket = void 0);
                const n = i(1893);
                function s(t, e) {
                    if (!t) return t;
                    if (n.isBinary(t)) {
                        const i = { _placeholder: !0, num: e.length };
                        return e.push(t), i;
                    }
                    if (Array.isArray(t)) {
                        const i = new Array(t.length);
                        for (let n = 0; n < t.length; n++) i[n] = s(t[n], e);
                        return i;
                    }
                    if ("object" == typeof t && !(t instanceof Date)) {
                        const i = {};
                        for (const n in t) t.hasOwnProperty(n) && (i[n] = s(t[n], e));
                        return i;
                    }
                    return t;
                }
                function r(t, e) {
                    if (!t) return t;
                    if (t && t._placeholder) return e[t.num];
                    if (Array.isArray(t)) for (let i = 0; i < t.length; i++) t[i] = r(t[i], e);
                    else if ("object" == typeof t) for (const i in t) t.hasOwnProperty(i) && (t[i] = r(t[i], e));
                    return t;
                }
                (e.deconstructPacket = function (t) {
                    const e = [],
                        i = t.data,
                        n = t;
                    return (n.data = s(i, e)), (n.attachments = e.length), { packet: n, buffers: e };
                }),
                    (e.reconstructPacket = function (t, e) {
                        return (t.data = r(t.data, e)), (t.attachments = void 0), t;
                    });
            },
            8168: (t, e, i) => {
                "use strict";
                Object.defineProperty(e, "__esModule", { value: !0 }), (e.Decoder = e.Encoder = e.PacketType = e.protocol = void 0);
                const n = i(7582),
                    s = i(52),
                    r = i(1893),
                    o = i(5130)("socket.io-parser");
                var a;
                (e.protocol = 5),
                    (function (t) {
                        (t[(t.CONNECT = 0)] = "CONNECT"),
                            (t[(t.DISCONNECT = 1)] = "DISCONNECT"),
                            (t[(t.EVENT = 2)] = "EVENT"),
                            (t[(t.ACK = 3)] = "ACK"),
                            (t[(t.CONNECT_ERROR = 4)] = "CONNECT_ERROR"),
                            (t[(t.BINARY_EVENT = 5)] = "BINARY_EVENT"),
                            (t[(t.BINARY_ACK = 6)] = "BINARY_ACK");
                    })((a = e.PacketType || (e.PacketType = {})));
                e.Encoder = class {
                    encode(t) {
                        return o("encoding packet %j", t), (t.type !== a.EVENT && t.type !== a.ACK) || !r.hasBinary(t) ? [this.encodeAsString(t)] : ((t.type = t.type === a.EVENT ? a.BINARY_EVENT : a.BINARY_ACK), this.encodeAsBinary(t));
                    }
                    encodeAsString(t) {
                        let e = "" + t.type;
                        return (
                            (t.type !== a.BINARY_EVENT && t.type !== a.BINARY_ACK) || (e += t.attachments + "-"),
                            t.nsp && "/" !== t.nsp && (e += t.nsp + ","),
                            null != t.id && (e += t.id),
                            null != t.data && (e += JSON.stringify(t.data)),
                            o("encoded %j as %s", t, e),
                            e
                        );
                    }
                    encodeAsBinary(t) {
                        const e = s.deconstructPacket(t),
                            i = this.encodeAsString(e.packet),
                            n = e.buffers;
                        return n.unshift(i), n;
                    }
                };
                class l extends n {
                    constructor() {
                        super();
                    }
                    add(t) {
                        let e;
                        if ("string" == typeof t)
                            (e = this.decodeString(t)), e.type === a.BINARY_EVENT || e.type === a.BINARY_ACK ? ((this.reconstructor = new h(e)), 0 === e.attachments && super.emit("decoded", e)) : super.emit("decoded", e);
                        else {
                            if (!r.isBinary(t) && !t.base64) throw new Error("Unknown type: " + t);
                            if (!this.reconstructor) throw new Error("got binary data when not reconstructing a packet");
                            (e = this.reconstructor.takeBinaryData(t)), e && ((this.reconstructor = null), super.emit("decoded", e));
                        }
                    }
                    decodeString(t) {
                        let e = 0;
                        const i = { type: Number(t.charAt(0)) };
                        if (void 0 === a[i.type]) throw new Error("unknown packet type " + i.type);
                        if (i.type === a.BINARY_EVENT || i.type === a.BINARY_ACK) {
                            const n = e + 1;
                            for (; "-" !== t.charAt(++e) && e != t.length; );
                            const s = t.substring(n, e);
                            if (s != Number(s) || "-" !== t.charAt(e)) throw new Error("Illegal attachments");
                            i.attachments = Number(s);
                        }
                        if ("/" === t.charAt(e + 1)) {
                            const n = e + 1;
                            for (; ++e; ) {
                                if ("," === t.charAt(e)) break;
                                if (e === t.length) break;
                            }
                            i.nsp = t.substring(n, e);
                        } else i.nsp = "/";
                        const n = t.charAt(e + 1);
                        if ("" !== n && Number(n) == n) {
                            const n = e + 1;
                            for (; ++e; ) {
                                const i = t.charAt(e);
                                if (null == i || Number(i) != i) {
                                    --e;
                                    break;
                                }
                                if (e === t.length) break;
                            }
                            i.id = Number(t.substring(n, e + 1));
                        }
                        if (t.charAt(++e)) {
                            const n = (function (t) {
                                try {
                                    return JSON.parse(t);
                                } catch (t) {
                                    return !1;
                                }
                            })(t.substr(e));
                            if (!l.isPayloadValid(i.type, n)) throw new Error("invalid payload");
                            i.data = n;
                        }
                        return o("decoded %s as %j", t, i), i;
                    }
                    static isPayloadValid(t, e) {
                        switch (t) {
                            case a.CONNECT:
                                return "object" == typeof e;
                            case a.DISCONNECT:
                                return void 0 === e;
                            case a.CONNECT_ERROR:
                                return "string" == typeof e || "object" == typeof e;
                            case a.EVENT:
                            case a.BINARY_EVENT:
                                return Array.isArray(e) && "string" == typeof e[0];
                            case a.ACK:
                            case a.BINARY_ACK:
                                return Array.isArray(e);
                        }
                    }
                    destroy() {
                        this.reconstructor && this.reconstructor.finishedReconstruction();
                    }
                }
                e.Decoder = l;
                class h {
                    constructor(t) {
                        (this.packet = t), (this.buffers = []), (this.reconPack = t);
                    }
                    takeBinaryData(t) {
                        if ((this.buffers.push(t), this.buffers.length === this.reconPack.attachments)) {
                            const t = s.reconstructPacket(this.reconPack, this.buffers);
                            return this.finishedReconstruction(), t;
                        }
                        return null;
                    }
                    finishedReconstruction() {
                        (this.reconPack = null), (this.buffers = []);
                    }
                }
            },
            1893: (t, e) => {
                "use strict";
                Object.defineProperty(e, "__esModule", { value: !0 }), (e.hasBinary = e.isBinary = void 0);
                const i = "function" == typeof ArrayBuffer,
                    n = Object.prototype.toString,
                    s = "function" == typeof Blob || ("undefined" != typeof Blob && "[object BlobConstructor]" === n.call(Blob)),
                    r = "function" == typeof File || ("undefined" != typeof File && "[object FileConstructor]" === n.call(File));
                function o(t) {
                    return (i && (t instanceof ArrayBuffer || ((t) => ("function" == typeof ArrayBuffer.isView ? ArrayBuffer.isView(t) : t.buffer instanceof ArrayBuffer))(t))) || (s && t instanceof Blob) || (r && t instanceof File);
                }
                (e.isBinary = o),
                    (e.hasBinary = function t(e, i) {
                        if (!e || "object" != typeof e) return !1;
                        if (Array.isArray(e)) {
                            for (let i = 0, n = e.length; i < n; i++) if (t(e[i])) return !0;
                            return !1;
                        }
                        if (o(e)) return !0;
                        if (e.toJSON && "function" == typeof e.toJSON && 1 === arguments.length) return t(e.toJSON(), !0);
                        for (const i in e) if (Object.prototype.hasOwnProperty.call(e, i) && t(e[i])) return !0;
                        return !1;
                    });
            },
            3036: (t, e, i) => {
                "use strict";
                i.d(e, { Gr: () => j, Dd: () => v, iC: () => h, UT: () => f });
                class n {}
                class s {
                    constructor(t) {
                        (this.webixJet = !0), (this.webix = t), (this._events = []), (this._subs = {}), (this._data = {});
                    }
                    getRoot() {
                        return this._root;
                    }
                    destructor() {
                        this._detachEvents(), this._destroySubs(), (this._events = this._container = this.app = this._parent = this._root = null);
                    }
                    setParam(t, e, i) {
                        if (this._data[t] !== e && ((this._data[t] = e), this._segment.update(t, e, 0), i)) return this.show(null);
                    }
                    getParam(t, e) {
                        const i = this._data[t];
                        if (void 0 !== i || !e) return i;
                        const n = this.getParentView();
                        return n ? n.getParam(t, e) : void 0;
                    }
                    getUrl() {
                        return this._segment.suburl();
                    }
                    getUrlString() {
                        return this._segment.toString();
                    }
                    getParentView() {
                        return this._parent;
                    }
                    $$(t) {
                        if ("string" == typeof t) {
                            const e = this.getRoot();
                            return e.queryView((i) => (i.config.id === t || i.config.localId === t) && i.$scope === e.$scope, "self");
                        }
                        return t;
                    }
                    on(t, e, i) {
                        const n = t.attachEvent(e, i);
                        return this._events.push({ obj: t, id: n }), n;
                    }
                    contains(t) {
                        for (const e in this._subs) {
                            const i = this._subs[e].view;
                            if (i === t || i.contains(t)) return !0;
                        }
                        return !1;
                    }
                    getSubView(t) {
                        const e = this.getSubViewInfo(t);
                        if (e) return e.subview.view;
                    }
                    getSubViewInfo(t) {
                        const e = this._subs[t || "default"];
                        return e ? { subview: e, parent: this } : "_top" === t ? ((this._subs[t] = { url: "", id: null, popup: !0 }), this.getSubViewInfo(t)) : this._parent ? this._parent.getSubViewInfo(t) : null;
                    }
                    _detachEvents() {
                        const t = this._events;
                        for (let e = t.length - 1; e >= 0; e--) t[e].obj.detachEvent(t[e].id);
                    }
                    _destroySubs() {
                        for (const t in this._subs) {
                            const e = this._subs[t].view;
                            e && e.destructor();
                        }
                        this._subs = {};
                    }
                    _init_url_data() {
                        const t = this._segment.current();
                        (this._data = {}), this.webix.extend(this._data, t.params, !0);
                    }
                    _getDefaultSub() {
                        if (this._subs.default) return this._subs.default;
                        for (const t in this._subs) {
                            const e = this._subs[t];
                            if (!e.branch && e.view && "_top" !== t) {
                                const t = e.view._getDefaultSub();
                                if (t) return t;
                            }
                        }
                    }
                    _routed_view() {
                        const t = this.getParentView();
                        if (!t) return !0;
                        const e = t._getDefaultSub();
                        return !(!e && e !== this) && t._routed_view();
                    }
                }
                function r(t) {
                    "/" === t[0] && (t = t.substr(1));
                    const e = t.split("/"),
                        i = [];
                    for (let t = 0; t < e.length; t++) {
                        const n = e[t],
                            s = {};
                        let r = n.indexOf(":");
                        if ((-1 === r && (r = n.indexOf("?")), -1 !== r)) {
                            const t = n.substr(r + 1).split(/[\:\?\&]/g);
                            for (const e of t) {
                                const t = e.split("=");
                                s[t[0]] = decodeURIComponent(t[1]);
                            }
                        }
                        i[t] = { page: r > -1 ? n.substr(0, r) : n, params: s, isNew: !0 };
                    }
                    return i;
                }
                function o(t) {
                    const e = [];
                    for (const i of t) {
                        e.push("/" + i.page);
                        const t = a(i.params);
                        t && e.push("?" + t);
                    }
                    return e.join("");
                }
                function a(t) {
                    const e = [];
                    for (const i in t) e.length && e.push("&"), e.push(i + "=" + encodeURIComponent(t[i]));
                    return e.join("");
                }
                class l {
                    constructor(t, e) {
                        (this._next = 1), (this.route = "string" == typeof t ? { url: r(t), path: t } : t), (this.index = e);
                    }
                    current() {
                        return this.route.url[this.index];
                    }
                    next() {
                        return this.route.url[this.index + this._next];
                    }
                    suburl() {
                        return this.route.url.slice(this.index);
                    }
                    shift() {
                        return new l(this.route, this.index + this._next);
                    }
                    refresh() {
                        const t = this.route.url;
                        for (let e = this.index + 1; e < t.length; e++) t[e].isNew = !0;
                    }
                    toString() {
                        const t = o(this.suburl());
                        return t ? t.substr(1) : "";
                    }
                    _join(t, e) {
                        let i = this.route.url;
                        if (null === t) return i;
                        const n = this.route.url;
                        if (((i = n.slice(0, this.index + (e ? this._next : 0))), t)) {
                            i = i.concat(r(t));
                            for (let t = 0; t < i.length; t++) n[t] && (i[t].view = n[t].view), n[t] && i[t].page === n[t].page && (i[t].isNew = !1);
                        }
                        return i;
                    }
                    append(t) {
                        const e = this._join(t, !0);
                        return (this.route.path = o(e)), (this.route.url = e), this.route.path;
                    }
                    show(t, e, i) {
                        const s = this._join(t, i);
                        return new Promise((t, i) => {
                            const r = o(s),
                                a = { url: s, redirect: r, confirm: Promise.resolve() },
                                l = e ? e.app : null;
                            if (l) {
                                if (!l.callEvent("app:guard", [a.redirect, e, a])) return void i(new n());
                            }
                            a.confirm
                                .catch((t) => i(t))
                                .then(() => {
                                    if (null !== a.redirect) {
                                        if (a.redirect !== r) return l.show(a.redirect), void i(new n());
                                        (this.route.path = r), (this.route.url = s), t();
                                    } else i(new n());
                                });
                        });
                    }
                    size(t) {
                        this._next = t;
                    }
                    split() {
                        const t = { url: this.route.url.slice(this.index + 1), path: "" };
                        return t.url.length && (t.path = o(t.url)), new l(t, 0);
                    }
                    update(t, e, i) {
                        const n = this.route.url[this.index + (i || 0)];
                        if (!n) return this.route.url.push({ page: "", params: {} }), this.update(t, e, i);
                        "" === t ? (n.page = e) : (n.params[t] = e), (this.route.path = o(this.route.url));
                    }
                }
                class h extends s {
                    constructor(t, e) {
                        super(t.webix), (this.app = t), (this._children = []);
                    }
                    ui(t, e) {
                        const i = (e = e || {}).container || t.container,
                            n = this.app.createView(t);
                        return this._children.push(n), n.render(i, this._segment, this), "object" != typeof t || t instanceof s ? n : n.getRoot();
                    }
                    show(t, e) {
                        if (((e = e || {}), "object" == typeof t)) {
                            for (const e in t) this.setParam(e, t[e]);
                            t = null;
                        } else {
                            if ("/" === t.substr(0, 1)) return this.app.show(t);
                            if ((0 === t.indexOf("./") && (t = t.substr(2)), 0 === t.indexOf("../"))) {
                                const i = this.getParentView();
                                return i ? i.show(t.substr(3), e) : this.app.show("/" + t.substr(3));
                            }
                            const i = this.getSubViewInfo(e.target);
                            if (i) {
                                if (i.parent !== this) return i.parent.show(t, e);
                                if (e.target && "default" !== e.target) return this._renderFrameLock(e.target, i.subview, t);
                            } else if (t) return this.app.show("/" + t);
                        }
                        return this._show(this._segment, t, this);
                    }
                    _show(t, e, i) {
                        return t
                            .show(e, i, !0)
                            .then(() => (this._init_url_data(), this._urlChange()))
                            .then(() => {
                                t.route.linkRouter && (this.app.getRouter().set(t.route.path, { silent: !0 }), this.app.callEvent("app:route", [t.route.path]));
                            });
                    }
                    init(t, e) {}
                    ready(t, e) {}
                    config() {
                        this.app.webix.message("View:Config is not implemented");
                    }
                    urlChange(t, e) {}
                    destroy() {}
                    destructor() {
                        this.destroy(), this._destroyKids(), this._root.destructor(), super.destructor();
                    }
                    use(t, e) {
                        t(this.app, this, e);
                    }
                    refresh() {
                        this.getUrl();
                        return this.destroy(), this._destroyKids(), this._destroySubs(), this._detachEvents(), this._container.tagName && this._root.destructor(), this._segment.refresh(), this._render(this._segment);
                    }
                    render(t, e, i) {
                        "string" == typeof e && (e = new l(e, 0)), (this._segment = e), (this._parent = i), this._init_url_data();
                        const n = "string" == typeof (t = t || document.body) ? this.webix.toNode(t) : t;
                        return this._container !== n ? ((this._container = n), this._render(e)) : this._urlChange().then(() => this.getRoot());
                    }
                    _render(t) {
                        const e = this.config();
                        return e.then ? e.then((e) => this._render_final(e, t)) : this._render_final(e, t);
                    }
                    _render_final(t, e) {
                        let i,
                            n = null,
                            s = null,
                            r = !1;
                        if ((this._container.tagName ? (s = this._container) : ((n = this._container), n.popup ? ((s = document.body), (r = !0)) : (s = this.webix.$$(n.id))), !this.app || !s)) return Promise.reject(null);
                        const o = this._segment.current(),
                            a = { ui: {} };
                        this.app.copyConfig(t, a.ui, this._subs), this.app.callEvent("app:render", [this, e, a]), (a.ui.$scope = this), !n && o.isNew && o.view && o.view.destructor();
                        try {
                            if (n && !r) {
                                const t = s,
                                    e = t.getParentView();
                                e && "multiview" === e.name && !a.ui.id && (a.ui.id = t.config.id);
                            }
                            this._root = this.app.webix.ui(a.ui, s);
                            const t = this._root;
                            r && t.setPosition && !t.isVisible() && t.show(),
                                n && (n.view && n.view !== this && n.view !== this.app && n.view.destructor(), (n.id = this._root.config.id), this.getParentView() || !this.app.app ? (n.view = this) : (n.view = this.app)),
                                o.isNew && ((o.view = this), (o.isNew = !1)),
                                (i = Promise.resolve(this._init(this._root, e)).then(() => this._urlChange().then(() => ((this._initUrl = null), this.ready(this._root, e.suburl())))));
                        } catch (t) {
                            i = Promise.reject(t);
                        }
                        return i.catch((t) => this._initError(this, t));
                    }
                    _init(t, e) {
                        return this.init(t, e.suburl());
                    }
                    _urlChange() {
                        this.app.callEvent("app:urlchange", [this, this._segment]);
                        const t = [];
                        for (const e in this._subs) {
                            const i = this._subs[e],
                                n = this._renderFrameLock(e, i, null);
                            n && t.push(n);
                        }
                        return Promise.all(t).then(() => this.urlChange(this._root, this._segment.suburl()));
                    }
                    _renderFrameLock(t, e, i) {
                        if (!e.lock) {
                            const n = this._renderFrame(t, e, i);
                            n &&
                                (e.lock = n.then(
                                    () => (e.lock = null),
                                    () => (e.lock = null)
                                ));
                        }
                        return e.lock;
                    }
                    _renderFrame(t, e, i) {
                        if ("default" === t) {
                            if (this._segment.next()) return this._createSubView(e, this._segment.shift());
                            e.view && e.popup && (e.view.destructor(), (e.view = null));
                        }
                        if ((null !== i && (e.url = i), e.route)) {
                            if (null !== i) return e.route.show(i, e.view).then(() => this._createSubView(e, e.route));
                            if (e.branch) return;
                        }
                        let n = e.view;
                        if (!n && e.url) {
                            if ("string" == typeof e.url) return (e.route = new l(e.url, 0)), this._createSubView(e, e.route);
                            "function" != typeof e.url || n instanceof e.url || (n = new e.url(this.app, "")), n || (n = e.url);
                        }
                        if (n) return n.render(e, e.route || this._segment, this);
                    }
                    _initError(t, e) {
                        return this.app && this.app.error("app:error:initview", [e, t]), !0;
                    }
                    _createSubView(t, e) {
                        return this.app.createFromURL(e.current()).then((i) => i.render(t, e, this));
                    }
                    _destroyKids() {
                        const t = this._children;
                        for (let e = t.length - 1; e >= 0; e--) t[e] && t[e].destructor && t[e].destructor();
                        this._children = [];
                    }
                }
                class c extends h {
                    constructor(t, e) {
                        super(t, e), (this._ui = e.ui);
                    }
                    config() {
                        return this._ui;
                    }
                }
                class d {
                    constructor(t, e, i) {
                        (this.path = ""), (this.app = i);
                    }
                    set(t, e) {
                        this.path = t;
                        const i = this.app;
                        i.app.getRouter().set(i._segment.append(this.path), { silent: !0 });
                    }
                    get() {
                        return this.path;
                    }
                }
                let u = !0;
                class p extends s {
                    constructor(t) {
                        super((t || {}).webix || window.webix),
                            (this.config = this.webix.extend({ name: "App", version: "1.0", start: "/home" }, t, !0)),
                            (this.app = this.config.app),
                            (this.ready = Promise.resolve()),
                            (this._services = {}),
                            this.webix.extend(this, this.webix.EventSystem);
                    }
                    getUrl() {
                        return this._subSegment.suburl();
                    }
                    getUrlString() {
                        return this._subSegment.toString();
                    }
                    getService(t) {
                        let e = this._services[t];
                        return "function" == typeof e && (e = this._services[t] = e(this)), e;
                    }
                    setService(t, e) {
                        this._services[t] = e;
                    }
                    destructor() {
                        this.getSubView().destructor(), super.destructor();
                    }
                    copyConfig(t, e, i) {
                        if (((t instanceof s || ("function" == typeof t && t.prototype instanceof s)) && (t = { $subview: t }), void 0 !== t.$subview)) return this.addSubView(t, e, i);
                        e = e || (t instanceof Array ? [] : {});
                        for (const n in t) {
                            let r = t[n];
                            if (("function" == typeof r && r.prototype instanceof s && (r = { $subview: r }), !r || "object" != typeof r || r instanceof this.webix.DataCollection || r instanceof RegExp || r instanceof Map)) e[n] = r;
                            else if (r instanceof Date) e[n] = new Date(r);
                            else {
                                const t = this.copyConfig(r, r instanceof Array ? [] : {}, i);
                                null !== t && (e[n] = t);
                            }
                        }
                        return e;
                    }
                    getRouter() {
                        return this.$router;
                    }
                    clickHandler(t, e) {
                        if (t && (e = e || t.target || t.srcElement) && e.getAttribute) {
                            const i = e.getAttribute("trigger");
                            if (i) return this._forView(e, (t) => t.app.trigger(i)), (t.cancelBubble = !0), t.preventDefault();
                            const n = e.getAttribute("route");
                            if (n) return this._forView(e, (t) => t.show(n)), (t.cancelBubble = !0), t.preventDefault();
                        }
                        const i = e.parentNode;
                        i && this.clickHandler(t, i);
                    }
                    getRoot() {
                        return this.getSubView().getRoot();
                    }
                    refresh() {
                        return this._subSegment
                            ? this.getSubView()
                                  .refresh()
                                  .then((t) => (this.callEvent("app:route", [this.getUrl()]), t))
                            : Promise.resolve(null);
                    }
                    loadView(t) {
                        const e = this.config.views;
                        let i = null;
                        if ("" === t) return Promise.resolve(this._loadError("", new Error("Webix Jet: Empty url segment")));
                        try {
                            e && ((i = "function" == typeof e ? e(t) : e[t]), "string" == typeof i && ((t = i), (i = null))), i || (i = "_blank" === t ? {} : this._loadViewDynamic(t));
                        } catch (e) {
                            i = this._loadError(t, e);
                        }
                        return i.then || (i = Promise.resolve(i)), (i = i.then((t) => (t.__esModule ? t.default : t)).catch((e) => this._loadError(t, e))), i;
                    }
                    _forView(t, e) {
                        const i = this.webix.$$(t);
                        i && e(i.$scope);
                    }
                    _loadViewDynamic(t) {
                        return null;
                    }
                    createFromURL(t) {
                        let e;
                        return (e = t.isNew || !t.view ? this.loadView(t.page).then((t) => this.createView(t, name)) : Promise.resolve(t.view)), e;
                    }
                    createView(t, e) {
                        let i;
                        if ("function" == typeof t) {
                            if (t.prototype instanceof p) return new t({ app: this, name: e, router: d });
                            if (t.prototype instanceof s) return new t(this, { name: e });
                            t = t(this);
                        }
                        return (i = t instanceof s ? t : new c(this, { name: e, ui: t })), i;
                    }
                    show(t) {
                        return this.render(this._container, t || this.config.start);
                    }
                    trigger(t, ...e) {
                        this.apply(t, e);
                    }
                    apply(t, e) {
                        this.callEvent(t, e);
                    }
                    action(t) {
                        return this.webix.bind(function (...e) {
                            this.apply(t, e);
                        }, this);
                    }
                    on(t, e) {
                        this.attachEvent(t, e);
                    }
                    use(t, e) {
                        t(this, null, e);
                    }
                    error(t, e) {
                        if ((this.callEvent(t, e), this.callEvent("app:error", e), this.config.debug))
                            for (var i = 0; i < e.length; i++)
                                if ((console.error(e[i]), e[i] instanceof Error)) {
                                    let t = e[i].message;
                                    0 === t.indexOf("Module build failed")
                                        ? ((t = t.replace(/\x1b\[[0-9;]*m/g, "")), (document.body.innerHTML = `<pre style='font-size:16px; background-color: #ec6873; color: #000; padding:10px;'>${t}</pre>`))
                                        : ((t += "<br><br>Check console for more details"), this.webix.message({ type: "error", text: t, expire: -1 }));
                                }
                    }
                    render(t, e, i) {
                        this._container = "string" == typeof t ? this.webix.toNode(t) : t || document.body;
                        let n = null;
                        !this.$router
                            ? (u && "tagName" in this._container && (this.webix.event(document.body, "click", (t) => this.clickHandler(t)), (u = !1)),
                              "string" == typeof e && (e = new l(e, 0)),
                              (this._subSegment = this._first_start(e)),
                              (this._subSegment.route.linkRouter = !0))
                            : (n = "string" == typeof e ? e : this.app ? e.split().route.path || this.config.start : e.toString());
                        const s = this.getSubView(),
                            r = this._subSegment,
                            o = r
                                .show(n, s)
                                .then(() => this.createFromURL(r.current()))
                                .then((e) => e.render(t, r))
                                .then((t) => (this.$router.set(r.route.path, { silent: !0 }), this.callEvent("app:route", [this.getUrl()]), t));
                        return (this.ready = this.ready.then(() => o)), o;
                    }
                    getSubView() {
                        if (this._subSegment) {
                            const t = this._subSegment.current().view;
                            if (t) return t;
                        }
                        return new h(this, {});
                    }
                    _first_start(t) {
                        this._segment = t;
                        if (
                            ((this.$router = new this.config.router(
                                (t) =>
                                    setTimeout(() => {
                                        this.show(t).catch((t) => {
                                            if (!(t instanceof n)) throw t;
                                        });
                                    }, 1),
                                this.config,
                                this
                            )),
                            this._container === document.body && !1 !== this.config.animation)
                        ) {
                            const t = this._container;
                            this.webix.html.addCss(t, "webixappstart"),
                                setTimeout(() => {
                                    this.webix.html.removeCss(t, "webixappstart"), this.webix.html.addCss(t, "webixapp");
                                }, 10);
                        }
                        if (t) this.app && ((t.current().view = this), t.next() ? (t.refresh(), (t = t.split())) : (t = new l(this.config.start, 0)));
                        else {
                            let e = this.$router.get();
                            e || ((e = this.config.start), this.$router.set(e, { silent: !0 })), (t = new l(e, 0));
                        }
                        return t;
                    }
                    _loadError(t, e) {
                        return this.error("app:error:resolve", [e, t]), { template: " " };
                    }
                    addSubView(t, e, i) {
                        const n = !0 !== t.$subview ? t.$subview : null,
                            s = t.name || (n ? this.webix.uid() : "default");
                        e.id = t.id || "s" + this.webix.uid();
                        return (i[s] = { id: e.id, url: n, branch: t.branch, popup: t.popup }).popup ? null : e;
                    }
                }
                class f {
                    constructor(t, e) {
                        (this.config = e || {}), this._detectPrefix(), (this.cb = t), (window.onpopstate = () => this.cb(this.get()));
                    }
                    set(t, e) {
                        if (this.config.routes) {
                            const e = t.split("?", 2);
                            for (const i in this.config.routes)
                                if (this.config.routes[i] === e[0]) {
                                    t = i + (e.length > 1 ? "?" + e[1] : "");
                                    break;
                                }
                        }
                        this.get() !== t && window.history.pushState(null, null, this.prefix + this.sufix + t), (e && e.silent) || setTimeout(() => this.cb(t), 1);
                    }
                    get() {
                        let t = this._getRaw().replace(this.prefix, "").replace(this.sufix, "");
                        if (((t = "/" !== t && "#" !== t ? t : ""), this.config.routes)) {
                            const e = t.split("?", 2),
                                i = this.config.routes[e[0]];
                            i && (t = i + (e.length > 1 ? "?" + e[1] : ""));
                        }
                        return t;
                    }
                    _detectPrefix() {
                        const t = this.config.routerPrefix;
                        (this.sufix = "#" + (void 0 === t ? "!" : t)), (this.prefix = document.location.href.split("#", 2)[0]);
                    }
                    _getRaw() {
                        return document.location.href;
                    }
                }
                let m = !1;
                function g(t) {
                    if (m || !t) return;
                    m = !0;
                    const e = window;
                    e.Promise || (e.Promise = t.promise);
                    const i = t.version.split(".");
                    10 * i[0] + 1 * i[1] < 53 &&
                        (t.ui.freeze = function (e) {
                            const i = e();
                            return (
                                i && i.then
                                    ? i.then(function (e) {
                                          return (t.ui.$freeze = !1), t.ui.resize(), e;
                                      })
                                    : ((t.ui.$freeze = !1), t.ui.resize()),
                                i
                            );
                        });
                    const n = t.ui.baselayout.prototype.addView,
                        s = t.ui.baselayout.prototype.removeView,
                        r = {
                            addView(t, e) {
                                if (this.$scope && this.$scope.webixJet && !t.queryView) {
                                    const i = this.$scope,
                                        s = {};
                                    (t = i.app.copyConfig(t, {}, s)), n.apply(this, [t, e]);
                                    for (const t in s)
                                        i._renderFrame(t, s[t], null).then(() => {
                                            i._subs[t] = s[t];
                                        });
                                    return t.id;
                                }
                                return n.apply(this, arguments);
                            },
                            removeView() {
                                if ((s.apply(this, arguments), this.$scope && this.$scope.webixJet)) {
                                    const e = this.$scope._subs;
                                    for (const i in e) {
                                        const n = e[i];
                                        t.$$(n.id) || (n.view.destructor(), delete e[i]);
                                    }
                                }
                            },
                        };
                    t.extend(t.ui.layout.prototype, r, !0),
                        t.extend(t.ui.baselayout.prototype, r, !0),
                        t.protoUI(
                            {
                                name: "jetapp",
                                $init(e) {
                                    this.$app = new this.app(e);
                                    const i = t.uid().toString();
                                    for (var n in ((e.body = { id: i }),
                                    this.$ready.push(function () {
                                        this.$app.render({ id: i });
                                    }),
                                    this.$app)) {
                                        var s = this.$app[n];
                                        "function" != typeof s || this[n] || (this[n] = s.bind(this.$app));
                                    }
                                },
                            },
                            t.ui.proxy
                        );
                }
                class v extends p {
                    constructor(t) {
                        (t.router = t.router || f), super(t), g(this.webix);
                    }
                    _loadViewDynamic(t) {
                        return (t = t.replace(/\./g, "/")), i(9876)("./" + t);
                    }
                }
                function b(t, e) {
                    return Object.prototype.hasOwnProperty.call(t, e);
                }
                function y(t, e, i) {
                    for (var n in t) b(t, n) && e.call(i || t, t[n], n, t);
                }
                function w(t) {
                    (t = "Warning: " + t), "undefined" != typeof console && console.error(t);
                    try {
                        throw new Error(t);
                    } catch (t) {}
                }
                var x = String.prototype.replace,
                    _ = String.prototype.split,
                    k = "||||",
                    P = function (t) {
                        var e = t % 10;
                        return 11 !== t && 1 === e ? 0 : 2 <= e && e <= 4 && !(t >= 12 && t <= 14) ? 1 : 2;
                    },
                    S = {
                        arabic: function (t) {
                            if (t < 3) return t;
                            var e = t % 100;
                            return e >= 3 && e <= 10 ? 3 : e >= 11 ? 4 : 5;
                        },
                        bosnian_serbian: P,
                        chinese: function () {
                            return 0;
                        },
                        croatian: P,
                        french: function (t) {
                            return t > 1 ? 1 : 0;
                        },
                        german: function (t) {
                            return 1 !== t ? 1 : 0;
                        },
                        russian: P,
                        lithuanian: function (t) {
                            return t % 10 == 1 && t % 100 != 11 ? 0 : t % 10 >= 2 && t % 10 <= 9 && (t % 100 < 11 || t % 100 > 19) ? 1 : 2;
                        },
                        czech: function (t) {
                            return 1 === t ? 0 : t >= 2 && t <= 4 ? 1 : 2;
                        },
                        polish: function (t) {
                            if (1 === t) return 0;
                            var e = t % 10;
                            return 2 <= e && e <= 4 && (t % 100 < 10 || t % 100 >= 20) ? 1 : 2;
                        },
                        icelandic: function (t) {
                            return t % 10 != 1 || t % 100 == 11 ? 1 : 0;
                        },
                        slovenian: function (t) {
                            var e = t % 100;
                            return 1 === e ? 0 : 2 === e ? 1 : 3 === e || 4 === e ? 2 : 3;
                        },
                    },
                    C = {
                        arabic: ["ar"],
                        bosnian_serbian: ["bs-Latn-BA", "bs-Cyrl-BA", "srl-RS", "sr-RS"],
                        chinese: ["id", "id-ID", "ja", "ko", "ko-KR", "lo", "ms", "th", "th-TH", "zh"],
                        croatian: ["hr", "hr-HR"],
                        german: ["fa", "da", "de", "en", "es", "fi", "el", "he", "hi-IN", "hu", "hu-HU", "it", "nl", "no", "pt", "sv", "tr"],
                        french: ["fr", "tl", "pt-br"],
                        russian: ["ru", "ru-RU"],
                        lithuanian: ["lt"],
                        czech: ["cs", "cs-CZ", "sk"],
                        polish: ["pl"],
                        icelandic: ["is"],
                        slovenian: ["sl-SL"],
                    };
                function I(t) {
                    var e,
                        i =
                            ((e = {}),
                            y(C, function (t, i) {
                                y(t, function (t) {
                                    e[t] = i;
                                });
                            }),
                            e);
                    return i[t] || i[_.call(t, /-/, 1)[0]] || i.en;
                }
                function T(t) {
                    return t.replace(/[.*+?^${}()|[\]\\]/g, "\\$&");
                }
                var $ = /\$/g,
                    E = /%\{(.*?)\}/g;
                function D(t, e, i, n) {
                    if ("string" != typeof t) throw new TypeError("Polyglot.transformPhrase expects argument #1 to be string");
                    if (null == e) return t;
                    var s = t,
                        r = n || E,
                        o = "number" == typeof e ? { smart_count: e } : e;
                    if (null != o.smart_count && s) {
                        var a = _.call(s, k);
                        s = (
                            a[
                                (function (t, e) {
                                    return S[I(t)](e);
                                })(i || "en", o.smart_count)
                            ] || a[0]
                        ).replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g, "");
                    }
                    return (s = x.call(s, r, function (t, e) {
                        return b(o, e) && null != o[e] ? x.call(o[e], $, "$$") : t;
                    }));
                }
                function M(t) {
                    var e = t || {};
                    (this.phrases = {}), this.extend(e.phrases || {}), (this.currentLocale = e.locale || "en");
                    var i = e.allowMissing ? D : null;
                    (this.onMissingKey = "function" == typeof e.onMissingKey ? e.onMissingKey : i),
                        (this.warn = e.warn || w),
                        (this.tokenRegex = (function (t) {
                            var e = (t && t.prefix) || "%{",
                                i = (t && t.suffix) || "}";
                            if (e === k || i === k) throw new RangeError('"||||" token is reserved for pluralization');
                            return new RegExp(T(e) + "(.*?)" + T(i), "g");
                        })(e.interpolation));
                }
                (M.prototype.locale = function (t) {
                    return t && (this.currentLocale = t), this.currentLocale;
                }),
                    (M.prototype.extend = function (t, e) {
                        y(
                            t,
                            function (t, i) {
                                var n = e ? e + "." + i : i;
                                "object" == typeof t ? this.extend(t, n) : (this.phrases[n] = t);
                            },
                            this
                        );
                    }),
                    (M.prototype.unset = function (t, e) {
                        "string" == typeof t
                            ? delete this.phrases[t]
                            : y(
                                  t,
                                  function (t, i) {
                                      var n = e ? e + "." + i : i;
                                      "object" == typeof t ? this.unset(t, n) : delete this.phrases[n];
                                  },
                                  this
                              );
                    }),
                    (M.prototype.clear = function () {
                        this.phrases = {};
                    }),
                    (M.prototype.replace = function (t) {
                        this.clear(), this.extend(t);
                    }),
                    (M.prototype.t = function (t, e) {
                        var i,
                            n,
                            s = null == e ? {} : e;
                        if ("string" == typeof this.phrases[t]) i = this.phrases[t];
                        else if ("string" == typeof s._) i = s._;
                        else if (this.onMissingKey) {
                            n = (0, this.onMissingKey)(t, s, this.currentLocale, this.tokenRegex);
                        } else this.warn('Missing translation for key: "' + t + '"'), (n = t);
                        return "string" == typeof i && (n = D(i, s, this.currentLocale, this.tokenRegex)), n;
                    }),
                    (M.prototype.has = function (t) {
                        return b(this.phrases, t);
                    }),
                    (M.transformPhrase = function (t, e, i) {
                        return D(t, e, i);
                    });
                var A = M;
                function N(t, e, i) {
                    e.urls ? (i = e.urls[i] || i) : e.param && (i = { [e.param]: i }), t.show(i);
                }
                const O = { good: "check", error: "warning", saving: "refresh fa-spin" },
                    R = { good: "Ok", error: "Error", saving: "Connecting..." };
                function V(t, e, i) {
                    for (let n = 0; n < i.length; n++) t[i[n]] = e[n + 1] ? e[n + 1].page : "";
                }
                let L = window.webix;
                L && g(L);
                const j = {
                        UnloadGuard: function (t, e, i) {
                            e.on(t, "app:guard", function (t, s, r) {
                                if (s === e || s.contains(e)) {
                                    const t = i();
                                    r.confirm = !1 === t ? Promise.reject(new n()) : r.confirm.then(() => t);
                                }
                            });
                        },
                        Locale: function (t, e, n) {
                            const s = (n = n || {}).storage;
                            let r = s ? s.get("lang") || "en" : n.lang || "en";
                            function o(e, i, o) {
                                i.__esModule && (i = i.default);
                                const a = { phrases: i };
                                n.polyglot && t.webix.extend(a, n.polyglot);
                                const h = (l.polyglot = new A(a));
                                if ((h.locale(e), (l._ = t.webix.bind(h.t, h)), (r = e), s && s.put("lang", r), n.webix)) {
                                    const i = n.webix[e];
                                    i && t.webix.i18n.setLocale(i);
                                }
                                return o ? Promise.resolve() : t.refresh();
                            }
                            function a(t, e) {
                                if (!1 === n.path) return;
                                const s = (n.path ? n.path + "/" : "") + t;
                                o(t, i(2947)("./" + s), e);
                            }
                            const l = {
                                getLang: function () {
                                    return r;
                                },
                                setLang: a,
                                setLangData: o,
                                _: null,
                                polyglot: null,
                            };
                            t.setService("locale", l), a(r, !0);
                        },
                        Menu: function (t, e, i) {
                            const n = e.getSubViewInfo().parent,
                                s = e.$$(i.id || i);
                            let r = !1;
                            s.attachEvent("onchange", function () {
                                r || N(n, i, this.getValue());
                            }),
                                s.attachEvent("onafterselect", function () {
                                    if (!r) {
                                        let t = null;
                                        s.setValue ? (t = this.getValue()) : s.getSelectedId && (t = s.getSelectedId()), N(n, i, t);
                                    }
                                }),
                                e.on(t, "app:route", function () {
                                    let t = "";
                                    if (i.param) t = e.getParam(i.param, !0);
                                    else {
                                        const e = n.getUrl()[1];
                                        e && (t = e.page);
                                    }
                                    t && ((r = !0), s.setValue && s.getValue() !== t ? s.setValue(t) : s.select && s.exists(t) && s.getSelectedId() !== t && s.select(t), (r = !1));
                                });
                        },
                        Theme: function (t, e, i) {
                            const n = (i = i || {}).storage;
                            let s = n ? n.get("theme") || "flat-default" : i.theme || "flat-default";
                            const r = {
                                getTheme: () => s,
                                setTheme(e, i) {
                                    const r = e.split("-"),
                                        o = document.getElementsByTagName("link");
                                    for (let t = 0; t < o.length; t++) {
                                        const i = o[t].getAttribute("title");
                                        i && (i === e || i === r[0] ? (o[t].disabled = !1) : (o[t].disabled = !0));
                                    }
                                    t.webix.skin.set(r[0]), t.webix.html.removeCss(document.body, "theme-" + s), t.webix.html.addCss(document.body, "theme-" + e), (s = e), n && n.put("theme", e), i || t.refresh();
                                },
                            };
                            t.setService("theme", r), r.setTheme(s, !0);
                        },
                        User: function (t, e, i) {
                            const n = (i = i || {}).login || "/login",
                                s = i.logout || "/logout",
                                r = i.afterLogin || t.config.start,
                                o = i.afterLogout || "/login",
                                a = i.ping || 3e5,
                                l = i.model;
                            let h = i.user;
                            const c = {
                                getUser: () => h,
                                getStatus: (t) =>
                                    t
                                        ? l
                                              .status()
                                              .catch(() => null)
                                              .then((t) => {
                                                  h = t;
                                              })
                                        : null !== h,
                                login: (e, i) =>
                                    l.login(e, i).then((e) => {
                                        if (((h = e), !e)) throw new Error("Access denied");
                                        t.callEvent("app:user:login", [h]), t.show(r);
                                    }),
                                logout: () => ((h = null), l.logout().then((e) => (t.callEvent("app:user:logout", []), e))),
                            };
                            function d(t, e) {
                                t === s ? (c.logout(), (e.redirect = o)) : t === n || c.getStatus() || (e.redirect = n);
                            }
                            t.setService("user", c),
                                t.attachEvent("app:guard", function (t, e, n) {
                                    return !(!i.public || !i.public(t)) || (void 0 === h && (n.confirm = c.getStatus(!0).then(() => d(t, n))), d(t, n));
                                }),
                                a && setInterval(() => c.getStatus(!0), a);
                        },
                        Status: function (t, e, i) {
                            let n = "good",
                                s = 0,
                                r = !1,
                                o = i.expire;
                            o || !1 === o || (o = 2e3);
                            const a = i.texts || R,
                                l = i.icons || O;
                            function h(t) {
                                const s = e.$$(i.target);
                                s && (t || (t = "<div class='status_" + n + "'><span class='webix_icon fa-" + l[n] + "'></span> " + a[n] + "</div>"), s.setHTML(t));
                            }
                            function c() {
                                s--, f("good");
                            }
                            function d(t) {
                                s--, f("error", t);
                            }
                            function u(t) {
                                s++, f("saving"), t && t.then && t.then(c, d);
                            }
                            function p() {
                                0 === s && h(" ");
                            }
                            function f(e, i) {
                                s < 0 && (s = 0), "saving" === e ? ((n = "saving"), h()) : ((r = "error" === e), 0 === s && ((n = r ? "error" : "good"), r ? t.error("app:error:server", [i.responseText || i]) : o && setTimeout(p, o), h()));
                            }
                            function m(i) {
                                const n = t.webix.dp(i);
                                n && (e.on(n, "onAfterDataSend", u), e.on(n, "onAfterSaveError", (t, e, i) => d(i)), e.on(n, "onAfterSave", c));
                            }
                            "string" == typeof i && (i = { target: i }),
                                t.setService("status", {
                                    getStatus: function () {
                                        return n;
                                    },
                                    setStatus: f,
                                    track: m,
                                }),
                                i.remote && e.on(t.webix, "onRemoteCall", u),
                                i.ajax &&
                                    e.on(t.webix, "onBeforeAjax", (t, e, i, n, s, r, o) => {
                                        u(o);
                                    }),
                                i.data && m(i.data);
                        },
                        UrlParam: function (t, e, i) {
                            const n = i.route || i,
                                s = {};
                            e.on(t, "app:urlchange", function (t, i) {
                                e === t && (V(s, i.suburl(), n), i.size(n.length + 1));
                            });
                            const r = e.setParam,
                                o = e.getParam;
                            (e.setParam = function (t, i, o) {
                                const a = n.indexOf(t);
                                return a >= 0 ? ((s[t] = i), this._segment.update("", i, a + 1), o ? e.show(null) : void 0) : r.call(this, t, i, o);
                            }),
                                (e.getParam = function (t, e) {
                                    const i = s[t];
                                    return void 0 !== i ? i : o.call(this, t, e);
                                }),
                                V(s, e.getUrl(), n);
                        },
                    },
                    F = window;
                F.Promise || (F.Promise = F.webix.promise);
            },
            4973: (t) => {
                "use strict";
                var e,
                    i = "0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),
                    n = {},
                    s = 0,
                    r = 0;
                function o(t) {
                    var e = "";
                    do {
                        (e = i[t % 64] + e), (t = Math.floor(t / 64));
                    } while (t > 0);
                    return e;
                }
                function a() {
                    var t = o(+new Date());
                    return t !== e ? ((s = 0), (e = t)) : t + "." + o(s++);
                }
                for (; r < 64; r++) n[i[r]] = r;
                (a.encode = o),
                    (a.decode = function (t) {
                        var e = 0;
                        for (r = 0; r < t.length; r++) e = 64 * e + n[t.charAt(r)];
                        return e;
                    }),
                    (t.exports = a);
            },
            6635: (t) => {
                "use strict";
                t.exports = JSON.parse(
                    '{"app":{"name":"Lnt-Edutech Proctoring"},"common":{"locales":{"en":"English (en)","fr":"Franais (fr)","lv":"Latvietis (lv)","ru":" (ru)","uk":" (uk)","zh":" (zh)"},"messages":{"savingError":"Error saving data","savingDone":"Data saved successfully","loadingError":"Error loading data","duplicateError":"The page was opened in another tab, close this tab.","unknownError":"Unknown error","loading":"Loading...","empty":"No data","uploadLimit":"File size should not exceed %{size} MB"},"filter":{"dates":"Date range","text":"Enter text for search..."},"buttons":{"add":"Add","edit":"Edit","delete":"Delete","import":"Import","export":"Export","toNext":"Forward","toPrev":"Back","next":"Next","prev":"Prev","params":"Params","pdf":"Download PDF"},"removeDialog":{"ok":"Yes","cancel":"No","text":"Delete selected entry?"},"saveDialog":{"ok":"Yes","cancel":"No","text":"Save as default parameters?"},"exportDialog":{"title":"Select fields to export"},"time":{"days":"%{days} d.","hours":"%{hours} h.","minutes":"%{minutes} min.","seconds":"%{seconds} sec."},"pager":"Page %{page} of %{total} (%{count} rows)"},"login":{"username":"Username","password":"Password","submit":"Log In","from":"Log in from","authorizationError":"Authorization error"},"menu":{"rooms":"Sessions","users":"Users","jobs":"Jobs","stats":"Load statistics","blanks":"Message templates","configs":"System parameters","logout":"Log out","finish":"Finish","settings":"Settings","chat":"Chat","maximize":"Expand","conference":"Conference","usage":{"volume":"Volume","expires":"Expires","host":"Domain","unit":{"minutes":"minutes","hours":"hours","sessions":"sessions","students":"students"}},"logoutDialog":{"ok":"Yes","cancel":"No","text":"Log out from proctoring system?"},"conferencePrompt":{"title":"Join conference","label":"Enter the room ID:"}},"settings":{"title":"Settings","audio":"Audio","video":"Video","attention":"after the changes, the page reload is required","default":"Not specified"},"chat":{"buttons":{"templates":"Message templates","attach":"Attach file","send":"Send","normal":"Normal","incident":"Incident"},"templates":{"search":"Enter text for search...","empty":"No templates"},"filter":{"message":"Chat","event":"Events","face":"Faces","all":"All"},"viewer":{"title":"Image viewer","image":"Image","similar":"Similar","overlay":"No similar"},"editor":{"title":"Remark editor"},"inputPlaceholder":"Enter your message..."},"users":{"titles":{"single":"User profile","several":"Users"},"buttons":{"upload":"Upload","delete":"Delete"},"roles":{"student":"Student","proctor":"Proctor","administrator":"Administrator"},"tabs":{"profile":"Profile","general":"General","face":"Face","passport":"Passport","similar":"Similar","exclude":"Exclude"},"overlays":{"files":"No files","similar":"No similar","exclude":"Not exclude"},"booleans":{"true":"Yes","false":"No"},"username":"Username","usernamePlaceholder":"Username","password":"Password","passwordPlaceholder":"Password","provider":"Provider","role":"Role","rolePlaceholder":"User role","group":"Group","groupPlaceholder":"User group","createdAt":"Created at","loggedAt":"Logged at","nickname":"Nickname","nicknamePlaceholder":"Visible username","labels":"Labels","labelsPlaceholder":"Labels for search separated by commas","locked":"Locked","secure":"Face authorization","unspecified":"Unspecified","rating":"Rating","verified":"Verified","ipaddress":"IP address","browser":"Browser","os":"OS","useragent":"User-Agent","excludePlaceholder":"Enter user name...","face":"Face photo","passport":"Passport photo","similar":"Similar profiles","distance":"Degree of difference","language":"Language","languagePlaceholder":"Interface language","linkCopied":"Link copied"},"vision":{"title":"Supervision","chat":"Chat","buttons":{"audio":"Mic","video":"Cam","screen":"Scr","finish":"Finish"},"errors":{"webcam":"Error webcam broadcast","screen":"Error screen demonstration","start":"Error occurred while starting","finish":"Error occurred while finishing"},"tooltips":{"leave":"Leave","audio":"Microphone","video":"Camera","screen":"Screen demonstration","maximize":"Maximize mode","single":"Display mode","mute":"Volume switch","snapshot":"Add a picture to the chat","chat":"Chat","meet":"Video","calculator":"Calculator"},"rating":{"positive":"Positive rate","negative":"Negative rate","none":"Not rated"},"withoutComment":"No comment."},"sessions":{"titles":{"single":"Session card","several":"Sessions","planner":"Choose date and time","submit":"Conclusion of the session"},"status":{"template":"Template","created":"Created","skipped":"Skipped","started":"Started","paused":"Paused","stopped":"Stopped","accepted":"Accepted","rejected":"Rejected"},"buttons":{"report":"Protocol","finish":"Finish","vision":"Supervision","filter":"Filter","touch":"Touch mode","processing":"Processing..."},"removeDialog":{"text":"Remove selected session?","ok":"Yes","cancel":"No"},"tabs":{"params":"Parameters","addons":"Addons","metrics":"Metrics","members":"Observers","invites":"Invites"},"statusName":"Status","identifier":"ID","identifierPlaceholder":"Unique session ID","template":"Template","integrator":"Integrator","subject":"Title","subjectPlaceholder":"Session title","url":"Source","urlPlaceholder":"URL of the test page","rules":"Rules","rulesPlaceholder":"URL of a page with a rules of the event","api":"API","apiPlaceholder":"API address to send results","tags":"Tags","tagsPlaceholder":"Tags for search separated by commas","createdAt":"Created at","scheduledAt":"Scheduled at","scheduledAtPlaceholder":"Session start date","startedAt":"Started at","stoppedAt":"Stopped at","signedAt":"Signed at","deadline":"Deadline","deadlinePlaceholder":"Session end date","timeout":"Timeout","timeoutPlaceholder":"minutes","lifetime":"Lifetime","lifetimePlaceholder":"minutes","threshold":"Threshold","thresholdPlaceholder":"number","duration":"Duration","conclusion":"Conclusion","conclusionWarning":"Attention! When saving a conclusion, the participant\'s session will automatically finish, and only the administrator can change the conclusion.","conclusions":{"positive":"Positive","negative":"Negative"},"rate":"Rate the session","rates":{"positive":"Positive","negative":"Negative","null":"Not rated"},"comment":"Comment","commentPlaceholder":"Enter your comment...","members":"Observers","memberPlaceholder":"Enter observer name...","overlays":{"addons":"No addons","metrics":"No metrics","members":"No observers"},"noDate":"no date","score":"Credibility","processing":"Processing...","connecting":"Wait, goes a connection to the session...","student":"Student","studentPlaceholder":"Student\'s ID","proctor":"Proctor","addonsName":"Addons","addons":{"rules":"Rules of the event","check":"Equipment check","face":"Manual face photography","passport":"Manual photographing a passport","scan":"Upload a scanned passport","qrcode":"Additional mobile camera","track":"Track metrics","record":"Record video","mobile":"Allow to run on mobile","screen":"Enable screen capture","webrtc":"Enable check WebRTC","seb":"Allow start only from Safe Exam Browser","content":"Content copy protection","preview":"Webcam preview","chat":"Chat with proctor","upload":"Allow uploading files to chat","lock":"Screen lock in case of violations","shared":"Make available on the link","finish":"Allow participant to finish session","auto":"Automatic conclusion"},"metricsName":"Metrics","metrics":{"b1":"Browser not supported","b2":"Focus changed to a different window","b3":"Full-screen mode is disabled","c1":"Webcam is disabled","c2":"Face invisible or not looking into the camera","c3":"Several faces in front of the camera","c4":"Face does not match the profile","c5":"Found a similar profile","k1":"Atypical keyboard handwriting","m1":"Microphone muted or its volume is low","m2":"Conversation or noise in the background","n1":"No network connection","n2":"No connection to a mobile camera","s1":"Screen activities are not shared","s2":"Second display is used","ok":"All is well"},"invites":"Invites","inviteRules":"Assignment rules","quota":"Quota","quotaPlaceholder":"pcs","concurrent":"Concurrent","concurrentPlaceholder":"pcs","locale":"Localization","localePlaceholder":"Report language","timezone":"Time zone","timezonePlaceholder":"Report time zone","ipaddress":"IP address","browser":"Browser","os":"OS","useragent":"User-Agent","weights":"Weights","incidents":"Incidents","error":"Error"},"jobs":{"title":"Background jobs","name":"Job name","repeatInterval":"Repeat","nextRunAt":"Next run","lastRunAt":"Last run","duration":"Duration","failCount":"Errors","buttons":{"run":"Run","remove":"Remove"},"removeDialog":{"ok":"Yes","cancel":"No","text":"Remove selected jobs?"},"runDialog":{"ok":"Yes","cancel":"No","text":"Run selected jobs?"},"errorDialog":{"title":"Error","ok":"OK"}},"report":{"title":"Session protocol","buttons":{"submit":"Rate","pdf":"PDF","play":"Play","pause":"Pause","zoomin":"Zoom in","zoomout":"Zoom out","speed":"Playback speed"},"messages":{"nopdf":"PDF report not ready yet"},"chat":"Chat"},"stats":{"title":"Usage statistics","charts":{"duration":"Total duration (h)","amount":"Total sessions","users":"Online users","rooms":"Active sessions","cpu":"CPU (%)","ram":"RAM (MB)"},"select":{"minute":"1 minute","fiveMinutes":"5 minutes","fifteenMinutes":"15 minutes","thirtyMinutes":"30 minutes","hour":"1 hour","sixHours":"6 hours","twelveHours":"12 hours","day":"1 day","label":"Interval"},"datetime":"Select date"},"mobile":{"title":"Mobile camera","button":{"retry":"Retry"},"message":{"ready":"Press the play icon to start the camera.","loading":"Waiting for camera connection...","started":"Camera successfully connected.","stopped":"Camera is no longer required.","camerr":"No access to the camera, allow access to the camera in the browser.","unavailable":"Unable to connect, the session is already completed.","unsupported":"MediaRecorder is disabled, enable it in your browser.<p>For iOS: Settings > Safari > Advanced > Experimental Features > MediaRecorder.</p>"}},"blanks":{"title":"Typical messages","id":"Identifier","text":"Text","editor":"Typical message","messagePlaceholder":"Enter your message..."},"configs":{"title":"System parameters","editor":"System parameter","id":"Parameter","value":"Value","idPlaceholder":"Parameter","valuePlaceholder":"Value"},"faceid":{"title":"Biometric authorization","message":{"loading":"Connecting a camera...","processing":"Authorization in progress...","take":"Take a picture of your face to continue.","success":"Authorization successful.","nomatch":"Your face photo does not match the profile photo, access is denied.","nocamera":"Error connecting camera."},"button":{"take":"Take photo","retry":"Retry"}},"check":{"loading":"Loading...","done":"Your computer meets the technical requirements and is compatible with the proctoring procedure.","fail":"The computer check failed to start, your browser is probably not supported or its settings is broken for proctoring.","logout":"Log out"}}'
                );
            },
            4076: (t) => {
                "use strict";
                t.exports = JSON.parse(
                    '{"app":{"name":"Surveillance"},"common":{"locales":{"en":"English (en)","fr":"Franais (fr)","lv":"Latvietis (lv)","ru":" (ru)","uk":" (uk)","zh":" (zh)"},"messages":{"savingError":"Erreur de sauvegarde des donnes","savingDone":"Donnes sauvegardes avec succs","loadingError":"Erreur de chargement des donnes","duplicateError":"La page a t ouverte dans un autre onglet, fermez cet onglet.","unknownError":"Erreur inconnue","loading":"Chargement...","empty":"Pas de donnes","uploadLimit":"La taille du fichier ne doit pas dpasser %{size} MB"},"filter":{"dates":"Priode","text":"Saisissez le texte pour la recherche..."},"buttons":{"add":"Ajouter","edit":"Modifier","delete":"Supprimer","import":"Importer","export":"Exporter","toNext":"Suivant","toPrev":"Prcdent","next":"Suivant","prev":"Prcdent","params":"Params","pdf":"Tlcharger le PDF"},"removeDialog":{"ok":"Oui","cancel":"Non","text":"Supprimer l\'entre slectionne?"},"saveDialog":{"ok":"Oui","cancel":"Non","text":"Sauvegarder comme paramtres par dfaut?"},"exportDialog":{"title":"Slectionnez les champs  exporter"},"time":{"days":"%{days} d.","hours":"%{hours} h.","minutes":"%{minutes} min.","seconds":"%{seconds} sec."},"pager":"Page %{page} de %{total} (%{count} lignes)"},"login":{"username":"Nom d\'utilisateur","password":"Mot de passe","submit":"Connexion","from":"Connexion  partir de","authorizationError":"Erreur d\'autorisation"},"menu":{"rooms":"Sessions","users":"Utilisateurs","jobs":"Emplois","stats":"Statistiques de charge","blanks":"Modles de messages","configs":"Paramtres systme","logout":"Dconnexion","finish":"Terminer","settings":"Paramtres","chat":"Discussion","maximize":"Agrandir","conference":"Confrence","usage":{"volume":"Le volume","expires":"Expire","host":"Domaine","unit":{"minutes":"minutes","hours":"heures","sessions":"sessions","students":"tudiants"}},"logoutDialog":{"ok":"Oui","cancel":"Non","text":"Se dconnecter du systme de surveillance ?"},"conferencePrompt":{"title":"Joindre la confrence","label":"Saisissez l\'ID de la salle :"}},"settings":{"title":"Paramtres","audio":"Audio","video":"Vido","attention":"aprs les modifications, la page doit tre recharge","default":"Non spcifi"},"chat":{"buttons":{"templates":"Modles de messages","attach":"Joindre un fichier","send":"Envoyer","normal":"Normal","incident":"Incident"},"templates":{"search":"Saisissez le texte pour la recherche...","empty":"Pas de modles"},"filter":{"message":"Discussion","event":"vnements","face":"Visages","all":"TOUS"},"viewer":{"title":"Visionneuse d\'images","image":"Image","similar":"Similaire","overlay":"Pas de similaire"},"editor":{"title":"Remarque diteur"},"inputPlaceholder":"Saisissez votre message..."},"users":{"titles":{"single":"Profil de l\'utilisateur","several":"Utilisateurs"},"buttons":{"upload":"Tlcharger","delete":"Supprimer"},"roles":{"student":"tudiant","proctor":"Superviseur","administrator":"Administrateur"},"tabs":{"profile":"Profil","general":"Gnral","face":"Visage","passport":"Passeport","similar":"Similaire","exclude":"Exclure"},"overlays":{"files":"Pas de fichiers","similar":"Pas de similaire","exclude":"Ne pas exclure"},"booleans":{"true":"Oui","false":"Non"},"username":"Nom d\'utilisateur","usernamePlaceholder":"Nom d\'utilisateur","password":"Mot de passe","passwordPlaceholder":"Mot de passe","provider":"Fournisseur","role":"Rle","rolePlaceholder":"Rle de l\'utilisateur","group":"Groupe","groupPlaceholder":"Groupe d\'utilisateur","createdAt":"Cr ","loggedAt":"Connect ","nickname":"Surnom","nicknamePlaceholder":"Nom d\'utilisateur visible","labels":"tiquettes","labelsPlaceholder":"Recherche de labels spars par des virgules","locked":"Verrouill","secure":"Autorisation de visage","unspecified":"Non spcifi","rating":"Notation","verified":"Vrifi","ipaddress":"Adresse IP","browser":"Navigateur","os":"OS","useragent":"Utilisateur-Agent","excludePlaceholder":"Saisissez le nom d\'utilisateur...","face":"Photo du visage","passport":"Photo de passeport","similar":"Profils similaires","distance":"Degr de diffrence","language":"Langue","languagePlaceholder":"Langue de l\'interface","linkCopied":"Lien copi"},"vision":{"title":"Supervision","chat":"Discussion","buttons":{"audio":"Mic","video":"Cam","screen":"cran","finish":"Terminer"},"errors":{"webcam":"Erreur de diffusion par webcam","screen":"Erreur de dmonstration  l\'cran","start":"Une erreur s\'est produite lors du dmarrage","finish":"Une erreur s\'est produite lors de la finition"},"tooltips":{"leave":"Quitter","audio":"Microphone","video":"Appareil photo","screen":"Dmonstration  l\'cran","maximize":"Mode Maximiser","single":"Mode affichage","mute":"Changer le volume","snapshot":"Insrer une image dans la discussion","chat":"Discussion","meet":"Vido","calculator":"Calculateur"},"rating":{"positive":"Taux positif","negative":"Taux ngatif","none":"Non not"},"withoutComment":"Pas de commentaire."},"sessions":{"titles":{"single":"Carte de session","several":"Sessions","planner":"Choisissez la date et l\'heure","submit":"Conclusion de la session"},"status":{"template":"Modle","created":"Cr","skipped":"Ignor","started":"Dmarrage","paused":"En pause","stopped":"Arrt","accepted":"Accept","rejected":"Rejet"},"buttons":{"report":"Protocole","finish":"Terminer","vision":"Supervision","filter":"Filtrer","touch":"La touche mode","processing":"Traitement..."},"removeDialog":{"text":"Supprimer la session slectionne ?","ok":"Oui","cancel":"Non"},"tabs":{"params":"Paramtres","addons":"Ajouts","metrics":"Mtriques","members":"Observateurs","invites":"Appels"},"statusName":"Statut","identifier":"ID","identifierPlaceholder":"ID de session unique","template":"Modle","integrator":"Intgrateur","subject":"Titre","subjectPlaceholder":"Titre de la session","url":"Rfrent","urlPlaceholder":"URL de la page de test","rules":"Rgles","rulesPlaceholder":"URL de la page contenant les rgles de l\'vnement","api":"API","apiPlaceholder":"Adresse API pour l\'envoi des rsultats","tags":"Tags","tagsPlaceholder":"Tags pour la recherche spars par des virgules","createdAt":"Cr ","scheduledAt":"Programm ","scheduledAtPlaceholder":"Date de dbut de session","startedAt":"Commenc ","stoppedAt":"Arrt ","signedAt":"Sign ","deadline":"Date limite","deadlinePlaceholder":"Date de fin de la session","timeout":"Dlai d\'expiration,","timeoutPlaceholder":"minutes","lifetime":"Dure de vie","lifetimePlaceholder":"minutes","threshold":"Seuil","thresholdPlaceholder":"numro","duration":"Dure","conclusionWarning":"Attention! Lors de l\'enregistrement d\'une conclusion, la session du participant se termine automatiquement et seul l\'administrateur peut modifier la conclusion.","conclusion":"Conclusion","conclusions":{"positive":"Positive","negative":"Negative"},"rate":"Evaluez la session","rates":{"positive":"Positive","negative":"Negative","null":"Non valu"},"comment":"Commentaire","commentPlaceholder":"Saisissez votre commentaire...","members":"Observateurs","memberPlaceholder":"Saisissez le nom de l\'observateur...","overlays":{"addons":"Pas d\'ajouts","metrics":"Pas de mtriques","members":"Pas d\'observateurs"},"noDate":"pas de date","score":"Crdibilit","processing":"Traitement...","connecting":"Attends, va une connexion  la session...","student":"tudiant","studentPlaceholder":"ID de l\'tudiant","proctor":"Superviseur","addonsName":"Ajouts","addons":{"rules":"Rgles de l\'vnement","check":"Vrification de l\'quipement","face":"Photographie manuelle du visage","passport":"Photographie manuelle d\'un passeport","scan":"Tlcharger un passeport numris","qrcode":"Camra mobile supplmentaire","track":"Suivi des mtriques","record":"Enregistrer la vido","mobile":"Autoriser l\'excution sur tlphone portable","screen":"Activer la capture d\'cran","webrtc":"Activer le contrle WebRTC","seb":"Autoriser le lancement seulement du navigateur SEB","content":"Protection anti-copie du contenu","preview":"Aperu de la webcam","chat":"Discuter avec le Superviseur","upload":"Autoriser le tlchargement de fichiers dans un discussion","lock":"Verrouillage de l\'cran en cas de violation","shared":"Mettre  disposition sur le lien","finish":"Autoriser le participant  terminer la session","auto":"Conclusion automatique"},"metricsName":"Mtriques","metrics":{"b1":"Navigateur non support","b2":"L\'accent est pass  une autre fentre","b3":"Le mode plein cran est dsactiv","c1":"La webcam est dsactive","c2":"Visage invisible ou ne regardant pas dans la camra","c3":"Plusieurs visages devant la camra","c4":"Le visage ne correspond pas au profil","c5":"Trouv un profil similaire","k1":"Une criture atypique au clavier","m1":"Le microphone est coup ou son volume est faible","m2":"Conversation ou bruit en arrire-plan","n1":"Pas de connexion au rseau","n2":"Pas de connexion  une camra mobile","s1":"Les activits d\'cran ne sont pas partages","s2":"Le deuxime cran est utilis","ok":"Tout est bien"},"invites":"Appels","inviteRules":"Rgles d\'assignation","quota":"Quota","quotaPlaceholder":"pcs","concurrent":"En parallle","concurrentPlaceholder":"pcs","locale":"Localisation","localePlaceholder":"Langue du rapport","timezone":"Fuseau horaire","timezonePlaceholder":"Rapport sur le fuseau horaire","ipaddress":"Adresse IP","browser":"Navigateur","os":"OS","useragent":"Utilisateur-Agent","weights":"Poids","incidents":"Incidents","error":"Erreur"},"jobs":{"title":"Travaux d\'arrire-plan","name":"Nom du travail","repeatInterval":"Rpter","nextRunAt":"Prochaine excution","lastRunAt":"Dernire excution","duration":"Dure","failCount":"Erreurs","buttons":{"run":"Excuter","remove":"Supprimer"},"removeDialog":{"ok":"Oui","cancel":"Non","text":"Supprimer des travaux slectionns ?"},"runDialog":{"ok":"Oui","cancel":"Non","text":"Excuter des travaux slectionns ?"},"errorDialog":{"title":"Erreur","ok":"OK"}},"report":{"title":"Protocole de session","buttons":{"submit":"Taux","pdf":"PDF","play":"Lecture","pause":"Pause","zoomin":"Zoom avant","zoomout":"Zoom arrire","speed":"Vitesse de lecture"},"messages":{"nopdf":"Le rapport PDF n\'est pas encore prt"},"chat":"Discussion"},"stats":{"title":"Statistiques d\'utilisation","charts":{"duration":"Dure totale (heures)","amount":"Total des sessions","users":"Utilisateurs","rooms":"Sessions","cpu":"CPU (%)","ram":"RAM (MB)"},"select":{"minute":"1 minute","fiveMinutes":"5 minutes","fifteenMinutes":"15 minutes","thirtyMinutes":"30 minutes","hour":"1 heure","sixHours":"6 heures","twelveHours":"12 heures","day":"1 jour","label":"Intervalle"},"datetime":"Slectionnez une date"},"mobile":{"title":"Appareil photo mobile","button":{"retry":"Ressayer"},"message":{"ready":"Appuyez sur l\'icne Lecture pour dmarrer la camra.","loading":"En attendant la connexion de la camra...","started":"Appareil photo connect avec succs.","stopped":"L\'appareil photo n\'est plus ncessaire.","camerr":"Pas d\'accs  la camra, autorisez l\'accs  la camra dans le navigateur.","unavailable":"Impossible de se connecter, la session est dj termine.","unsupported":"MediaRecorder est dsactiv, activez-le dans les paramtres de votre navigateur."}},"blanks":{"title":"Messages typiques","id":"Identifiant","text":"Texte","editor":"Message typique","messagePlaceholder":"Saisissez votre message..."},"configs":{"title":"Paramtres systme","editor":"Paramtre systme","id":"Paramtre","value":"Valeur","idPlaceholder":"Paramtre","valuePlaceholder":"Valeur"},"faceid":{"title":"Autorisation biomtrique","message":{"loading":"Connexion de l\'appareil photo...","processing":"Autorisation en cours...","take":"Prenez une photo de votre visage pour continuer.","success":"Autorisation russie.","nomatch":"Votre photo de visage ne correspond pas  la photo de profil, l\'accs est refus.","nocamera":"Erreur de connexion de la camra."},"button":{"take":"Prenez une photo","retry":"Ressayer"}},"check":{"loading":"Chargement...","done":"Votre ordinateur rpond aux exigences techniques et est compatible avec la procdure de surveillance.","fail":"La vrification de l\'ordinateur n\'a pas russi  dmarrer, votre navigateur n\'est probablement pas support ou ses paramtres sont casss pour la surveillance.","logout":"Dconnexion"}}'
                );
            },
            6797: (t) => {
                "use strict";
                t.exports = JSON.parse(
                    '{"app":{"name":"Sesija"},"common":{"locales":{"en":"English (en)","fr":"Franais (fr)","lv":"Latvietis (lv)","ru":" (ru)","uk":" (uk)","zh":" (zh)"},"messages":{"savingError":"Kda, saglabjot datus","savingDone":"Dati veiksmgi saglabti","loadingError":"Kda, ieldjot datus","duplicateError":"Lapa atvrta cit ciln, aizveriet o cilni","unknownError":"Nezinma kda","loading":"Notiek ielde...","empty":"Tuks","uploadLimit":"Faila izmrs nedrkst prsniegt %{size} MB"},"filter":{"dates":"Datumu diapazons","text":"Ievadiet tekstu, lai mekltu..."},"buttons":{"add":"Pievienot","edit":"Labot","delete":"Dzst","import":"Importt","export":"Eksportt","toNext":"Nkamais","toPrev":"Atpaka","next":"Nk.","prev":"Atp.","params":"Parametri","pdf":"Lejupieldt PDF"},"removeDialog":{"ok":"J","cancel":"N","text":"Izdzst izvlto?"},"saveDialog":{"ok":"J","cancel":"N","text":"Saglabt k noklusjuma parametrus?"},"exportDialog":{"title":"Izvlieties eksportjamos laukus"},"time":{"days":"%{days} d.","hours":"%{hours} st.","minutes":"%{minutes} min.","seconds":"%{seconds} sek."},"pager":"Lapa %{page} no %{total} (%{count} rindas)"},"login":{"username":"Lietotjs","password":"Parole","submit":"Ienkt","from":"Ienkt no","authorizationError":"Autorizcijas kda"},"menu":{"rooms":"Sesijas","users":"Lietotji","jobs":"Uzdevumi","stats":"Statistika","blanks":"Ziojumu paraugi","configs":"Sistmas parametri","logout":"Iziet","finish":"Pabeigt","settings":"Iestatjumi","chat":"Sarakste","maximize":"Izvrst","conference":"Konference","usage":{"volume":"Skaums","expires":"Beidzas","host":"Domns","unit":{"minutes":"mintes","hours":"stundas","sessions":"sesijas","students":"studentiem"}},"logoutDialog":{"ok":"J","cancel":"N","text":"Iziet no sesijas?"},"conferencePrompt":{"title":"Pievienoties konferencei","label":"Ievadi sesijas ID:"}},"settings":{"title":"Iestatjumi","audio":"Audio","video":"Video","attention":"Pc izmaiu veikanas, prldjiet lapu","default":"Nav nordts"},"chat":{"buttons":{"templates":"Ziojumu paraugi","attach":"Pielikums","send":"Nostt","normal":"Parasts","incident":"Incidents"},"templates":{"search":"Ievadi mekljamo frzi...","empty":"Tuks"},"filter":{"message":"Ziojumi","event":"Notikumi","face":"Attli","all":"Visi"},"viewer":{"title":"Attli","image":"Attls","similar":"Ldzgs","overlay":"Nav ldzgs"},"editor":{"title":"Pievienot redaktoru"},"inputPlaceholder":"Ievadiet savu ziojumu..."},"users":{"titles":{"single":"Lietotja profils","several":"Lietotji"},"buttons":{"upload":"Augupldt","delete":"Izdzst"},"roles":{"student":"Skolns","proctor":"Eksamintjs","administrator":"Administrators"},"tabs":{"profile":"Profils","general":"Visprji","face":"Attls","passport":"Pase/ID","similar":"Ldzgs","exclude":"atlasti"},"overlays":{"files":"Nav atrasts","similar":"Nav ldzgu","exclude":"Nav atlasti"},"booleans":{"true":"J","false":"N"},"username":"Lietotjs","usernamePlaceholder":"Lietotjs","password":"Parole","passwordPlaceholder":"Parole","provider":"Nodrointjs","role":"Loma","rolePlaceholder":"Lietotja loma","group":"Grupa","groupPlaceholder":"Lietotja grupa","createdAt":"Izveidots plkst","loggedAt":"Pieteicies plkst","nickname":"Lietotjvrds","nicknamePlaceholder":"Redzamais lietotjvrds","labels":"Apzmjumi","labelsPlaceholder":"Meklanas apzmjumi atdalti ar komatiem","locked":"slgts","secure":"Sejas atpazana","unspecified":"Nav nordts","rating":"Reitings","verified":"Apstiprints","ipaddress":"IP addrese","browser":"Prlkprogramma","os":"OS","useragent":"Lietotja-Aents","excludePlaceholder":"Ievadiet lietotja vrdu...","face":"Sejas attls","passport":"Pases/ID attls","similar":"Ldzgi lietotji","distance":"Atirbas rdtjs","language":"Valoda","languagePlaceholder":"Programmas valoda","linkCopied":"Nokopts"},"vision":{"title":"Uzraudzba","chat":"Sarakste","buttons":{"audio":"Mikrofons","video":"Kamera","screen":"Ekrns","finish":"Pabeigt"},"errors":{"webcam":"Kda kameras prraid","screen":"Kda ekrna demonstrcij","start":"Uzskot sesiju rads kda","finish":"Pabeidzot sesiju rads kda"},"tooltips":{"leave":"Iziet","audio":"Mikrofons","video":"Kamera","screen":"Ekrna demonstrcija","maximize":"Paplaint ekrnu","single":"Ekrna reims","mute":"Skaa","snapshot":"Pievienot attlu","chat":"Sarakste","meet":"Video","calculator":"Kalkulators"},"rating":{"positive":"Pozitvs reitings","negative":"Negatvs reitings","none":"Nav reitinga"},"withoutComment":"Nav komentru."},"sessions":{"titles":{"single":"Sesija","several":"Sesijas","planner":"Izvlieties datumu un laiku","submit":"Sesijas kopsavilkums"},"status":{"template":"Paraugs","created":"Izveidots","skipped":"Izlaists","started":"Skts","paused":"Apturts","stopped":"Prtraukts","accepted":"Pieemts","rejected":"Atteikts"},"buttons":{"report":"Atskaite","finish":"Pabeigt","vision":"Uzraudzba","filter":"Filtrs","touch":"Pieskriena rems","processing":"Apstrd..."},"removeDialog":{"text":"Noemt izvlto sesiju?","ok":"J","cancel":"N"},"tabs":{"params":"Parametri","addons":"Paplainjumi","metrics":"Metrika","members":"Skattji","invites":"Ielgumi"},"statusName":"Statuss","identifier":"ID","identifierPlaceholder":"Uniklais sesijas ID","template":"Paraugs","integrator":"Integrtjs","subject":"Nosaukums","subjectPlaceholder":"Sesijas nosaukums","url":"Atsauce","urlPlaceholder":"Lapas adrese","rules":"Noteikumi","rulesPlaceholder":"Saite uz noteikumu lapu","api":"API","apiPlaceholder":"API adrese, lai nosttu rezulttus","tags":"Apzmjumi","tagsPlaceholder":"Meklanas apzmjumi, atdalti ar komatiem","createdAt":"Izveidots","scheduledAt":"Plnots plkst","scheduledAtPlaceholder":"Sesijas skuma datums","startedAt":"Skts","stoppedAt":"Pabeigts","signedAt":"Parakstts","deadline":"Gala datums","deadlinePlaceholder":"Sesijas gala datums","timeout":"Prtraukums","timeoutPlaceholder":"mintes","lifetime":"Ms","lifetimePlaceholder":"mintes","threshold":"Slieksnis","thresholdPlaceholder":"skaitlis","duration":"Ilgums","conclusionWarning":"Uzmanbu! Saglabjot secinjumu, dalbnieka sesija tiks automtiski pabeigta, un tikai administrators var maint secinjumu.","conclusion":"Vrtjums","conclusions":{"positive":"Pozitvs","negative":"Negatvs"},"rate":"Novrtjiet sesiju","rates":{"positive":"Pozitvi","negative":"Negatvi","null":"Nav vrtjuma"},"comment":"Komentrs","commentPlaceholder":"Ievadiet komentru...","members":"Skattji","memberPlaceholder":"Ievadiet komentru...","overlays":{"addons":"Nav paplainjumu","metrics":"Nav metrikas","members":"Nav skattju"},"noDate":"nav datuma","score":"Ticamba","processing":"Apstrd...","connecting":"Uzgaidiet, tiek veidots savienojums ar sesiju...","student":"Skolns","studentPlaceholder":"Skolna ID","proctor":"Eksamintjs","addonsName":"Paplainjumi","addons":{"rules":"Noteikumi","check":"Iekrtas prbaude","face":"Manula sejas attla uzemana","passport":"Manula ID dokumenta attla uzemana","scan":"Augupieldjiet skentu pasi","qrcode":"Papildu kamera","track":"Izsekot metriku","record":"Ierakstt video","mobile":"Ataut sesiju no mobil telefona","screen":"Iespjot ekrna tveranu","webrtc":"Iespjot prbaudi WebRTC","seb":"Ataut palaist tikai no SEB prlka","content":"Aizsargt pret satura kopanu","preview":"Priekskatt kameru","chat":"Sarakste ar eksamintju","upload":"Ataut augupieldt failus sarakst","lock":"Blot ekrnu, ja tiek konstatti prkpumi","shared":"Ataut kopgoanu","finish":"auj dalbniekam pabeigt sesiju","auto":"Automtiskais vrtjums"},"metricsName":"Metrika","metrics":{"b1":"Prlkprogramma netiek atbalstta","b2":"Ir atvrts cits logs","b3":"Atspjots pilnekrns","c1":"Atslgta web-kamera","c2":"Seja nav redzama kamer","c3":"Ir atpaztas vairk k 2 sejas","c4":"Seja neatbilst skolna profilam","c5":"Atrasts ldzgs profils","k1":"Netipisks tastatras rokraksts","m1":"Izslgta vai pazeminta mikrofona skaa","m2":"Ir konstatta fona saruna vai skaa","n1":"Nav interneta savienojuma","n2":"Zaudts savienojums ar kameru","s1":"Ekrna aktivittes netiek kopgotas","s2":"Tiek izmantots otrs ekrns","ok":"Viss krtb"},"invites":"Ielgumi","inviteRules":"Pieejas noteikumi","quota":"Kvota","quotaPlaceholder":"sk.","concurrent":"Vienlaicgi","concurrentPlaceholder":"sk.","locale":"Valodas iestatjumi","localePlaceholder":"Atskaites valoda","timezone":"Laika zona","timezonePlaceholder":"Laika zonas atskaite","ipaddress":"IP addrese","browser":"Prlkprogramma","os":"OS","useragent":"Lietotja-Aents","weights":"Noslodze","incidents":"Incidenti","error":"Kdas"},"jobs":{"title":"Fona uzdevumi","name":"Uzdevuma nosaukums","repeatInterval":"Atkrtot","nextRunAt":"Palaist nkamo","lastRunAt":"Palaist pdjo","duration":"Ilgums","failCount":"Kdas","buttons":{"run":"Palaist","remove":"Dzst"},"removeDialog":{"ok":"J","cancel":"N","text":"Dzst izvltos uzdevumus?"},"runDialog":{"ok":"J","cancel":"N","text":"Palaist izvltos uzdevumus?"},"errorDialog":{"title":"Kda","ok":"OK"}},"report":{"title":"Sesijas atskaite","buttons":{"submit":"Vrtjums","pdf":"PDF","play":"Palaist","pause":"Apturt","zoomin":"Pietuvint","zoomout":"Attlint","speed":"Atskaoanas trums"},"messages":{"nopdf":"PDF atskaite vl nav gatava"},"chat":"Sarakste"},"stats":{"title":"Lietoanas statistika","charts":{"duration":"Kopjais ilgums (stundas)","amount":"Kopjais sesiju skaits","users":"Lietotji","rooms":"Sesijas","cpu":"CPU (%)","ram":"RAM (MB)"},"select":{"minute":"1 minte","fiveMinutes":"5 mintes","fifteenMinutes":"15 mintes","thirtyMinutes":"30 mintes","hour":"1 stunda","sixHours":"6 stundas","twelveHours":"12 stundas","day":"1 diena","label":"Intervls"},"datetime":"Izvlties datumu"},"mobile":{"title":"Mobil telefona kamera","button":{"retry":"Mint vlreiz"},"message":{"ready":"Nospiediet palaianas pogu, lai ieslgtu kameru.","loading":"Gaida kameras savienojumu...","started":"Kamera veiksmgi savienota.","stopped":"Kamera vairs nav nepiecieama.","camerr":"Nav piekuves kamerai, aujiet prlkam piekt kamerai.","unavailable":"Nevar izveidot savienojumu, sesija ir noslgusies.","unsupported":"MediaRecorder ir atspjots, iespjojiet to prlka iestatjumos."}},"blanks":{"title":"Tipiski ziojumi","id":"Identifikators","text":"Teksts","editor":"Tipisks ziojums","messagePlaceholder":"Ievadiet ziojumu..."},"configs":{"title":"Sistmas parametri","editor":"Sistmas parametrs","id":"Parametrs","value":"Vrtba","idPlaceholder":"Parametrs","valuePlaceholder":"Vrtba"},"faceid":{"title":"Biometrisk autorizcija","message":{"loading":"Savienojs ar kameru...","processing":"Notiek autorizcija...","take":"Veiciet savas sejas attla uzemanu, lai turpintu","success":"Autorizcija veiksmga.","nomatch":"Jsu sejas fotoattls nav atbilstos, piekuve ir liegta.","nocamera":"Kameras savienojuma kda."},"button":{"take":"Uzemt foto","retry":"Atkrtot"}},"check":{"loading":"Uzgaidiet...","done":"Jsu dators atbilst tehniskajm prasbm un noteikumiem.","fail":"Neizdevs skt datora prbaudi, iespjams, jsu prlkprogramma netiek atbalstta, vai ar ts iestatjumi neatbilst noteikumiem","logout":"Iziet"}}'
                );
            },
            6033: (t) => {
                "use strict";
                t.exports = JSON.parse(
                    '{"app":{"name":""},"common":{"locales":{"en":"English (en)","fr":"Franais (fr)","lv":"Latvietis (lv)","ru":" (ru)","uk":" (uk)","zh":" (zh)"},"messages":{"savingError":"  ","savingDone":"  ","loadingError":"  ","duplicateError":"     ,   .","unknownError":" ","loading":"...","empty":" ","uploadLimit":"     %{size} "},"filter":{"dates":" ","text":"   ..."},"buttons":{"add":"","edit":"","delete":"","import":"","export":"","toNext":"","toPrev":"","next":"","prev":"","params":"","pdf":" PDF"},"removeDialog":{"ok":"","cancel":"","text":"  ?"},"saveDialog":{"ok":"","cancel":"","text":"     ?"},"exportDialog":{"title":"   "},"time":{"days":"%{days} .","hours":"%{hours} .","minutes":"%{minutes} .","seconds":"%{seconds} ."},"pager":" %{page}  %{total} (%{count} )"},"login":{"username":"","password":"","submit":"","from":" ","authorizationError":" "},"menu":{"rooms":"","users":"","jobs":"","stats":" ","blanks":" ","configs":" ","logout":"","finish":"","settings":"","chat":"","maximize":"","conference":"","usage":{"volume":"","expires":" ","host":"","unit":{"minutes":"","hours":"","sessions":"","students":""}},"logoutDialog":{"ok":"","cancel":"","text":"   ?"},"conferencePrompt":{"title":"  ","label":"  :"}},"settings":{"title":"","audio":"","video":"","attention":"    ","default":" "},"chat":{"buttons":{"templates":" ","attach":" ","send":"","normal":"","incident":""},"templates":{"search":"   ...","empty":" "},"filter":{"message":"","event":"","face":"","all":""},"viewer":{"title":" ","image":"","similar":"","overlay":" "},"editor":{"title":" "},"inputPlaceholder":"  ..."},"users":{"titles":{"single":" ","several":""},"buttons":{"upload":"","delete":""},"roles":{"student":"","proctor":"","administrator":""},"tabs":{"profile":"","general":"","face":"","passport":"","similar":"","exclude":""},"overlays":{"files":" ","similar":" ","exclude":" "},"booleans":{"true":"","false":""},"username":"","usernamePlaceholder":"","password":"","passwordPlaceholder":"","provider":"","role":"","rolePlaceholder":" ","group":"","groupPlaceholder":" ","createdAt":" ","loggedAt":" ","nickname":" ","nicknamePlaceholder":"  ","labels":"","labelsPlaceholder":"    ","locked":"","secure":"  ","unspecified":" ","rating":"","verified":"","ipaddress":"IP-","browser":"","os":"","useragent":"User-Agent","excludePlaceholder":"  ...","face":" ","passport":" ","similar":" ","distance":" ","language":"","languagePlaceholder":" ","linkCopied":" "},"vision":{"title":"","chat":"","buttons":{"audio":"","video":"","screen":"","finish":""},"errors":{"webcam":"  -","screen":"  ","start":"   ","finish":"   "},"tooltips":{"leave":"","audio":"","video":"-","screen":" ","maximize":" ","single":" ","mute":" ","snapshot":"   ","chat":"","meet":"","calculator":""},"rating":{"positive":" ","negative":" ","none":" "},"withoutComment":" ."},"sessions":{"titles":{"single":" ","several":"c","submit":"  "},"status":{"template":"","created":"","skipped":"","started":"","paused":"","stopped":"","accepted":"","rejected":""},"buttons":{"report":"","finish":"","vision":"","filter":"","touch":" ","processing":"..."},"removeDialog":{"text":"  ?","ok":"","cancel":""},"tabs":{"params":"","addons":"","metrics":"","members":"","invites":""},"statusName":"","identifier":"","identifierPlaceholder":"  ","template":"","integrator":"","subject":"","subjectPlaceholder":" ","url":"","urlPlaceholder":"  ","rules":"","rulesPlaceholder":"    ","api":"API","apiPlaceholder":" API   ","tags":"","tagsPlaceholder":"    ","createdAt":" ","scheduledAt":"","scheduledAtPlaceholder":"  ","startedAt":"","stoppedAt":"","signedAt":"","deadline":" ","deadlinePlaceholder":"  ","timeout":"","timeoutPlaceholder":"","lifetime":" ","lifetimePlaceholder":"","threshold":"","thresholdPlaceholder":"","duration":"","conclusionWarning":"!       ,      .","conclusion":"","conclusions":{"positive":"","negative":""},"rate":" ","rates":{"positive":"","negative":"","null":" "},"comment":"","commentPlaceholder":"  ...","members":"","memberPlaceholder":"  ...","overlays":{"addons":" ","metrics":" ","members":" "},"noDate":" ","score":"","processing":"...","connecting":",    ...","student":"","studentPlaceholder":" ","proctor":"","addonsName":"","addons":{"rules":"  ","check":" ","face":" ","passport":" ","scan":"  ","qrcode":"    QR-","track":"  ","record":" ","mobile":"   ","screen":"  ","webrtc":"  WebRTC","seb":"    Safe Exam Browser","content":"    ","preview":"   ","chat":"   ","upload":"    ","lock":"   ","shared":"   ","finish":"   ","auto":"  "},"metricsName":"","metrics":{"b1":"  ","b2":"    ","b3":"      ","c1":"  ","c2":"    ","c3":"  ","c4":"     ","c5":"     ","k1":"   ","m1":"    ","m2":"     ","n1":"   ","n2":"    ","s1":"   ","s2":"  ","ok":" "},"invites":"","inviteRules":" ","quota":"","quotaPlaceholder":"","concurrent":"","concurrentPlaceholder":"","locale":"","localePlaceholder":" ","timezone":" ","timezonePlaceholder":"  ","ipaddress":"IP-","browser":"","os":"","useragent":"User-Agent","weights":" ","incidents":"","error":""},"jobs":{"title":" ","name":" ","repeatInterval":"","nextRunAt":" ","lastRunAt":" ","duration":"","failCount":"","buttons":{"run":"","remove":""},"removeDialog":{"ok":"","cancel":"","text":"  ?"},"runDialog":{"ok":"","cancel":"","text":"  ?"},"errorDialog":{"title":"","ok":"OK"}},"report":{"title":" ","buttons":{"submit":"","pdf":"PDF","play":"","pause":"","zoomin":"","zoomout":"","speed":" "},"messages":{"nopdf":"PDF-   "},"chat":""},"stats":{"title":" ","charts":{"duration":"  ()","amount":" ","users":" ","rooms":" ","cpu":" (%)","ram":" ()"},"select":{"minute":"1 ","fiveMinutes":"5 ","fifteenMinutes":"15 ","thirtyMinutes":"30 ","hour":"1 ","sixHours":"6 ","twelveHours":"12 ","day":"1 ","label":""},"datetime":" "},"mobile":{"title":" ","button":{"retry":""},"message":{"ready":"      .","loading":"  ...","started":"  .","stopped":"   .","camerr":"   ,      .","unavailable":" ,   .","unsupported":"MediaRecorder ,     .<p> iOS:  > Safari >  > Experimental Features > MediaRecorder.</p>"}},"blanks":{"title":" ","id":"","text":"","editor":" ","messagePlaceholder":"  ..."},"configs":{"title":" ","editor":" ","id":"","value":"","idPlaceholder":"","valuePlaceholder":""},"faceid":{"title":" ","message":{"loading":" ...","processing":" ...","take":"   ,  .","success":"  .","nomatch":"      ,  .","nocamera":"   ."},"button":{"take":" ","retry":""}},"check":{"loading":"...","done":"         .","fail":"    , ,    ,      .","logout":""}}'
                );
            },
            7223: (t) => {
                "use strict";
                t.exports = JSON.parse(
                    '{"app":{"name":""},"common":{"locales":{"en":"English (en)","fr":"Franais (fr)","lv":"Latvietis (lv)","ru":" (ru)","uk":" (uk)","zh":" (zh)"},"messages":{"savingError":"  ","savingDone":"  ","loadingError":"  ","duplicateError":"     ,   .","unknownError":" ","loading":"...","empty":" ","uploadLimit":"     %{size} "},"filter":{"dates":" ","text":"   ..."},"buttons":{"add":"","edit":"","delete":"","import":"","export":"","toNext":"","toPrev":"","next":"","prev":"","params":"","pdf":" PDF"},"removeDialog":{"ok":"","cancel":"","text":"  ?"},"saveDialog":{"ok":"","cancel":"","text":"    ?"},"exportDialog":{"title":"   "},"time":{"days":"%{days} .","hours":"%{hours} .","minutes":"%{minutes} .","seconds":"%{seconds} ."},"pager":" %{page}  %{total} (%{count} )"},"login":{"username":"","password":"","submit":"","from":" ","authorizationError":" "},"menu":{"rooms":"","users":"","jobs":"","stats":" ","blanks":" ","configs":" ","logout":"","finish":"","settings":"","chat":"","maximize":"","conference":"","usage":{"volume":"","expires":" ","host":"","unit":{"minutes":"","hours":"","sessions":"","students":""}},"logoutDialog":{"ok":"","cancel":"","text":"   ?"},"conferencePrompt":{"title":"  ","label":"  :"}},"settings":{"title":"","audio":"","video":"","attention":"    ","default":" "},"chat":{"buttons":{"templates":" ","attach":" ","send":"","normal":"","incident":""},"templates":{"search":"   ...","empty":" "},"filter":{"message":"","event":"","face":"","all":""},"viewer":{"title":" ","image":"","similar":"","overlay":" "},"editor":{"title":" "},"inputPlaceholder":"  ..."},"users":{"titles":{"single":" ","several":""},"buttons":{"upload":"","delete":""},"roles":{"student":"","proctor":"","administrator":""},"tabs":{"profile":"","general":"","face":"","passport":"","similar":"","exclude":""},"overlays":{"files":" ","similar":" ","exclude":" "},"booleans":{"true":"","false":""},"username":"","usernamePlaceholder":"","password":"","passwordPlaceholder":"","provider":"","role":"","rolePlaceholder":" ","group":"","groupPlaceholder":" ","createdAt":" ","loggedAt":" ","nickname":"\' ","nicknamePlaceholder":" \' ","labels":"","labelsPlaceholder":"    ","locked":"","secure":"  ","unspecified":" ","rating":"","verified":"","ipaddress":"IP-","browser":"","os":"","useragent":"User-Agent","excludePlaceholder":" \' ...","face":" ","passport":" ","similar":" ","distance":" ","language":"","languagePlaceholder":" ","linkCopied":" "},"vision":{"title":"","chat":"","buttons":{"audio":"","video":"","screen":"","finish":""},"errors":{"webcam":"  -","screen":"  ","start":"   ","finish":"   "},"tooltips":{"leave":"","audio":"","video":"-","screen":" ","maximize":" ","single":" ","mute":" ","snapshot":"   ","chat":"","meet":"","calculator":""},"rating":{"positive":" ","negative":" ","none":" "},"withoutComment":" ."},"sessions":{"titles":{"single":" ","several":"c","submit":"  "},"status":{"template":"","created":"","skipped":"","started":"","paused":"","stopped":"","accepted":"","rejected":""},"buttons":{"report":"","finish":"","vision":"","filter":"","touch":" ","processing":"  ..."},"removeDialog":{"text":"  ?","ok":"","cancel":""},"tabs":{"params":"","addons":"","metrics":"","members":"","invites":""},"statusName":"","identifier":"","identifierPlaceholder":"  ","template":"","integrator":"","subject":"","subjectPlaceholder":" ","url":"","urlPlaceholder":" ","rules":"","rulesPlaceholder":"    ","api":"API","apiPlaceholder":" API   ","tags":"","tagsPlaceholder":"    ","createdAt":" ","scheduledAt":"","scheduledAtPlaceholder":"  ","startedAt":"","stoppedAt":"","signedAt":"","deadline":" ","deadlinePlaceholder":"  ","timeout":"-","timeoutPlaceholder":"","lifetime":" ","lifetimePlaceholder":"","threshold":"","thresholdPlaceholder":"","duration":"","conclusionWarning":"!       ,      .","conclusion":"","conclusions":{"positive":"","negative":""},"rate":" ","rates":{"positive":"","negative":"","null":" "},"comment":"","commentPlaceholder":"   ...","members":"","memberPlaceholder":" \'  ...","overlays":{"addons":" ","metrics":" ","members":" "},"noDate":" ","score":"","processing":"  ...","connecting":",     ...","student":"","studentPlaceholder":" ","proctor":"","addonsName":"","addons":{"rules":"  ","check":" ","face":"  ","passport":"  ","scan":"  ","qrcode":"    QR-","track":"  ","record":" ","mobile":"   ","screen":"  ","webrtc":"  WebRTC","seb":"     SEB","content":"    ","preview":"   ","chat":"   ","upload":"    ","lock":"   ","shared":"   ","finish":"   ","auto":"  "},"metricsName":"","metrics":{"b1":"  ","b2":"    ","b3":"      ","c1":"  ","c2":"    ","c3":"  ","c4":"     ","c5":"     ","k1":"   ","m1":"    ","m2":"     ","n1":"   ","n2":"    ","s1":"   ","s2":"  ","ok":" "},"invites":"","inviteRules":" ","quota":"","quotaPlaceholder":"","concurrent":"","concurrentPlaceholder":"","locale":"","localePlaceholder":" ","timezone":" ","timezonePlaceholder":"  ","ipaddress":"IP-","browser":"","os":"","useragent":"User-Agent","weights":" ","incidents":"","error":""},"jobs":{"title":" ","name":"\' ","repeatInterval":"","nextRunAt":" ","lastRunAt":" ","duration":"","failCount":"","buttons":{"run":"","remove":""},"removeDialog":{"ok":"","cancel":"","text":"  ?"},"runDialog":{"ok":"","cancel":"","text":"  ?"},"errorDialog":{"title":"","ok":"OK"}},"report":{"title":" ","buttons":{"submit":"","pdf":"PDF","play":"","pause":"","zoomin":"","zoomout":"","speed":" "},"messages":{"nopdf":"PDF-   "},"chat":""},"stats":{"title":" ","charts":{"duration":"  ()","amount":" ","users":" ","rooms":" ","cpu":" (%)","ram":"\' ()"},"select":{"minute":"1 ","fiveMinutes":"5 ","fifteenMinutes":"15 ","thirtyMinutes":"30 ","hour":"1 ","sixHours":"6 ","twelveHours":"12 ","day":"1 ","label":""},"datetime":" "},"mobile":{"title":" ","button":{"retry":""},"message":{"ready":"      .","loading":"   ...","started":"  .","stopped":"   .","camerr":"    ,      .","unavailable":" ,   .","unsupported":"MediaRecorder ,     . <P>  iOS: > Safari> > Experimental Features> MediaRecorder. </ P>"}},"blanks":{"title":" ","id":"","text":"","editor":" ","messagePlaceholder":"   ..."},"configs":{"title":" ","editor":" ","id":"","value":"","idPlaceholder":"","valuePlaceholder":""},"faceid":{"title":" ","message":{"loading":"  ...","processing":"  ...","take":"   ,  .","success":"  .","nomatch":"      ,  .","nocamera":"   ."},"button":{"take":" ","retry":""}},"check":{"loading":" ...","done":" \'        .","fail":"    \', ,    ,      .","logout":""}}'
                );
            },
            6880: (t) => {
                "use strict";
                t.exports = JSON.parse(
                    '{"app":{"name":""},"common":{"locales":{"en":"English (en)","fr":"Franais (fr)","lv":"Latvietis (lv)","ru":" (ru)","uk":" (uk)","zh":" (zh)"},"messages":{"savingError":"","savingDone":"","loadingError":"","duplicateError":".","unknownError":"","loading":"...","empty":"","uploadLimit":" %{size} MB"},"filter":{"dates":"","text":"..."},"buttons":{"add":"","edit":"","delete":"","import":"","export":"","toNext":"","toPrev":"","next":"","prev":"","params":"","pdf":"PDF"},"removeDialog":{"ok":"","cancel":"","text":"?"},"saveDialog":{"ok":"","cancel":"","text":"?"},"exportDialog":{"title":""},"time":{"days":"%{days} .","hours":"%{hours} .","minutes":"%{minutes} .","seconds":"%{seconds} ."},"pager":" %{page}  %{total}  (%{count} )"},"login":{"username":"","password":"","submit":"","from":"","authorizationError":""},"menu":{"rooms":"","users":"","jobs":"","stats":"","blanks":"","configs":"","logout":"","finish":"","settings":"","chat":"","maximize":"","conference":"","usage":{"volume":"","expires":"","host":"","unit":{"minutes":"","hours":"","sessions":"","students":""}},"logoutDialog":{"ok":"","cancel":"","text":"?"},"conferencePrompt":{"title":"","label":":"}},"settings":{"title":"","audio":"","video":"","attention":"","default":""},"chat":{"buttons":{"templates":"","attach":"","send":"","normal":"","incident":""},"templates":{"search":"...","empty":""},"filter":{"message":"","event":"","face":"","all":""},"viewer":{"title":"","image":"","similar":"","overlay":""},"editor":{"title":""},"inputPlaceholder":"..."},"users":{"titles":{"single":"","several":""},"buttons":{"upload":"","delete":""},"roles":{"student":"","proctor":"","administrator":""},"tabs":{"profile":"","general":"","face":"","passport":"","similar":"","exclude":""},"overlays":{"files":"","similar":"","exclude":""},"booleans":{"true":"","false":""},"username":"","usernamePlaceholder":"","password":"","passwordPlaceholder":"","provider":"","role":"","rolePlaceholder":"","group":"","groupPlaceholder":"","createdAt":"","loggedAt":"","nickname":"","nicknamePlaceholder":"","labels":"","labelsPlaceholder":"","locked":"","secure":"","unspecified":"","rating":"","verified":"","ipaddress":"IP ","browser":"","os":"","useragent":"","excludePlaceholder":"...","face":"","passport":"","similar":"","distance":"","language":"","languagePlaceholder":"","linkCopied":""},"vision":{"title":"","chat":"","buttons":{"audio":"","video":"","screen":"","finish":""},"errors":{"webcam":"","screen":"","start":"","finish":""},"tooltips":{"leave":"","audio":"","video":"","screen":"","maximize":"","single":"","mute":"","snapshot":"","chat":"","meet":"","calculator":""},"rating":{"positive":"","negative":"","none":""},"withoutComment":""},"sessions":{"titles":{"single":"","several":"","planner":"","submit":""},"status":{"template":"","created":"","skipped":"","started":"","paused":"","stopped":"","accepted":"","rejected":""},"buttons":{"report":"","finish":"","vision":"","filter":"","touch":"","processing":"..."},"removeDialog":{"text":"?","ok":"","cancel":""},"tabs":{"params":"","addons":"","metrics":"","members":"","invites":""},"statusName":"","identifier":"","identifierPlaceholder":"","template":"","integrator":"","subject":"","subjectPlaceholder":"","url":"","urlPlaceholder":"","rules":"","rulesPlaceholder":" URL","api":"API","apiPlaceholder":"API","tags":"","tagsPlaceholder":"","createdAt":"","scheduledAt":"","scheduledAtPlaceholder":"","startedAt":"","stoppedAt":"","signedAt":"","deadline":"","deadlinePlaceholder":"","timeout":"","timeoutPlaceholder":"","lifetime":"","lifetimePlaceholder":"","threshold":"","thresholdPlaceholder":"","duration":"","conclusionWarning":" ","conclusion":"","conclusions":{"positive":"","negative":""},"rate":"","rates":{"positive":"","negative":"","null":""},"comment":"","commentPlaceholder":"...","members":"","memberPlaceholder":"...","overlays":{"addons":"","metrics":"","members":""},"noDate":"","score":"","processing":"...","connecting":"...","student":"","studentPlaceholder":"","proctor":"","addonsName":"","addons":{"rules":"","check":"","face":"","passport":"","scan":"","qrcode":"","track":"","record":"","mobile":"","screen":"","webrtc":"WebRTC","seb":"SEB","content":"","preview":"","chat":"","upload":"","lock":"","shared":"","finish":"","auto":""},"metricsName":"","metrics":{"b1":"","b2":"","b3":"","c1":"","c2":"","c3":"S","c4":"","c5":"e","k1":"","m1":"","m2":"","n1":"","n2":"","s1":"","s2":"","ok":""},"invites":"","inviteRules":"","quota":"","quotaPlaceholder":"","concurrent":"","concurrentPlaceholder":"","locale":"","localePlaceholder":"","timezone":"","timezonePlaceholder":"","ipaddress":"IP ","browser":"","os":"","useragent":"","weights":"","incidents":"","error":""},"jobs":{"title":"","name":"","repeatInterval":"","nextRunAt":"","lastRunAt":"","duration":"","failCount":"","buttons":{"run":"","remove":""},"removeDialog":{"ok":"","cancel":"","text":"?"},"runDialog":{"ok":"","cancel":"","text":"?"},"errorDialog":{"title":"","ok":"OK"}},"report":{"title":"","buttons":{"submit":"","pdf":"PDF","play":"","pause":"","zoomin":"","zoomout":"","speed":""},"messages":{"nopdf":"PDF"},"chat":""},"stats":{"title":"","charts":{"duration":"","amount":"","users":"","rooms":"","cpu":"CPU (%)","ram":"RAM (MB)"},"select":{"minute":"1 ","fiveMinutes":"5 ","fifteenMinutes":"15 ","thirtyMinutes":"30 ","hour":"1 ","sixHours":"6 ","twelveHours":"12 ","day":"1 ","label":""},"datetime":""},"mobile":{"title":"","button":{"retry":""},"message":{"ready":".","loading":"...","started":"","stopped":"","camerr":"","unavailable":"","unsupported":""}},"blanks":{"title":"","id":"","text":"","editor":"","messagePlaceholder":"..."},"configs":{"title":"","editor":"","id":"","value":"","idPlaceholder":"","valuePlaceholder":""},"faceid":{"title":"","message":{"loading":"...","processing":"...","take":"","success":"","nomatch":"","nocamera":"."},"button":{"take":"","retry":""}},"check":{"loading":"...","done":"","fail":"","logout":""}}'
                );
            },
            2947: (t, e, i) => {
                var n = { "./": 4375, "./en.json": 6635, "./fr.json": 4076, "./index": 4375, "./index.js": 4375, "./lv.json": 6797, "./ru.json": 6033, "./uk.json": 7223, "./zh.json": 6880 };
                function s(t) {
                    var e = r(t);
                    return i(e);
                }
                function r(t) {
                    if (!i.o(n, t)) {
                        var e = new Error("Cannot find module '" + t + "'");
                        throw ((e.code = "MODULE_NOT_FOUND"), e);
                    }
                    return n[t];
                }
                (s.keys = function () {
                    return Object.keys(n);
                }),
                    (s.resolve = r),
                    (t.exports = s),
                    (s.id = 2947);
            },
            9876: (t, e, i) => {
                var n = {
                    "./blanks": 6238,
                    "./blanks.js": 6238,
                    "./check": 5077,
                    "./check.js": 5077,
                    "./conference": 9173,
                    "./conference.js": 9173,
                    "./configs": 3719,
                    "./configs.js": 3719,
                    "./jobs": 5989,
                    "./jobs.js": 5989,
                    "./login": 370,
                    "./login.js": 370,
                    "./mobile": 770,
                    "./mobile.js": 770,
                    "./report": 8050,
                    "./report.js": 8050,
                    "./rooms": 1970,
                    "./rooms.js": 1970,
                    "./side": 202,
                    "./side.js": 202,
                    "./stats": 7061,
                    "./stats.js": 7061,
                    "./top": 848,
                    "./top.js": 848,
                    "./users": 1718,
                    "./users.js": 1718,
                    "./vision": 3931,
                    "./vision.js": 3931,
                    "./windows/blank/editor": 2738,
                    "./windows/blank/editor.js": 2738,
                    "./windows/chat/editor": 8927,
                    "./windows/chat/editor.js": 8927,
                    "./windows/chat/templates": 5809,
                    "./windows/chat/templates.js": 5809,
                    "./windows/chat/viewer": 8795,
                    "./windows/chat/viewer.js": 8795,
                    "./windows/config/editor": 8958,
                    "./windows/config/editor.js": 8958,
                    "./windows/export": 3144,
                    "./windows/export.js": 3144,
                    "./windows/faceid": 712,
                    "./windows/faceid.js": 712,
                    "./windows/menu": 6530,
                    "./windows/menu.js": 6530,
                    "./windows/prompt": 9126,
                    "./windows/prompt.js": 9126,
                    "./windows/room/editor": 6422,
                    "./windows/room/editor.js": 6422,
                    "./windows/room/submit": 894,
                    "./windows/room/submit.js": 894,
                    "./windows/room/viewer": 6627,
                    "./windows/room/viewer.js": 6627,
                    "./windows/settings": 5804,
                    "./windows/settings.js": 5804,
                    "./windows/user/editor": 3867,
                    "./windows/user/editor.js": 3867,
                    "./windows/user/viewer": 2226,
                    "./windows/user/viewer.js": 2226,
                    "./wrapper": 6240,
                    "./wrapper.js": 6240,
                };
                function s(t) {
                    var e = r(t);
                    return i(e);
                }
                function r(t) {
                    if (!i.o(n, t)) {
                        var e = new Error("Cannot find module '" + t + "'");
                        throw ((e.code = "MODULE_NOT_FOUND"), e);
                    }
                    return n[t];
                }
                (s.keys = function () {
                    return Object.keys(n);
                }),
                    (s.resolve = r),
                    (t.exports = s),
                    (s.id = 9876);
            },
            2027: function (t, e) {
                !(function (t) {
                    "use strict";
                    function e(t) {
                        return (e =
                            "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
                                ? function (t) {
                                      return typeof t;
                                  }
                                : function (t) {
                                      return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t;
                                  })(t);
                    }
                    function i(t) {
                        return (
                            (function (t) {
                                if (Array.isArray(t)) {
                                    for (var e = 0, i = new Array(t.length); e < t.length; e++) i[e] = t[e];
                                    return i;
                                }
                            })(t) ||
                            (function (t) {
                                if (Symbol.iterator in Object(t) || "[object Arguments]" === Object.prototype.toString.call(t)) return Array.from(t);
                            })(t) ||
                            (function () {
                                throw new TypeError("Invalid attempt to spread non-iterable instance");
                            })()
                        );
                    }
                    var n = window,
                        s = 1,
                        r = {},
                        o = !1;
                    function a(t) {
                        n.setImmediate ? n.setImmediate(t) : n.importScripts || !n.addEventListener ? setTimeout(t) : ((r[++s] = t), n.postMessage(s, "*"));
                    }
                    function l(t) {
                        if ("function" != typeof t && null != t) throw TypeError();
                        if ("object" != e(this) || (this && this.then)) throw TypeError();
                        var i,
                            n,
                            s = this,
                            r = 0,
                            o = 0,
                            h = [];
                        ((s.promise = s).resolve = function (t) {
                            return (i = s.fn), (n = s.er), r || ((o = t), (r = 1), a(u)), s;
                        }),
                            (s.reject = function (t) {
                                return (i = s.fn), (n = s.er), r || ((o = t), (r = 2), a(u)), s;
                            }),
                            (s.i = 1),
                            (s.then = function (t, e) {
                                if (1 != this.i) throw TypeError();
                                var i = new l();
                                return (i.fn = t), (i.er = e), 3 == r ? i.resolve(o) : 4 == r ? i.reject(o) : h.push(i), i;
                            }),
                            (s.finally = function (t) {
                                var e,
                                    i = function (i) {
                                        return (e = i), t();
                                    },
                                    n = function () {
                                        var t = new l();
                                        return 4 == r ? t.reject(e) : t.resolve(e);
                                    };
                                return s.then(i, i).then(n, n);
                            }),
                            (s.catch = function (t) {
                                return s.then(null, t);
                            }),
                            (s.fail = function (t) {
                                return s.then(null, t);
                            });
                        var c = function (t) {
                            r = t || 4;
                            for (var e = 0; e < h.length; e++) {
                                var i = h[e];
                                (3 == r && i.resolve(o)) || i.reject(o);
                            }
                        };
                        try {
                            "function" == typeof t && t(s.resolve, s.reject);
                        } catch (t) {
                            s.reject(t);
                        }
                        return s;
                        function d(t, i, n, s) {
                            if (2 == r) return s();
                            if (("object" != e(o) && "function" != typeof o) || "function" != typeof t) s();
                            else
                                try {
                                    var a = 0;
                                    t.call(
                                        o,
                                        function (t) {
                                            a++ || ((o = t), i());
                                        },
                                        function (t) {
                                            a++ || ((o = t), n());
                                        }
                                    );
                                } catch (t) {
                                    (o = t), n();
                                }
                        }
                        function u() {
                            var t;
                            try {
                                t = o && o.then;
                            } catch (t) {
                                return (o = t), (r = 2), u();
                            }
                            d(
                                t,
                                function () {
                                    (r = 1), u();
                                },
                                function () {
                                    (r = 2), u();
                                },
                                function () {
                                    try {
                                        1 == r && "function" == typeof i ? (o = i(o)) : 2 == r && "function" == typeof n && ((o = n(o)), (r = 1));
                                    } catch (t) {
                                        return (o = t), c();
                                    }
                                    o == s
                                        ? ((o = TypeError()), c())
                                        : d(
                                              t,
                                              function () {
                                                  c(3);
                                              },
                                              c,
                                              function () {
                                                  c(1 == r && 3);
                                              }
                                          );
                                }
                            );
                        }
                    }
                    !n.setImmediate &&
                        n.addEventListener &&
                        n.addEventListener("message", function (t) {
                            if (t.source == n)
                                if (o) a(r[t.data]);
                                else {
                                    o = !0;
                                    try {
                                        r[t.data]();
                                    } catch (t) {}
                                    delete r[t.data], (o = !1);
                                }
                        }),
                        (l.resolve = function (t) {
                            if (1 != this.i) throw TypeError();
                            return t instanceof l
                                ? t
                                : new l(function (e) {
                                      e(t);
                                  });
                        }),
                        (l.reject = function (t) {
                            if (1 != this.i) throw TypeError();
                            return new l(function (e, i) {
                                i(t);
                            });
                        }),
                        (l.all = function (t) {
                            if (1 != this.i) throw TypeError();
                            if (!(t instanceof Array)) return l.reject(TypeError());
                            var e = new l();
                            return (
                                (function i(n, s) {
                                    return s
                                        ? e.resolve(s)
                                        : n
                                        ? e.reject(n)
                                        : (0 ==
                                              t.reduce(function (t, e) {
                                                  return e && e.then ? t + 1 : t;
                                              }, 0) && e.resolve(t),
                                          void t.map(function (e, n) {
                                              e &&
                                                  e.then &&
                                                  e.then(function (e) {
                                                      return (t[n] = e), i(), e;
                                                  }, i);
                                          }));
                                })(),
                                e
                            );
                        }),
                        (l.race = function (t) {
                            if (1 != this.i) throw TypeError();
                            if (!(t instanceof Array)) return l.reject(TypeError());
                            if (0 == t.length) return new l();
                            var e = new l();
                            return (
                                (function i(n, s) {
                                    return s
                                        ? e.resolve(s)
                                        : n
                                        ? e.reject(n)
                                        : (0 ==
                                              t.reduce(function (t, e) {
                                                  return e && e.then ? t + 1 : t;
                                              }, 0) && e.resolve(t),
                                          void t.map(function (t) {
                                              t &&
                                                  t.then &&
                                                  t.then(function (t) {
                                                      i(null, t);
                                                  }, i);
                                          }));
                                })(),
                                e
                            );
                        }),
                        (l.i = 1),
                        (l.defer = function () {
                            return new l(null);
                        });
                    var h = {};
                    function c(t, e) {
                        h[t] = e;
                    }
                    function d(t) {
                        return h[t];
                    }
                    var u = {};
                    function p(t) {
                        var e = p.h;
                        return (e.prototype = t), new e();
                    }
                    function f(t) {
                        var i,
                            n = !!(window.Map && window.Set && window.WeakMap && window.WeakSet);
                        for (var s in (1 < arguments.length ? ((i = arguments[0]), (t = arguments[1])) : (i = P(t) ? [] : {}), t)) {
                            var r = t[s];
                            !r || "object" != e(r) || r instanceof RegExp
                                ? (i[s] = r)
                                : S(r)
                                ? (i[s] = new Date(r))
                                : n && (r instanceof Map || r instanceof Set || r instanceof WeakMap || r instanceof WeakSet)
                                ? (i[s] = r)
                                : ((i[s] = P(r) ? [] : {}), f(i[s], r));
                        }
                        return i;
                    }
                    function m(t, e) {
                        return function () {
                            return t.apply(e, arguments);
                        };
                    }
                    function g(t) {
                        window.execScript ? window.execScript(t) : window.eval(t);
                    }
                    function v(t) {
                        return void 0 === t;
                    }
                    function b(t, e, i, n) {
                        return window.setTimeout(function () {
                            if (!e || !e.$destructed) {
                                var n = t.apply(e, i || []);
                                return (t = e = i = null), n;
                            }
                        }, n || 1);
                    }
                    function y(t) {
                        var e = !0;
                        return function () {
                            e && ((e = !1), t.apply(this, arguments));
                        };
                    }
                    (p.h = function () {}),
                        (t.extend = function (e, i, n) {
                            if (e.$protoWait) return I.insertAt.call(e.$protoWait, i, 1), e;
                            for (var s in i) (s in e && !n) || (e[s] = i[s]);
                            return i.defaults && t.extend(e.defaults, i.defaults), i.$init && i.$init.call(e), e;
                        });
                    var w = new Date().valueOf();
                    function x() {
                        return ++w;
                    }
                    function _(t) {
                        return "string" == typeof t ? document.getElementById(t) : t;
                    }
                    function k(t, e) {
                        if ("string" != typeof t) return t;
                        var i = t.replace("()", "");
                        return e && e[i] ? e[i] : window[i] || window.eval(t);
                    }
                    function P(t) {
                        return Array.isArray ? Array.isArray(t) : "[object Array]" === Object.prototype.toString.call(t);
                    }
                    function S(t) {
                        return t instanceof Date;
                    }
                    function C(e) {
                        return t.extend(e || [], I, !0);
                    }
                    var I = {
                            removeAt: function (t, e) {
                                0 <= t && this.splice(t, e || 1);
                            },
                            remove: function (t) {
                                this.removeAt(this.find(t));
                            },
                            insertAt: function (t, e) {
                                e || 0 === e ? this.splice(e, 0, t) : this.push(t);
                            },
                            find: function (t) {
                                for (var e = 0; e < this.length; e++) if (t == this[e]) return e;
                                return -1;
                            },
                            each: function (t, e) {
                                for (var i = 0; i < this.length; i++) t.call(e || this, this[i]);
                            },
                            map: function (t, e) {
                                for (var i = 0; i < this.length; i++) this[i] = t.call(e || this, this[i]);
                                return this;
                            },
                            filter: function (t, e) {
                                for (var i = 0; i < this.length; i++) t.call(e || this, this[i]) || (this.splice(i, 1), i--);
                                return this;
                            },
                        },
                        T = { parseFormat: "%Y-%m-%d %H:%i:%s", parseTimeFormat: "%H:%i:%s" };
                    function $(t) {
                        var e,
                            i = Date.prototype.toJSON;
                        return (
                            (Date.prototype.toJSON = function () {
                                return T.parseFormatStr(this);
                            }),
                            (e = t instanceof Date ? t.toJSON() : JSON.stringify(t)),
                            (Date.prototype.toJSON = i),
                            e
                        );
                    }
                    var E = {
                            $init: function () {
                                this.o || ((this.o = {}), (this.u = {}), (this.l = {}));
                            },
                            blockEvent: function () {
                                this.o._ = !0;
                            },
                            unblockEvent: function () {
                                this.o._ = !1;
                            },
                            mapEvent: function (e) {
                                t.extend(this.l, e, !0);
                            },
                            on_setter: function (t) {
                                if (t)
                                    for (var e in t) {
                                        var i = k(t[e], this.$scope),
                                            n = e.indexOf("->");
                                        -1 !== n ? this[e.substr(0, n)].attachEvent(e.substr(n + 2), m(i, this)) : this.attachEvent(e, i);
                                    }
                            },
                            callEvent: function (t, e) {
                                var i = this.m || this;
                                if (this.o._) return !0;
                                t = t.toLowerCase();
                                var n = this.o[t.toLowerCase()],
                                    s = !0;
                                if (n) for (var r = 0; r < n.length; r++) !1 === n[r].apply(i, e || []) && (s = !1);
                                if (this.l[t]) {
                                    var o = this.l[t];
                                    (o.$eventSource = this), o.callEvent(t, e) || (s = !1), (o.$eventSource = null);
                                }
                                return s;
                            },
                            attachEvent: function (t, e, i) {
                                (t = t.toLowerCase()), (i = i || x()), (e = k(e, this.$scope));
                                var n = this.o[t] || C();
                                return arguments[3] ? n.unshift(e) : n.push(e), (this.o[t] = n), (this.u[i] = { f: e, t }), i;
                            },
                            detachEvent: function (t) {
                                if (this.u[t]) {
                                    var e = this.u[t].t,
                                        i = this.u[t].f;
                                    this.o[e].remove(i), delete this.u[t];
                                } else {
                                    var n = (t + "").toLowerCase();
                                    this.o[n] && (this.o[n] = C());
                                }
                            },
                            hasEvent: function (t) {
                                t = t.toLowerCase();
                                var e = this.o[t];
                                if (e && e.length) return !0;
                                var i = this.l[t];
                                return !!i && i.hasEvent(t);
                            },
                        },
                        D = {};
                    t.extend(D, E, !0);
                    var M = function (t, e) {
                            return D.callEvent(t, e);
                        },
                        A = function (t, e, i, n) {
                            return D.attachEvent(t, e, i, n);
                        },
                        N = function (t) {
                            return D.detachEvent(t);
                        },
                        O = {
                            w: function (t) {
                                return t && t.documentElement ? (t.getElementsByTagName("parsererror").length ? null : t) : null;
                            },
                            toObject: function (t, e) {
                                var i = e ? (e.rawxml ? e.rawxml() : e) : null;
                                return this.w(i) ? i : ((i = "string" == typeof t ? this.fromString(t.replace(/^[\s]+/, "")) : t), this.w(i) ? i : null);
                            },
                            getRecords: function (t) {
                                return this.xpath(t, this.records);
                            },
                            records: "/*/item",
                            child: "item",
                            config: "/*/config",
                            getDetails: function (t) {
                                return this.tagToObject(t, {});
                            },
                            getOptions: function () {
                                return !1;
                            },
                            getInfo: function (t) {
                                var e = this.xpath(t, this.config);
                                return (
                                    (e = e.length ? this.assignTypes(this.tagToObject(e[0], {})) : null),
                                    { size: t.documentElement.getAttribute("total_count") || 0, from: t.documentElement.getAttribute("pos"), parent: t.documentElement.getAttribute("parent") || 0, config: e }
                                );
                            },
                            xpath: function (t, e) {
                                if (window.XPathResult) {
                                    var i = t;
                                    -1 == t.nodeName.indexOf("document") && (t = t.ownerDocument);
                                    for (var n = [], s = t.evaluate(e, i, null, XPathResult.ANY_TYPE, null), r = s.iterateNext(); r; ) n.push(r), (r = s.iterateNext());
                                    return n;
                                }
                                var o = !0;
                                try {
                                    void 0 === t.selectNodes && (o = !1);
                                } catch (t) {}
                                if (o) return t.selectNodes(e);
                                var a = e.split("/").pop();
                                return t.getElementsByTagName(a);
                            },
                            assignTypes: function (t) {
                                for (var i in t) {
                                    var n = t[i];
                                    if ("object" == e(n)) this.assignTypes(n);
                                    else if ("string" == typeof n) {
                                        if ("" === n) continue;
                                        "true" == n ? (t[i] = !0) : "false" == n ? (t[i] = !1) : n == 1 * n && (t[i] = 1 * t[i]);
                                    }
                                }
                                return t;
                            },
                            tagToObject: function (t, e) {
                                var i = 0;
                                if (1 == t.nodeType && t.getAttribute("stack")) {
                                    e = [];
                                    for (var n = t.childNodes, s = 0; s < n.length; s++) 1 == n[s].nodeType && e.push(this.tagToObject(n[s], {}));
                                } else {
                                    e = e || {};
                                    var r = t.attributes;
                                    if (r && r.length) for (var o = 0; o < r.length; o++) (e[r[o].name] = r[o].value), (i = 1);
                                    for (var a = t.childNodes, l = 0; l < a.length; l++)
                                        if (1 == a[l].nodeType) {
                                            var h = a[l].tagName;
                                            e[h] ? ("function" != typeof e[h].push && (e[h] = [e[h]]), e[h].push(this.tagToObject(a[l], {}))) : (e[h] = this.tagToObject(a[l], {})), (i = 2);
                                        }
                                    if (!i) return this.nodeValue(t);
                                    i < 2 && (e.value = e.value || this.nodeValue(t));
                                }
                                return e;
                            },
                            nodeValue: function (t) {
                                return t.firstChild ? t.firstChild.wholeText || t.firstChild.data : "";
                            },
                            fromString: function (t) {
                                try {
                                    if (window.DOMParser) return new DOMParser().parseFromString(t, "text/xml");
                                    if (window.ActiveXObject) {
                                        var e = new ActiveXObject("Microsoft.xmlDOM");
                                        return e.loadXML(t), e;
                                    }
                                } catch (t) {
                                    return null;
                                }
                            },
                        },
                        R = {
                            toObject: function (t) {
                                if (!t) return null;
                                if ("string" == typeof t)
                                    try {
                                        if (this.parseDates) {
                                            var e = /\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}(.\d{1-3})?Z/;
                                            t = JSON.parse(t, function (t, i) {
                                                return "string" == typeof i && e.test(i) ? new Date(i) : i;
                                            });
                                        } else t = JSON.parse(t);
                                    } catch (t) {
                                        return null;
                                    }
                                return t;
                            },
                            getRecords: function (t) {
                                return t && t.data && (t = t.data), t && !P(t) ? [t] : t;
                            },
                            getDetails: function (t) {
                                return "string" == typeof t ? { id: t || x(), value: t } : t;
                            },
                            getOptions: function (t) {
                                return t.collections;
                            },
                            getInfo: function (t) {
                                return { size: t.total_count || 0, from: t.pos, parent: t.parent || 0, config: t.config };
                            },
                            child: "data",
                            parseDates: !1,
                        };
                    function V(t, e, i) {
                        return 0 !== arguments.length ? new V().get(t, e, i) : this && this.getXHR ? this : new V();
                    }
                    (V.count = 0),
                        (V.prototype = {
                            master: null,
                            getXHR: function () {
                                return new XMLHttpRequest();
                            },
                            stringify: function (t) {
                                return $(t);
                            },
                            S: function (t, i, n, s) {
                                var r;
                                i && (P(i) || "function" == typeof (i.success || i.error || i)) && ((r = n), (n = i), (i = null));
                                var o = l.defer(),
                                    a = this.getXHR(),
                                    h = this.k || {};
                                if (!M("onBeforeAjax", [s, t, i, a, h, null, o])) return o.reject(a);
                                var c = !1;
                                if ("GET" !== s) {
                                    var d = !1;
                                    for (var u in h) "content-type" == u.toString().toLowerCase() && ((d = !0), "application/json" == h[u] && (c = !0));
                                    d || (window.FormData && i instanceof window.FormData) || (h["Content-Type"] = "application/x-www-form-urlencoded");
                                }
                                if ("object" == e(i) && !(window.FormData && i instanceof window.FormData))
                                    if (c) i = this.stringify(i);
                                    else {
                                        var p = [];
                                        for (var f in i) {
                                            var m = i[f];
                                            null != m || (m = ""), "object" === e(m) && (m = this.stringify(m)), p.push(f + "=" + encodeURIComponent(m));
                                        }
                                        i = p.join("&");
                                    }
                                i && "GET" === s && ((t = t + (-1 != t.indexOf("?") ? "&" : "?") + i), (i = null)), a.open(s, t, !this.$);
                                var g = this.D;
                                for (var v in (g && (a.responseType = g), h)) a.setRequestHeader(v, h[v]);
                                var b = this;
                                return (
                                    (this.master = this.master || r),
                                    (a.onreadystatechange = function () {
                                        if (!a.readyState || 4 == a.readyState) {
                                            V.count++;
                                            var t,
                                                e,
                                                i = 400 <= a.status || 0 === a.status;
                                            (e = "blob" == a.responseType || "arraybuffer" == a.responseType ? ((t = ""), a.response) : ((t = a.responseText || ""), b.I(a))),
                                                i ? (M("onAjaxError", [a]), o.reject(a)) : o.resolve(e),
                                                n && V.$callback(b.master || window, n, t, e, a, i);
                                        }
                                    }),
                                    this.T && (a.timeout = this.T),
                                    this.$
                                        ? a.send(i || null)
                                        : setTimeout(function () {
                                              a.send(i || null);
                                          }, 0),
                                    this.master &&
                                        !this.$ &&
                                        o.then(function (t) {
                                            return (b.master = null), (n = b = r = null), t;
                                        }),
                                    this.$ ? a : o
                                );
                            },
                            I: function (t) {
                                return {
                                    xml: function () {
                                        try {
                                            return O.tagToObject(O.toObject(t.responseText, this));
                                        } catch (e) {
                                            t.responseText, e.toString();
                                        }
                                    },
                                    rawxml: function () {
                                        return window.XPathResult ? t.responseXML : O.fromString(t.responseText);
                                    },
                                    text: function () {
                                        return t.responseText;
                                    },
                                    json: function () {
                                        return R.toObject(t.responseText, !1);
                                    },
                                };
                            },
                            get: function (t, e, i) {
                                return this.S(t, e, i, "GET");
                            },
                            post: function (t, e, i) {
                                return this.S(t, e, i, "POST");
                            },
                            put: function (t, e, i) {
                                return this.S(t, e, i, "PUT");
                            },
                            del: function (t, e, i) {
                                return this.S(t, e, i, "DELETE");
                            },
                            patch: function (t, e, i) {
                                return this.S(t, e, i, "PATCH");
                            },
                            sync: function () {
                                return (this.$ = !0), this;
                            },
                            timeout: function (t) {
                                return (this.T = t), this;
                            },
                            response: function (t) {
                                return (this.D = t), this;
                            },
                            headers: function (e) {
                                return (this.k = t.extend(this.k || {}, e)), this;
                            },
                            bind: function (t) {
                                return (this.master = t), this;
                            },
                        }),
                        (V.$callback = function (t, e, i, n, s, r) {
                            if (!t.$destructed && (r && M("onAjaxError", [s]), e)) {
                                var o = e.success || e;
                                r && (o = e.error), o && o.call && o.call(t, i, n, s);
                            }
                        });
                    var L = {
                            $proxy: !0,
                            load: function () {
                                var t = this.source.split("@"),
                                    e = t[0].split(".").pop();
                                return V()
                                    .response("arraybuffer")
                                    .get(t[0])
                                    .then(function (i) {
                                        return { data: i, options: { ext: e, dataurl: t[1] } };
                                    });
                            },
                        },
                        j = {
                            $proxy: !0,
                            load: function () {},
                            save: function (t, e, i) {
                                b(function () {
                                    window.console.log("[DP] " + e.id + " -> " + e.operation, e.data);
                                    var t = { id: e.data.id, newid: e.data.id, status: e.data.operation };
                                    i.processResult(t, t);
                                });
                            },
                        },
                        F = {
                            $proxy: !0,
                            load: function () {
                                return V(this.source);
                            },
                            save: function (t, e) {
                                return F.F.call(this, e, V());
                            },
                            F: function (t, e) {
                                var i = this.source,
                                    n = "",
                                    s = i.indexOf("?");
                                -1 !== s && ((n = i.substr(s)), (i = i.substr(0, s))), (i += "/" == i.charAt(i.length - 1) ? "" : "/");
                                var r = t.operation,
                                    o = t.data;
                                return "insert" == r && delete o.id, "update" == r ? e.put(i + o.id + n, o) : "delete" == r ? e.del(i + o.id + n, o) : e.post(i + n, o);
                            },
                        },
                        z = {
                            $proxy: !0,
                            load: function () {
                                return V(this.source);
                            },
                            save: function (t, e) {
                                var i = V().headers({ "Content-Type": "application/json" });
                                return F.F.call(this, e, i);
                            },
                        },
                        H = {
                            $proxy: !0,
                            load: function (e, i) {
                                return (i = t.extend(i || {}, this.params || {}, !0)), V().post(this.source, i);
                            },
                        },
                        W = {
                            $proxy: !0,
                            save: function (t) {
                                return this.load(t);
                            },
                            load: function (t) {
                                var i = { query: this.source };
                                return (
                                    1 === arguments.length && (i.variables = t),
                                    V()
                                        .headers({ "Content-type": "application/json" })
                                        .post(this.url, i)
                                        .then(function (t) {
                                            return (function (t) {
                                                if (!t || "object" === !e(t) || Array.isArray(t)) return t;
                                                var i = "",
                                                    n = 0;
                                                for (var s in t) {
                                                    if (2 == ++n) return t;
                                                    i = s;
                                                }
                                                return t[i];
                                            })(t.json().data);
                                        })
                                );
                            },
                        };
                    function B(e, i, n) {
                        var s = f(B[e]);
                        return (s.source = i), n && t.extend(s, n, !0), s.init && s.init(), s;
                    }
                    (B.$parse = function (t) {
                        if ("string" != typeof t || -1 == t.indexOf("->")) return t;
                        var e = t.split("->");
                        return B(e[0], e[1]);
                    }),
                        (B.binary = L),
                        (B.debug = j),
                        (B.json = z),
                        (B.post = H),
                        (B.rest = F),
                        (B.GraphQL = W);
                    var Y = {
                            toObject: function (t) {
                                return "string" == typeof t ? JSON.parse(t) : t;
                            },
                            getRecords: function (t) {
                                return t && t.data && (t = t.data), t;
                            },
                            getDetails: function (t) {
                                for (var e = {}, i = 0; i < t.length; i++) e["data" + i] = t[i];
                                return null !== this.idColumn && (e.id = t[this.idColumn]), e;
                            },
                            getOptions: function () {
                                return !1;
                            },
                            getInfo: function () {
                                return { size: 0 };
                            },
                            idColumn: null,
                        },
                        U = {
                            toObject: function (t) {
                                if ("string" != typeof t) return t;
                                var e = null;
                                return -1 == t.indexOf("<") && (e = _(t)), e || ((e = document.createElement("DIV")).innerHTML = t), e.firstChild;
                            },
                            getRecords: function (t) {
                                return t.getElementsByTagName(this.tag);
                            },
                            getDetails: function (t) {
                                return O.tagToObject(t);
                            },
                            getOptions: function () {
                                return !1;
                            },
                            getInfo: function () {
                                return { size: 0 };
                            },
                            tag: "LI",
                        },
                        G = { cdn: "//cdn.webix.com/", codebase: "", zIndexBase: 100, scrollSize: 17 };
                    (G.strict = !!window.webix_strict), (G.https = "https:" === document.location.protocol);
                    var q = navigator.userAgent;
                    (G.isMac = -1 != q.indexOf("Mac")),
                        (-1 == q.indexOf("Mobile") && -1 == q.indexOf("Windows Phone")) || (G.mobile = !0),
                        (G.mobile || -1 != q.indexOf("iPad") || -1 != q.indexOf("Android")) && (G.touch = !0),
                        !G.touch && "MacIntel" === navigator.platform && 1 < navigator.maxTouchPoints && (G.touch = !0),
                        -1 != q.indexOf("Opera")
                            ? (G.isOpera = !0)
                            : ((G.isIE = !!document.all || -1 !== q.indexOf("Trident")),
                              G.isIE && 8 == parseFloat(navigator.appVersion.split("MSIE")[1]) && (G.isIE8 = !0),
                              (G.isEdge = -1 != q.indexOf("Edge")),
                              (G.isFF = -1 != q.indexOf("Firefox")),
                              (G.isWebKit = -1 != q.indexOf("KHTML")),
                              (G.isSafari = G.isWebKit && G.isMac && -1 == q.indexOf("Chrome")),
                              (G.isIE || G.isEdge || G.isFF) && (G.maxHTMLElementSize = 1e7),
                              G.isSafari && (G.maxHTMLElementSize = 1e8)),
                        -1 != q.toLowerCase().indexOf("android") && ((G.isAndroid = !0), -1 != q.toLowerCase().indexOf("trident") && ((G.isAndroid = !1), (G.isIEMobile = !0))),
                        (G.transform = !1),
                        (G.transition = !1);
                    for (var X = -1, K = ["", "webkit", "Moz", "O", "ms"], Z = document.createElement("DIV"), J = 0; J < K.length; J++) {
                        var Q = K[J] ? K[J] + "Transform" : "transform";
                        if (void 0 !== Z.style[Q]) {
                            X = J;
                            break;
                        }
                    }
                    if (-1 < X) {
                        G.cssPrefix = ["", "-webkit-", "-Moz-", "-o-", "-ms-"][X];
                        var tt = (G.jsPrefix = K[X]);
                        (G.transform = tt ? tt + "Transform" : "transform"),
                            (G.transition = tt ? tt + "Transition" : "transition"),
                            (G.transitionDuration = tt ? tt + "TransitionDuration" : "transitionDuration"),
                            (Z.style[G.transform] = "translate3d(0,0,0)"),
                            (G.translate = Z.style[G.transform] ? "translate3d" : "translate"),
                            (G.transitionEnd = "-Moz-" == G.cssPrefix ? "transitionend" : tt ? tt + "TransitionEnd" : "transitionend");
                    }
                    (G.pointerevents = !G.isIE || null !== new RegExp("Trident/.*rv:11").exec(q)), (G.passiveEventListeners = !1);
                    try {
                        var et = Object.defineProperty({}, "passive", {
                            get: function () {
                                G.passiveEventListeners = !0;
                            },
                        });
                        window.addEventListener("testPassive", null, et), window.removeEventListener("testPassive", null, et);
                    } catch (t) {}
                    (G.svg = document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure", "1.1")), (G.svganimation = document.implementation.hasFeature("https://www.w3.org/TR/SVG11/feature#SVG-animation", "1.1"));
                    var it = 0,
                        nt = {},
                        st = {};
                    function rt() {
                        it || (it = document.onselectstart), (document.onselectstart = wt);
                    }
                    function ot() {
                        0 !== it && (document.onselectstart = it || null), (it = 0);
                    }
                    function at(t) {
                        for (var e = 0; (t = t.previousSibling); ) e++;
                        return e;
                    }
                    function lt(t, e) {
                        var i = "";
                        for (var n in ((e = e || ""), t)) i += n + ":" + t[n] + ";";
                        var s = st[i + e];
                        return s || (ht("." + (s = "s" + x()) + (e || "") + "{" + i + "}"), (st[i + e] = s)), s;
                    }
                    function ht(t, e) {
                        var i = e ? nt[e] : nt.default;
                        i || ((i = document.createElement("style")).setAttribute("type", "text/css"), i.setAttribute("media", "screen,print"), document.getElementsByTagName("head")[0].appendChild(i), e ? (nt[e] = i) : (nt.default = i)),
                            i.styleSheet ? (i.styleSheet.cssText += t) : i.appendChild(document.createTextNode(t));
                    }
                    function ct(t) {
                        var e = nt[t || "default"];
                        e && (e.innerHTML = "");
                    }
                    function dt(t, e, i) {
                        e = e || {};
                        var n = document.createElement(t);
                        for (var s in e) n.setAttribute(s, e[s]);
                        return e.style && (n.style.cssText = e.style), e.class && (n.className = e.class), i && (n.innerHTML = i), n;
                    }
                    function ut(t) {
                        return (t = _(t)) ? (v(t.value) ? t.innerHTML : t.value) : "";
                    }
                    function pt(t) {
                        if (t instanceof Array) for (var e = 0; e < t.length; e++) pt(t[e]);
                        else t && t.parentNode && t.parentNode.removeChild(t);
                    }
                    function ft(t, e, i) {
                        t && (e && e.parentNode ? e.parentNode.insertBefore(t, e) : i.appendChild(t));
                    }
                    function mt(t, e) {
                        var i;
                        for (i = t.tagName ? t : (t = t || event).target; i; ) {
                            if (i.getAttribute) {
                                var n = i.getAttribute(e);
                                if (n) return n;
                            }
                            i = i.parentNode;
                        }
                        return null;
                    }
                    function gt(t) {
                        if (t.getBoundingClientRect) {
                            var e = t.getBoundingClientRect(),
                                i = document.body,
                                n = document.documentElement,
                                s = window.pageYOffset || n.scrollTop || i.scrollTop,
                                r = window.pageXOffset || n.scrollLeft || i.scrollLeft,
                                o = n.clientTop || i.clientTop || 0,
                                a = n.clientLeft || i.clientLeft || 0,
                                l = e.top + s - o,
                                h = e.left + r - a;
                            return { y: Math.round(l), x: Math.round(h), width: t.offsetWidth, height: t.offsetHeight };
                        }
                        for (var c = 0, d = 0; t; ) (c += parseInt(t.offsetTop, 10)), (d += parseInt(t.offsetLeft, 10)), (t = t.offsetParent);
                        return { y: c, x: d, width: t.offsetHeight, height: t.offsetWidth };
                    }
                    function vt(t) {
                        return v((t = t || event).offsetX) ? { x: t.layerX, y: t.layerY } : { x: t.offsetX, y: t.offsetY };
                    }
                    function bt(t) {
                        if (((t = t || event).touches && t.touches[0] && (t = t.touches[0]), t.pageX || t.pageY)) return { x: t.pageX, y: t.pageY };
                        var e = G.isIE && "BackCompat" != document.compatMode ? document.documentElement : document.body;
                        return { x: t.clientX + e.scrollLeft - e.clientLeft, y: t.clientY + e.scrollTop - e.clientTop };
                    }
                    function yt(t) {
                        return t && t.preventDefault && t.preventDefault(), t && (t.returnValue = !1), wt(t);
                    }
                    function wt(t) {
                        return (t = t || event).stopPropagation && t.stopPropagation(), !(t.cancelBubble = !0);
                    }
                    function xt(t, e, i) {
                        if (document.createEventObject) {
                            var n = document.createEventObject();
                            t.fireEvent && t.fireEvent("on" + i, n);
                        } else {
                            var s = document.createEvent(e);
                            s.initEvent(i, !0, !0), t.dispatchEvent && t.dispatchEvent(s);
                        }
                    }
                    function _t(t, e, i) {
                        (i && -1 !== t.className.indexOf(e)) || (t.className += " " + e);
                    }
                    function kt(t, e) {
                        t.className = t.className.replace(RegExp(" " + e, "g"), "");
                    }
                    function Pt(t, i, n) {
                        var s = dt("DIV", { class: "webix_view webix_measure_size " + (i || "") }, "");
                        (s.style.cssText = "height:auto;visibility:hidden; position:absolute; top:0px; left:0px; overflow:hidden;" + (n ? "width:" + n + "px;" : "width:auto;white-space:nowrap;")), document.body.appendChild(s);
                        for (var r = "object" !== e(t) ? [t] : t, o = 0, a = 0, l = 0; l < r.length; l++) (s.innerHTML = r[l]), (o = Math.max(o, s.offsetWidth + 1)), (a = Math.max(a, s.offsetHeight + 1));
                        return pt(s), { width: o, height: a };
                    }
                    function St(t, i) {
                        var n = !1;
                        if ("object" == e(t)) {
                            if (window.navigator.msSaveBlob) return window.navigator.msSaveBlob(t, i);
                            (t = window.URL.createObjectURL(t)), (n = !0);
                        }
                        var s = document.createElement("a");
                        (s.href = t),
                            (s.download = i),
                            document.body.appendChild(s),
                            s.click(),
                            b(function () {
                                n && window.URL.revokeObjectURL(t), document.body.removeChild(s), s.remove();
                            });
                    }
                    function Ct(t) {
                        if (!t) return "";
                        var e = t.className || "";
                        return e.baseVal && (e = e.baseVal), e.indexOf || (e = ""), e;
                    }
                    function It(t, e, i) {
                        if (((e = e || 0), (i = i || e), t.focus(), t.setSelectionRange)) t.setSelectionRange(e, i);
                        else {
                            var n = t.createTextRange();
                            n.collapse(!0), n.moveEnd("character", i), n.moveStart("character", e), n.select();
                        }
                    }
                    function Tt(t) {
                        if ("selectionStart" in t) return { start: t.selectionStart || 0, end: t.selectionEnd || 0 };
                        t.focus();
                        var e = document.selection.createRange().getBookmark(),
                            i = t.createTextRange();
                        i.moveToBookmark(e);
                        var n = i.text.length;
                        i.collapse(!0), i.moveStart("character", -t.value.length);
                        var s = i.text.length;
                        return { start: s, end: s + n };
                    }
                    function $t(t, e) {
                        document
                            .getElementsByTagName("head")
                            .item(0)
                            .appendChild(dt("meta", { name: t, content: e }));
                    }
                    var Et = {
                            toObject: function (t) {
                                (t = _(t)).tagName.toLowerCase();
                                var e = t.rows;
                                return pt(t), e;
                            },
                            getRecords: function (t) {
                                for (var e = [], i = t[0] && t[0].V ? 1 : 0; i < t.length; i++) e.push(t[i]);
                                return e;
                            },
                            getDetails: function (t) {
                                var e = t.getElementsByTagName("td");
                                t = {};
                                for (var i = 0; i < e.length; i++) t["data" + i] = e[i].innerHTML;
                                return t;
                            },
                            getInfo: function () {
                                return { size: 0 };
                            },
                            getOptions: function () {},
                            getConfig: function (e) {
                                var i = [],
                                    n = e[0].getElementsByTagName("th");
                                n.length && (e[0].V = !0);
                                for (var s = 0; s < n.length; s++) {
                                    var r = { id: "data" + s, header: this.B(n[s].innerHTML) },
                                        o = this.H(n[s]);
                                    (r = t.extend(r, o)), i.push(r);
                                }
                                return i;
                            },
                            B: function (t) {
                                var e = t.indexOf("json://");
                                return -1 != e && (t = JSON.parse(t.substr(e + 7))), t;
                            },
                            H: function (t) {
                                for (var e = t.attributes, i = {}, n = 0; n < e.length; n++) i[e[n].nodeName] = this.B(e[n].nodeValue);
                                return (i.width = parseInt(i.width, 10)), i;
                            },
                        },
                        Dt = {};
                    function Mt(t, e, i) {
                        var n = l.defer();
                        if (
                            (e &&
                                !0 !== e &&
                                (n = n.then(function () {
                                    e.call(i || this);
                                })),
                            Mt.disabled)
                        )
                            return n.resolve(), n;
                        if ("string" != typeof t) {
                            var s = t.length || 0;
                            if (s) {
                                var r = function () {
                                    s
                                        ? (s--,
                                          Mt(t[t.length - s - 1]).then(r, function () {
                                              return n.reject();
                                          }))
                                        : n.resolve();
                                };
                                r();
                            } else {
                                for (var o in t) s++;
                                var a = function () {
                                    0 == --s && n.resolve();
                                };
                                for (var h in t)
                                    Mt(h).then(a, function () {
                                        return n.reject();
                                    });
                            }
                            return n;
                        }
                        if (!0 !== Dt[t]) {
                            var c = t;
                            if (!0 === e) return g(V().sync().get(c).responseText), (Dt[t] = !0), n.resolve();
                            if (Dt[t]) return Dt[t].push(n), n;
                            Dt[t] = [n];
                            var d = function () {
                                    var e = Dt[t];
                                    Dt[t] = !1;
                                    for (var i = 0; i < e.length; i++) e[i].reject();
                                },
                                u = function () {
                                    var e = Dt[t];
                                    Dt[t] = !0;
                                    for (var i = 0; i < e.length; i++) e[i].resolve();
                                },
                                p = t.split("?");
                            if (".css" == p[0].substr(p[0].length - 4)) {
                                var f = dt("LINK", { type: "text/css", rel: "stylesheet", href: c });
                                (f.onload = u), (f.onerror = d), document.getElementsByTagName("head")[0].appendChild(f);
                            } else {
                                var m = document.createElement("script");
                                (m.onload = u), (m.onerror = d), document.getElementsByTagName("head")[0].appendChild(m), (m.src = c);
                            }
                        } else n.resolve();
                        return n;
                    }
                    var At = t.extend(
                            {
                                toObject: function (e) {
                                    if (e.excel) return e;
                                    var i = e.options || {};
                                    i.dataurl && t.extend(i, this.R(i.dataurl)), (e = e.data || e);
                                    var n = l.defer();
                                    if (e.name) {
                                        i.ext = e.name.split(".").pop();
                                        var s = new FileReader();
                                        (s.onload = m(function (t) {
                                            n.resolve(this.parseData(t.target.result, i));
                                        }, this)),
                                            s.readAsArrayBuffer(e);
                                    } else n.resolve(this.parseData(e, i));
                                    return n;
                                },
                                parseData: function (e, i) {
                                    e = new Uint8Array(e);
                                    for (var n = [], s = 0; s != e.length; ++s) n[s] = String.fromCharCode(e[s]);
                                    var r = (i.ext || i).toLowerCase();
                                    return (
                                        "xls" != r && (r = "xlsx"),
                                        Mt(G.cdn + "/extras/xlsx.core.styles.min.js").then(
                                            m(function () {
                                                var e = "xls" == r ? XLS.read(n.join(""), { type: "binary", cellStyles: !0, cellDates: !0 }) : XLSX.read(n.join(""), { type: "binary", cellStyles: !0, cellDates: !0 }),
                                                    s = { sheets: e.Sheets, names: e.SheetNames, options: i, ranges: (e.Workbook && e.Workbook.Names) || [] };
                                                return t.extend(this.getSheet(s, i), s);
                                            }, this)
                                        )
                                    );
                                },
                                getSheet: function (t, e) {
                                    var i = e.name || t.names[0];
                                    return (t = this.sheetToArray(t.sheets[i], e)), e.rows && e.rows.length && (t.data = t.data.splice(e.rows[0], Math.min(e.rows[1], t.data.length) - e.rows[0])), t;
                                },
                                sheetToArray: function (t, e) {
                                    var i = [],
                                        n = [],
                                        s = [],
                                        r = [],
                                        o = [],
                                        a = { n: "number", d: "date", s: "string", b: "boolean" };
                                    if (t && t["!ref"]) {
                                        var l,
                                            h,
                                            c,
                                            d = XLS.utils.decode_range(t["!ref"]),
                                            u = d.s.c,
                                            p = d.s.r + (e.rows ? e.rows[0] : 0);
                                        for (l = d.s.r; l <= d.e.r; l++) {
                                            var f = [];
                                            for (h = d.s.c; h <= d.e.c; h++)
                                                if ((c = t[XLS.utils.encode_cell({ r: l, c: h })])) {
                                                    var m = "";
                                                    (m = e.math && c.f ? ("=" == c.f.charAt(0) ? c.f : "=" + c.f) : "d" == c.t && S(c.v) ? T.dateFormatStr(c.v) : c.v),
                                                        f.push(m),
                                                        c.s && s.push([l - p, h - u, c.s]),
                                                        c.t && o.push([l - p, h - u, a[c.t]]);
                                                } else f.push("");
                                            i.push(f);
                                        }
                                        if (t["!merges"])
                                            for (var g = t["!merges"], v = 0; v < g.length; v++) {
                                                var b = g[v].s,
                                                    y = g[v].e;
                                                (!e.rows || (0 <= b.r - p && y.r - p <= e.rows[1])) && n.push([b.r - p, b.c - u, y.c - b.c + 1, y.r - b.r + 1]);
                                            }
                                        if (t["!cols"]) for (var w = t["!cols"], x = 0; x < w.length; x++) w[x] && r.push(["column", x - u, Math.round(w[x].wch / (8.43 / 70))]);
                                        if (t["!rows"]) for (var _ = t["!rows"], k = 0; k < _.length; k++) _[k] && r.push(["row", k - p, _[k].hpx]);
                                    }
                                    return { data: i, spans: n, styles: s, sizes: r, types: o, excel: !0 };
                                },
                                R: function (t) {
                                    var e = t.split("["),
                                        i = {};
                                    if (((i.name = e[0]), e[1])) {
                                        var n = e[1].split(/[^0-9]+/g);
                                        (n[0] = 1 * n[0] || 0), (n[1] = 1 * n[1] || 9999999), (i.rows = n);
                                    }
                                    return i;
                                },
                            },
                            Y
                        ),
                        Nt = {
                            json: R,
                            jsarray: Y,
                            xml: O,
                            csv: {
                                toObject: function (t) {
                                    return t;
                                },
                                getRecords: function (t) {
                                    return t.split(this.row);
                                },
                                getDetails: function (t) {
                                    t = this.stringToArray(t);
                                    for (var e = {}, i = 0; i < t.length; i++) e["data" + i] = t[i];
                                    return null !== this.idColumn && (e.id = t[this.idColumn]), e;
                                },
                                getOptions: function () {
                                    return !1;
                                },
                                getInfo: function () {
                                    return { size: 0 };
                                },
                                stringToArray: function (t) {
                                    t = t.split(this.cell);
                                    for (var e = 0; e < t.length; e++) t[e] = t[e].replace(/^[ \t\n\r]*("|)/g, "").replace(/("|)[ \t\n\r]*$/g, "");
                                    return t;
                                },
                                idColumn: null,
                                row: "\n",
                                cell: ",",
                            },
                            html: U,
                            htmltable: Et,
                            excel: At,
                        },
                        Ot = {},
                        Rt = {
                            $init: function (t) {
                                (this.data = {}), (this.waitData = l.defer()), t && (this.P.datatype = t.datatype || "json"), this.$ready.push(this.j);
                            },
                            j: function () {
                                (this.N = !0), this.P.url && this.url_setter(this.P.url), this.P.data && this.data_setter(this.P.data);
                            },
                            url_setter: function (t) {
                                return (t = B.$parse(t)), this.N && this.load(t, this.P.datatype), t;
                            },
                            data_setter: function (t) {
                                return this.N ? (this.parse(t, this.P.datatype), !0) : t;
                            },
                            load: function (t, e) {
                                var i,
                                    n = this,
                                    s = arguments[2] || null;
                                "string" == typeof e && ((i = e), (e = arguments[2]));
                                var r = this.O(t, i, s);
                                if (r && r.then)
                                    return r.then(
                                        function (t) {
                                            return n.W(t), e && V.$callback(n, e, "", t, -1), t;
                                        },
                                        function (t) {
                                            return n.U(t);
                                        }
                                    );
                            },
                            O: function (t, e, i) {
                                var n,
                                    s = this;
                                if (((!e && this.data.driver) || (this.data.driver = Nt[e || "json"]), !this.callEvent("onBeforeLoad", []))) return l.reject();
                                (n = (t = B.$parse(t)).$proxy && t.load ? t.load(this, i) : "function" == typeof t ? t.call(this, i) : V().bind(this).get(t)) && !n.then && (n = l.resolve(n));
                                var r = this.Y;
                                return n && n.then
                                    ? n.then(function (t) {
                                          return s.$destructed || (r && s.Y !== r) ? l.reject(Ot) : t;
                                      })
                                    : n;
                            },
                            parse: function (t, e) {
                                if (t && "function" == typeof t.then) {
                                    var i = this.Y;
                                    return t.then(
                                        m(function (t) {
                                            if (this.$destructed || (i && this.Y !== i)) return l.reject();
                                            this.parse(t, e);
                                        }, this)
                                    );
                                }
                                if (t && t.sync && this.sync) this.q(t);
                                else {
                                    if (!this.callEvent("onBeforeLoad", [])) return l.reject();
                                    (!e && this.data.driver) || (this.data.driver = Nt[e || "json"]), this.W(t);
                                }
                                return l.resolve();
                            },
                            q: function (t) {
                                this.data &&
                                    this.data.attachEvent &&
                                    this.data.attachEvent(
                                        "onSyncApply",
                                        m(function () {
                                            this.G && this.G();
                                        }, this)
                                    ),
                                    this.sync(t);
                            },
                            X: function (t) {
                                var e,
                                    i,
                                    n = this.data.driver;
                                (e = (i = n.getRecords(t)[0]) ? n.getDetails(i) : {}), this.setValues ? this.setValues(e) : (this.data = e);
                            },
                            K: function (t) {
                                t ? (this.$onLoad && this.$onLoad(t, this.data.driver)) || (this.data && this.data.X ? this.data.X(t) : this.X(t)) : this.U(t), this.G && this.G(), this.callEvent("onAfterLoad", []), this.waitData.resolve();
                            },
                            W: function (t) {
                                var e = this;
                                t && "function" == typeof t.text && !t.name && (t = t.text()),
                                    (t = this.data.driver.toObject(t)) && t.then
                                        ? t.then(function (t) {
                                              return e.K(t);
                                          })
                                        : this.K(t);
                            },
                            U: function (t) {
                                return t !== Ot && (this.$destructed || (this.callEvent("onAfterLoad", []), this.callEvent("onLoadError", arguments)), M("onLoadError", [t, this])), l.reject(t);
                            },
                            J: function (t) {
                                if (!this.P.dataFeed || this.Z || !t) return !0;
                                var e = this.P.dataFeed;
                                return "function" == typeof e
                                    ? e.call(this, t.id || t, t)
                                    : ((e = e + (-1 == e.indexOf("?") ? "?" : "&") + "action=get&id=" + encodeURIComponent(t.id || t)),
                                      this.callEvent("onBeforeLoad", []) &&
                                          V(
                                              e,
                                              function (t, e, i) {
                                                  this.Z = !0;
                                                  var n = Nt.json,
                                                      s = n.toObject(t, e);
                                                  s ? this.setValues(n.getDetails(n.getRecords(s)[0])) : this.U(i), (this.Z = !1), this.callEvent("onAfterLoad", []);
                                              },
                                              this
                                          ),
                                      !1);
                            },
                        },
                        Vt = {
                            collapseNames: function (t, i, n, s) {
                                if (
                                    ((n = n || {}),
                                    (i = i || ""),
                                    (s =
                                        s ||
                                        function () {
                                            return !0;
                                        }),
                                    !t || "object" != e(t))
                                )
                                    return null;
                                for (var r in t) {
                                    var o = t[r],
                                        a = i + r;
                                    o && "object" == e(o) && !S(o) && !P(o) && s(a) ? Vt.collapseNames(o, a + ".", n, s) : (n[a] = o);
                                }
                                return n;
                            },
                            expandNames: function (t) {
                                var e,
                                    i,
                                    n,
                                    s,
                                    r,
                                    o = {};
                                for (r in t) {
                                    for (i = (n = r.split(".")).length - 1, s = o, e = 0; e < i; e++) s[n[e]] || (s[n[e]] = {}), (s = s[n[e]]);
                                    s[n[i]] = t[r];
                                }
                                return o;
                            },
                        },
                        Lt = {},
                        jt = {},
                        Ft = new RegExp("(\\r\\n|\\n)", "g"),
                        zt = new RegExp('(\\")', "g"),
                        Ht = new RegExp("(\\\\)", "g"),
                        Wt = { "&": "&amp;", "<": "&lt;", ">": "&gt;", '"': "&quot;", "'": "&#x27;", "`": "&#x60;" },
                        Bt = /[&<>"'`]/g,
                        Yt = function (t) {
                            return Wt[t] || "&amp;";
                        };
                    function Ut(t) {
                        if ("function" == typeof t) return t;
                        if (Lt[t]) return Lt[t];
                        if (-1 != (t = (t || "").toString()).indexOf("->")) {
                            var e = t.split("->");
                            switch (e[0]) {
                                case "html":
                                    t = ut(e[1]);
                                    break;
                                case "http":
                                    t = new V().sync().get(e[1], { uid: x() }).responseText;
                            }
                        }
                        if (((t = (t || "").toString()), G.strict)) {
                            if (!jt[t]) {
                                jt[t] = [];
                                var i = [];
                                if (
                                    (t.replace(/\{obj\.([^}?]+)\?([^:]*):([^}]*)\}/g, function (t, e, n, s, r) {
                                        i.push({
                                            pos: r,
                                            str: t,
                                            fn: function (t) {
                                                return t[e] ? n : s;
                                            },
                                        });
                                    }),
                                    t.replace(/\{common\.([^}(]*)\}/g, function (t, e, n) {
                                        i.push({
                                            pos: n,
                                            str: t,
                                            fn: function (t, i) {
                                                return i[e] || "";
                                            },
                                        });
                                    }),
                                    t.replace(/\{common\.([^}(]*)\(\)\}/g, function (t, e, n) {
                                        i.push({
                                            pos: n,
                                            str: t,
                                            fn: function (t, i) {
                                                return i[e] ? i[e].apply(this, arguments) : "";
                                            },
                                        });
                                    }),
                                    t.replace(/\{obj\.([^:}]*)\}/g, function (t, e, n) {
                                        i.push({
                                            pos: n,
                                            str: t,
                                            fn: function (t) {
                                                return t[e];
                                            },
                                        });
                                    }),
                                    t.replace("{obj}", function (t, e) {
                                        i.push({
                                            pos: e,
                                            str: t,
                                            fn: function (t) {
                                                return t;
                                            },
                                        });
                                    }),
                                    t.replace(/#([^#'";, ]+)#/gi, function (t, e, n) {
                                        "!" == e.charAt(0)
                                            ? ((e = e.substr(1)),
                                              i.push({
                                                  pos: n,
                                                  str: t,
                                                  fn: function (t) {
                                                      return -1 != e.indexOf(".") && (t = Vt.collapseNames(t)), Ut.escape(t[e]);
                                                  },
                                              }))
                                            : i.push({
                                                  pos: n,
                                                  str: t,
                                                  fn: function (t) {
                                                      return -1 != e.indexOf(".") && (t = Vt.collapseNames(t)), t[e];
                                                  },
                                              });
                                    }),
                                    i.sort(function (t, e) {
                                        return t.pos > e.pos ? 1 : -1;
                                    }),
                                    i.length)
                                ) {
                                    for (
                                        var n = 0,
                                            s = function (t, e, i) {
                                                jt[t].push(function () {
                                                    return t.slice(e, i);
                                                });
                                            },
                                            r = 0;
                                        r < i.length;
                                        r++
                                    ) {
                                        var o = i[r].pos;
                                        s(t, n, o), jt[t].push(i[r].fn), (n = o + i[r].str.length);
                                    }
                                    s(t, n, t.length);
                                } else
                                    jt[t].push(function () {
                                        return t;
                                    });
                            }
                            return function () {
                                for (var e = "", i = 0; i < jt[t].length; i++) e += jt[t][i].apply(this, arguments);
                                return e;
                            };
                        }
                        var a = !1;
                        t = (t = (t = (t = (t = (t = (t = (t = (t = t.replace(Ht, "\\\\")).replace(Ft, "\\n")).replace(zt, '\\"')).replace(/\{obj\.([^}?]+)\?([^:]*):([^}]*)\}/g, '"+(obj.$1?"$2":"$3")+"')).replace(
                            /\{common\.([^}(]*)\}/g,
                            "\"+(common.$1||'')+\""
                        )).replace(/\{common\.([^}(]*)\(\)\}/g, '"+(common.$1?common.$1.apply(this, arguments):"")+"')).replace(/\{obj\.([^}]*)\}/g, '"+(obj.$1)+"')).replace("{obj}", '"+obj+"')).replace(/#([^#'";, ]+)#/gi, function (t, e) {
                            return "!" == e.charAt(0) ? ((a = !0), '"+template.escape(obj.' + e.substr(1) + ')+"') : '"+(obj.' + e + ')+"';
                        });
                        try {
                            if (a) {
                                var l = Function("obj", "common", "marks", "value", "template", 'return "' + t + '";');
                                Lt[t] = function (t, e, i, n) {
                                    return l(t, e, i, n, Ut);
                                };
                            } else Lt[t] = Function("obj", "common", 'return "' + t + '";');
                        } catch (t) {}
                        return Lt[t];
                    }
                    (Ut.escape = function (t) {
                        return null == t ? "" : (t.toString() || "").replace(Bt, Yt);
                    }),
                        (Ut.empty = function () {
                            return "";
                        });
                    var Gt = {
                            Q: function (t) {
                                return t.$empty ? "" : this.P.template(t, this);
                            },
                            render: function () {
                                var t = this.P;
                                return (
                                    !!this.isVisible(t.id) &&
                                    ((this.callEvent && !this.callEvent("onBeforeRender", [this.data])) ||
                                        (this.data && !t.content && ((this.tt.innerHTML = ""), (this.tt.innerHTML = this.Q(this.data))), this.callEvent && this.callEvent("onAfterRender", [])),
                                    !0)
                                );
                            },
                            sync: function (t) {
                                (this.it = !1),
                                    "DataStore" != t.name && (t.data && "DataStore" == t.data.name ? (t = t.data) : (this.it = !0)),
                                    this.it
                                        ? t.bind(
                                              "change",
                                              m(function (t) {
                                                  t.id == this.data.id && ((this.data = t.attributes), this.refresh());
                                              }, this)
                                          )
                                        : t.attachEvent(
                                              "onStoreUpdated",
                                              m(function (e) {
                                                  (e && e != this.data.id) || ((this.data = t.pull[e]), this.refresh());
                                              }, this)
                                          );
                            },
                            template_setter: Ut,
                        },
                        qt = {
                            et: function (t) {
                                var e,
                                    i,
                                    n = this.P.dragscroll;
                                "string" != typeof n && (n = this.P.layout || "xy"), (i = -1 !== n.indexOf("x")), (e = -1 !== n.indexOf("y"));
                                var s = gt(this.st || this.$view),
                                    r = Math.max((this.P.rowHeight || (this.type && !isNaN(parseFloat(this.type.height)) ? this.type.height : 0)) + 5, 40),
                                    o = !1;
                                e && this.nt(t, s, r) && (o = !0), i && this.ht(t, s, r) && (o = !0), o && (this.rt = b(this.et, this, [t], 100));
                            },
                            ot: function (t) {
                                var e = this.P.dragscroll;
                                if ("string" != typeof e || -1 !== e.indexOf("x")) {
                                    var i = gt(this.k || this.$view),
                                        n = Math.max(this.P.headerRowHeight || 0, 40);
                                    this.ht(t, i, n) && (this.rt = b(this.ot, this, [t], 100));
                                }
                            },
                            nt: function (t, e, i) {
                                var n = e.y,
                                    s = n + e.height,
                                    r = this.getScrollState(),
                                    o = this.P;
                                if (o.topSplit) {
                                    var a = this.at(this.getIdByIndex(o.topSplit - 1), this.columnId(0));
                                    n += a.top + a.height;
                                }
                                return t.y < n + i ? this.ut(r.x, r.y - 2 * i, t, "y") : t.y > s - i && this.ut(r.x, r.y + 2 * i, t, "y");
                            },
                            ht: function (t, e, i) {
                                var n = e.x,
                                    s = n + e.width,
                                    r = this.getScrollState();
                                return t.x < n + i ? this.ut(r.x - 2 * i, r.y, t, "x") : t.x > s - i && this.ut(r.x + 2 * i, r.y, t, "x");
                            },
                            ut: function (t, e, i, n) {
                                return !!this.callEvent("onBeforeAutoScroll", [i]) && (this.scrollTo(t, e), this.callEvent("onAfterAutoScroll", []), this.getScrollState()[n] === ("x" === n ? t : e));
                            },
                        },
                        Xt = {};
                    function Kt() {
                        for (var t in Xt) Qt(t);
                    }
                    function Zt(t, e, i, n) {
                        ((n = n || {}).inner = !0), Jt(t, e, i, n);
                    }
                    function Jt(t, e, i, n) {
                        (n = n || {}), (t = _(t));
                        var s = n.id || x();
                        n.bind && (i = m(i, n.bind));
                        var r = [t, e, i, n.capture];
                        n.inner || (Xt[s] = r);
                        var o = !!n.capture;
                        return (
                            !v(n.passive) && G.passiveEventListeners && (o = { passive: n.passive, capture: o }),
                            t.addEventListener
                                ? t.addEventListener(e, i, o)
                                : t.attachEvent &&
                                  t.attachEvent(
                                      "on" + e,
                                      (r[2] = function () {
                                          return i.apply(t, arguments);
                                      })
                                  ),
                            s
                        );
                    }
                    function Qt(t) {
                        if (t) {
                            Xt[t];
                            var e = Xt[t];
                            e[0].removeEventListener ? e[0].removeEventListener(e[1], e[2], !!e[3]) : e[0].detachEvent && e[0].detachEvent("on" + e[1], e[2]), delete Xt[t];
                        }
                    }
                    function te(t, e) {
                        if (t.$protoWait) return t.ct || (t.ct = []), void t.ct.push(e);
                        "function" == typeof t && (t = t.prototype), t.types || ((t.types = { default: t.type }), (t.type.name = "default"));
                        var i = e.name,
                            n = t.type;
                        for (var s in (i && (n = t.types[i] = p(e.baseType ? t.types[e.baseType] : t.type)), e)) 0 === s.indexOf("template") ? (n[s] = Ut(e[s])) : (n[s] = e[s]);
                        return i;
                    }
                    var ee = {
                            codebase: "./",
                            cdn: "//cdn.webix.com",
                            top_views: [],
                            ft: null,
                            lt: null,
                            dt: null,
                            vt: null,
                            _t: null,
                            pt: null,
                            bt: null,
                            mt: null,
                            gt: 0,
                            wt: null,
                            xt: null,
                            yt: [],
                            destructors: [],
                            Mt: null,
                            St: 0,
                            kt: C(),
                            Ct: null,
                        },
                        ie = {};
                    function ne(t, e, i) {
                        var n;
                        ee.gt++;
                        var s = ee.ft;
                        ee.ft = t.$scope || s;
                        try {
                            n = (function (t, e, i) {
                                var n,
                                    s = P(t),
                                    r = _(t.container || e || document.body);
                                r.P &&
                                    (i = (function (t, e, i) {
                                        var n = [t];
                                        if (e) n = t.getChildViews();
                                        else if (t.$t) n = [t.$t];
                                        else {
                                            if ("number" == typeof i) return i;
                                            if (i) return re((n = [ae(i)])), n[0].config.id;
                                        }
                                        return re(n), i;
                                    })(r, s, i));
                                var o = !1,
                                    a = r == document.body;
                                if (
                                    (t.P || (r && s) ? ((n = t), (o = !0)) : (r && a && (t.$topView = !0), t.Dt || (t.Dt = {}), e && e.getParentView && (ee.bt = i || 0 === i ? e : e.getParentView()), (n = oe(t))),
                                    !a || n.setPosition || n.$apiOnly || d("_fixHeight")(),
                                    n.P && n.P.It && !r.$view)
                                )
                                    n.P.At = r;
                                else if (!n.$apiOnly)
                                    if (r.appendChild) se(r, n, t);
                                    else if (r.destructor) {
                                        var l = r;
                                        if ((i || 0 === i || P(n) || (r = (i = r).getParentView()), r && r.Tt)) {
                                            if (o && n.getParentView) {
                                                var h = n.getParentView();
                                                h && h.Ft && h.Ft(n), (n.bt = r), (n.$scope = r.$scope);
                                            }
                                            r.Tt(n, i);
                                        } else {
                                            var c = l.$view.parentNode;
                                            l.destructor(), se(c, n, t);
                                        }
                                    } else t.container;
                                return n;
                            })(t, e, i);
                        } finally {
                            ee.gt--, (ee.ft = s);
                        }
                        return n;
                    }
                    function se(t, e, i) {
                        t.appendChild(e.Vt), e.getParentView() || ((((!e.setPosition || e.P.fullscreen) && t == document.body) || e.P.position) && ee.top_views.push(e.zt), i.skipResize || e.adjust());
                    }
                    function re(t) {
                        for (var e = t.length - 1; 0 <= e; e--) {
                            var i = t[e];
                            delete ie[i.config.id], (i.config.id = "x" + x()), (ie[i.config.id] = i).getChildViews && re(i.getChildViews()), i.Bt && re(i.Bt);
                        }
                    }
                    function oe(t) {
                        if (t.view) return new ne[t.view](t);
                        if (t.rows || t.cols) {
                            for (var e = t.rows || t.cols, i = !1, n = 0; n < e.length; n++) !e[n].body || e[n].view || e[n].align || (i = !0);
                            return i ? new ne.headerlayout(t) : new ne.layout(t);
                        }
                        return t.cells ? new ne.multiview(t) : t.template || t.content ? new ne.template(t) : t.align && t.body ? new ne.align(t) : new ne.spacer(t);
                    }
                    function ae(t) {
                        if (!t) return null;
                        if (ie[t]) return ie[t];
                        var i = t;
                        if ("object" == e(t)) {
                            if (t.P) return t;
                            i = t.target || t;
                        }
                        return ie[mt({ target: _(i) }, "view_id")];
                    }
                    (ne.views = ie),
                        (ne.Ht = oe),
                        void 0 === window.$$ && (window.$$ = ae),
                        (t.protoUI = function () {
                            var e = arguments[0].name,
                                i = function (n) {
                                    if (!i) return ne[e].prototype;
                                    var s = i.$protoWait;
                                    if (s) {
                                        for (var r = [s[0]], o = 1; o < s.length; o++) (r[o] = s[o]), r[o].$protoWait && (r[o] = r[o].call(-1, r[o].name)), r[o].prototype && r[o].prototype.name && (ne[r[o].prototype.name] = r[o]);
                                        if (((ne[e] = t.proto.apply(-1, r)), i.ct)) for (var a = 0; a < i.ct.length; a++) te(ne[e], i.ct[a]);
                                        i = s = null;
                                    }
                                    return -1 != this ? new ne[e](n) : ne[e];
                                };
                            return (i.$protoWait = Array.prototype.slice.call(arguments, 0)), (ne[e] = i);
                        }),
                        (t.proto = function () {
                            for (var t = arguments, e = t[0], i = !!e.$init, n = [], s = t.length - 1; 0 < s; s--) {
                                if ((t[s], "function" == typeof t[s] && (t[s] = t[s].prototype), t[s].$init && n.push(t[s].$init), t[s].defaults)) {
                                    var r = t[s].defaults;
                                    for (var o in (e.defaults || (e.defaults = {}), r)) v(e.defaults[o]) && (e.defaults[o] = r[o]);
                                }
                                if (t[s].type && e.type) for (var a in t[s].type) e.type[a] || (e.type[a] = t[s].type[a]);
                                for (var l in t[s]) e[l] || !1 === e[l] || (e[l] = t[s][l]);
                            }
                            i && n.push(e.$init),
                                (e.$init = function () {
                                    for (var t = 0; t < n.length; t++) n[t].apply(this, arguments);
                                }),
                                e.$skin && e.$skin();
                            var h = function (t) {
                                (this.$ready = []), this.$init, this.$init(t), this.Rt && this.Rt(t, this.defaults);
                                for (var e = 0; e < this.$ready.length; e++) this.$ready[e].call(this);
                            };
                            return (h.prototype = e), (e = t = null), h;
                        }),
                        A("onClick", function (t) {
                            var i = ae(t);
                            if (i && i.touchable) {
                                d("UIManager").applyChanges(i), i.getNode(t);
                                var n = t.target;
                                if (i.config.disabled) return;
                                var s = "";
                                if (n.className && 0 === n.className.toString().indexOf("webix_view")) return;
                                for (i && d("UIManager").Et(i); n && n.parentNode; ) {
                                    if (n.getAttribute) {
                                        if (n.getAttribute("view_id")) break;
                                        if ((s = n.className)) {
                                            s = s.toString().split(" ");
                                            for (var r = 0; r < s.length; r++) if (i.on_click[s[r]] && !1 === i.on_click[s[r]].call(i, t, i.P.id, n)) return;
                                        }
                                    }
                                    n = n.parentNode;
                                }
                                if (i.P.click) {
                                    var o = k(i.P.click, i.$scope);
                                    o && o.call && o.call(i, i.P.id, t);
                                }
                                var a = i.P.popup;
                                a && !i.P.readonly && ("object" != e(a) || a.name || ((a = i.P.popup = ne(a).P.id), i.Bt.push(ae(a))), (a = ae(a)).isVisible() || ((a.P.master = i.P.id), a.show(i.getInputNode() || i.getNode(), null, !0))),
                                    i.callEvent("onItemClick", [i.P.id, t]);
                            }
                        });
                    var le = {
                        Pt: C(["dummy"]),
                        jt: 0,
                        overflow: !1,
                        delay: 400,
                        addTooltip: function (t, e) {
                            var i,
                                n,
                                s = this;
                            (t = _(t)) instanceof Element ? ((i = t), "string" == typeof e ? i.setAttribute("webix_tooltip", e) : (n = e)) : ((i = t.$view), (n = t)), (n = n || this);
                            var r = this.Pt.find(n);
                            -1 === r && ((r = this.Pt.length), this.Pt.push(n)),
                                (i.webix_tooltip = r),
                                this.jt++,
                                this.Nt ||
                                    ((this.Nt = new ne.tooltip({})),
                                    (this.Nt.Lt = "webix_tooltip webix_global_tooltip"),
                                    (this.Ot = Jt(document, "mousemove", this.Wt, { bind: this })),
                                    (this.Ut = Jt(document, "mouseleave", this.Yt, { bind: this })),
                                    (this.qt = A("onDragMode", function () {
                                        return s.Yt();
                                    })),
                                    (this.Gt = A("onClick", function () {
                                        return s.Yt();
                                    })));
                        },
                        getTooltip: function () {
                            return this.Nt;
                        },
                        Wt: function (t) {
                            for (var e = {}, i = t.target; i instanceof Element && "HTML" != i.tagName; ) {
                                if (!e.first || !e.overflow) {
                                    var n = i.getAttribute("webix_tooltip");
                                    (e.first = e.first || n), n && i.scrollWidth > i.clientWidth && (e.overflow = n);
                                }
                                if (this.Pt[i.webix_tooltip]) return this.Xt && this.Xt != i ? (this.$tooltipOut(this.Xt, i, t), void (this.Xt = null)) : (this.Xt || (this.Xt = this.$tooltipIn(i, t)), this.$tooltipMove(i, t, e));
                                i = i.parentElement;
                            }
                            this.Xt && (this.Xt = this.$tooltipOut(this.Xt, null, t));
                        },
                        Yt: function () {
                            clearTimeout(this.Kt), this.Nt.hide();
                        },
                        getMaster: function (t) {
                            return this.Pt[t.webix_tooltip];
                        },
                        removeTooltip: function (t) {
                            var e,
                                i = (e = (t = _(t)) instanceof Element ? t : t.$view).webix_tooltip;
                            i && (this.Xt == e && (this.Yt(), (this.Xt = null)), delete e.webix_tooltip, this.jt--, (this.Pt[i] = null)),
                                !this.jt && this.Nt && ((this.Ot = Qt(this.Ot)), (this.Ut = Qt(this.Ut)), (this.qt = N(this.qt)), (this.Gt = N(this.Gt)), this.Nt.destructor(), (this.Nt = this.Xt = null), (this.Pt = C(["dummy"])));
                        },
                        $tooltipIn: function (t, e) {
                            var i = this.Pt[t.webix_tooltip];
                            return i.$tooltipIn && i != this ? i.$tooltipIn(t, e) : (this.Nt.define({ dx: 20, dy: 0, template: "", css: "" }), t);
                        },
                        $tooltipOut: function (t, e, i) {
                            var n = this.Pt[t.webix_tooltip];
                            return n.$tooltipOut && n != this ? n.$tooltipOut(t, e, i) : (this.Yt(), null);
                        },
                        $tooltipMove: function (t, e, i) {
                            var n = this.Pt[t.webix_tooltip];
                            if (n.$tooltipMove && n != this) return n.$tooltipMove(t, e, i);
                            var s = v(n.overflow) ? this.overflow : n.overflow,
                                r = v(n.delay) ? this.delay : n.delay,
                                o = s ? i.overflow : i.first;
                            0 < r && this.Yt(), (this.Kt = b(this.Nt.show, this.Nt, [o || {}, bt(e)], r));
                        },
                    };
                    function he(t) {
                        return "$" + t + (ce[t] = (ce[t] || 0) + 1);
                    }
                    var ce = {},
                        de = !1;
                    function ue(t, e) {
                        de = !0;
                        var i = t();
                        return (
                            i && i.then
                                ? (i = i.then(function (t) {
                                      return (de = !1) !== e && pe(), t;
                                  }))
                                : (de = !1) !== e && pe(),
                            i
                        );
                    }
                    function pe() {
                        if ((d("UIManager").applyChanges(), M("onClick", []), (ee.Jt = !0), !de)) for (var t = ee.top_views.length - 1; 0 <= t; t--) ee.top_views[t].obj && ee.top_views[t].obj.resize();
                        ee.Jt = !1;
                    }
                    function fe(t, e, i, n) {
                        if (t) for (var s = n ? [t] : t.getChildViews(), r = 0; r < s.length; r++) !1 !== e.call(i, s[r]) && fe(s[r], e, i);
                    }
                    function me(t) {
                        return v(t) ? G.zIndexBase++ : ((G.zIndexBase = Math.max(G.zIndexBase, t + 1)), t);
                    }
                    function ge(t) {
                        ve ? t.call() : be.push(t);
                    }
                    Jt(window, "resize", function () {
                        (G.touch && ee.mt && new Date() - ee.mt < 1e3) || pe();
                    });
                    var ve = !1,
                        be = [],
                        ye = document.getElementsByTagName("SCRIPT");
                    ye.length, ye.length && ((ye = (ye[ye.length - 1].getAttribute("src") || "").split("/")).splice(ye.length - 1, 1), (G.codebase = ye.slice(0, ye.length).join("/") + "/"));
                    var we = function () {
                            G.isIE && (document.body.className += " webix_ie"), M("onReady", []);
                        },
                        xe = function () {
                            (ve = !0), window.webix_ready && P(webix_ready) && (be = webix_ready.concat(be));
                            for (var t = 0; t < be.length; t++) be[t].call();
                            be = [];
                        };
                    A("onReady", function (t) {
                        t ? xe() : b(xe);
                    }),
                        "complete" == document.readyState ? we() : Jt(window, "load", we),
                        ge(function () {
                            Jt(document.body, "click", function (t) {
                                M("onClick", [t || window.event]);
                            });
                        });
                    var _e = {
                            set: function (t, e) {
                                (e = e || {}),
                                    this.Ht && this.exit(),
                                    ae(t) ? (t = ae(t)) : ("string" == typeof t && (t = document.getElementById(t)), t instanceof Element && (t = { $view: t, $html: !0 })),
                                    (this.Ht = t),
                                    (this.Zt = this.Qt());
                                var i = t.config;
                                t.setPosition
                                    ? ((i.fullscreen = !0), t.resize())
                                    : ((this.ti = ne({ view: "window", head: this.ii(e), fullscreen: !0, borderless: !0, body: { rows: [] } })),
                                      i && (this.ei = { width: i.width, minWidth: i.minWidth, maxWidth: i.maxWidth, height: i.height, minHeight: i.minHeight, maxHeight: i.maxHeight }),
                                      t.getParentView && t.getParentView()
                                          ? ((this.si = t.getParentView()), this.si.index && ((this.Zt.index = this.si.index(t)), (this.Zt.active = !!this.si.getActiveId && this.si.getActiveId() == i.id)))
                                          : ((this.si = t.$view.parentNode), (this.Zt.node = dt("div")), this.si.replaceChild(this.Zt.node, t.$view)),
                                      this.ti.getBody().addView(t.$html ? { view: "template", content: t.$view, css: "webix_fullscreen_html" } : t),
                                      this.ti.show(),
                                      this.ni(t));
                            },
                            exit: function () {
                                if (this.Ht) {
                                    var t = this.Ht.config;
                                    this.Qt(!0),
                                        this.Ht.setPosition
                                            ? ((t.fullscreen = !1), this.Ht.resize())
                                            : (this.si instanceof Element
                                                  ? ((this.Ht.bt = null), this.Ht.hi && this.Ht.hi(this.Ht.config), this.si.replaceChild(this.Ht.$view, this.Zt.node))
                                                  : v(this.Zt.index)
                                                  ? ((this.Ht.bt = this.si), this.si.Tt(this.Ht))
                                                  : (this.si.addView(this.Ht, this.Zt.index), this.Zt.active && this.Ht.show(!1, !1)),
                                              this.ni(this.Ht, this.ei),
                                              this.Ht.$html || (this.ti.getBody().ri = []),
                                              this.ti.close()),
                                        this.oi();
                                }
                            },
                            oi: function () {
                                delete this.si, delete this.Ht, delete this.ei, delete this.Zt, delete this.ti;
                            },
                            Qt: function (t) {
                                var e = this,
                                    i = this.Ht,
                                    n = {};
                                if (i.setPosition) t ? i.setPosition(this.Zt.left, this.Zt.top) : ((n.left = i.config.left), (n.top = i.config.top), i.setPosition(0, 0));
                                else {
                                    var s = i.$view.style;
                                    ["position", "top", "bottom", "left", "right"].forEach(function (i) {
                                        s[i] = t ? e.Zt[i] : ((n[i] = s[i]), "position" == i ? "relative" : 0);
                                    });
                                }
                                return n;
                            },
                            ni: function (t, e) {
                                t.$html || ((e = e || { height: 0, minHeight: 0, maxHeight: 0, width: 0, minWidth: 0, maxWidth: 0 }), t.define(e), t.resize());
                            },
                            ii: function (t) {
                                var i = this;
                                return !1 === t.head || "object" == e(t.head)
                                    ? t.head
                                    : {
                                          cols: [
                                              { template: t.head || "", type: "header", borderless: !0 },
                                              {
                                                  view: "icon",
                                                  icon: "wxi-close",
                                                  click: function () {
                                                      i.exit();
                                                  },
                                              },
                                          ],
                                      };
                            },
                        },
                        ke = {
                            Ht: null,
                            ai: {},
                            mt: 0,
                            ci: 0,
                            fi: 0,
                            li: {
                                esc: "escape",
                                up: "arrowup",
                                down: "arrowdown",
                                left: "arrowleft",
                                right: "arrowright",
                                pgdown: "pagedown",
                                pgup: "pageup",
                                space: " ",
                                multiply: "*",
                                add: "+",
                                subtract: "-",
                                decimal: ".",
                                divide: "/",
                                pausebreak: "pause",
                                "5numlocked": "clear",
                            },
                            di: { input: 1, button: 1, textarea: 1, select: 1 },
                            vi: function () {
                                Jt(document, "keydown", this._i, { bind: this }),
                                    Jt(document.body, "click", this.pi, { capture: !0, bind: this }),
                                    Jt(
                                        document.body,
                                        "mousedown",
                                        function () {
                                            this.fi = new Date();
                                        },
                                        { bind: this }
                                    ),
                                    Jt(document.body, "focus", this.bi, { capture: !0, bind: this }),
                                    ee.destructors.push({ obj: this });
                            },
                            destructor: function () {
                                ke.Ht = null;
                            },
                            getFocus: function () {
                                return this.Ht;
                            },
                            Et: function (t) {
                                this.mi = this.mi || t.P.id;
                            },
                            setFocus: function (t, e, i) {
                                return (
                                    (t = ae(t)) && !t.$view && (t = null),
                                    (this.mt = ee.mt = new Date()),
                                    this.Ht === t ||
                                        (this.Ht && this.Ht.callEvent && this.Ht.callEvent("onBlur", [this.Ht]),
                                        t && t.callEvent && (t.callEvent("onFocus", [t, this.Ht]), i && t.callEvent("onTabFocus", [t, this.Ht])),
                                        M("onFocusChange", [t, this.Ht]),
                                        this.Ht && this.Ht.blur && !e && this.Ht.blur(),
                                        (this.Ht = t) && t.focus && !e && t.focus()),
                                    !0
                                );
                            },
                            applyChanges: function (t) {
                                var e = this.getFocus();
                                e && e != t && e.gi && e.gi(t);
                            },
                            hasFocus: function (t) {
                                return t === this.Ht;
                            },
                            wi: function (t) {
                                var e = mt(t, "view_id") || this.mi;
                                return (
                                    (e = ae(e)),
                                    (this.mi = null),
                                    (ee.mt = new Date()),
                                    e == this.Ht ||
                                        (e ? (this.canFocus(e) ? (this.Ht && this.Ht.getFormView() == e && this.Ht.focus ? this.Ht.focus() : this.setFocus(e)) : e.$view.contains(t.target) && t.target.blur()) : this.setFocus(null)),
                                    !0
                                );
                            },
                            pi: function (t) {
                                return new Date() - this.mt < 100 ? ((this.mi = null), !1) : this.wi(t);
                            },
                            bi: function (t) {
                                return !!this.di[t.target.nodeName.toLowerCase()] && this.wi(t);
                            },
                            xi: function (t) {
                                return (
                                    !ee.St ||
                                    ((
                                        t.queryView(function (t) {
                                            return !t.getParentView();
                                        }, "parent") || t
                                    ).$view.style.zIndex || 0) >= ee.St
                                );
                            },
                            canFocus: function (t) {
                                return t.isVisible() && t.isEnabled() && !t.config.disabled && this.xi(t) && !t.queryView({ disabled: !0 }, "parent");
                            },
                            yi: function (t) {
                                var e = this.getFocus();
                                if (t && !this.Mi(t, e)) return !1;
                                this.Si("getPrev", t) || (this.Ht = null);
                            },
                            Mi: function (t, e) {
                                if (!t) return !1;
                                if (!e) return !1;
                                for (; e; ) {
                                    if (e === t) return !0;
                                    e = e.getParentView();
                                }
                                return !1;
                            },
                            ki: function () {
                                this && this.callEvent && this.callEvent("onTimedKeyPress", []);
                            },
                            _i: function (t) {
                                var e = t.which || t.keyCode;
                                95 < e && e < 106 && (e -= 48);
                                var i = this.getFocus();
                                if ((i && i.callEvent && (!1 === i.callEvent("onKeyPress", [e, t]) && yt(t), i.hasEvent("onTimedKeyPress") && (clearTimeout(i.Ci), (i.Ci = b(this.ki, i, [], i.P.keyPressTimeout || 250)))), !1 === this.$i(t)))
                                    return yt(t), !1;
                            },
                            Si: function (t, e) {
                                var i = e || this.getFocus();
                                if (i) {
                                    t = t || "getNext";
                                    for (var n = i, s = x(); ; ) {
                                        if ((i = this[t](i)) && this.canFocus(i)) return this.setFocus(i);
                                        if (i === n || i.$fmarker == s) return e && document.activeElement.blur(), null;
                                        i.$fmarker = s;
                                    }
                                }
                            },
                            Di: function (t, e) {
                                var i = !e.shiftKey;
                                if (((ke.ci = new Date()), t && t.Ii && !t.Ii(i, e))) return !1;
                                if (t && t.Ai) {
                                    if (t.editNext) return t.editNext(i);
                                    if (t.editStop) return t.editStop(), !0;
                                } else
                                    b(function () {
                                        if ((t = ae(document.activeElement)) && !ke.canFocus(t)) return ke.Si(i ? "getNext" : "getPrev", t);
                                        ke.setFocus(t, !0, !0);
                                    });
                            },
                            getTop: function (t) {
                                for (var e, i = ae(t); i && (e = i.getParentView()); ) i = e;
                                return i;
                            },
                            getNext: function (t, e) {
                                var i = t.getChildViews();
                                if (i.length && !e) for (var n = 0; n < i.length; n++) if (this.canFocus(i[n])) return i[n];
                                var s = t.getParentView();
                                if (!s) return t;
                                var r = s.getChildViews();
                                if (r.length)
                                    for (var o = I.find.call(r, t) + 1; o < r.length; ) {
                                        if (this.canFocus(r[o])) return r[o];
                                        o++;
                                    }
                                return this.getNext(s, !0);
                            },
                            getPrev: function (t, e) {
                                var i = t.getChildViews();
                                if (i.length && e) for (var n = i.length - 1; 0 <= n; n--) if (this.canFocus(i[n])) return this.getPrev(i[n], !0);
                                if (e && this.canFocus(t)) return t;
                                var s = t.getParentView();
                                if (!s) return this.canFocus(t) ? this.getPrev(t, !0) : t;
                                var r = s.getChildViews();
                                if (r)
                                    for (var o = I.find.call(r, t) - 1; 0 <= o; ) {
                                        if (this.canFocus(r[o])) return this.getPrev(r[o], !0);
                                        o--;
                                    }
                                return this.getPrev(s, !0);
                            },
                            addHotKey: function (t, e, i) {
                                var n = this.Ti(t);
                                return i || (i = null), this.ai[n] || (this.ai[n] = []), this.ai[n].push({ handler: e, view: i }), t;
                            },
                            removeHotKey: function (t, e, i) {
                                var n = this.Ti(t);
                                if (e || i) {
                                    var s = this.ai[n];
                                    if (s) {
                                        for (var r = s.length - 1; 0 <= r; r--) (i && s[r].view !== i) || (e && s[r].handler !== e) || s.splice(r, 1);
                                        s.length || delete this.ai[n];
                                    }
                                } else delete this.ai[n];
                            },
                            Fi: function (t, e, i, n, s) {
                                return (t || "").toLowerCase() + "_" + ["", e ? "1" : "0", i ? "1" : "0", n ? "1" : "0", s ? "1" : "0"].join("");
                            },
                            $i: function (t) {
                                var e = t.which || t.keyCode,
                                    i = !t.ctrlKey && !t.altKey && !t.metaKey && 9 != e && 27 != e && 13 != e,
                                    n = this.Fi(t.key, t.ctrlKey, t.shiftKey, t.altKey, t.metaKey),
                                    s = this.getFocus();
                                return this.ai[n] ? this.Vi(this.ai[n], s, t) : !i || !this.ai.any_0000 || this.Vi(this.ai.any_0000, s, t);
                            },
                            Vi: function (t, e, i) {
                                for (var n = 0; n < t.length; n++) {
                                    var s = t[n];
                                    if (null === s.view || e === s.view || ("string" == typeof s.view && e && e.name === s.view)) {
                                        var r = s.handler(e, i);
                                        if (!!r === r) return r;
                                    }
                                }
                                return !0;
                            },
                            Ti: function (t) {
                                var e,
                                    i,
                                    n,
                                    s,
                                    r = this.li,
                                    o = t.toLowerCase().split(/[ +\-_]/);
                                e = i = n = s = 0;
                                for (var a = "", l = 0; l < o.length; l++) "ctrl" === o[l] ? (e = 1) : "shift" === o[l] ? (i = 1) : "alt" === o[l] ? (n = 1) : "command" === o[l] ? (s = 1) : (a = r[o[l]] || o[l]);
                                return this.Fi(a, e, i, n, s);
                            },
                            getState: function (t, e) {
                                e = e || !1;
                                var i = { id: (t = ae(t)).config.id, width: t.config.width, height: t.config.height, gravity: t.config.gravity };
                                if ((v(t.config.collapsed) || (i.collapsed = t.config.collapsed), ("tabs" !== t.name && "tabbar" !== t.name) || (i.activeCell = t.getValue()), e && ((i = [i]), t.ri)))
                                    for (var n = 0; n < t.ri.length; n++) i = i.concat(this.getState(t.ri[n], e));
                                return i;
                            },
                            setState: function (t) {
                                P(t) || (t = [t]);
                                for (var e = 0; e < t.length; e++) {
                                    var i = t[e],
                                        n = ae(i.id);
                                    n && (v(i.collapsed) || n.define("collapsed", i.collapsed), v(i.activeCell) || n.setValue(i.activeCell), n.define("width", i.width), n.define("height", i.height), n.define("gravity", i.gravity));
                                }
                                var s = ae(t[0].id);
                                s && s.resize();
                            },
                        };
                    ge(function () {
                        ke.vi(),
                            ke.addHotKey("enter", function (t, e) {
                                if ((t && t.callEvent && t.callEvent("onEnter", [e]), t && t.editStop && t.Ai)) return t.editStop(), !0;
                                if (t && t.touchable) {
                                    var i = t.getFormView();
                                    i && !t.zi && i.callEvent("onSubmit", [t, e]);
                                }
                            }),
                            ke.addHotKey("esc", function (t) {
                                if (t) {
                                    if (t.editCancel && t.Ai) return t.editCancel(), !0;
                                    var e = t.getTopParentView();
                                    e && e.setPosition && (_e.ti == e && _e.exit(), e.Bi());
                                }
                            }),
                            ke.addHotKey("shift+tab", ke.Di),
                            ke.addHotKey("tab", ke.Di);
                    }),
                        c("UIManager", ke);
                    var Pe = {
                            $init: function () {
                                this.P = this.config = {};
                            },
                            define: function (t, i) {
                                return "object" == e(t) ? this.Hi(t) : this.Ri(t, i);
                            },
                            Ri: function (t, e) {
                                var i = this[t + "_setter"];
                                return (this.P[t] = i ? i.call(this, e, t) : e);
                            },
                            Hi: function (t) {
                                if (t) for (var e in t) this.Ri(e, t[e]);
                            },
                            Rt: function (i, n) {
                                var s = {};
                                n && (s = t.extend(s, n)), "object" != e(i) || i.tagName || t.extend(s, i, !0), this.Hi(s);
                            },
                            Ei: function (t, i) {
                                for (var n in i)
                                    switch (e(t[n])) {
                                        case "object":
                                            t[n] = this.Ei(t[n] || {}, i[n]);
                                            break;
                                        case "undefined":
                                            t[n] = i[n];
                                    }
                                return t;
                            },
                        },
                        Se = {
                            $init: function () {
                                var t = (this.zt = this.zt || { obj: this });
                                ee.destructors.push(t);
                            },
                            destructor: function () {
                                var t = this.P;
                                if ((this.Pi && this.editCancel(), this.callEvent && this.callEvent("onDestruct", []), (this.destructor = function () {}), (this.zt.obj = null), this.getChildViews)) {
                                    var e = this.getChildViews();
                                    if (e) for (var i = 0; i < e.length; i++) e[i].destructor();
                                    if (this.Bt) for (var n = 0; n < this.Bt.length; n++) this.Bt[n].destructor();
                                }
                                if ((delete ne.views[t.id], t.$id)) {
                                    var s = this.getTopParentView();
                                    s && s.ji && s.ji(t.$id);
                                }
                                (this.Ni = null),
                                    (this.Li = null),
                                    (this.Oi = null),
                                    this.Wi && ((this.Wi.innerHTML = ""), (this.Wi.Ni = null)),
                                    this.Vt && this.Vt.parentNode && this.Vt.parentNode.removeChild(this.Vt),
                                    this.data && this.data.destructor && this.data.destructor(),
                                    this.unbind && this.unbind(),
                                    (this.data = null),
                                    (this.bt = null),
                                    (this.Vt = this.$view = this.Wi = this.tt = null),
                                    (this.o = this.u = this.l = {}),
                                    ke.Ht == this && (ke.Ht = null);
                                var r = t.url;
                                r && r.$proxy && r.release && r.release(), (this.$scope = null), (this.$destructed = !0);
                            },
                        };
                    Jt(window, "unload", function () {
                        M("unload", []), (ee.xt = !0);
                        for (var t = 0; t < ee.destructors.length; t++) {
                            var e = ee.destructors[t].obj;
                            e && e.destructor();
                        }
                        (ee.destructors = []), (ee.kt = C()), Kt();
                    });
                    var Ce = {
                            $init: function () {
                                (this.Ui = null),
                                    this.attachEvent("onSelectChange", function () {
                                        var t = this.getSelectedId();
                                        this.setCursor(t ? t.id || t : null);
                                    }),
                                    this.attachEvent("onAfterCursorChange", this.Yi),
                                    this.attachEvent("onAfterDelete", function (t) {
                                        t == this.getCursor() && this.setCursor(null);
                                    }),
                                    this.data.attachEvent(
                                        "onStoreUpdated",
                                        m(function (t, e, i) {
                                            t && t == this.getCursor() && "paint" != i && "delete" != i && this.Yi();
                                        }, this)
                                    ),
                                    this.data.attachEvent(
                                        "onClearAll",
                                        m(function () {
                                            this.Ui = null;
                                        }, this)
                                    ),
                                    this.data.attachEvent(
                                        "onIdChange",
                                        m(function (t, e) {
                                            this.Ui == t && ((this.Ui = e), this.Yi());
                                        }, this)
                                    );
                            },
                            refreshCursor: function () {
                                this.Ui && this.callEvent("onAfterCursorChange", [this.Ui]);
                            },
                            setCursor: function (t) {
                                t == this.Ui || (null !== t && !this.getItem(t)) || (this.callEvent("onBeforeCursorChange", [this.Ui]), (this.Ui = t), this.callEvent("onAfterCursorChange", [t]));
                            },
                            getCursor: function () {
                                return this.Ui;
                            },
                            qi: function (t, e, i) {
                                if ("$level" == e && this.data.getBranch) return (t.data || t).importData(this.data.getBranch(this.getCursor()));
                                var n = this.getItem(this.getCursor()) || this.P.defaultData || null;
                                "$data" == e ? ("function" == typeof i ? i.call(t, n, this) : t.data.importData(n ? n[i] : []), t.callEvent("onBindApply", [n, e, this])) : (i && (n = i(n)), this.Gi(t, e, n));
                            },
                        },
                        Ie = {
                            $init: function () {
                                this.attachEvent("onChange", this.Yi);
                            },
                            qi: function (t, e, i) {
                                e = e || "value";
                                var n = this.getValue() || "";
                                if ((i && (n = i(n)), t.setValue)) t.setValue(n);
                                else if (t.filter)
                                    t.data.silent(function () {
                                        this.filter(e, n);
                                    });
                                else {
                                    var s = {};
                                    (s[e] = n), t.J(n) && t.setValues(s);
                                }
                                t.callEvent("onBindApply", [n, e, this]);
                            },
                        },
                        Te = {
                            $init: function () {
                                this.attachEvent("onChange", this.Yi);
                            },
                            qi: function (t, e, i) {
                                var n = this.getValues() || null;
                                i && (n = i(n)), this.Gi(t, e, n);
                            },
                        },
                        $e = {
                            $init: function () {
                                (this.Xi = {}), (this.Ki = {}), (this.Ji = {}), this.Zi(this);
                            },
                            saveBatch: function (t) {
                                (this.Qi = !0), t.call(this), (this.Qi = !1), this.Yi();
                            },
                            setBindData: function (t, e) {
                                if ((e && (this.Ji[e] = !0), this.setValue)) this.setValue(t);
                                else if (this.setValues) this.setValues(t);
                                else {
                                    var i = this.getCursor();
                                    i ? this.updateItem(i, t) : this.add(t);
                                }
                                this.callEvent("onBindUpdate", [t, e]), this.save && this.save(), e && (this.Ji[e] = !1);
                            },
                            getBindData: function (t, e) {
                                if (this.Ki[t]) return !1;
                                var i = ae(t);
                                i.isVisible(i.P.id) && ((this.Ki[t] = !0), this.qi(i, this.Xi[t][0], this.Xi[t][1]), e && i.filter && i.refresh());
                            },
                            addBind: function (t, e, i) {
                                this.Xi[t] = [e, i];
                            },
                            removeBind: function (t) {
                                delete this.Xi[t], delete this.Ki[t], delete this.Ji[t];
                            },
                            Zi: function (e) {
                                e.filter ? t.extend(this, Ce) : e.setValue ? t.extend(this, Ie) : t.extend(this, Te);
                            },
                            Yi: function () {
                                if (!this.Qi) for (var t in this.Xi) this.Ji[t] || ((this.Ki[t] = !1), this.getBindData(t, !0));
                            },
                            Gi: function (t, e, i) {
                                t.setValue
                                    ? t.setValue(i && e ? i[e] : i)
                                    : t.filter
                                    ? t.data.silent(function () {
                                          this.filter(e, i);
                                      })
                                    : !i && t.clear
                                    ? t.clear()
                                    : t.J(i) && t.setValues(p(i)),
                                    t.callEvent("onBindApply", [i, e, this]);
                            },
                        },
                        Ee = {
                            bind: function (e, i, n) {
                                this.attachEvent || t.extend(this, E),
                                    "string" == typeof e && (e = ae(e)),
                                    e.te && e.te(),
                                    this.te && this.te(),
                                    e.getBindData || t.extend(e, $e),
                                    this.ie(),
                                    e.addBind(this.P.id, i, n),
                                    (this.ee = e.P.id),
                                    (this.se = this.P.id),
                                    (this.ne = this.attachEvent(this.touchable ? "onAfterRender" : "onBindRequest", function () {
                                        return e.getBindData(this.se);
                                    })),
                                    this.refresh && this.isVisible(this.se) && this.refresh();
                            },
                            unbind: function () {
                                if (this.ee) {
                                    var t = ae(this.ee);
                                    t && t.removeBind(this.se), this.detachEvent(this.ne), (this.ee = this.ne = null);
                                }
                            },
                            ie: function () {
                                var t = this.P;
                                if (this.filter) {
                                    var e = t.id;
                                    this.data.he = m(function () {
                                        ae(this.ee).Ki[e] = !1;
                                    }, this);
                                }
                                var i = this.render;
                                (this.render = function () {
                                    if (!this.re) {
                                        this.re = !0;
                                        var t = this.callEvent("onBindRequest");
                                        return (this.re = !1), i.apply(this, !1 === t ? arguments : []);
                                    }
                                }),
                                    (this.getValue || this.getValues) &&
                                        (this.save = function (t) {
                                            var e = ae(this.ee);
                                            if (t) e.setBindData(t);
                                            else {
                                                if (this.validate && !this.validate()) return !1;
                                                var i = this.getValue ? this.getValue : this.getValues();
                                                e.setBindData(i, this.P.id), this.setDirty && this.setDirty(!1);
                                            }
                                        }),
                                    (this.ie = function () {});
                            },
                        },
                        De = window.webix_view || {},
                        Me = {
                            name: "baseview",
                            $init: function (t) {
                                t.id || (t.id = he(this.name)),
                                    (this.bt = ee.bt),
                                    (ee.bt = null),
                                    (this.$scope = t.$scope || (this.bt ? this.bt.$scope : ee.ft)),
                                    this.Vt || ((this.Wi = this.Vt = dt("DIV", { class: "webix_view" })), (this.$view = this.Vt));
                            },
                            $skin: !1,
                            defaults: { width: 0, height: 0, gravity: 1 },
                            getNode: function () {
                                return this.Vt;
                            },
                            $setNode: function (t) {
                                this.Vt = this.tt = this.$view = t;
                            },
                            getParentView: function () {
                                return this.bt || null;
                            },
                            getTopParentView: function () {
                                var t = this.getParentView();
                                return t ? t.getTopParentView() : this;
                            },
                            getFormView: function () {
                                var t = this.getParentView();
                                return !t || t.oe ? t : t.getFormView();
                            },
                            getChildViews: function () {
                                return [];
                            },
                            queryView: function (t, i) {
                                var n;
                                if (
                                    ("string" == typeof t && (t = { view: t }),
                                    (n =
                                        "object" === e(t)
                                            ? function (e) {
                                                  var i = e.config;
                                                  for (var n in t) if (i[n] != t[n]) return !1;
                                                  return !0;
                                              }
                                            : t),
                                    "self" === i && n(this))
                                )
                                    return this;
                                var s = "all" === i && [],
                                    r = "parent" === i ? this.ae : this.ue,
                                    o = this.ce(n, r, s);
                                return "all" === i ? s : o;
                            },
                            ue: function (t) {
                                return t.getChildViews();
                            },
                            ae: function (t) {
                                var e = t.getParentView();
                                return e ? [e] : [];
                            },
                            ce: function (t, e, i) {
                                for (var n = e(this), s = 0; s < n.length; s++) {
                                    if (t(n[s])) {
                                        if (!i) return n[s];
                                        i.push(n[s]);
                                    }
                                    var r = n[s].ce(t, e, i);
                                    if (r && !i) return r;
                                }
                                return null;
                            },
                            isVisible: function (t) {
                                if (this.P.hidden) return t && (this.fe || ((this.fe = []), (this.le = {})), this.le[t] || ((this.le[t] = !0), this.fe.push(t))), !1;
                                var e = this.getParentView();
                                return !e || e.isVisible(t, this.P.id);
                            },
                            isEnabled: function () {
                                if (this.de) return !1;
                                var t = this.getParentView();
                                return !t || t.isEnabled();
                            },
                            disable: function () {
                                pt(this.de),
                                    (this.P.disabled = !0),
                                    (this.de = dt("div", { class: "webix_disabled" })),
                                    this.Vt.appendChild(this.de),
                                    this.Vt.setAttribute("aria-disabled", "true"),
                                    _t(this.Vt, "webix_disabled_view", !0),
                                    ke.yi(this);
                            },
                            enable: function () {
                                (this.P.disabled = !1), this.de && (pt(this.de), kt(this.Vt, "webix_disabled_view"), this.Vt.removeAttribute("aria-disabled"), (this.de = null));
                            },
                            disabled_setter: function (t) {
                                return t ? this.disable() : this.enable(), t;
                            },
                            container_setter: function (t) {
                                return _(t), !0;
                            },
                            css_setter: function (t) {
                                return "object" == e(t) && (t = lt(t)), (this.Vt.className += " " + t), t;
                            },
                            id_setter: function (t) {
                                if (ee.lt && (ee.lt != this || this.ve)) {
                                    var e = (this.config.$id = t);
                                    (t = he(((this.ve || ee.lt)._e[t] = this).name)), ((this.ve || ee.lt).pe[t] = e);
                                }
                                return ne.views[t], (ne.views[t] = this).Vt.setAttribute("view_id", t), t;
                            },
                            $setSize: function (t, e) {
                                var i = this.be;
                                return !(
                                    (i && i[0] == t && i[1] == e) ||
                                    ((this.be = [t, e]),
                                    (this.$width = this.me = t - (this.ge ? G.scrollSize : 0)),
                                    (this.$height = this.we = e - (this.xe ? G.scrollSize : 0)),
                                    this.P.flex || ((this.Vt.style.width = t + "px"), (this.Vt.style.height = e + "px")),
                                    0)
                                );
                            },
                            $getSize: function (t, e) {
                                var i = this.P,
                                    n = [1 * (i.width || i.minWidth || 0), 1 * (i.width || i.maxWidth || 1e5), 1 * (i.height || i.minHeight || 0), 1 * (i.height || i.maxHeight || 1e5), i.gravity];
                                return (
                                    (isNaN(n[0]) || isNaN(n[1]) || isNaN(n[2]) || isNaN(n[3])) && (this.P.id, (i.width = i.height = i.maxWidth = i.maxHeight = i.minWidth = i.minHeight = 0), (n = [0, 0, 1e5, 1e5, 1])),
                                    (n[0] += t),
                                    (n[1] += t),
                                    (n[2] += e),
                                    (n[3] += e),
                                    n
                                );
                            },
                            show: function (e, i) {
                                var n = this.getParentView(),
                                    s = !arguments[2];
                                n
                                    ? (!i && !1 !== i && this.P.animate && n.P.animate && (i = t.extend(n.P.animate ? t.extend({}, n.P.animate) : {}, this.P.animate, !0)),
                                      (s ? n.ye : n.Bi) && (s ? n.ye : n.Bi).call(n, this, i),
                                      s && this.Me(),
                                      e && s && n.show(!n.$$ && e))
                                    : this.P.hidden
                                    ? s && (_(this.P.At || document.body).appendChild(this.Vt), (this.P.hidden = !1), this.adjust(), this.callEvent && (this.callEvent("onViewShow", []), this.Se && fe(this, this.Se)), this.Me())
                                    : s || ((this.P.hidden = this.P.It = !0), this.Vt && ((this.P.At = this.Vt.parentNode), pt(this.Vt)));
                            },
                            Me: function () {
                                if (this.fe) {
                                    for (var t = 0; t < this.fe.length; t++) {
                                        var e = ae(this.fe[t]);
                                        e && e.render();
                                    }
                                    (this.fe = []), (this.le = {});
                                }
                            },
                            ke: function (t, e) {
                                var i = e.target,
                                    n = i.getAttribute("role");
                                (13 !== t && 32 !== t) || ("button" != n && "tab" != n) || this.P.disabled || (xt(i, "MouseEvents", "click"), yt(e));
                            },
                            hidden_setter: function (t) {
                                return t && this.hide(), this.P.hidden;
                            },
                            hide: function () {
                                this.show(null, null, !0), ke.yi(this);
                            },
                            adjust: function () {
                                if (!this.Vt.parentNode) return !1;
                                var t = this.Vt.parentNode.clientWidth || 0,
                                    e = this.Vt.parentNode.clientHeight || 0,
                                    i = this.$getSize(0, 0),
                                    n = this.Vt.parentNode == document.body && !this.setPosition;
                                i[0] > t && (t = i[0]), i[2] > e && (e = i[2]), (!n || this.P.width) && t > i[1] && (t = i[1]), (!n || this.P.height) && e > i[3] && (e = i[3]), this.$setSize(t, e), ee.vt && ((ee.vt = !1), this.adjust());
                            },
                            resize: function () {
                                if (!(ee.dt || ee.pt || ee._t)) {
                                    var t = this.getParentView();
                                    t ? (t.resizeChildren ? t.resizeChildren() : t.resize()) : (this.adjust(), M("onResize", []));
                                }
                            },
                        },
                        Ae = { api: Me, view: t.protoUI(Me, Pe, Se, Ee, De) },
                        Ne = {
                            name: "view",
                            $init: function (t) {
                                this.hi(t);
                            },
                            hi: function (t) {
                                var e = v(t.borderless);
                                e && !this.setPosition && t.$topView && (e = !(t.borderless = !0)),
                                    (e && this.defaults.borderless) || t.borderless ? (t.Dt = { top: !0, left: !0, bottom: !0, right: !0 }) : (t.Dt || (t.Dt = {}), (this.Wi.style.borderWidth = "1px"));
                            },
                            $getSize: function (t, e) {
                                var i = this.P.Dt;
                                return i && ((t += (i.left ? 0 : 1) + (i.right ? 0 : 1)), (e += (i.top ? 0 : 1) + (i.bottom ? 0 : 1))), Ae.api.$getSize.call(this, t, e);
                            },
                            $setSize: function (t, e) {
                                var i = this.P.Dt;
                                return i && ((t -= (i.left ? 0 : 1) + (i.right ? 0 : 1)), (e -= (i.top ? 0 : 1) + (i.bottom ? 0 : 1))), Ae.api.$setSize.call(this, t, e);
                            },
                        },
                        Oe = t.protoUI(Ne, Ae.view),
                        Re = { api: Ne, view: Oe };
                    Oe.call(-1);
                    var Ve,
                        Le,
                        je = t.proto(
                            {
                                template_setter: function (t) {
                                    this.type.template = Ut(t);
                                },
                                Q: function (t) {
                                    var e = this.type;
                                    return (e.templateStart ? e.templateStart(t, e) : "") + e.template(t, e) + (e.templateEnd ? e.templateEnd(t, e) : "");
                                },
                                customize: function (t) {
                                    te(this, t);
                                },
                            },
                            Gt
                        ),
                        Fe = {
                            name: "tooltip",
                            defaults: { dy: 0, dx: 20 },
                            $init: function (t) {
                                "string" == typeof t && (t = { template: t }),
                                    (this.$view = this.Vt = this.Wi = this.tt = dt("DIV", { role: "alert", "aria-atomic": "true" })),
                                    (this.Vt.className = this.Lt),
                                    ft(this.Wi, document.body.firstChild, document.body);
                            },
                            adjust: function () {},
                            isVisible: function () {
                                return this.Ce;
                            },
                            $e: function (t) {
                                this.callEvent("onBeforeRender", [t]) && ((this.tt.innerHTML = ""), (this.tt.innerHTML = t), this.callEvent("onAfterRender", []));
                            },
                            Lt: "webix_tooltip",
                            css_setter: function (t) {
                                return "object" === e(t) && (t = lt(t)), (this.Vt.className = this.Lt + " " + t), t;
                            },
                            show: function (e, i) {
                                if (!this.De)
                                    if (((this.Ce = !0), "string" == typeof e ? this.$e(e) : ((this.data = t.extend({}, e)), this.render()), this.tt.firstChild)) {
                                        var n = Math.max(document.documentElement.clientWidth, window.innerWidth || 0),
                                            s = Math.max(document.documentElement.clientHeight, window.innerHeight || 0),
                                            r = n - i.x,
                                            o = s - i.y;
                                        (this.Wi.style.display = "block"),
                                            r - this.P.dx > this.Wi.offsetWidth ? (r = i.x) : (r = i.x - 2 * this.P.dx - this.Wi.offsetWidth) < 0 && (r = 0),
                                            o - this.P.dy > this.Wi.offsetHeight ? (o = i.y) : (o = i.y - 2 * this.P.dy - this.Wi.offsetHeight) < 0 && (o = 0),
                                            (this.Wi.style.left = r + this.P.dx + "px"),
                                            (this.Wi.style.top = o + this.P.dy + "px");
                                    } else this.hide();
                            },
                            hide: function () {
                                this.Ce && ((this.data = null), (this.Wi.style.display = "none"), (this.Ce = !1));
                            },
                            disable: function () {
                                this.De = !0;
                            },
                            enable: function () {
                                this.De = !1;
                            },
                            type: { template: Ut("{obj.value}"), templateStart: Ut.empty, templateEnd: Ut.empty },
                        },
                        ze =
                            (t.protoUI(Fe, je, Pe, E, Re.view),
                            {
                                tooltip_setter: function (t) {
                                    if (t) return ("function" != typeof t && "string" != typeof t) || (t = { template: t }), "object" !== e(t) && (t = {}), t.overflow && v(t.template) && (t.template = ""), this.Ie(), t;
                                },
                                Ie: function () {
                                    le.addTooltip(this),
                                        this.attachEvent("onDestruct", function () {
                                            le.removeTooltip(this);
                                        }),
                                        this.attachEvent("onAfterScroll", function () {
                                            le.jt && le.Yt();
                                        }),
                                        (this.Ie = function () {});
                                },
                                $tooltipIn: function (e) {
                                    var i = le.Nt,
                                        n = t.extend({ dx: 20, dy: 0, template: "{obj.value}", css: "" }, this.P.tooltip, !0);
                                    return i.define(n), e;
                                },
                                $tooltipOut: function () {
                                    return le.Yt(), null;
                                },
                                $tooltipMove: function (t, e, i) {
                                    var n = this.P.tooltip,
                                        s = v(n.overflow) ? le.overflow : n.overflow,
                                        r = v(n.delay) ? le.delay : n.delay,
                                        o = s ? i.overflow : i.first;
                                    0 < r && le.Yt(), (le.Kt = b(this.Ae, this, [t, e, o], r));
                                },
                                Ae: function (t, e, i) {
                                    var n = i || this.Te(t, e);
                                    n && this.isVisible() && le.Nt.show(n, bt(e));
                                },
                                Te: function (t, e) {
                                    if (this.locate && this.getItem) {
                                        var i = this.locate(e);
                                        return i ? this.getItem(i) : null;
                                    }
                                    return this.P;
                                },
                            }),
                        He = t.proto({
                            $init: function (t) {
                                (this.Fe = []), (this.Ve = v(t.series) ? t.name : t.series), (this.ze = _(t.container || t));
                                var e = t.width * (window.devicePixelRatio || 1),
                                    i = t.height * (window.devicePixelRatio || 1),
                                    n = t.style || "";
                                (n += ";width:" + t.width + "px;height:" + t.height + "px;"), this.Be(t.name, n, e, i, t.title);
                            },
                            Be: function (t, e, i, n, s) {
                                return (this.He = dt("canvas", { title: s, width: i, height: n, canvas_id: t, style: e || "" })), this.ze.appendChild(this.He), this.He;
                            },
                            getCanvas: function (t) {
                                var e = (this.He || this.Be(this.Wi)).getContext(t || "2d");
                                return this.Re || ((this.Re = !0), e.scale(window.devicePixelRatio || 1, window.devicePixelRatio || 1)), e;
                            },
                            Ee: function (t, e) {
                                this.He &&
                                    (this.He.setAttribute("width", t * (window.devicePixelRatio || 1)),
                                    this.He.setAttribute("height", e * (window.devicePixelRatio || 1)),
                                    (this.He.style.width = t + "px"),
                                    (this.He.style.height = e + "px"),
                                    (this.Re = !1));
                            },
                            renderText: function (t, e, i, n, s) {
                                if (i) {
                                    s && (s = Math.max(s, 0)), e && (e = Math.max(e, 0));
                                    var r = dt("DIV", { class: "webix_canvas_text" + (n ? " " + n : ""), style: "left:" + t + "px; top:" + e + "px;", "aria-hidden": "true" }, i);
                                    return this.ze.appendChild(r), this.Fe.push(r), s && (r.style.width = s + "px"), r;
                                }
                            },
                            renderTextAt: function (t, e, i, n, s, r, o) {
                                var a = this.renderText.call(this, i, n, s, r, o);
                                return (
                                    a &&
                                        (t && (a.style.top = "middle" == t ? parseInt(n - a.offsetHeight / 2, 10) + "px" : n - a.offsetHeight + "px"),
                                        e && (a.style.left = "left" == e ? i - a.offsetWidth + "px" : parseInt(i - a.offsetWidth / 2, 10) + "px")),
                                    a
                                );
                            },
                            clearCanvas: function (t) {
                                var e = [];
                                if ((pt(this.Fe), (this.Fe = []), !t && this.ze.Ni)) {
                                    for (e = this.Pe(); e.length; ) e[0].parentNode.removeChild(e[0]), e.splice(0, 1);
                                    (e = null), this.ze.Ni.getElementsByTagName("AREA").length || (this.ze.Ni.parentNode.removeChild(this.ze.Ni), (this.ze.Ni = null));
                                }
                                this.getCanvas().clearRect(0, 0, this.He.offsetWidth || Math.floor(this.He.width / (window.devicePixelRatio || 1)), this.He.offsetHeight || Math.floor(this.He.height / (window.devicePixelRatio || 1)));
                            },
                            toggleCanvas: function () {
                                this.je("none" == this.He.style.display);
                            },
                            showCanvas: function () {
                                this.je(!0);
                            },
                            hideCanvas: function () {
                                this.je(!1);
                            },
                            je: function (t) {
                                var e, i;
                                for (i = 0; i < this.Fe.length; i++) this.Fe[i].style.display = t ? "" : "none";
                                if (this.ze.Ni) for (e = this.Pe(), i = 0; i < e.length; i++) t ? e[i].removeAttribute("disabled") : e[i].setAttribute("disabled", "true");
                                this.He.style.display = t ? "" : "none";
                            },
                            Pe: function () {
                                var t,
                                    e,
                                    i = [];
                                for (t = this.ze.Ni.getElementsByTagName("AREA"), e = 0; e < t.length; e++) t[e].getAttribute("userdata") == this.Ve && i.push(t[e]);
                                return i;
                            },
                        }),
                        We = function (t, e) {
                            var i = e;
                            if (P(t))
                                for (var n = 0; n < t.length; n++) {
                                    if ((P(e) && (i = e[n]), "slide" == i.type)) {
                                        if ("out" == i.subtype && 0 === n) continue;
                                        if ("in" == i.subtype && 1 == n) continue;
                                    }
                                    if ("flip" != i.type) We(t[n], i);
                                    else {
                                        var s = p(i);
                                        0 === n && (s.type = "flipback"), 1 == n && (s.callback = null), We(t[n], s);
                                    }
                                }
                            else {
                                var r = _(t);
                                r.Ne ? We.end(r, i) : We.start(r, i);
                            }
                        };
                    function Be(t) {
                        if ((Ye[t], Le !== t))
                            for (var e in ((Ye.$active = Ve = Ye[t]), (Ye.$name = Le = t), ne)) {
                                var i = ne[e];
                                i && i.prototype && i.prototype.$skin && i.prototype.$skin(i.prototype);
                            }
                    }
                    (We.end = function (t, e) {
                        (t.style[G.transitionDuration] = "1ms"), (t.Ne = null), ee.Ct && window.clearTimeout(ee.Ct), (ee.Ct = b(We, this, [t, e], 10));
                    }),
                        (We.isSupported = function () {
                            return G.transform && G.transition && !G.isOpera;
                        }),
                        (We.formLine = function (t, e, i) {
                            var n = i.direction;
                            e.parentNode && (e.parentNode.style.position = "relative"), (e.style.position = "absolute"), (t.style.position = "absolute");
                            var s = G.isFF ? ("top" == n || "left" == n ? -1 : 1) : 0;
                            return (
                                "top" == n || "bottom" == n
                                    ? ((t.style.left = "0px"), (t.style.top = (i.top || s) + ("top" == n ? 1 : -1) * e.offsetHeight + "px"))
                                    : ((t.style.top = (i.top || 0) + "px"), (t.style.left = s + ("left" == n ? 1 : -1) * e.offsetWidth + "px")),
                                e.parentNode == t.parentNode && i.keepViews ? (t.style.display = "") : ft(t, e.nextSibling, e.parentNode),
                                "slide" == i.type && "out" == i.subtype && ((t.style.left = "0px"), (t.style.top = (i.top || 0) + "px"), e.parentNode.removeChild(e), ft(e, t.nextSibling, t.parentNode)),
                                [t, e]
                            );
                        }),
                        (We.breakLine = function (t) {
                            arguments[1] ? (t[1].style.display = "none") : pt(t[1]), We.clear(t[0]), We.clear(t[1]), (t[0].style.position = "");
                        }),
                        (We.clear = function (t) {
                            (t.style[G.transform] = "none"), (t.style[G.transition] = "none"), (t.style.top = t.style.left = "");
                        }),
                        (We.defaults = { type: "slide", delay: "0", duration: "500", timing: "ease-in-out", x: 0, y: 0 }),
                        (We.start = function (t, e) {
                            "string" == typeof e && (e = { type: e }), (e = Pe.Ei(e, We.defaults));
                            var i,
                                n,
                                s = G.cssPrefix,
                                r = (t.Ne = e);
                            switch ("slide" == r.type && r.direction) {
                                case "right":
                                    r.x = t.offsetWidth;
                                    break;
                                case "left":
                                    r.x = -t.offsetWidth;
                                    break;
                                case "top":
                                    r.y = -t.offsetHeight;
                                    break;
                                case "bottom":
                                default:
                                    r.y = r.y || t.offsetHeight;
                            }
                            ("flip" != r.type && "flipback" != r.type) ||
                                ((i = [0, 0]), (n = "scaleX"), "vertical" == r.subtype ? ((i[0] = 20), (n = "scaleY")) : (i[1] = 20), ("right" != r.direction && "bottom" != r.direction) || ((i[0] *= -1), (i[1] *= -1)));
                            var o = r.duration + "ms " + r.timing + " " + r.delay + "ms",
                                a = s + "TransformStyle: preserve-3d;",
                                l = "",
                                h = "";
                            switch (r.type) {
                                case "fade":
                                    (l = "opacity " + o), (a = "opacity: 0;");
                                    break;
                                case "show":
                                    (l = "opacity " + o), (a = "opacity: 1;");
                                    break;
                                case "flip":
                                    (o = r.duration / 2 + "ms " + r.timing + " " + r.delay + "ms"), (h = "skew(" + i[0] + "deg, " + i[1] + "deg) " + n + "(0.00001)"), (l = "all " + o);
                                    break;
                                case "flipback":
                                    (r.delay += r.duration / 2),
                                        (o = r.duration / 2 + "ms " + r.timing + " " + r.delay + "ms"),
                                        (t.style[G.transform] = "skew(" + -1 * i[0] + "deg, " + -1 * i[1] + "deg) " + n + "(0.00001)"),
                                        (t.style.left = "0"),
                                        (h = "skew(0deg, 0deg) " + n + "(1)"),
                                        (l = "all " + o);
                                    break;
                                case "slide":
                                    var c = r.x + "px",
                                        d = r.y + "px";
                                    (h = G.translate + "(" + c + ", " + d + ("translate3d" == G.translate ? ", 0" : "") + ")"), (l = s + "transform " + o);
                            }
                            b(function () {
                                (t.style[G.transition] = l),
                                    b(function () {
                                        a && (t.style.cssText += a), h && (t.style[G.transform] = h);
                                        var e = !1,
                                            i = Jt(t, G.transitionEnd, function (n) {
                                                (t.Ne = null), r.callback && r.callback.call(r.master || window, t, r, n), (e = !0), Qt(i);
                                            });
                                        window.setTimeout(function () {
                                            if (!e) {
                                                var n = r.master || window;
                                                (t.Ne = null), !n.$destructed && r.callback && r.callback.call(n, t, r), (e = !0), Qt(i);
                                            }
                                        }, 1.3 * (1 * r.duration + 1 * r.delay));
                                    });
                            });
                        });
                    var Ye = {
                        set: Be,
                        material: {
                            topLayout: "space",
                            barHeight: 44,
                            tabbarHeight: 42,
                            sidebarTitleHeight: 44,
                            rowHeight: 36,
                            toolbarHeight: 44,
                            listItemHeight: 36,
                            inputHeight: 38,
                            buttonHeight: 38,
                            inputPadding: 3,
                            menuHeight: 36,
                            labelTopHeight: 22,
                            propertyItemHeight: 28,
                            timelineItemHeight: 70,
                            unitHeaderHeight: 36,
                            inputSpacing: 4,
                            borderWidth: 1,
                            sliderHandleWidth: 14,
                            sliderPadding: 10,
                            sliderBorder: 1,
                            vSliderPadding: 15,
                            vSliderHeight: 100,
                            switchHeight: 22,
                            switchWidth: 50,
                            layoutMargin: { space: 10, wide: 10, clean: 0, head: 4, line: -1, toolbar: 4, form: 8, accordion: 2 },
                            layoutPadding: { space: 10, wide: 0, clean: 0, head: 0, line: 0, toolbar: 2, form: 17, accordion: 0 },
                            tabMargin: 0,
                            tabOffset: 0,
                            tabBottomOffset: 0,
                            tabTopOffset: 0,
                            tabBorder: !0,
                            customCheckbox: !0,
                            customRadio: !0,
                            sidebarMarkAll: !0,
                            popupNoPoint: !0,
                            borderlessPopup: !0,
                            popupPadding: 0,
                            dataPadding: 12,
                            calendarWeekHeaderHeight: 18,
                            padding: 0,
                            accordionType: "accordion",
                            optionHeight: 32,
                            organogramLineColor: "#CCD7E6",
                            timelineColor: "linear-gradient(to right,#00b0ed 0,#53aa34 100%)",
                            backColor: "#ffffff",
                            colorPadding: 4,
                        },
                        mini: {
                            topLayout: "space",
                            barHeight: 36,
                            tabbarHeight: 34,
                            sidebarTitleHeight: 36,
                            rowHeight: 28,
                            toolbarHeight: 36,
                            listItemHeight: 28,
                            inputHeight: 30,
                            buttonHeight: 30,
                            inputPadding: 3,
                            menuHeight: 28,
                            labelTopHeight: 16,
                            propertyItemHeight: 24,
                            unitHeaderHeight: 28,
                            timelineItemHeight: 50,
                            inputSpacing: 4,
                            borderWidth: 1,
                            sliderHandleWidth: 12,
                            sliderPadding: 10,
                            sliderBorder: 1,
                            vSliderPadding: 13,
                            vSliderHeight: 100,
                            switchHeight: 20,
                            switchWidth: 40,
                            layoutMargin: { space: 5, wide: 5, clean: 0, head: 4, line: -1, toolbar: 4, form: 8, accordion: 2 },
                            layoutPadding: { space: 5, wide: 0, clean: 0, head: 0, line: 0, toolbar: 2, form: 12, accordion: 0 },
                            tabMargin: 0,
                            tabOffset: 0,
                            tabBottomOffset: 0,
                            tabTopOffset: 0,
                            tabBorder: !0,
                            customCheckbox: !0,
                            customRadio: !0,
                            sidebarMarkAll: !0,
                            popupNoPoint: !0,
                            borderlessPopup: !0,
                            popupPadding: 0,
                            dataPadding: 12,
                            calendarWeekHeaderHeight: 18,
                            padding: 0,
                            accordionType: "accordion",
                            optionHeight: 24,
                            organogramLineColor: "#CCD7E6",
                            timelineColor: "linear-gradient(to right,#00b0ed 0,#53aa34 100%)",
                            backColor: "#ffffff",
                            colorPadding: 4,
                        },
                        flat: {
                            topLayout: "space",
                            barHeight: 46,
                            tabbarHeight: 46,
                            rowHeight: 34,
                            toolbarHeight: 46,
                            sidebarTitleHeight: 45,
                            listItemHeight: 34,
                            inputHeight: 38,
                            buttonHeight: 38,
                            inputPadding: 3,
                            menuHeight: 34,
                            labelTopHeight: 22,
                            unitHeaderHeight: 20,
                            propertyItemHeight: 28,
                            timelineItemHeight: 70,
                            inputSpacing: 4,
                            borderWidth: 1,
                            sliderHandleWidth: 14,
                            sliderPadding: 10,
                            sliderBorder: 1,
                            vSliderPadding: 15,
                            vSliderHeight: 100,
                            switchHeight: 22,
                            switchWidth: 50,
                            layoutMargin: { space: 10, wide: 10, clean: 0, head: 4, line: -1, toolbar: 4, form: 8, accordion: 10 },
                            layoutPadding: { space: 10, wide: 0, clean: 0, head: 0, line: 0, toolbar: 3, form: 17, accordion: 0 },
                            tabMargin: 4,
                            tabOffset: 0,
                            tabBottomOffset: 6,
                            tabTopOffset: 1,
                            customCheckbox: !0,
                            customRadio: !0,
                            popupPadding: 8,
                            dataPadding: 10,
                            calendarWeekHeaderHeight: 24,
                            padding: 0,
                            accordionType: "accordion",
                            optionHeight: 32,
                            timelineColor: "#3498db",
                            backColor: "#ffffff",
                            colorPadding: 4,
                        },
                        compact: {
                            topLayout: "space",
                            barHeight: 34,
                            tabbarHeight: 34,
                            sidebarTitleHeight: 34,
                            rowHeight: 24,
                            toolbarHeight: 34,
                            listItemHeight: 28,
                            unitHeaderHeight: 20,
                            propertyItemHeight: 24,
                            timelineItemHeight: 50,
                            inputHeight: 30,
                            buttonHeight: 30,
                            inputPadding: 3,
                            menuHeight: 28,
                            labelTopHeight: 16,
                            inputSpacing: 4,
                            borderWidth: 1,
                            sliderHandleWidth: 12,
                            sliderPadding: 10,
                            sliderBorder: 1,
                            vSliderPadding: 13,
                            vSliderHeight: 100,
                            switchHeight: 20,
                            switchWidth: 40,
                            layoutMargin: { space: 5, wide: 5, clean: 0, head: 4, line: -1, toolbar: 4, form: 4, accordion: 5 },
                            layoutPadding: { space: 5, wide: 0, clean: 0, head: 0, line: 0, toolbar: 1, form: 12, accordion: 0 },
                            tabMargin: 3,
                            tabOffset: 0,
                            tabBottomOffset: 3,
                            tabTopOffset: 1,
                            customCheckbox: !0,
                            customRadio: !0,
                            popupPadding: 8,
                            dataPadding: 10,
                            calendarWeekHeaderHeight: 24,
                            padding: 0,
                            accordionType: "accordion",
                            optionHeight: 23,
                            timelineColor: "#3498db",
                            backColor: "#ffffff",
                            colorPadding: 4,
                        },
                        contrast: {
                            topLayout: "space",
                            barHeight: 46,
                            tabbarHeight: 46,
                            rowHeight: 34,
                            toolbarHeight: 46,
                            sidebarTitleHeight: 45,
                            listItemHeight: 34,
                            unitHeaderHeight: 20,
                            inputHeight: 38,
                            buttonHeight: 38,
                            inputPadding: 3,
                            menuHeight: 34,
                            labelTopHeight: 22,
                            propertyItemHeight: 28,
                            timelineItemHeight: 70,
                            inputSpacing: 4,
                            borderWidth: 1,
                            sliderHandleWidth: 14,
                            sliderPadding: 10,
                            sliderBorder: 1,
                            vSliderPadding: 15,
                            vSliderHeight: 100,
                            switchHeight: 22,
                            switchWidth: 50,
                            layoutMargin: { space: 10, wide: 10, clean: 0, head: 4, line: -1, toolbar: 8, form: 8, accordion: 10 },
                            layoutPadding: { space: 10, wide: 0, clean: 0, head: 0, line: 0, toolbar: 3, form: 17, accordion: 0 },
                            tabMargin: 4,
                            tabOffset: 0,
                            tabBottomOffset: 6,
                            tabTopOffset: 1,
                            customCheckbox: !0,
                            customRadio: !0,
                            popupPadding: 8,
                            dataPadding: 10,
                            calendarWeekHeaderHeight: 24,
                            padding: 0,
                            accordionType: "accordion",
                            optionHeight: 32,
                            timelineColor: "#b300b3",
                            backColor: "#393939",
                            colorPadding: 4,
                        },
                    };
                    Be(window.webix_skin || "material");
                    var Ue = {
                        config: { longTouchDelay: 1e3, scrollDelay: 150, gravity: 500, deltaStep: 30, speed: "0ms", finish: 1500, ellastic: !0 },
                        limit: function (t) {
                            Ue.Le = !1 !== t;
                        },
                        disable: function () {
                            Ue.De = !0;
                        },
                        enable: function () {
                            Ue.De = !1;
                        },
                        $init: function () {
                            (Ue.$init = function () {}),
                                Jt(document.body, qe.down, Ue.Oe, { passive: !1 }),
                                Jt(document.body, qe.move, Ue.We, { passive: !1 }),
                                Jt(document.body, qe.up, Ue.Ue),
                                Jt(document.body, "dragstart", function (t) {
                                    if (!Ue.De && !Ue.Le) return yt(t);
                                }),
                                Ue.Ye(),
                                (Ue.qe = [null, null]),
                                (Ue.$active = !0);
                        },
                        Ye: function () {
                            (Ue.Ge = Ue.Xe = Ue.Ke = Ue.Je = null),
                                (Ue.Ze = Ue.Qe = Ue.ts = Ue.es = null),
                                (Ue.ss = { ns: 0, hs: 0, rs: 0 }),
                                Ue.os && (kt(Ue.os, "webix_touch"), (Ue.os = null)),
                                window.clearTimeout(Ue.us),
                                (Ue.cs = !0),
                                (Ue.fs = !0),
                                (Ue.ls = !0),
                                Ue.ds || Ue.vs();
                        },
                        Ue: function (t) {
                            if (Ue.Ge) {
                                if (Ue.Ze) {
                                    var e = Ue._s(Ue.Qe),
                                        i = e.e,
                                        n = e.f,
                                        s = Ue.config.finish,
                                        r = Ue.ps(t, !0),
                                        o = ae(Ue.Qe),
                                        a = o && o.$scroll ? o.$scroll.gravity : Ue.config.gravity;
                                    if (r.rs) {
                                        var l = i + (a * r.ns) / r.rs,
                                            h = n + (a * r.hs) / r.rs,
                                            c = Ue.qe[0] ? Ue.bs(l, !1, !1, Ue.ts.dx, Ue.ts.px) : i,
                                            d = Ue.qe[1] ? Ue.bs(h, !1, !1, Ue.ts.dy, Ue.ts.py) : n,
                                            u = Math.max(Math.abs(c - i), Math.abs(d - n));
                                        u < 150 && (s = (s * u) / 150), (c == i && d == n) || (s = Math.round(s * Math.max((c - i) / (l - i), (d - n) / (h - n))));
                                        var p = { e: c, f: d };
                                        (o = ae(Ue.Qe)) && o.adjustScroll && o.adjustScroll(p),
                                            (s = Math.max(100, s)),
                                            i != p.e || n != p.f ? (Ue.ms(Ue.Qe, p.e, p.f, s + "ms"), Ue.gs && Ue.gs.ws(p.e, p.f, s + "ms"), Ue.xs(p.e, p.f, s + "ms")) : Ue.vs();
                                    } else Ue.vs();
                                } else Ue.es || (Ue.ls && !Ue.fs ? Ue.ys("onSwipeX") : Ue.fs && !Ue.ls && Ue.ys("onSwipeY"));
                                Ue.ys("onTouchEnd"), Ue.Ye();
                            }
                        },
                        We: function (t) {
                            if (Ue.Je && Ue.Ge) {
                                var e = Ue.ps(t);
                                if ((Ue.ys("onTouchMove"), Ue.Ze)) Ue.Ms(e);
                                else if (((Ue.fs = Ue.Ss(e.ks, "x", Ue.fs)), (Ue.ls = Ue.Ss(e.Cs, "y", Ue.ls)), Ue.Ze)) {
                                    var i = Ue.$s("onBeforeScroll", !0);
                                    if (i) {
                                        var n = {};
                                        i.callEvent("onBeforeScroll", [n]), n.update && ((Ue.config.speed = n.speed), (Ue.config.scale = n.scale));
                                    }
                                    Ue.Ds(e);
                                } else if (G.isMac) {
                                    var s = ae(Ue.Ge);
                                    if (s && s.$hasYScroll && s.$hasYScroll()) return yt(t);
                                }
                                return Ue.Ze ? yt(t) : void 0;
                            }
                        },
                        Ms: function () {
                            if (Ue.Qe) {
                                var t = Ue._s(Ue.Qe),
                                    e = Ue.Ke || Ue.Ge,
                                    i = ae(Ue.Qe),
                                    n = i && i.$scroll ? i.$scroll.ellastic : Ue.config.ellastic;
                                Ue.qe[0] && (t.e = Ue.bs(t.e - e.x + Ue.Xe.x, n, t.e, Ue.ts.dx, Ue.ts.px)),
                                    Ue.qe[1] && (t.f = Ue.bs(t.f - e.y + Ue.Xe.y, n, t.f, Ue.ts.dy, Ue.ts.py)),
                                    Ue.ms(Ue.Qe, t.e, t.f, "0ms"),
                                    Ue.gs && Ue.gs.ws(t.e, t.f, "0ms"),
                                    Ue.xs(t.e, t.f, "0ms");
                            }
                        },
                        xs: function (t, e, i) {
                            var n = (Ue.ts.px / Ue.ts.dx) * -t,
                                s = (Ue.ts.py / Ue.ts.dy) * -e;
                            Ue.qe[0] && Ue.ms(Ue.qe[0], n, 0, i), Ue.qe[1] && Ue.ms(Ue.qe[1], 0, s, i);
                        },
                        scrollTo: function (t, e, i, n) {
                            Ue.ms(t, e, i, n);
                        },
                        ms: function (t, e, i, n) {
                            if (n) {
                                if (((Ue.ds = !0), t)) {
                                    var s = Ue.config.translate || G.translate;
                                    (t.style[G.transform] = s + "(" + Math.round(e) + "px, " + Math.round(i) + "px" + ("translate3d" == s ? ", 0" : "") + ")"), (t.style[G.transitionDuration] = n);
                                }
                            } else t.style[G.transform] = "";
                        },
                        _s: function (t) {
                            var e,
                                i = window.getComputedStyle(t)[G.transform];
                            if ("none" == i) e = { e: 0, f: 0 };
                            else if (window.WebKitCSSMatrix) e = new WebKitCSSMatrix(i);
                            else if (window.MSCSSMatrix) e = new MSCSSMatrix(i);
                            else {
                                var n = i.replace(/(matrix\()(.*)(\))/gi, "$2");
                                (n = (n = n.replace(/\s/gi, "")).split(",")), (e = {});
                                for (var s = ["a", "b", "c", "d", "e", "f"], r = 0; r < s.length; r++) e[s[r]] = parseInt(n[r], 10);
                            }
                            return Ue.gs && Ue.gs.Is(e), e;
                        },
                        bs: function (t, e, i, n, s) {
                            if (t === i) return t;
                            var r = Math.abs(t - i);
                            if (0 < t) return e ? i + (r / (t - i)) * Math.sqrt(r) : 0;
                            var o = n - s;
                            return o + t < 0 ? (e ? i - Math.sqrt(-(t - i)) : -o) : t;
                        },
                        As: function (t) {
                            if (!t.scroll_enabled) {
                                (t.scroll_enabled = !0), (t.parentNode.style.position = "relative");
                                var e = G.cssPrefix;
                                (t.style.cssText += e + "transition: " + e + "transform; " + e + "user-select:none; " + e + "transform-style:flat;"), t.addEventListener(G.transitionEnd, Ue.vs, !1);
                            }
                        },
                        Ds: function () {
                            -1 != Ue.Ze.indexOf("x") && (Ue.qe[0] = Ue.Ts("x", Ue.ts.dx, Ue.ts.px, "width")),
                                -1 != Ue.Ze.indexOf("y") && (Ue.qe[1] = Ue.Ts("y", Ue.ts.dy, Ue.ts.py, "height")),
                                Ue.As(Ue.Qe),
                                window.setTimeout(function () {
                                    Ue.Ms(), Ue.ts && !Ue.ts.hidden && (Ue.qe[0] && (Ue.qe[0].style.visibility = "visible"), Ue.qe[1] && (Ue.qe[1].style.visibility = "visible"));
                                }, 0);
                        },
                        Ts: function (t, e, i, n) {
                            if (e - i < 2) {
                                var s = Ue._s(Ue.Qe),
                                    r = "y" == t ? s.e : 0,
                                    o = "y" == t ? 0 : s.f;
                                return Ue.gs || Ue.ms(Ue.Qe, r, o, "0ms"), (Ue.Ze = Ue.Ze.replace(t, "")), "";
                            }
                            var a = dt("DIV", { class: "webix_scroll_" + t }, "");
                            return (
                                (a.style.visibility = "hidden"),
                                (a.style[n] = Math.max((i * i) / e - 7, 10) + "px"),
                                Ue.ts.left && ("x" === t ? (a.style.left = Ue.ts.left + "px") : (a.style.right = -Ue.ts.left + "px")),
                                Ue.Qe.parentNode.appendChild(a),
                                a
                            );
                        },
                        Ss: function (t, e, i) {
                            return t > Ue.config.deltaStep ? (Ue.cs && (Ue.Fs(e), Ue.Vs(e), -1 == (Ue.Ze || "").indexOf(e) && (Ue.Ze = "")), !1) : i;
                        },
                        vs: function () {
                            var t, e, i;
                            (i = ae(Ue.Qe || this)) && (Ue.Qe ? (t = Ue._s(Ue.Qe)) : i.getScrollState && (t = { e: -(e = i.getScrollState()).x, f: -e.y }), M("onAfterScroll", [t]), i.callEvent && i.callEvent("onAfterScroll", [t])),
                                Ue.Ze || (pt(Ue.qe), (Ue.qe = [null, null])),
                                (Ue.ds = !1);
                        },
                        Fs: function () {
                            window.clearTimeout(Ue.us), (Ue.cs = !1);
                        },
                        zs: function (t) {
                            if (!Ue.qe[0] && !Ue.qe[1]) return !0;
                            Ue.Bs(t, Ue.qe[0] ? "x" : "y");
                        },
                        Oe: function (t) {
                            var e = t.target;
                            if (!Ue.De) {
                                (Ue.es = null), (Ue.Je = Ue.Ge = qe.context(t));
                                var i = ae(t);
                                !Ue.Le || Ue.Hs() || (i && i.$touchCapture) || (Ue.Je = null),
                                    Ue.ys("onTouchStart"),
                                    Ue.zs(t) && (Ue.us = window.setTimeout(Ue.Rs, Ue.config.longTouchDelay)),
                                    !i || !i.touchable || (e.className && 0 === e.className.indexOf("webix_view")) || ((Ue.os = i.getNode(t)), _t(Ue.os, "webix_touch"));
                            }
                        },
                        Rs: function () {
                            Ue.Ge && ((Ue.es = !0), Ue.ys("onLongTouch"), M("onClick", [Ue.Ge]));
                        },
                        Bs: function (t, e) {
                            Ue.Vs(e);
                            var i = Ue.qe[0] || Ue.qe[1];
                            if (i) {
                                var n = Ue.$s("onBeforeScroll", !0);
                                n && n.callEvent("onBeforeScroll", [Ue.Ge, Ue.Xe]);
                            }
                            !i || (Ue.Qe && i.parentNode == Ue.Qe.parentNode) || (Ue.Ye(), Ue.vs(), (Ue.Ge = qe.context(t))), Ue.We(t);
                        },
                        ps: function (t) {
                            return (
                                (Ue.Ke = Ue.Xe),
                                (Ue.Xe = qe.context(t)),
                                (Ue.ss.ks = Math.abs(Ue.Ge.x - Ue.Xe.x)),
                                (Ue.ss.Cs = Math.abs(Ue.Ge.y - Ue.Xe.y)),
                                Ue.Ke &&
                                    (Ue.Xe.time - Ue.Ke.time < Ue.config.scrollDelay ? ((Ue.ss.ns = Ue.ss.ns / 1.3 + Ue.Xe.x - Ue.Ke.x), (Ue.ss.hs = Ue.ss.hs / 1.3 + Ue.Xe.y - Ue.Ke.y)) : (Ue.ss.hs = Ue.ss.ns = 0),
                                    (Ue.ss.rs = Ue.ss.rs / 1.3 + (Ue.Xe.time - Ue.Ke.time))),
                                Ue.ss
                            );
                        },
                        Es: function (t) {
                            Ue.ts = { dx: t.offsetWidth, dy: t.offsetHeight, px: t.parentNode.offsetWidth, py: t.parentNode.offsetHeight };
                        },
                        Hs: function (t) {
                            var e = Ue.Ge.target;
                            if (!G.touch && !G.transition && !G.transform) return null;
                            for (; e && "BODY" != e.tagName; ) {
                                if (e.getAttribute) {
                                    var i = e.getAttribute("touch_scroll");
                                    if (i && (!t || -1 != i.indexOf(t))) return [e, i];
                                }
                                e = e.parentNode;
                            }
                            return null;
                        },
                        Vs: function (t) {
                            var e = this.Hs(t);
                            return e && ((Ue.Ze = e[1]), (Ue.Qe = e[0]), Ue.Es(e[0])), e;
                        },
                        ys: function (t) {
                            M(t, [Ue.Ge, Ue.Xe]);
                            var e = Ue.$s(t);
                            e && e.callEvent(t, [Ue.Ge, Ue.Xe]);
                        },
                        $s: function (t, e) {
                            var i = ae(e ? Ue.Qe : Ue.Ge);
                            if (!i) return null;
                            for (; i; ) {
                                if (i.hasEvent && i.hasEvent(t)) return i;
                                i = i.getParentView();
                            }
                            return null;
                        },
                        Ps: function (t) {
                            if (t.touches[0]) return { target: t.target, x: t.touches[0].pageX, y: t.touches[0].pageY, time: new Date() };
                            var e = Ue.Xe;
                            return (e.time = new Date()), e;
                        },
                        js: function (t) {
                            return { target: t.target, x: t.pageX, y: t.pageY, time: new Date() };
                        },
                    };
                    function Ge(t) {
                        (t.down = "touchstart"), (t.move = "touchmove"), (t.up = "touchend"), (t.context = Ue.Ps);
                    }
                    ge(function t() {
                        if (G.touch)
                            Ue.$init(),
                                -1 == document.body.className.indexOf("webix_full_screen") && Ue.limit(!0),
                                G.isSafari && ht(".webix_view{ -webkit-overflow-scrolling: touch; }"),
                                window.MSCSSMatrix && ht(".webix_view{ -ms-touch-action: none; }");
                        else
                            var e = Jt(
                                document.body,
                                "touchstart",
                                function (i) {
                                    if (i.touches.length && 4 < i.touches[0].radiusX)
                                        for (var n in ((G.touch = !0), Ge(qe), t(), ne.views)) {
                                            var s = ne.views[n];
                                            s && s.$touch && s.$touch();
                                        }
                                    Qt(e);
                                },
                                { capture: !0 }
                            );
                    });
                    var qe = (G.mouse = { down: "mousedown", up: "mouseup", move: "mousemove", context: Ue.js });
                    window.navigator.pointerEnabled
                        ? ((qe.down = "pointerdown"), (qe.move = "pointermove"), (qe.up = "pointerup"))
                        : window.navigator.msPointerEnabled
                        ? ((qe.down = "MSPointerDown"), (qe.move = "MSPointerMove"), (qe.up = "MSPointerUp"))
                        : G.touch && Ge(qe);
                    var Xe = {
                        Ns: C(["dummy"]),
                        addDrop: function (t, e, i) {
                            ((t = _(t)).webix_drop = this.Ls(e)), i && (t.webix_master = !0);
                        },
                        Ls: function (t) {
                            t = t || Xe;
                            var e = this.Ns.find(t);
                            return (
                                e < 0 &&
                                    ((e = this.Ns.length),
                                    this.Ns.push(t),
                                    t.attachEvent &&
                                        t.attachEvent("onDestruct", function () {
                                            return Xe.unlink(t);
                                        })),
                                e
                            );
                        },
                        unlink: function (t) {
                            var e = this.Ns.find(t);
                            -1 < e && (Xe.Os && Xe.Os.webix_drag == e && Xe.Ws(), Xe.Xt && Xe.Xt.webix_drop == e && (Xe.Xt = null), (this.Ns[e] = null));
                        },
                        Us: function (t) {
                            var e = Xe,
                                i = this.Ys();
                            if (i && i.qs) {
                                if (!e.Oi && !e.createDrag(t)) return;
                                t.longtouch_drag = !0;
                                var n = e.Gs;
                                (e.Oi.style.left = t.x + e.left + (n.x_offset || 0) + "px"), (e.Oi.style.top = t.y + e.top + (n.y_offset || 0) + "px");
                            }
                        },
                        addDrag: function (t, e) {
                            ((t = _(t)).webix_drag = this.Ls(e)), Zt(t, G.mouse.down, this.Xs, { bind: t }), Zt(t, "dragstart", yt);
                        },
                        Xs: function (t) {
                            if (Xe.Os) {
                                if (Xe.Ks == t) return;
                                Xe.Js(t), Xe.destroyDrag(t);
                            }
                            Xe.Os = this;
                            var e = G.mouse.context(t);
                            (Xe.Zs = e), (Xe.Ks = t);
                            var i = G.touch ? { passive: !1 } : null;
                            (Xe.Qs = Jt(document.body, G.mouse.move, Xe.tn, i)), (Xe.in = Jt(document, G.mouse.up, Xe.Js)), _t(document.body, "webix_noselect", 1);
                        },
                        Js: function (t) {
                            Xe.en(), (Xe.sn = !t.cancelable);
                        },
                        tn: function (t) {
                            if (((Xe.sn = !t.cancelable), G.touch && Xe.sn)) return Xe.en(), Xe.destroyDrag(t);
                            var e = G.mouse.context(t),
                                i = Xe.Ys();
                            if (!((i && G.touch && i.qs && !Ue.es) || (Math.abs(e.x - Xe.Zs.x) < 5 && Math.abs(e.y - Xe.Zs.y) < 5))) {
                                if (!Xe.Oi && !Xe.createDrag(Xe.Ks)) return Xe.en();
                                Xe.en(!0), Xe.sendSignal("start");
                                var n = G.touch ? { passive: !1 } : null;
                                (Xe.Qs = Jt(document.body, G.mouse.move, Xe.nn, n)), (Xe.in = Jt(document, G.mouse.up, Xe.Ws)), Xe.nn(t);
                            }
                        },
                        Ws: function (t) {
                            Xe.en(), (Xe.Ks = null), Xe.Xt && t && (Xe.$drop(Xe.Os, Xe.Xt, t), Xe.$dragOut(Xe.Os, Xe.Xt, null, t)), Xe.destroyDrag(t), Xe.sendSignal("stop");
                        },
                        en: function (t) {
                            (this.Qs = Qt(this.Qs)), (this.in = Qt(this.in)), t || kt(document.body, "webix_noselect");
                        },
                        nn: function (t) {
                            var e = Xe,
                                i = bt(t),
                                n = e.$dragPos(i, t),
                                s = e.Gs;
                            (e.Oi.style.top = i.y + e.top + (n || !s.y_offset ? 0 : s.y_offset) + "px"), (e.Oi.style.left = i.x + e.left + (n || !s.x_offset ? 0 : s.x_offset) + "px");
                            var r = t;
                            if (e.hn) e.hn = !1;
                            else {
                                if (G.touch) {
                                    var o = G.mouse.context(t),
                                        a = document.elementFromPoint(o.x, o.y);
                                    r = new Proxy(t, {
                                        get: function (e, i) {
                                            if ("target" === i) return a;
                                            var n = e[i];
                                            return "function" == typeof n ? n.bind(t) : n;
                                        },
                                    });
                                }
                                e.rn(r.target, r);
                            }
                            return yt(t);
                        },
                        rn: function (t, e) {
                            for (; t && "BODY" != t.tagName; ) {
                                if (t.webix_drop)
                                    return (
                                        this.Xt && (this.Xt != t || t.webix_master) && this.$dragOut(this.Os, this.Xt, t, e),
                                        !this.Xt || this.Xt != t || t.webix_master ? ((this.Xt = null), (this.an = this.$dragIn(Xe.Os, t, e)), void (this.an && (this.Xt = t))) : void 0
                                    );
                                t = t.parentNode;
                            }
                            this.Xt && (this.Xt = this.an = this.$dragOut(this.Os, this.Xt, null, e));
                        },
                        sendSignal: function (t) {
                            (Xe.active = "start" == t), M("onDragMode", [t]);
                        },
                        getMaster: function (t) {
                            return this.Ns[t.webix_drag || t.webix_drop];
                        },
                        getContext: function () {
                            return this.Gs;
                        },
                        getNode: function () {
                            return this.Oi;
                        },
                        createDrag: function (t) {
                            var e = Xe,
                                i = e.Os;
                            e.Gs = {};
                            var n,
                                s = this.Ns[i.webix_drag];
                            if (s.$dragCreate) {
                                if (!(n = s.$dragCreate(i, t))) return !1;
                                this.un(t), (n.style.position = "absolute");
                            } else {
                                var r = e.$drag(i, t);
                                if ((e.un(t), !r)) return !1;
                                ((n = document.createElement("DIV")).innerHTML = r), (n.className = "webix_drag_zone"), document.body.appendChild(n);
                                var o = e.Gs;
                                o.html && G.pointerevents && ((o.x_offset = -Math.round(0.5 * n.offsetWidth)), (o.y_offset = -Math.round(0.75 * n.offsetHeight)));
                            }
                            return (n.style.zIndex = Math.max(n.style.zIndex, me())), (Xe.cn = Jt(n, G.mouse.move, Xe.ln)), Xe.Gs.from || (Xe.Gs = { source: i, from: i }), (Xe.Oi = n), !0;
                        },
                        ln: function () {
                            Xe.hn = !0;
                        },
                        destroyDrag: function (t) {
                            var e = Xe.Os,
                                i = this.Ns[e.webix_drag];
                            i && i.$dragDestroy ? ((Xe.cn = Qt(Xe.cn)), Xe.Oi && i.$dragDestroy(e, Xe.Oi, t)) : pt(Xe.Oi),
                                i && i.rt && (i.rt = window.clearTimeout(i.rt)),
                                Xe.dn && pt(Xe.dn),
                                (Xe.an = Xe.Os = Xe.Xt = Xe.Oi = Xe.dn = null),
                                (Xe.Gs = null);
                        },
                        Ys: function () {
                            return Xe.Ns[Xe.Os.webix_drag];
                        },
                        top: 0,
                        left: 0,
                        un: function (t) {
                            var e = Xe,
                                i = e.Zs,
                                n = e.Gs;
                            if (void 0 !== n.x_offset && void 0 !== n.y_offset) return null;
                            if (((n.x_offset = n.y_offset = 0), G.pointerevents)) {
                                var s = Xe.Ys();
                                if (s.qs && s !== this) {
                                    var r = s.qs(i, t);
                                    r && ((n.x_offset = r.x - i.x), (n.y_offset = r.y - i.y));
                                }
                            }
                        },
                        $dragPos: function (t, e) {
                            var i = this.Ns[Xe.Os.webix_drag];
                            if (i.$dragPos && i != this) return i.$dragPos(t, e, Xe.Oi), !0;
                        },
                        $dragIn: function (t, e, i) {
                            var n = this.Ns[e.webix_drop];
                            return n.$dragIn && n != this ? n.$dragIn(t, e, i) : ((e.className = e.className + " webix_drop_zone"), e);
                        },
                        $dragOut: function (t, e, i, n) {
                            var s = this.Ns[e.webix_drop];
                            return s.$dragOut && s != this ? s.$dragOut(t, e, i, n) : ((e.className = e.className.replace("webix_drop_zone", "")), null);
                        },
                        $drop: function (t, e, i) {
                            var n = this.Ns[e.webix_drop];
                            if (((Xe.Gs.from = Xe.getMaster(t)), n.$drop && n != this)) return n.$drop(t, e, i);
                            e.appendChild(t);
                        },
                        $drag: function (t, e) {
                            var i = this.Ns[t.webix_drag];
                            return i.$drag && i != this ? i.$drag(t, e) : "<div style='" + t.style.cssText + "'>" + t.innerHTML + "</div>";
                        },
                    };
                    A("onLongTouch", function (t) {
                        Xe.Os && !Xe.sn && Xe.Us(t);
                    });
                    var Ke = {
                            move_setter: function (e) {
                                return e && (t.extend(this, Ze, !0), Xe.addDrag(this.vn ? this.vn : this.$view, this), delete this.move_setter), e;
                            },
                        },
                        Ze = {
                            $dragCreate: function (t, e) {
                                if (this.config.move) {
                                    var i = gt(t),
                                        n = bt(e);
                                    return (Xe.top = i.y - n.y), (Xe.left = i.x - n.x), _(this.Vt);
                                }
                            },
                            $dragDestroy: function (t, e) {
                                this.P && ((this.P.top = parseInt(e.style.top, 10)), (this.P.left = parseInt(e.style.left, 10))), (Xe.top = Xe.left = 0), this.callEvent("onViewMoveEnd", []);
                            },
                            $dragPos: function (t, e) {
                                this.callEvent("onViewMove", [t, e]);
                            },
                        },
                        Je = {
                            _n: function (t) {
                                if (t) {
                                    if (!this.pn) {
                                        this.pn = dt("div", { class: "webix_modal" });
                                        var e = me(this.P.zIndex);
                                        (this.bn = ee.St),
                                            (ee.St = e),
                                            (this.pn.style.zIndex = e - 1),
                                            (this.Vt.style.zIndex = e),
                                            document.body.appendChild(this.pn),
                                            (document.body.style.overflow = "hidden"),
                                            Zt(this.pn, "click", m(this.mn, this));
                                    }
                                } else this.pn && (pt(this.pn), (this.pn = null), (ee.St = this.bn), ee.St || (document.body.style.overflow = ""));
                                return t;
                            },
                        },
                        Qe = {
                            resize_setter: function (t) {
                                return t && !this.gn && this.wn(), t;
                            },
                            wn: function () {
                                if (!this.xn) {
                                    var t = this.Vt;
                                    t.firstChild && ((t = t.firstChild).style.position = "relative"),
                                        (this.xn = dt("DIV", { class: "webix_resize_handle", webix_disable_drag: "true" })),
                                        t.appendChild(this.xn),
                                        Zt(this.xn, G.mouse.down, this.yn, { bind: this });
                                }
                            },
                            Mn: function (t, e) {
                                if (!this.Sn) {
                                    (this.Sn = dt("div", { class: "webix_resize_frame" }, "")), document.body.appendChild(this.Sn);
                                    var i = gt(this.Vt);
                                    (this.Sn.style.left = i.x + "px"), (this.Sn.style.top = i.y + "px"), (this.Sn.style.zIndex = me());
                                }
                                (this.Sn.style.width = t + "px"), (this.Sn.style.height = e + "px");
                            },
                            yn: function () {
                                this.config.resize &&
                                    (_t(document.body, "webix_noselect webix_resize_cursor"),
                                    (this.kn = gt(this.Vt)),
                                    (this.Cn = Jt(document.body, G.mouse.move, this.$n, { bind: this })),
                                    (this.Dn = Jt(document.body, G.mouse.up, this.In, { bind: this })));
                            },
                            $n: function (t) {
                                if (!1 !== this.kn) {
                                    var e = bt(t),
                                        i = { x: e.x - this.kn.x, y: e.y - this.kn.y };
                                    if (this.$resizeMove) this.$resizeMove(i);
                                    else {
                                        var n = this.config,
                                            s = n.minWidth || 100,
                                            r = n.minHeight || 100;
                                        i.x < s ? (i.x = s) : i.x > n.maxWidth && (i.x = n.maxWidth), i.y < r ? (i.y = r) : i.y > n.maxHeight && (i.y = n.maxHeight);
                                    }
                                    (this.An = i), this.Mn(i.x, i.y);
                                }
                            },
                            In: function () {
                                this.Sn && (this.Sn = pt(this.Sn)),
                                    kt(document.body, "webix_resize_cursor"),
                                    kt(document.body, "webix_noselect"),
                                    Qt(this.Cn),
                                    Qt(this.Dn),
                                    this.An && (this.$resizeEnd ? this.$resizeEnd(this.An) : ((this.config.width = this.An.x), (this.config.height = this.An.y), this.resize())),
                                    (this.kn = this.An = !1),
                                    this.callEvent("onViewResize", []);
                            },
                        },
                        ti = {
                            name: "window",
                            $init: function (t) {
                                (this.Vt.innerHTML = "<div class='webix_win_content'><div class='webix_win_head'></div><div class='webix_win_body'></div></div>"),
                                    (this.Wi = this.Vt.firstChild),
                                    (this.vn = this.Wi.childNodes[0]),
                                    (this.tt = this.Tn = this.Wi.childNodes[1]),
                                    (this.Vt.className += " webix_window"),
                                    this.Vt.setAttribute("role", "dialog"),
                                    this.Vt.setAttribute("tabindex", "0"),
                                    (this.Fn = this.$t = null),
                                    (t.Dt = { top: !1, left: !1, right: !1, bottom: !1 }),
                                    t.id || (t.id = x()),
                                    Zt(this.Wi, "click", this.mn, { bind: this }),
                                    Zt(
                                        this.Wi,
                                        "click",
                                        function () {
                                            !this.P.zIndex && this.P.toFront && (this.Vt.style.zIndex = me());
                                        },
                                        { bind: this, capture: !0 }
                                    ),
                                    t.modal && (this.Vn = !0),
                                    t.headHeight && (this.P.headHeight = t.headHeight),
                                    t.close && (this.P.close = t.close),
                                    this.attachEvent("onViewMoveEnd", function () {
                                        this.P.position && delete this.P.position;
                                    });
                            },
                            mn: function (t) {
                                var e = ee.kt,
                                    i = e.find(this);
                                -1 == i && (i = e.length - 1), (t.click_view = i);
                            },
                            getChildViews: function () {
                                return this.Fn ? [this.Fn, this.$t] : [this.$t];
                            },
                            zIndex_setter: function (t) {
                                return (this.Vt.style.zIndex = t);
                            },
                            Ft: function () {
                                this.body_setter();
                            },
                            Tt: function (t, e) {
                                var i = (e = e || this.$t) == this.$t;
                                e.destructor(), i ? (this.$t = t) : (this.Fn = t), (i ? this.Tn : this.vn).appendChild(t.Vt);
                                var n = t.Vt.style,
                                    s = { top: !0, left: !0, right: !0, bottom: !0 },
                                    r = "0px";
                                !1 === t.config.borderless && ((s = p(this.P.Dt)), (r = "1px")), (t.P.Dt = s), (n.borderTopWidth = n.borderBottomWidth = n.borderLeftWidth = n.borderRightWidth = r), this.resize(!0);
                            },
                            show: function (t, i, n) {
                                if (!0 === t) {
                                    if (!this.P.hidden) return;
                                    t = null;
                                }
                                if (!this.callEvent("onBeforeShow", arguments)) return !1;
                                var s, r, o;
                                if (((this.P.hidden = !1), (this.Vt.style.zIndex = me(this.P.zIndex)), (this.P.modal || this.Vn) && (this._n(!0), (this.Vn = null)), (i = i || {}).pos || (i.pos = this.P.relative), t)) {
                                    "object" != e(t) || t.tagName ? (s = gt((t = _(t)))) : t.target ? ((s = bt(t)), (r = 20), (o = 5)) : (s = t);
                                    var a = Math.max(window.innerWidth || 0, document.body.offsetWidth),
                                        l = Math.max(window.innerHeight || 0, document.body.offsetHeight);
                                    (r = r || t.offsetWidth || 0), (o = o || t.offsetHeight || 0);
                                    var h = this.be,
                                        c = s.x,
                                        d = s.y,
                                        u = 0,
                                        p = 0,
                                        f = 0,
                                        m = 0,
                                        g = this.P.autofit;
                                    if (g) {
                                        var v = "node" === g,
                                            y = 6,
                                            w = 6,
                                            x = 6;
                                        this.P.point || (y = w = x = 0),
                                            (n = "top"),
                                            (c = d = 0),
                                            (f = window.pageXOffset || document.documentElement.scrollLeft || document.body.scrollLeft),
                                            a - s.x - r < h[0] && "right" == i.pos && !v && (i.pos = "left"),
                                            (p =
                                                "right" == i.pos
                                                    ? ((c = s.x + y + r), (w = -o), (n = "left"), (u = Math.round(s.y + o / 2)), c - x)
                                                    : "left" == i.pos
                                                    ? ((c = s.x - y - h[0] - 1), (w = -o), (n = "right"), (u = Math.round(s.y + o / 2)), c + h[0] + 1)
                                                    : ((c = s.x < f ? f : a + f - s.x > h[0] ? s.x : a + f - y - h[0]), (p = Math.round(s.x + r / 2)), Math.min(p, c + h[0] - 3 * x))),
                                            (m = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop),
                                            (!h[1] || l + m - o - s.y - w > h[1] || v) && "top" != i.pos
                                                ? ((d = o + s.y + w - (this.P.point ? 4 : 0)), u || ((n = "top"), (u = d - x)))
                                                : (d = s.y - w - h[1]) < 0
                                                ? ((d = 0), "top" == n && (n = !1))
                                                : u || ((n = "bottom"), (u = --d + h[1] + 1));
                                    }
                                    var k = i.x || 0,
                                        P = i.y || 0,
                                        S = this.zn();
                                    (this.$view.style.position = S ? "fixed" : "absolute"), S && ((d -= m), (u -= m)), this.setPosition(c + k, d + P), this.Bn && (n && this.P.point ? this.Bn(n, p + k, u + P, S) : this.Hn());
                                } else this.Qt(this.P.left, this.P.top);
                                (this.Vt.style.display = "block"),
                                    (this.Rn = 1),
                                    b(
                                        function () {
                                            this.Rn = 0;
                                        },
                                        this,
                                        [],
                                        G.touch ? 400 : 100
                                    ),
                                    this.Me(),
                                    this.config.autofocus && ((this.En = ke.getFocus()), ke.setFocus(this)),
                                    -1 == ee.kt.find(this) && ee.kt.push(this),
                                    this.callEvent("onShow", []);
                            },
                            Bi: function (t) {
                                if (
                                    !this.P.hidden &&
                                    !this.P.modal &&
                                    this.P.escHide &&
                                    !this.Rn &&
                                    !((t && t.showpopup && (t.showpopup == this.P.id || (this.getTopMenu && this.getTopMenu().P.id == t.showpopup))) || (t && G.touch && t.longtouch_drag) || (ee.St && this.Vt.style.zIndex <= ee.St))
                                ) {
                                    if (t) {
                                        var e = t.click_view;
                                        if ((e || 0 === e || (e = -1), ee.kt.find(this) <= e)) return;
                                    }
                                    this.Pn();
                                }
                            },
                            hidden_setter: function (t) {
                                return t ? this.hide() : this.show(), !!t;
                            },
                            hide: function () {
                                var t = this.Pn();
                                this.jn(t);
                            },
                            Pn: function () {
                                if (!this.$destructed && !this.P.hidden) {
                                    if ((this.P.modal && this._n(!1), this.Nn(), this.P.autofocus)) {
                                        var t = document.activeElement;
                                        t && this.Vt && (this.Vt.contains(t) || t === document.body) && (ke.setFocus(this.En), (this.En = null));
                                    }
                                    var e = ee.kt.find(this);
                                    return -1 < e && ee.kt.removeAt(e), e;
                                }
                            },
                            Nn: function () {
                                "top" == this.P.position ? We(this.Vt, { type: "slide", x: 0, y: -(this.we + 20), duration: 300, callback: this.Ln, master: this }) : this.Ln();
                            },
                            jn: function (t) {
                                if (-1 < t) for (var e = ee.kt, i = e.length - 1; t <= i; i--) e[i].Hn && e[i].Pn();
                            },
                            destructor: function () {
                                this.hide(), Se.destructor.apply(this, []);
                            },
                            Ln: function () {
                                this.$destructed || ((this.Vt.style.display = "none"), (this.P.hidden = !0), this.callEvent("onHide", []));
                            },
                            close: function () {
                                this.destructor();
                            },
                            On: function (t) {
                                void 0 === t.borderless && (t.borderless = !0);
                            },
                            body_setter: function (t) {
                                return "object" != e(t) && (t = { template: t }), this.On(t), ((ee.bt = this).$t = ne.Ht(t)), this.Tn.appendChild(this.$t.Vt), t;
                            },
                            head_setter: function (e) {
                                var i = this;
                                if (!1 === e) return e;
                                var n = this.P.headHeight,
                                    s = "string" == typeof e,
                                    r = { height: n, padding: 0, css: "webix_win_title", type: "header", borderless: !0 };
                                s && (this.Vt.setAttribute("aria-label", e), (e = { template: e })),
                                    ("template" == e.view || (!e.view && e.template)) && t.extend(e, r),
                                    s && this.config.close
                                        ? (e = {
                                              padding: { left: Ve.inputHeight + 2, right: 2 },
                                              cols: [
                                                  e,
                                                  {
                                                      height: n,
                                                      view: "icon",
                                                      icon: "wxi-close",
                                                      click: function () {
                                                          i.hide();
                                                      },
                                                  },
                                              ],
                                          })
                                        : t.extend(e, { borderless: !0 }),
                                    ((ee.bt = this).Fn = ne.Ht(e));
                                var o = this.Fn.Vt.querySelector(".webix_win_title>div");
                                return o && (o.style.lineHeight = n + "px"), this.vn.appendChild(this.Fn.Vt), e;
                            },
                            getBody: function () {
                                return this.$t;
                            },
                            getHead: function () {
                                return this.Fn;
                            },
                            adjust: function () {
                                return this.resize();
                            },
                            resizeChildren: function () {
                                this.$t && this.resize();
                            },
                            resize: function () {
                                Ae.api.adjust.call(this), M("onResize", []), this.isVisible() && this.Qt(this.P.left, this.P.top);
                            },
                            zn: function () {
                                if (this.P.master) {
                                    var t = ae(this.P.master).getTopParentView().$view;
                                    return t && "fixed" === t.style.position;
                                }
                                return !1;
                            },
                            Qt: function (t, e) {
                                if (this.P.position || this.zn()) {
                                    this.$view.style.position = "fixed";
                                    var i = this.me,
                                        n = this.we;
                                    if (i <= 0 || n <= 0) return;
                                    var s = window.innerWidth || document.documentElement.offsetWidth,
                                        r = window.innerHeight || document.documentElement.offsetHeight,
                                        o = Math.round((s - i) / 2),
                                        a = Math.round((r - n) / 2);
                                    if ("function" == typeof this.P.position) {
                                        var l = { left: o, top: a, width: i, height: n, maxWidth: s, maxHeight: r };
                                        this.P.position.call(this, l), (l.width == i && l.height == n) || this.$setSize(l.width, l.height), this.setPosition(l.left, l.top);
                                    } else "top" == this.P.position && (a = We.isSupported() ? -1 * n : 10), this.P.position || ((o = this.P.left || o), (a = this.P.top || a)), this.setPosition(o, a);
                                    "top" == this.P.position && We(this.Vt, { type: "slide", x: 0, y: n - 2 * (this.P.padding || 0), duration: 300, callback: this.Wn, master: this });
                                } else this.setPosition(t, e);
                            },
                            Wn: function (t) {
                                We.clear(t), (this.P.top = -2 * (this.P.padding || 0)), this.setPosition(this.P.left, this.P.top);
                            },
                            setPosition: function (t, e) {
                                (this.Vt.style.top = e + "px"), (this.Vt.style.left = t + "px"), (this.P.left = t), (this.P.top = e);
                            },
                            $getSize: function (t, e) {
                                var i = this.P.Dt;
                                i && ((t += (i.left ? 0 : 1) + (i.right ? 0 : 1)), (e += (i.top ? 0 : 1) + (i.bottom ? 0 : 1))), this.P.head && (e += 1);
                                var n = this.$t.$getSize(0, 0),
                                    s = 0;
                                if (this.Fn) {
                                    var r = this.Fn.$getSize(0, 0);
                                    r[3] == r[2] && (this.P.headHeight = r[3]), (e += this.P.headHeight), (s = r[0]);
                                }
                                if (this.P.fullscreen) {
                                    var o = window.innerWidth || document.body.clientWidth,
                                        a = window.innerHeight || document.body.clientHeight;
                                    return [o, o, a, a];
                                }
                                var l = Re.api.$getSize.call(this, 0, 0);
                                return (
                                    s && 1e5 < n[1] && (n[0] = Math.max(s, n[0])),
                                    (l[1] = Math.min(l[1], (1e5 <= n[1] && 1e5 <= l[1] ? Math.max(n[0], l[0]) : n[1]) + t)),
                                    (l[3] = Math.min(l[3], (1e5 <= n[3] && 1e5 <= l[3] ? Math.max(n[2], l[2]) : n[3]) + e)),
                                    (l[0] = Math.min(Math.max(l[0], n[0] + t), l[1])),
                                    (l[2] = Math.min(Math.max(l[2], n[2] + e), l[3])),
                                    l
                                );
                            },
                            $setSize: function (t, e) {
                                Re.api.$setSize.call(this, t, e),
                                    (t = this.me),
                                    (e = this.we),
                                    !1 === this.P.head ? ((this.vn.style.display = "none"), this.$t.$setSize(t, e)) : (this.Fn.$setSize(t, this.P.headHeight), this.$t.$setSize(t, e - this.P.headHeight));
                            },
                            $skin: function () {
                                this.defaults.headHeight = Ve.barHeight;
                            },
                            defaults: { top: 0, left: 0, autofit: !0, relative: "bottom", body: "", head: "", hidden: !0, autofocus: !0, minWidth: 300, minHeight: 200, escHide: !0 },
                        };
                    A("onLongTouch", function (t) {
                        if (t && t.target) {
                            var e = ae(t.target);
                            if (e) {
                                e =
                                    e.queryView(function (t) {
                                        return !t.getParentView();
                                    }, "parent") || e;
                                var i = ee.kt.find(e);
                                -1 !== i && (t.click_view = i);
                            }
                        }
                    });
                    var ei = { api: ti, view: t.protoUI(ti, Re.view, Ke, Je, E, Qe) },
                        ii = {
                            defaults: { padding: "4", hidden: !0 },
                            body_setter: function (t) {
                                return (t = ei.api.body_setter.call(this, t)), (this.$t.Vt.style.borderWidth = "0px"), t;
                            },
                            attachTo: function (t) {
                                var e;
                                (e = t.on_context ? t.attachEvent("onAfterContextMenu", m(this.Un, this)) : Jt(t, "contextmenu", this.Yn, { bind: this })),
                                    this.attachEvent("onDestruct", function () {
                                        t.callEvent ? t.detachEvent(e) : Qt(e), (t = null);
                                    });
                            },
                            getContext: function () {
                                return this.qn;
                            },
                            setContext: function (t) {
                                this.qn = t;
                            },
                            Yn: function (t) {
                                return (this.qn = _(t || ei.event)), this.Gn(t);
                            },
                            Un: function (t, e) {
                                return (this.qn = { obj: ae(e), id: t }), this.Gn(e);
                            },
                            Gn: function (t) {
                                var e = this.show(t, null, !0);
                                if (!1 === e) return e;
                                var i = ae(t);
                                if (i) {
                                    var n =
                                        i.queryView(function (t) {
                                            return !t.getParentView();
                                        }, "parent") || i;
                                    n.mn && n.mn(t);
                                }
                                return M("onClick", [t]), yt(t);
                            },
                            Xn: !0,
                            master_setter: function (t) {
                                return this.attachTo(t), null;
                            },
                        },
                        ni = {
                            qn: null,
                            Kn: null,
                            Jn: 0,
                            init: function () {
                                return (
                                    null !== this.qn ||
                                        (ee.destructors.push({ obj: this }),
                                        (this.qn = document.createElement("textarea")),
                                        (this.qn.className = "webix_clipbuffer"),
                                        this.qn.setAttribute("webixignore", 1),
                                        this.qn.setAttribute("spellcheck", "false"),
                                        this.qn.setAttribute("autocapitalize", "off"),
                                        this.qn.setAttribute("autocorrect", "off"),
                                        this.qn.setAttribute("autocomplete", "off"),
                                        document.body.appendChild(this.qn),
                                        Jt(
                                            document.body,
                                            "keydown",
                                            m(function (t) {
                                                var e = t.keyCode,
                                                    i = !(!t.ctrlKey && !t.metaKey);
                                                86 === e && i && ((this.qn.value = ""), b(this.Zn, this, [t], 100));
                                            }, this)
                                        )),
                                    this.qn
                                );
                            },
                            destructor: function () {
                                this.qn = null;
                            },
                            set: function (t) {
                                this.init(), (t = "" === t ? "\n" : t), (this.qn.value = t), this.focus();
                            },
                            focus: function () {
                                this.Qn() || (this.init(), this.qn.focus(), this.qn.select());
                            },
                            Qn: function () {
                                var t = "";
                                return void 0 !== window.getSelection ? (t = window.getSelection().toString()) : void 0 !== document.selection && "Text" == document.selection.type && (t = document.selection.createRange().text), !!t;
                            },
                            Zn: function (t) {
                                if (t.target === this.qn) {
                                    var e = this.qn.value,
                                        i = ke.getFocus();
                                    !i || (i.getEditor && i.getEditor()) || (i.callEvent("onPaste", [e]), this.qn.select());
                                }
                            },
                        },
                        si = {
                            clipboard_setter: function (t) {
                                return (
                                    G.touch ||
                                        ((!0 !== t && 1 !== t) || (t = "modify"),
                                        this.attachEvent("onAfterSelect", function (t) {
                                            if (!this.getEditor || !this.getEditor()) {
                                                var e = this.getItem(t),
                                                    i = this.type.templateCopy(e);
                                                ni.set(i, this), ni.focus(), ke.setFocus(this);
                                            }
                                        }),
                                        this.attachEvent("onPaste", function (t) {
                                            v(this.Zn[this.P.clipboard]) || this.Zn[this.P.clipboard].call(this, t);
                                        }),
                                        this.attachEvent("onFocus", function () {
                                            ni.focus();
                                        }),
                                        this.attachEvent("onItemClick", function (t) {
                                            (this.th && -1 === this.th.find(t)) || (ni.focus(), ke.setFocus(this));
                                        })),
                                    t
                                );
                            },
                            Zn: {
                                insert: function (t) {
                                    this.add({ value: t });
                                },
                                modify: function (t) {
                                    for (var e = this.getSelectedId(!0), i = 0; i < e.length; i++) (this.getItem(e[i]).value = t), this.refresh(e[i]);
                                },
                                custom: function () {},
                            },
                            templateCopy_setter: function (t) {
                                this.type.templateCopy = Ut(t);
                            },
                            type: {
                                templateCopy: function (t) {
                                    return this.template(t);
                                },
                            },
                        },
                        ri = {
                            $customPrint: function (t, e) {
                                if (this.ih(t, e)) return !0;
                                var i = this.eh(t),
                                    n = this.sh(i, t);
                                if (e) return n;
                                var s = dt("div", { class: "webix_ui_print" });
                                s.appendChild(n), ft(s, t.docFooter, document.body), window.print(), pt(s);
                            },
                            ih: function (e, i) {
                                if (!i && ("y" == this.config.layout || e.scroll || this.config.prerender || this.config.autoheight)) return !0;
                                "x" == this.config.layout && t.extend(e || {}, { xCount: this.count(), nobreaks: !0 }, !0);
                            },
                            nh: function (t) {
                                var e = t.size["portrait" == t.mode ? "width" : "height"];
                                return Math.min(e * G.printPPI - 2 * G.printMargin);
                            },
                            eh: function (t, e, i) {
                                var n,
                                    s,
                                    r = "page" == t.fit ? 1 / 0 : this.nh(t),
                                    o = t.xCount || this.rh().hh,
                                    a = [],
                                    l = [],
                                    h = 0;
                                (i = i || 0), (e = e || []);
                                for (var c = 0; c < this.data.order.length; ) {
                                    var d = this.data.pull[this.data.order[c]];
                                    if (((s = c - parseInt(c / o) * o), d && i <= s)) {
                                        if (r < (h += this.type.width) && i < s) {
                                            (n = l.length + i), a.push(l), (c += o - l.length), (l = []), (h = 0);
                                            continue;
                                        }
                                        var u = this.type.template(d, this.type),
                                            p = this.oh,
                                            f = { display: "table-cell", height: this.type.height + "px", width: this.type.width + "px" };
                                        l.push({ txt: u, className: p + " " + (d.$css || ""), style: f }), (c + 1) % o == 0 && (a.push(l), (l = []), (h = 0));
                                    }
                                    c++;
                                }
                                return e.push(a), n && this.eh(t, e, n), e;
                            },
                            sh: function (t, e) {
                                var i = dt("div");
                                return (
                                    t.forEach(
                                        m(function (n, s) {
                                            var r = dt("table", { class: "webix_table_print " + this.$view.className, style: "border-collapse:collapse" });
                                            if (
                                                (n.forEach(function (t) {
                                                    var e = dt("tr");
                                                    t.forEach(function (t) {
                                                        var i = dt("td");
                                                        t.txt && (i.innerHTML = t.txt),
                                                            t.className && (i.className = t.className),
                                                            t.style &&
                                                                Object.keys(t.style).forEach(function (e) {
                                                                    t.style[e] && (i.style[e] = t.style[e]);
                                                                }),
                                                            t.span && (1 < t.span.colspan && (i.colSpan = t.span.colspan), 1 < t.span.rowspan && (i.rowSpan = t.span.rowspan)),
                                                            e.appendChild(i);
                                                    }),
                                                        r.appendChild(e);
                                                }),
                                                i.appendChild(r),
                                                !e.nobreaks && s + 1 < t.length)
                                            ) {
                                                var o = dt("DIV", { class: "webix_print_pagebreak" });
                                                i.appendChild(o);
                                            }
                                        }, this)
                                    ),
                                    i
                                );
                            },
                        },
                        oi = {
                            scrollStep: 40,
                            init: function () {
                                this.ah(),
                                    (this.scrollStep = Ve.rowHeight),
                                    (G.$customScroll = !0),
                                    (G.scrollSize = 0),
                                    ee.destructors.push({
                                        obj: {
                                            destructor: function () {
                                                this.uh = null;
                                            },
                                        },
                                    }),
                                    A("onReconstruct", oi.ch),
                                    A("onResize", oi.ch),
                                    A("onClick", oi.ch);
                            },
                            resize: function () {
                                this.ch();
                            },
                            fh: function (t) {
                                (t.st.lh = t.P.id),
                                    t.attachEvent("onAfterRender", function () {
                                        var t = oi.dh(this),
                                            e = Math.max(t.dy - t.py, 0),
                                            i = Math.max(t.dx - t.px, 0);
                                        this.vh && this._h > e ? this.vh.scrollTo(e) : this.ph && this.bh > i && this.ph.scrollTo(i), oi.uh == this.st && oi.ch();
                                    }),
                                    Zt(t.st, "mouseover", oi.mh),
                                    Zt(t.st, "mouseout", oi.gh);
                            },
                            enable: function (t, e) {
                                if ((oi.ah(), t.mapCells)) return this.fh(t);
                                var i = t;
                                t.tt && (i = t.tt.parentNode),
                                    (i.wh = e || "xy"),
                                    Zt(i, "mouseover", oi.mh),
                                    Zt(i, "mouseout", oi.gh),
                                    Zt(i, "mousewheel", oi.xh, { passive: !1 }),
                                    Zt(i, "DOMMouseScroll", oi.xh, { passive: !1 }),
                                    this.yh(t);
                            },
                            ch: function () {
                                var t = oi.uh;
                                if (t && t.Mh) {
                                    var e = ae(t),
                                        i = e
                                            ? e
                                                  .queryView(function (t) {
                                                      var e = oi.Sh(t);
                                                      return e && e.Mh;
                                                  }, "all")
                                                  .map(function (t) {
                                                      return oi.Sh(t);
                                                  })
                                            : [];
                                    i.push(t),
                                        i.forEach(function (t) {
                                            oi.kh.call(t), oi.mh.call(t);
                                        });
                                }
                            },
                            Sh: function (t) {
                                return t.st || (t.tt && t.tt.parentNode) || t.$view;
                            },
                            ah: function () {
                                Jt(document.body, "mousemove", function (t) {
                                    oi.Ch && oi.$h(oi.Ch, oi.Ch.Dh, bt(t));
                                }),
                                    (oi.ah = function () {});
                            },
                            mh: function () {
                                if (((oi.uh = this), clearTimeout(this.Ih), !this.Mh && !oi.Ch)) {
                                    var t = ae(this);
                                    if (!t || t.isEnabled()) {
                                        var e;
                                        if (this.lh) {
                                            if (!(t = ae(this.lh))) return;
                                            e = oi.dh(t);
                                        } else
                                            ((e = { dx: this.scrollWidth, dy: this.scrollHeight, px: this.clientWidth, py: this.clientHeight }).xe = e.dx > e.px && -1 != this.wh.indexOf("x")),
                                                (e.ge = e.dy > e.py && -1 != this.wh.indexOf("y"));
                                        (this.Mh = e).xe && ((e.Ah = oi.Ts(this, "x", e.dx, e.px, "width", "height")), (e.Th = e.px - e.Ah.offsetWidth - 4), (e.Fh = e.dx - e.px), oi.trackBar && (e.Vh = oi.zh(this, "x"))),
                                            e.ge && ((e.Bh = oi.Ts(this, "y", e.dy, e.py, "height", "width")), (e.Hh = e.py - e.Bh.offsetHeight - 4), (e.Rh = e.dy - e.py), oi.trackBar && (e.Eh = oi.zh(this, "y"))),
                                            oi.Ph(this);
                                    }
                                }
                            },
                            zh: function (t, e) {
                                var i = dt("DIV", { webixignore: "1", class: "webix_c_scroll_bar_" + e }, "");
                                return t.appendChild(i), i;
                            },
                            $h: function (t, e, i) {
                                var n = t.Mh,
                                    s = t.lh;
                                if ((s && (s = ae(s)), n.Ah == t.jh)) {
                                    var r = ((i.x - e.x) * n.Fh) / n.Th;
                                    s ? s.ph.scrollTo(s.bh + r) : oi.Nh(t, "scrollLeft", r);
                                }
                                if (n.Bh == t.jh) {
                                    var o = ((i.y - e.y) * n.Rh) / n.Hh;
                                    s ? s.vh.scrollTo(s._h + o) : oi.Nh(t, "scrollTop", o);
                                }
                                (t.Dh = i), oi.Ph(t);
                            },
                            dh: function (t) {
                                var e = {};
                                return t.ph && t.P.scrollX && ((e.dx = t.ph.getSize()), (e.px = t.ph.Lh || 1), (e.xe = 1 < e.dx - e.px)), t.vh && t.P.scrollY && ((e.dy = t.vh.getSize()), (e.py = t.vh.Lh || 1), (e.ge = 1 < e.dy - e.py)), e;
                            },
                            gh: function () {
                                clearTimeout(this.Ih), (this.Ih = b(oi.kh, this, [], 200));
                            },
                            Oh: function (t) {
                                t && (pt(t), t.Wh && (Qt(t.Wh), Qt(t.Uh), Qt(t.Yh)));
                            },
                            kh: function () {
                                if (this.Mh) {
                                    if (this.jh) return void (this.qh = !0);
                                    var t = this.Mh;
                                    oi.Oh(t.Ah), oi.Oh(t.Bh), t.Vh && pt(t.Vh), t.Eh && pt(t.Eh), (this.Mh = null);
                                }
                            },
                            xh: function (t) {
                                var e = this.Mh,
                                    i = t.wheelDelta / -40,
                                    n = !1;
                                if ((!i && t.detail && v(t.wheelDelta) && (i = t.detail), e)) {
                                    t.scrolledBy || (t.scrolledBy = e.ge ? "y" : "x");
                                    var s = t.wheelDeltaX && Math.abs(t.wheelDeltaX) > Math.abs(t.wheelDeltaY);
                                    if (e.Ah && (("y" !== t.scrolledBy && (t.wheelDeltaX || i)) || s)) {
                                        var r = t.wheelDeltaX / -40 || i;
                                        n = oi.Nh(this, "scrollLeft", r * oi.scrollStep);
                                    } else !s && i && e.Bh && (n = oi.Nh(this, "scrollTop", i * oi.scrollStep));
                                }
                                if ((oi.Ph(this), !1 !== n)) return yt(t);
                            },
                            Nh: function (t, e, i) {
                                var n = t.Mh,
                                    s = "scrollLeft" == e ? n.dx - n.px : n.dy - n.py,
                                    r = t[e];
                                return s < r + i && (i = s - r), !(!i || (r + i < 0 && 0 === r) || (G.isIE && oi.Ph(t, e, i + r), (t[e] += i), 0));
                            },
                            Ts: function (t, e, i, n, s) {
                                var r = dt("DIV", { webixignore: "1", class: "webix_c_scroll_" + e }, "<div></div>");
                                return (
                                    (r.style[s] = Math.max((n * n) / i - 7, 40) + "px"),
                                    (r.style["height" == s ? "top" : "left"] = "0px"),
                                    (t.style.position = "relative"),
                                    t.appendChild(r),
                                    (t.Wh = Jt(r, "mousedown", oi.Gh(t))),
                                    (t.Uh = Jt(document.body, "mouseup", m(oi.Xh, t))),
                                    (t.Yh = Jt(document.body, "mouseleave", m(oi.Xh, t))),
                                    r
                                );
                            },
                            Gh: function (t) {
                                return function (e) {
                                    _t(document.body, "webix_noselect", 1), (this.className += " webix_scroll_active"), ((oi.Ch = t).jh = this), (t.Dh = bt(e));
                                };
                            },
                            Xh: function () {
                                this.jh &&
                                    (kt(document.body, "webix_noselect"), (this.jh.className = this.jh.className.toString().replace(" webix_scroll_active", "")), (this.jh = !1), (oi.Ch = 0), this.qh && (oi.kh.call(this), (this.qh = !1)));
                            },
                            Ph: function (t, e, i) {
                                var n = t.Mh;
                                if (n && (n.Ah || n.Bh)) {
                                    var s = t.lh,
                                        r = "scrollLeft" == e ? i : t.scrollLeft,
                                        o = s ? ae(s).bh : r,
                                        a = s ? 0 : o,
                                        l = "scrollTop" == e ? i : t.scrollTop,
                                        h = s ? ae(s)._h : l,
                                        c = s ? 0 : h;
                                    n.Ah && ((n.Ah.style.bottom = 1 - c + "px"), (n.Ah.style.left = Math.round((n.Th * o) / (n.dx - n.px)) + a + 1 + "px"), n.Vh && ((n.Vh.style.bottom = 1 - c + "px"), (n.Vh.style.left = a + "px"))),
                                        n.Bh && ((n.Bh.style.right = 0 - a + "px"), (n.Bh.style.top = Math.round((n.Hh * h) / (n.dy - n.py)) + c + 1 + "px"), n.Eh && ((n.Eh.style.right = 0 - a + "px"), (n.Eh.style.top = c + "px")));
                                }
                            },
                            yh: function (t) {
                                var e = this;
                                t.attachEvent &&
                                    (t.attachEvent("onViewShow", function () {
                                        return e.Kh(t);
                                    }),
                                    t.attachEvent("onAfterAutoScroll", function () {
                                        return e.Kh(t);
                                    })),
                                    t.data &&
                                        t.data.attachEvent &&
                                        t.data.attachEvent("onStoreUpdated", function () {
                                            return e.Kh(t);
                                        });
                            },
                            Kh: function (t) {
                                var e = oi.uh;
                                e && t.$view.contains(e) ? oi.ch() : oi.kh.call(t.$view);
                            },
                        },
                        ai = {
                            addCss: function (t, e, i) {
                                if (!this.addRowCss && !i && !this.hasCss(t, e)) {
                                    var n = this.getItemNode(t);
                                    n && ((n.className += " " + e), (i = !0));
                                }
                                return this.data.addMark(t, e, 1, 1, i);
                            },
                            removeCss: function (t, e, i) {
                                if (!this.addRowCss && !i && this.hasCss(t, e)) {
                                    var n = this.getItemNode(t);
                                    n && ((n.className = n.className.replace(e, "").replace("  ", " ")), (i = !0));
                                }
                                return this.data.removeMark(t, e, 1, i);
                            },
                            hasCss: function (t, e) {
                                return this.data.getMark(t, e);
                            },
                            clearCss: function (t, e) {
                                return this.data.clearMark(t, 1, e);
                            },
                        },
                        li = {
                            copy: function (t, e, i, n) {
                                var s = (n = n || {}).newId || t;
                                i = i || this;
                                var r = this.getItem(t);
                                return i && (r = i.Jh(r)), i.data.add(i.Jh(r, s), e, n.parent || 0);
                            },
                            Zh: function (t, e, i) {
                                if (e && t) {
                                    var n = this.getIndexById(t);
                                    return n + (i == this && i.getIndexById(e) < n ? 0 : 1);
                                }
                            },
                            move: function (t, e, i, n) {
                                var s = (n = n || {}).newId || t;
                                if (((i = i || this).data, i.data)) {
                                    if (P(t)) {
                                        3 < t.length && (this.$blockRender = i.$blockRender = !0);
                                        for (var r = 0; r < t.length; r++) {
                                            var o = this.move(t[r], e, i, n);
                                            e = i.Zh(o, t[r + 1], this);
                                        }
                                        return (this.$blockRender = i.$blockRender = !1), void (3 < t.length && (this.refresh(), i != this && i.refresh()));
                                    }
                                    var a = t,
                                        l = this.getItem(t);
                                    return (
                                        i && i != this
                                            ? ((a = i.data.add(i.Jh(l, s), e, n.parent || 0)), this.data.remove(t))
                                            : (e < 0 && (e = this.data.order.length - 1), this.data.move(this.getIndexById(t), e), this.data.callEvent("onDataMove", [t, e, null, this.data.order[e + 1]])),
                                        a
                                    );
                                }
                            },
                            moveUp: function (t, e) {
                                var i = this.getIndexById(t) - (e || 1);
                                return this.move(t, i < 0 ? 0 : i);
                            },
                            moveDown: function (t, e) {
                                return this.moveUp(t, -1 * (e || 1));
                            },
                            moveTop: function (t) {
                                return this.move(t, 0);
                            },
                            moveBottom: function (t) {
                                return this.move(t, this.data.count() - 1);
                            },
                            Jh: function (e, i) {
                                var n = t.extend({}, e);
                                return (n.id = !i || this.data.pull[i] ? x() : i), (n.$template = null), this.P.externalData && (n = this.P.externalData.call(this, n, i, e)), n;
                            },
                        },
                        hi = {
                            isEmail: function (t) {
                                return /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test((t || "").toString());
                            },
                            isNumber: function (t) {
                                return parseFloat(t) == t;
                            },
                            isChecked: function (t) {
                                return !!t || "0" === t;
                            },
                            isNotEmpty: function (t) {
                                return 0 === t || t;
                            },
                        },
                        ci = {
                            $init: function () {
                                this.yt && this.attachEvent("onChange", this.clearValidation);
                            },
                            clearValidation: function () {
                                if (this.elements) for (var t in this.elements) this.Qh(t);
                            },
                            validate: function (t, e) {
                                this.callEvent, this.callEvent("onBeforeValidate", []);
                                var i = (this.ir = {}),
                                    n = !0,
                                    s = this.P.rules,
                                    r = this.isVisible && !this.isVisible(),
                                    o = t && t.hidden,
                                    a = t && t.disabled,
                                    l = {},
                                    h = {};
                                for (var c in this.elements) {
                                    var d = this.elements[c].config.name;
                                    (r || this.elements[c].isVisible() || o) && (this.elements[c].isEnabled() || a) ? (l[d] = this.elements[c]) : (h[d] = !0);
                                }
                                if (((s || l) && !e && this.getValues && (e = this.getValues()), s)) {
                                    s.$obj && (n = this.sr(s.$obj, e, e, "") && n);
                                    var u = s.$all,
                                        p = e;
                                    if (
                                        (this.P.complexData &&
                                            (p = Vt.collapseNames(e, "", {}, function (t) {
                                                return !s[t];
                                            })),
                                        u)
                                    )
                                        for (var f in e)
                                            if (!h[f]) {
                                                var m = this.sr(u, p[f], e, f);
                                                m || (i[f] = !0), (n = m && n);
                                            }
                                    for (var g in s)
                                        if (!h[g] && 0 !== g.indexOf("$") && !i[g]) {
                                            s[g];
                                            var v = this.sr(s[g], p[g], e, g);
                                            v || (i[g] = !0), (n = v && n);
                                        }
                                }
                                if (l)
                                    for (var b in l)
                                        if (!i[b]) {
                                            var y = l[b];
                                            if (y.validate) {
                                                var w = y.validate();
                                                (n = w && n), w || (i[b] = !0);
                                            } else {
                                                var x = y.P;
                                                if (x) {
                                                    var _ = x.validate;
                                                    if ((!_ && x.required && (_ = s.isNotEmpty), _)) {
                                                        var k = this.sr(_, e[b], e, b);
                                                        k || (i[b] = !0), (n = k && n);
                                                    }
                                                }
                                            }
                                        }
                                return this.callEvent("onAfterValidation", [n, this.ir]), n;
                            },
                            sr: function (t, e, i, n) {
                                return (
                                    "string" == typeof t && (t = hi[t]),
                                    t.call(this, e, i, n) ? (this.callEvent("onValidationSuccess", [n, i]) && this.Qh && this.Qh(n), !0) : (this.callEvent("onValidationError", [n, i]) && this.nr && this.nr(n), !1)
                                );
                            },
                        },
                        di = {};
                    function ui(t, i) {
                        if (("object" == e(t) && t.P && (t = t.P.id), di[t] || i)) return di[t];
                        ("string" != typeof t && "number" != typeof t) || (t = { master: ae(t) });
                        var n = new pi(t),
                            s = n.P.master.P.id;
                        return (
                            (di[s] = n),
                            ae(s).attachEvent("onDestruct", function () {
                                (di[this.P.id] = null), delete di[this.P.id];
                            }),
                            n
                        );
                    }
                    c("dp", ui),
                        (ui.$$ = function (t) {
                            return di[t];
                        });
                    var pi = t.proto(
                        {
                            defaults: { autoupdate: !0, updateFromResponse: !1, mode: "post", operationName: "webix_operation", trackMove: !1 },
                            $init: function () {
                                this.reset(), (this.hr = !1), (this.name = "DataProcessor"), this.$ready.push(this.rr);
                            },
                            reset: function () {
                                this.or = [];
                            },
                            url_setter: function (t) {
                                var e = "";
                                if ("string" == typeof t) {
                                    var i = t.split("->");
                                    1 < i.length && ((t = i[1]), (e = i[0]));
                                } else t && t.mode && ((e = t.mode), (t = t.url));
                                return e ? B(e, t) : t;
                            },
                            master_setter: function (t) {
                                var e = t;
                                return "DataStore" != t.name && (e = t.data), (this.P.store = e), t;
                            },
                            ar: function (t) {
                                var e = this.ur;
                                (this.ur = []), t();
                                var i = Promise.all(this.ur);
                                return (this.ur = e) && e.push(i), i;
                            },
                            rr: function () {
                                var t = this.P.store;
                                t && (t.attachEvent("onStoreUpdated", m(this.cr, this)), t.attachEvent("onDataMove", m(this.fr, this)));
                            },
                            ignore: function (t, e) {
                                var i = this.hr;
                                (this.hr = !0), t.call(e || this), (this.hr = i);
                            },
                            off: function () {
                                this.hr = !0;
                            },
                            on: function () {
                                this.hr = !1;
                            },
                            lr: function (t) {
                                var e = {};
                                for (var i in t) 0 !== i.indexOf("$") && (e[i] = t[i]);
                                return e;
                            },
                            save: function (t, e, i) {
                                return (e = e || "update"), this.dr(t, i, e, !0);
                            },
                            dr: function (t, i, n, s) {
                                if (("object" == e(t) && (t = t.toString()), t && !0 !== this.hr && n && "paint" != n)) {
                                    var r = this.P.store;
                                    r && ((i = i || this.P.store.getItem(t)), r.vr && (i = r.vr(i)));
                                    var o = { id: t, data: this.lr(i), operation: n };
                                    if ((v(i.$parent) || (o.data.parent = i.$parent), "delete" != o.operation)) {
                                        var a = this.P.master;
                                        a && a.data && a.data.getMark && a.data.getMark(t, "webix_invalid") && (o._r = !0), this.validate(null, o.data) || (o._r = !0);
                                    }
                                    return this.pr(o) && this.or.push(o), this.P.autoupdate || s ? this.mr(t) : void 0;
                                }
                            },
                            fr: function (t, e, i, n) {
                                if (this.P.trackMove) {
                                    var s = f(this.P.store.getItem(t));
                                    (s.webix_move_index = e), (s.webix_move_id = n), (s.webix_move_parent = i), this.dr(t, s, "order");
                                }
                            },
                            cr: function (t, e, i) {
                                switch (i) {
                                    case "save":
                                    case "update":
                                        i = "update";
                                        break;
                                    case "add":
                                        i = "insert";
                                        break;
                                    case "delete":
                                        i = "delete";
                                        break;
                                    default:
                                        return !0;
                                }
                                return this.dr(t, e, i);
                            },
                            pr: function (t) {
                                for (var e = 0; e < this.or.length; e++) {
                                    var i = this.or[e];
                                    if (i.id == t.id && !i.gr) return "delete" == t.operation && ("insert" == i.operation ? this.or.splice(e, 1) : (i.operation = "delete")), (i.data = t.data), (i._r = t._r), !1;
                                }
                                return !0;
                            },
                            send: function () {
                                return this.mr();
                            },
                            mr: function (t) {
                                if (this.P.url) {
                                    for (var i, n = this.or, s = [], r = this.P.url, o = 0; o < n.length; o++) {
                                        var a = n[o];
                                        if (!a.gr && !a._r) {
                                            var l = a.id;
                                            if (this.P.autoupdate || !t || t == l) {
                                                var h = a.operation,
                                                    c = B.$parse("object" != e(r) || r.$proxy ? r : r[h]),
                                                    d = c && (c.$proxy || "function" == typeof c);
                                                if (c) {
                                                    var u = this.P.store;
                                                    if ((u && u.wr && u.wr(a.data), this.callEvent("onBefore" + h, [l, a]))) {
                                                        if (((a.gr = !0), !this.callEvent("onBeforeDataSend", [a]))) return;
                                                        a.data = this.xr(a.data);
                                                        var p = void 0;
                                                        c.$proxy
                                                            ? (c.save && (p = c.save(this.config.master, a, this)), s.push(a))
                                                            : ("insert" == h && delete a.data.id, (p = d ? c.call(this.config.master, a.id, a.operation, a.data) : ((a.data[this.P.operationName] = h), this.S(c, a.data, this.P.mode)))),
                                                            p && ((p = this.yr(p, { id: a.id, status: a.operation })), t && l === t && (i = p)),
                                                            this.callEvent("onAfterDataSend", [a]);
                                                    }
                                                }
                                            }
                                        }
                                    }
                                    if (r.$proxy && r.saveAll && s.length) {
                                        var f = r.saveAll(this.config.master, s, this);
                                        f && ((f = this.yr(f, null)), i || (i = f));
                                    }
                                    return i;
                                }
                            },
                            yr: function (t, e) {
                                var i = this;
                                if (t)
                                    return (
                                        t.then || (t = l.resolve(t)),
                                        (t = t.then(
                                            function (t) {
                                                var n;
                                                if ((t && "function" == typeof t.json && (t = t.json()), !(n = null === e ? i.Mr(t) : i.Mr(e, "", t, -1)))) throw n;
                                                return n;
                                            },
                                            function (t) {
                                                throw (i.Sr(e, "", null, t), t);
                                            }
                                        )),
                                        this.ur && this.ur.push(t),
                                        t
                                    );
                            },
                            xr: function (t) {
                                var e = {};
                                for (var i in t) 0 !== i.indexOf("$") && (e[i] = t[i]);
                                return e;
                            },
                            S: function (t, e, i) {
                                return V()[i](t, e);
                            },
                            attachProgress: function (t, e, i) {
                                this.attachEvent("onBeforeDataSend", t), this.attachEvent("onAfterSync", e), this.attachEvent("onAfterSaveError", i), this.attachEvent("onLoadError", i);
                            },
                            Sr: function (t, e, i, n) {
                                t ? this.kr(!0, t.id, !1, t.status, !1, { text: e, data: i, loader: n }) : (this.callEvent("onLoadError", arguments), M("onLoadError", [e, i, n, this]));
                            },
                            kr: function (t, e, i, n, s, r) {
                                var o = this.P.master,
                                    a = this.getItemState(e);
                                if (((a.gr = !1), !t)) {
                                    this.setItemState(e, !1);
                                    var l = this.P.store;
                                    return (
                                        l &&
                                            l.exists(e) &&
                                            (i && e != i && l.changeId(e, i),
                                            s &&
                                                "delete" != n &&
                                                this.P.updateFromResponse &&
                                                this.ignore(function () {
                                                    l.updateItem(i || e, s);
                                                })),
                                        this.P.undoOnError && o.P.undo && o.removeUndo(i || e),
                                        this.callEvent("onAfterSave", [s, e, r]),
                                        this.callEvent("onAfter" + n, [s, e, r]),
                                        s || {}
                                    );
                                }
                                this.callEvent("onBeforeSaveError", [e, n, s, r]) &&
                                    ((a._r = !0),
                                    this.P.undoOnError &&
                                        o.P.undo &&
                                        (this.ignore(function () {
                                            o.undo(e);
                                        }),
                                        this.setItemState(e, !1)),
                                    this.callEvent("onAfterSaveError", [e, n, s, r]));
                            },
                            processResult: function (t, e, i) {
                                var n = e && ("error" == e.status || "invalid" == e.status),
                                    s = !!e && (e.newid || e.id);
                                return this.kr(n, t.id, s, t.status, e, i);
                            },
                            Mr: function (t, e, i, n) {
                                var s,
                                    r = this;
                                if ((this.callEvent("onBeforeSync", [t, e, i, n]), P(t)))
                                    (s = []),
                                        t.forEach(function (t) {
                                            s.push(r.processResult(t, t, {}));
                                        });
                                else if (-1 === n) s = this.processResult(t, i, {});
                                else {
                                    var o,
                                        a = this.P.url;
                                    a.$proxy && a.result
                                        ? (s = a.result(t, this.P.master, this, e, i, n) || {})
                                        : (e && ((o = i.json()), e && null == o && (o = { status: "error" })), (s = this.processResult(t, o, { text: e, data: i, loader: n })));
                                }
                                return this.callEvent("onAfterSync", [t, e, i, n]), s;
                            },
                            escape: function (t) {
                                return this.P.escape ? this.P.escape(t) : encodeURIComponent(t);
                            },
                            getState: function () {
                                if (!this.or.length) return !1;
                                for (var t = this.or.length - 1; 0 <= t; t--) if (this.or[t].gr) return "saving";
                                return !0;
                            },
                            getItemState: function (t) {
                                var e = this.Cr(t);
                                return this.or[e] || null;
                            },
                            setItemState: function (t, e) {
                                if (e) this.dr(t, null, "update");
                                else {
                                    var i = this.Cr(t);
                                    -1 < i && this.or.splice(i, 1);
                                }
                            },
                            Cr: function (t) {
                                for (var e = -1, i = 0; i < this.or.length; i++)
                                    if (this.or[i].id == t) {
                                        e = i;
                                        break;
                                    }
                                return e;
                            },
                        },
                        Pe,
                        E,
                        ci
                    );
                    function fi() {
                        (this.name = "DataStore"), t.extend(this, E), this.setDriver("json"), (this.pull = {}), (this.order = C()), (this.Dr = {});
                    }
                    fi.prototype = {
                        setDriver: function (t) {
                            Nt[t], (this.driver = Nt[t]);
                        },
                        X: function (t) {
                            this.callEvent("onParse", [this.driver, t]), this.Ir && this.filter();
                            var e = this.driver.getInfo(t);
                            e.config && this.callEvent("onServerConfig", [e.config]);
                            var i = this.driver.getOptions(t);
                            i && this.callEvent("onServerOptions", [i]);
                            var n = this.driver.getRecords(t);
                            this.Ar(e, n), this.Tr && this.Fr && !this.Vr && this.Fr(this.Tr), this.zr && (this.blockEvent(), this.sort(this.zr), this.unblockEvent()), this.callEvent("onStoreLoad", [this.driver, t]), this.refresh();
                        },
                        Ar: function (e, i) {
                            var n = e.from,
                                s = !0,
                                r = !1;
                            if (!n && 0 !== n && this.order[0]) {
                                if (this.Br) {
                                    r = {};
                                    for (var o = 0; o < this.order.length; o++) r[this.order[o]] = !0;
                                }
                                (s = !1), (n = this.order.length);
                            } else n = 1 * (n || 0);
                            for (var a = 0, l = 0; l < i.length; l++) {
                                var h = this.driver.getDetails(i[l]),
                                    c = this.id(h);
                                this.pull[c] ? s && this.order[a + n] && a++ : ((this.order[a + n] = c), a++),
                                    this.pull[c] ? (t.extend(this.pull[c], h, !0), this.Hr && this.Hr(this.pull[c]), r && delete r[c]) : ((this.pull[c] = h), this.Rr && this.Rr(h));
                            }
                            if (r) {
                                for (var d in (this.blockEvent(), r)) this.remove(d);
                                this.unblockEvent();
                            }
                            var u = 1 * e.size;
                            u && (this.order[u - 1] || (this.order[u - 1] = void 0), u < this.order.length && (this.order = this.order.slice(0, u)));
                        },
                        id: function (t) {
                            return t.id || (t.id = x());
                        },
                        changeId: function (t, e) {
                            t != e &&
                                (this.pull[t] && (this.pull[e] = this.pull[t]),
                                (this.pull[e].id = e),
                                (this.order[this.order.find(t)] = e),
                                this.Ir && (this.Ir[this.Ir.find(t)] = e),
                                this.Dr[t] && ((this.Dr[e] = this.Dr[t]), delete this.Dr[t]),
                                this.callEvent("onIdChange", [t, e]),
                                this.Er && this.Er(t, e),
                                delete this.pull[t]);
                        },
                        getItem: function (t) {
                            return this.pull[t];
                        },
                        updateItem: function (i, n, s) {
                            "object" === e(i) && (i = i.toString());
                            var r = this.getItem(i),
                                o = null,
                                a = this.hasEvent("onDataUpdate");
                            !n || !n.id || n.id,
                                v(n) || r === n || (a && (o = f(r)), (i = r.id), t.extend(r, n, !0), (r.id = i)),
                                this.Hr && this.Hr(r),
                                this.callEvent("onStoreUpdated", [i, r, s || "update"]),
                                a && this.callEvent("onDataUpdate", [i, r, o]);
                        },
                        refresh: function (t) {
                            this.Pr || (t ? this.exists(t) && this.callEvent("onStoreUpdated", [t, this.pull[t], "paint"]) : this.callEvent("onStoreUpdated", [null, null, null]));
                        },
                        silent: function (t, e) {
                            (this.Pr = !0), t.call(e || this), (this.Pr = !1);
                        },
                        getRange: function (t, e) {
                            if (
                                ((t = t ? this.getIndexById(t) : this.$min || this.startOffset || 0),
                                e ? (e = this.getIndexById(e)) : (e = 0 === this.$max ? 0 : Math.min(this.$max ? this.$max - 1 : this.endOffset || 1 / 0, this.count() - 1)) < 0 && (e = 0),
                                e < t)
                            ) {
                                var i = e;
                                (e = t), (t = i);
                            }
                            return this.getIndexRange(t, e);
                        },
                        getIndexRange: function (t, e) {
                            e = Math.min(0 === e ? 0 : e || 1 / 0, this.count() - 1);
                            for (var i = C(), n = t || 0; n <= e; n++) i.push(this.getItem(this.order[n]));
                            return i;
                        },
                        count: function () {
                            return this.order.length;
                        },
                        exists: function (t) {
                            return !!this.pull[t];
                        },
                        move: function (t, e) {
                            if (t != e) {
                                var i = this.getIdByIndex(t),
                                    n = this.getItem(i);
                                this.Ir && this.jr(this.Ir, 0, 0, this.getIdByIndex(t), this.getIdByIndex(e)), this.jr(this.order, t, e), this.callEvent("onStoreUpdated", [i, n, "move"]);
                            }
                        },
                        jr: function (t, e, i, n, s) {
                            if (n || s) {
                                e = i = -1;
                                for (var r = 0; r < t.length; r++) t[r] == n && e < 0 && (e = r), t[r] == s && i < 0 && (i = r);
                            }
                            var o = t[e];
                            t.removeAt(e), t.insertAt(o, Math.min(t.length, i));
                        },
                        scheme: function (t) {
                            for (var e in ((this.Nr = {}),
                            (this.wr = t.$save),
                            (this.Rr = t.$init || t.$change),
                            (this.Hr = t.$update || t.$change),
                            (this.vr = t.$serialize),
                            (this.Tr = t.$group),
                            (this.zr = t.$sort),
                            (this.Lr = t.$export),
                            t))
                                "$" != e.substr(0, 1) && (this.Nr[e] = t[e]);
                        },
                        importData: function (t, i) {
                            var n = t ? t.data || t : [];
                            if (((this.Ir = null), "function" == typeof n.serialize)) {
                                if (((this.order = C([].concat(n.order))), this.Or)) {
                                    this.Or = !1;
                                    var s = this.pull;
                                    for (var r in ((this.pull = {}), n.pull)) {
                                        var o = s[r];
                                        (this.pull[r] = f(n.pull[r])), o && o.open && (this.pull[r].open = !0);
                                    }
                                } else for (var a in ((this.pull = {}), n.pull)) this.pull[a] = n.pull[a];
                                n.branch && this.branch && ((this.branch = f(n.branch)), (this.Wr = null));
                            } else {
                                var l, h;
                                if (((this.order = C()), (this.pull = {}), P(t)))
                                    for (var c = 0; c < t.length; c++) "object" == e((h = l = t[c])) ? (h.id = h.id || x()) : (h = { id: l, value: l }), this.order.push(h.id), this.Rr && this.Rr(h), (this.pull[h.id] = h);
                                else for (var d in n) this.order.push(d), (this.pull[d] = { id: d, value: n[d] });
                            }
                            if (this.Ur && !n.branch) {
                                (this.branch = { 0: [] }), this.Yr || this.qr("data");
                                for (var u = 0; u < this.order.length; u++) {
                                    var p = this.order[u];
                                    this.Ur(this.pull[p], 0, 0, !1);
                                }
                            }
                            this.callEvent("onStoreLoad", []), i || this.callEvent("onStoreUpdated", []);
                        },
                        sync: function (t, i, n) {
                            this.unsync();
                            var s = e(t);
                            if (("string" == s && (t = ae(t)), "function" != s && "object" != s && ((n = i), (i = null)), "DataStore" != t.name && "TreeStore" != t.name)) {
                                if (!t.data || ("DataStore" !== t.data.name && "TreeStore" !== t.data.name)) return (this.Gr = t), M("onSyncUnknown", [this, t, i]);
                                t = t.data;
                            }
                            var r = m(function (e, s, r) {
                                this.Xr ||
                                    (i && this.branch && (this.Or = !0),
                                    this.importData(t, !0),
                                    i && this.silent(i),
                                    this.he && this.he(),
                                    (e && s && r) || this.count() || (this.Dr = {}),
                                    "delete" == r && this.Dr[e] && delete this.Dr[e],
                                    this.callEvent("onSyncApply", []),
                                    n ? (n = !1) : this.refresh());
                            }, this);
                            (this.Kr = [
                                t.attachEvent("onStoreUpdated", r),
                                t.attachEvent(
                                    "onIdChange",
                                    m(function (t, e) {
                                        this.changeId(t, e), this.refresh(e);
                                    }, this)
                                ),
                            ]),
                                (this.Gr = t),
                                (this.Jr = this.attachEvent("onStoreUpdated", function (e, i, n) {
                                    ("update" != n && "save" != n) || ((this.Xr = 1), t.updateItem(e, i), (this.Xr = 0));
                                })),
                                r();
                        },
                        unsync: function () {
                            if (this.Gr) {
                                var t = this.Gr;
                                if ("DataStore" == t.name || "TreeStore" == t.name || (t.data && "DataStore" == t.data.name && "TreeStore" == t.data.name)) {
                                    for (var e = 0; e < this.Kr.length; e++) t.detachEvent(this.Kr[e]);
                                    this.detachEvent(this.Jr);
                                } else M("onUnSyncUnknown", [this, t]);
                                this.Gr = null;
                            }
                        },
                        destructor: function () {
                            this.unsync(), (this.pull = this.order = this.Dr = null), (this.o = this.u = {});
                        },
                        add: function (t, e) {
                            if (this.Nr) for (var i in this.Nr) v(t[i]) && (t[i] = this.Nr[i]);
                            this.Rr && this.Rr(t);
                            var n = this.id(t),
                                s = arguments[2] || this.order,
                                r = s.length;
                            if (((v(e) || e < 0) && (e = r), r < e && (e = Math.min(s.length, e)), !1 === this.callEvent("onBeforeAdd", [n, t, e]))) return !1;
                            if ((this.exists(n), (this.pull[n] = t), s.insertAt(n, e), this.Ir)) {
                                var o = this.Ir.length;
                                this.order.length && (o = Math.min(e || 0, o)), this.Ir.insertAt(n, o);
                            }
                            return this.callEvent("onStoreUpdated", [n, t, "add"]), this.callEvent("onAfterAdd", [n, e]), t.id;
                        },
                        remove: function (t) {
                            if (P(t)) for (var e = 0; e < t.length; e++) this.remove(t[e]);
                            else {
                                if (!1 === this.callEvent("onBeforeDelete", [t])) return !1;
                                this.exists(t);
                                var i = this.getItem(t);
                                this.order.remove(t), this.Ir && this.Ir.remove(t), delete this.pull[t], this.Dr[t] && delete this.Dr[t], this.callEvent("onStoreUpdated", [t, i, "delete"]), this.callEvent("onAfterDelete", [t]);
                            }
                        },
                        clearAll: function (t) {
                            (this.pull = {}), (this.Dr = {}), (this.order = C()), (this.Ir = null), t || (this.url = null), this.callEvent("onClearAll", [t]), this.refresh();
                        },
                        getIdByIndex: function (t) {
                            return this.order[t];
                        },
                        getIndexById: function (t) {
                            return this.pull[t] ? this.order.find(t) : -1;
                        },
                        getNextId: function (t, e) {
                            return this.order[this.getIndexById(t) + (e || 1)];
                        },
                        getFirstId: function () {
                            return this.order[0];
                        },
                        getLastId: function () {
                            return this.order[this.order.length - 1];
                        },
                        getPrevId: function (t, e) {
                            return this.order[this.getIndexById(t) - (e || 1)];
                        },
                        sort: function (t, e, i) {
                            var n,
                                s = this,
                                r = t;
                            if (
                                ((n = P(r)
                                    ? [
                                          (r = r.map(function (t) {
                                              return s.Zr(t);
                                          })),
                                      ]
                                    : [(r = this.Zr(t, e, i)).by, r.dir, r.as, r]),
                                this.callEvent("onBeforeSort", n))
                            ) {
                                var o = this.sorting.create(r);
                                (this.order = this.Qr(o, this.order)), this.Ir && this.Ir.length != this.order.length && (this.Ir = this.Qr(o, this.Ir)), this.refresh(), this.callEvent("onAfterSort", n);
                            }
                        },
                        Zr: function (t, e, i) {
                            var n = t;
                            return "function" == typeof t ? (n = { as: t, dir: e }) : "string" == typeof t && (n = { by: t, dir: e, as: i }), "string" == typeof n.by && (n.by = n.by.replace(/#/g, "")), n;
                        },
                        Qr: function (t, e) {
                            if (this.order.length) {
                                for (var i = e.splice(0, this.$freeze), n = C(), s = e.length - 1; 0 <= s; s--) n[s] = this.pull[e[s]];
                                return (
                                    n.sort(t),
                                    C(
                                        i.concat(
                                            n.map(function (t) {
                                                return this.id(t);
                                            }, this)
                                        )
                                    )
                                );
                            }
                            return e;
                        },
                        io: function (t) {
                            this.Ir && !t && ((this.order = this.Ir), delete this.Ir);
                        },
                        eo: function (t, e, i) {
                            for (var n = C(), s = this.$freeze || 0, r = 0; r < this.order.length; r++) {
                                var o = this.order[r];
                                (r < s || t(this.getItem(o), e)) && n.push(o);
                            }
                            (i && this.Ir) || (this.Ir = this.order), (this.order = n);
                        },
                        find: function (t, i) {
                            var n = [];
                            for (var s in this.pull) {
                                var r = this.pull[s],
                                    o = !0;
                                if ("object" == e(t)) {
                                    for (var a in t)
                                        if (r[a] != t[a]) {
                                            o = !1;
                                            break;
                                        }
                                } else t(r) || (o = !1);
                                if ((o && n.push(r), i && n.length)) return n[0];
                            }
                            return i ? null : n;
                        },
                        filter: function (t, e, i) {
                            if ((t || this.Ir || this.Wr) && this.callEvent("onBeforeFilter", [t, e]) && (this.io(i), this.order.length)) {
                                if (t) {
                                    var n = t;
                                    (e = e || ""),
                                        "string" == typeof t &&
                                            ((t = t.replace(/#/g, "")),
                                            (n =
                                                "function" == typeof e
                                                    ? function (i) {
                                                          return e(i[t]);
                                                      }
                                                    : ((e = e.toString().toLowerCase()),
                                                      function (e, i) {
                                                          return -1 != (e[t] || "").toString().toLowerCase().indexOf(i);
                                                      }))),
                                        this.eo(n, e, i, this.so);
                                }
                                this.refresh(), this.callEvent("onAfterFilter", []);
                            }
                        },
                        no: function () {
                            for (var t = [], e = this.order.length - 1; 0 <= e; e--) t[e] = this.pull[this.order[e]];
                            return t;
                        },
                        each: function (t, e, i) {
                            var n = this.order;
                            i && (n = this.Ir || n);
                            for (var s = 0; s < n.length; s++) n[s] && t.call(e || this, this.getItem(n[s]), s);
                        },
                        ho: function (t, e) {
                            return function () {
                                return t[e].apply(t, arguments);
                            };
                        },
                        provideApi: function (t, e) {
                            e && this.mapEvent({ onbeforesort: t, onaftersort: t, onbeforeadd: t, onafteradd: t, onbeforedelete: t, onafterdelete: t, ondataupdate: t });
                            for (
                                var i = [
                                        "sort",
                                        "add",
                                        "remove",
                                        "exists",
                                        "getIdByIndex",
                                        "getIndexById",
                                        "getItem",
                                        "updateItem",
                                        "refresh",
                                        "count",
                                        "filter",
                                        "find",
                                        "getNextId",
                                        "getPrevId",
                                        "clearAll",
                                        "getFirstId",
                                        "getLastId",
                                        "serialize",
                                        "sync",
                                    ],
                                    n = 0;
                                n < i.length;
                                n++
                            )
                                t[i[n]] = this.ho(this, i[n]);
                        },
                        addMark: function (t, e, i, n, s) {
                            var r = this.Dr[t] || {};
                            if (!(this.Dr[t] = r)[e]) {
                                if (((r[e] = n || !0), i)) {
                                    var o = r.$css || "";
                                    r.$css = o + " " + e;
                                }
                                s || this.refresh(t);
                            }
                            return r[e];
                        },
                        removeMark: function (t, e, i, n) {
                            var s = this.Dr[t];
                            if (s) {
                                if ((s[e] && delete s[e], i)) {
                                    var r = s.$css;
                                    r && (s.$css = r.replace(e, "").replace("  ", " "));
                                }
                                n || this.refresh(t);
                            }
                        },
                        getMark: function (t, e) {
                            var i = this.Dr[t];
                            return !!i && i[e];
                        },
                        clearMark: function (t, e, i) {
                            for (var n in this.Dr) {
                                var s = this.Dr[n];
                                s[t] && (delete s[t], e && s.$css && (s.$css = s.$css.replace(t, "").replace("  ", " ")), i || this.refresh(n));
                            }
                        },
                        serialize: function (t) {
                            var e = this.order;
                            t && this.Ir && (e = this.Ir);
                            for (var i = [], n = 0; n < e.length; n++) {
                                var s = this.pull[e[n]];
                                (this.vr && !1 === (s = this.vr(s))) || i.push(s);
                            }
                            return i;
                        },
                        sorting: {
                            create: function (t) {
                                return P(t) ? this.ro(t) : this.oo(t.dir, this.ao(t.by, t.as));
                            },
                            as: {
                                server: function () {
                                    return !1;
                                },
                                date: function (t, e) {
                                    return (t -= 0), (e -= 0), isNaN(e) ? 1 : isNaN(t) ? -1 : e < t ? 1 : t < e ? -1 : 0;
                                },
                                int: function (t, e) {
                                    return (t *= 1), (e *= 1), isNaN(e) ? 1 : isNaN(t) ? -1 : e < t ? 1 : t < e ? -1 : 0;
                                },
                                string_strict: function (t, e) {
                                    return e ? (t ? ((t = t.toString()), (e = e.toString()) < t ? 1 : t < e ? -1 : 0) : -1) : 1;
                                },
                                string: function (t, e) {
                                    return e ? (t ? ((t = t.toString().toLowerCase()), (e = e.toString().toLowerCase()) < t ? 1 : t < e ? -1 : 0) : -1) : 1;
                                },
                                raw: function (t, e) {
                                    return e < t ? 1 : t < e ? -1 : 0;
                                },
                            },
                            ro: function (t) {
                                var e = this;
                                return (
                                    (t = t.map(function (t) {
                                        return e.oo(t.dir, e.ao(t.by, t.as));
                                    })),
                                    function (e, i) {
                                        for (var n, s = 0; !(n = t[s](e, i)) && t[++s]; );
                                        return n;
                                    }
                                );
                            },
                            ao: function (t, e) {
                                return t
                                    ? ("function" != typeof e && (e = this.as[e || "string"]),
                                      function (i, n) {
                                          return e(i[t], n[t]);
                                      })
                                    : e;
                            },
                            oo: function (t, e) {
                                return "asc" != t && t
                                    ? function (t, i) {
                                          return -1 * e(t, i);
                                      }
                                    : e;
                            },
                        },
                    };
                    var mi = t.proto(
                            {
                                $init: function (t) {
                                    (t = t || ""),
                                        (this.uo = {}),
                                        (this.Y = 1),
                                        (this.data = new fi()),
                                        this.data.attachEvent("onClearAll", m(this.co, this)),
                                        this.data.attachEvent("onServerConfig", m(this.fo, this)),
                                        this.attachEvent("onDestruct", this.co),
                                        (this.data.feed = this.lo),
                                        (this.data.owner = t.id);
                                },
                                lo: function (t, e, i, n) {
                                    return this.do ? ((n = l.defer()), (this.do = [t, e, i, n]), n) : ((this.do = !0), (this.uo.from = t), (this.uo.count = e), this.vo.call(this, t, e, i, !1, !1, n));
                                },
                                vo: function (t, i, n, s, r, o) {
                                    var a = this,
                                        h = null;
                                    if (((s = s || this.data.url), t < 0 && (t = 0), r || (r = { start: t, count: i }), this.count() && (r.continue = "true"), this.getState && (h = this.getState()), s && "string" != typeof s))
                                        return (
                                            h && (h.sort && (r.sort = h.sort), h.filter && (r.filter = h.filter)),
                                            this.load(s, 0, r).then(
                                                function (t) {
                                                    return a._o(t, n, o);
                                                },
                                                function () {
                                                    return a.po();
                                                }
                                            )
                                        );
                                    s += -1 == s.indexOf("?") ? "?" : "&";
                                    var c = [];
                                    for (var d in r) c.push(d + "=" + r[d]);
                                    if (h) {
                                        if (h.sort) for (var u = P(h.sort) ? h.sort : [h.sort], p = 0; p < u.length; p++) c.push("sort[" + u[p].id + "]=" + encodeURIComponent(u[p].dir));
                                        if (h.filter)
                                            for (var f in h.filter) {
                                                var m = h.filter[f];
                                                "object" == e(m) && (m = V().stringify(m)), c.push("filter[" + f + "]=" + encodeURIComponent(m));
                                            }
                                    }
                                    return (
                                        (s += c.join("&")),
                                        this.uo.url !== s
                                            ? ((this.uo.url = s),
                                              this.load(s).then(
                                                  function (t) {
                                                      return a._o(t, n, o);
                                                  },
                                                  function () {
                                                      return a.po();
                                                  }
                                              ))
                                            : ((this.do = !1), l.reject())
                                    );
                                },
                                _o: function (t, e, i) {
                                    var n = this;
                                    return (
                                        b(
                                            function () {
                                                return n.po();
                                            },
                                            "",
                                            "",
                                            100
                                        ),
                                        e && V.$callback(this, e, t),
                                        i && i.resolve(t),
                                        t
                                    );
                                },
                                po: function () {
                                    var t = this.do;
                                    (this.do = !1), "object" == e(t) && this.data.feed.apply(this, t);
                                },
                                load: function (t) {
                                    t = B.$parse(t);
                                    var e = Rt.load.apply(this, arguments);
                                    return this.data.url || (this.data.url = t), e;
                                },
                                loadNext: function (t, e, i, n, s) {
                                    var r = this.P;
                                    if (!r.datathrottle || s)
                                        return (
                                            e || 0 === e || (e = this.count()),
                                            t || (t = r.datafetch || this.count()),
                                            (this.data.url = this.data.url || n),
                                            this.callEvent("onDataRequest", [e, t, i, n]) && this.data.url ? this.data.feed.call(this, e, t, i) : l.reject()
                                        );
                                    this.bo && window.clearTimeout(this.bo);
                                    var o = l.defer();
                                    return (
                                        (this.bo = b(
                                            function () {
                                                o.resolve(this.loadNext(t, e, i, n, !0));
                                            },
                                            this,
                                            0,
                                            r.datathrottle
                                        )),
                                        o
                                    );
                                },
                                mo: function (t, e) {
                                    var i = this.uo;
                                    return !!(this.do && i.url && i.from <= e && i.count + i.from >= t + e);
                                },
                                removeMissed_setter: function (t) {
                                    return (this.data.Br = t);
                                },
                                go: function () {
                                    var e = this.P.save;
                                    !0 === e && (e = this.P.save = this.P.url);
                                    var i = { master: this };
                                    e && e.url ? t.extend(i, e) : (i.url = e), ui(i);
                                },
                                save_setter: function (t) {
                                    return t && this.$ready.push(this.go), t;
                                },
                                waitSave: function (t) {
                                    var e = this;
                                    return ui(this)
                                        .ar(function () {
                                            t.call(e);
                                        })
                                        .then(function (t) {
                                            return 1 == t.length ? t[0] : t;
                                        });
                                },
                                scheme_setter: function (t) {
                                    this.data.scheme(t);
                                },
                                dataFeed_setter: function (t) {
                                    return (
                                        (t = B.$parse(t)),
                                        this.data.attachEvent(
                                            "onBeforeFilter",
                                            m(function (t, i) {
                                                var n,
                                                    s = this;
                                                if ("function" == typeof t) return !0;
                                                if (this.P.dataFeed && (t || i)) {
                                                    (t = t || "id"), i && "object" == e(i) && (i = i.id);
                                                    var r = this.P.dataFeed;
                                                    if ("string" == typeof r) {
                                                        var o = "filter[" + t + "]=" + encodeURIComponent(i);
                                                        n = this.O(r + (r.indexOf("?") < 0 ? "?" : "&") + o, this.P.datatype);
                                                    } else {
                                                        var a = {};
                                                        (a[t] = i), "function" == typeof r ? (n = r.call(this, i, a)) : r.$proxy && r.load && (n = r.load(this, { filter: a }));
                                                    }
                                                    return (
                                                        n &&
                                                            (n.then || (n = l.resolve(n)),
                                                            n.then(
                                                                function (t) {
                                                                    s.clearAll(), s.W(t), s.data.callEvent("onAfterFilter", []);
                                                                },
                                                                function (t) {
                                                                    return s.U(t);
                                                                }
                                                            )),
                                                        !1
                                                    );
                                                }
                                            }, this)
                                        ),
                                        t
                                    );
                                },
                                G: function () {
                                    if (this.P.ready && !this.wo) {
                                        var t = k(this.P.ready, this.$scope);
                                        t && b(t, this, arguments), this.callEvent && b(this.callEvent, this, ["onReady", []]), (this.wo = !0);
                                    }
                                },
                                co: function (t) {
                                    this.Y++, t || ((this.do = !1), (this.uo = {}), (this.waitData = l.defer()));
                                },
                                fo: function (t) {
                                    this.Hi(t);
                                },
                            },
                            Rt
                        ),
                        gi = {
                            getState: function () {
                                for (var t = this, e = this.config.columns.length, i = this.config.columns, n = { ids: [], size: [], select: this.getSelectedId(!0), scroll: this.getScrollState() }, s = 0; s < e; s++) {
                                    var r = i[s];
                                    n.ids.push(r.id), n.size.push(r.fillspace || r.adjust ? -1 : r.width);
                                }
                                if (((n.order = [].concat(this.xo.length ? this.xo : n.ids)), this.yo.length)) {
                                    var o = this.yo.map(function (e) {
                                        return { id: e, dir: t.Mo[e].dir };
                                    });
                                    n.sort = 1 == o.length ? o[0] : o;
                                }
                                if (this.So && this.ko) {
                                    var a = {},
                                        l = 0;
                                    for (var h in this.So)
                                        if (!this.Co[h]) {
                                            var c = this.So[h];
                                            (c[1].value = a[h] = c[2].getValue(c[0])), (l = 1);
                                        }
                                    l && (n.filter = a);
                                }
                                for (var d in ((n.hidden = []), this.Co)) n.hidden.push(d);
                                return n;
                            },
                            setState: function (t) {
                                var e = this.config.columns;
                                if (t) {
                                    if (
                                        (this.markSorting(),
                                        (this.yo = []),
                                        (this.Mo = {}),
                                        this.blockEvent(),
                                        t.order && t.order.length && ((this.xo = [].concat(t.order)), (this.$o = [this.P.leftSplit, t.order.length - this.P.rightSplit])),
                                        t.hidden)
                                    ) {
                                        for (var i = {}, n = 0; n < t.hidden.length; n++) (i[t.hidden[n]] = !0), this.xo.length || this.hideColumn(t.hidden[n]);
                                        if (this.xo.length)
                                            for (var s = 0; s < this.xo.length; s++) {
                                                var r = this.xo[s];
                                                !!i[r] == !this.Co[r] && this.hideColumn(r, {}, !1, !!i[r]);
                                            }
                                    }
                                    if (t.ids) {
                                        for (var o = !1, a = 0; a < e.length; a++) e[a].id != t.ids[a] && (o = !0);
                                        if (o) {
                                            for (var l = 0; l < t.ids.length; l++) e[l] = this.getColumnConfig(t.ids[l]) || e[l];
                                            this.refreshColumns();
                                        }
                                    }
                                    if (t.size)
                                        for (var h = Math.min(t.size.length, e.length), c = 0; c < h; c++) {
                                            var d = e[c];
                                            d && 0 < t.size[c] && d.width != t.size[c] && (delete d.fillspace, delete d.adjust, this.Do(c, t.size[c], !0));
                                        }
                                    this.unblockEvent();
                                    var u = !(this.P.leftSplit || this.P.rightSplit);
                                    if ((this.Io(u), this.callEvent("onStructureUpdate", []), t.sort)) {
                                        var p = t.sort,
                                            f = !0;
                                        P(p) || (f = !(p = [p]));
                                        for (var m = 0; m < p.length; m++) {
                                            var g = this.getColumnConfig(p[m].id);
                                            g && this.Ao(g.id, p[m].dir, g.sort, f);
                                        }
                                    }
                                    if (t.filter) {
                                        var v = this.filterByAll;
                                        for (var b in ((this.filterByAll = function () {}), t.filter)) {
                                            var y = t.filter[b];
                                            if (y && this.So[b]) {
                                                var w = this.So[b];
                                                w[2].setValue(w[0], y);
                                                var x = w[1].contentId;
                                                x && (this.To[x].value = y);
                                            }
                                        }
                                        for (var _ in this.So)
                                            if (!t.filter[_]) {
                                                var k = this.So[_];
                                                k[2].setValue(k[0], "");
                                            }
                                        (this.filterByAll = v), this.filterByAll();
                                    }
                                    if (t.select && this.select) {
                                        var S = t.select;
                                        this.unselect();
                                        for (var C = 0; C < S.length; C++) (S[C].row && !this.exists(S[C].row)) || this.Fo(S[C], !0);
                                    }
                                    t.scroll && this.scrollTo(t.scroll.x, t.scroll.y);
                                }
                            },
                        },
                        vi = {
                            Vo: function (t, e, i) {
                                e || Xe.addDrop(t.Wi, t, !0),
                                    i || Xe.addDrag(t.Wi, t),
                                    this.attachEvent("onDragOut", function (t, e) {
                                        this.$dragMark(t, e);
                                    }),
                                    this.attachEvent("onBeforeAutoScroll", function () {
                                        var t = Xe.getContext();
                                        return !(!Xe.Os || !t || (t.to !== this && !this.zo));
                                    });
                            },
                            drag_setter: function (e) {
                                return (
                                    e &&
                                        (t.extend(this, qt, !0),
                                        ("order" != e && "move" != e) || t.extend(this, d("DragOrder"), !0),
                                        ("inner" != e && "order" != e) || (this.Bo = !0),
                                        this.Vo(this, "source" == e, "target" == e),
                                        delete this.drag_setter),
                                    e
                                );
                            },
                            $dragIn: function (t, e, i) {
                                var n = this.locate(i) || null,
                                    s = Xe.Gs;
                                if ((this.Bo || s.from.Bo) && s.from !== this) return !1;
                                var r = Xe.getMaster(e),
                                    o = this.getItemNode(n, i) || this.tt;
                                if (o == Xe.an) return o;
                                (s.target = n), (s.to = r), this.rt && (this.rt = window.clearTimeout(this.rt));
                                var a = this.addRowCss && G.touch && !this.P.prerender;
                                return (
                                    !1 === this.P.dragscroll ||
                                        a ||
                                        (this.rt = b(
                                            function (t, e) {
                                                this.Ho(e), this.et(t, e);
                                            },
                                            this,
                                            [bt(i), n],
                                            250
                                        )),
                                    this.$dropAllow(s, i) && this.callEvent("onBeforeDragIn", [s, i]) ? (this.$dragMark(s, i), o) : ((s.to = s.target = null), this.rt && (this.rt = window.clearTimeout(this.rt)), null)
                                );
                            },
                            $dropAllow: function () {
                                return !0;
                            },
                            Ho: function () {},
                            Ro: function (t) {
                                return t && "object" === e(t) ? t.toString() : t;
                            },
                            $dragOut: function (t, e, i, n) {
                                var s = (this.Vt.contains(i) ? this.locate(n) : null) || null,
                                    r = Xe.Gs;
                                return (r.target || "").toString() == (s || "").toString() || (this.rt && (this.rt = window.clearTimeout(this.rt)), (r.target = r.to = null), this.callEvent("onDragOut", [r, n])), null;
                            },
                            $drop: function (t, e, i) {
                                var n = Xe.Gs;
                                (n.to = this).Eo(t, e, n),
                                    this.$dragMark({}, i),
                                    (n.from && n.from != n.to && n.from.callEvent && !n.from.callEvent("onBeforeDropOut", [n, i])) || (this.callEvent("onBeforeDrop", [n, i]) && (this.Po(n, i), this.callEvent("onAfterDrop", [n, i])));
                            },
                            Eo: function (t, e, i) {
                                var n = this.Ro(i.target);
                                this.getBranchIndex ? (i.index = n ? ((i.parent = this.getParentId(n)), this.getBranchIndex(n)) : -1) : (i.index = n ? this.getIndexById(n) : this.count());
                            },
                            Po: function (t) {
                                if ((t.from, t.from && t.from.move)) {
                                    var e = { parent: t.parent, mode: t.pos };
                                    t.from.move(t.source, t.index, t.to, e);
                                }
                            },
                            qs: function (t, e) {
                                if (this.getItemNode) {
                                    var i = this.locate(e, !0),
                                        n = i ? this.getItemNode(i) : null;
                                    return n ? gt(n) : n;
                                }
                            },
                            $drag: function (t, e) {
                                var i = this.locate(e, !0);
                                if (i) {
                                    var n = [i];
                                    if (this.getSelectedId) {
                                        var s = this.getSelectedId(!0, !0);
                                        if (s && 1 < s.length && -1 != I.find.call(s, i)) {
                                            var r = {};
                                            n = [];
                                            for (var o = 0; o < s.length; o++) r[s[o]] = !0;
                                            for (var a = 0; a < this.data.order.length; a++) {
                                                var l = this.data.order[a];
                                                r[l] && n.push(l);
                                            }
                                        }
                                    }
                                    var h = (Xe.Gs = { source: n, start: i });
                                    if ((h.from = this).callEvent("onBeforeDrag", [h, e]))
                                        return (
                                            G.touch &&
                                                "touch" == this.jo &&
                                                b(function () {
                                                    Ue.Ge = null;
                                                }),
                                            h.html || this.$dragHTML(this.getItem(i), e, h)
                                        );
                                }
                                return null;
                            },
                            $dragHTML: function (t, e, i) {
                                var n = this.Q(t);
                                return P(i.source) && 1 < i.source.length && (n = this.No(n, i.source.length)), n;
                            },
                            No: function (t, e) {
                                var i = "<div class='webix_drag_multiple'></div>";
                                return 2 < e && (i = "<div class='webix_drag_multiple_last'></div>" + i), i + (t = "<div class='webix_drag_main'>" + t + "</div>") + "<span class='webix_badge'>" + e + "</span>";
                            },
                            $dragMark: function (t) {
                                var e = null;
                                return (
                                    t.target && (e = this.Ro(t.target)),
                                    this.Lo && this.Lo != e && (this.Oo([this.Lo], "webix_drag_over", !0), (this.Lo = null)),
                                    !this.Lo && e ? ((this.Lo = e), this.Wo([e], "webix_drag_over", !0), e) : !!t.to
                                );
                            },
                            Wo: function (t, e) {
                                for (var i = 0; i < t.length; i++) this.addCss(t[i], e);
                            },
                            Oo: function (t, e) {
                                for (var i = 0; i < t.length; i++) this.removeCss(t[i], e);
                            },
                            $dropHTML: function () {
                                return "";
                            },
                            Uo: function (t, e) {
                                var i = this.getItemNode(t);
                                i ? i.parentNode.insertBefore(Xe.dn[0], i) : e.children[0].appendChild(Xe.dn[0]);
                            },
                        },
                        bi = {
                            $drag: function (t, e) {
                                var i = vi.$drag.apply(this, arguments);
                                if (!i) return i;
                                var n = Xe.Gs;
                                return this.Yo && this.Yo(n), this.Bo && this.getBranchIndex && (this.qo = this.Go ? 20 * (this.getItem(n.start).$level + 1) + 8 : 0), P(n.source) && (Xe.un(e), this.Wo(n.source, "webix_invisible")), i;
                            },
                            $dragIn: function (t, e, i) {
                                var n = vi.$dragIn.apply(this, arguments);
                                if (!n) return n;
                                Xe.dn || (Xe.dn = this.Xo());
                                var s = Xe.Gs,
                                    r = "$webix-last";
                                if ((s.target && (r = this.Ro(s.target)), "$webix-last" != r && "$webix-drop" != r)) {
                                    var o = { direction: this.P.layout || this.Ko || "y", x: "width", y: "height" },
                                        a = gt(n);
                                    2 * (bt(i)[o.direction] - a[o.direction]) > a[o[o.direction]] && (r = this.getNextId(r) || "$webix-last");
                                }
                                return r == this.Jo || "$webix-drop" == r || ((this.Jo = r), this.Uo(r, e)), n;
                            },
                            $dragPos: function (t) {
                                if (!this.Bo) {
                                    var e = Xe.Gs;
                                    return (t.y += e.y_offset), void (t.x += e.x_offset);
                                }
                                var i = gt(this.$view);
                                if ("x" == this.P.layout)
                                    if (((i.x -= 12), (t.y = i.y - 8), (t.x = t.x - 18), t.x < i.x)) t.x = i.x;
                                    else {
                                        var n = i.x + i.width;
                                        t.x > n && (t.x = n);
                                    }
                                else if (((i.y += (this.Zo || 0) - 12), (t.x = i.x + 8 + (this.qo || 0)), (t.y = t.y - 18), t.y < i.y)) t.y = i.y;
                                else {
                                    var s = i.y + i.height - (this.Zo || 0);
                                    t.y > s && (t.y = s);
                                }
                            },
                            $dragOut: function (t, e, i) {
                                return e != i && (pt(Xe.dn), (this.Jo = Xe.dn = null)), vi.$dragOut.apply(this, arguments);
                            },
                            Eo: function (t, e, i) {
                                var n = "$webix-last" == this.Jo ? null : this.Jo;
                                this.getBranchIndex
                                    ? n
                                        ? ((i.parent = this.getParentId(n)), (i.index = this.getBranchIndex(n)), t == e && this.getParentId(i.start) == i.parent && this.getBranchIndex(i.start) < i.index && (i.index -= 1))
                                        : (i.index = -1)
                                    : ((i.index = n ? this.getIndexById(n) : this.count()), (i.index -= t == e && this.getIndexById(i.start) < i.index ? 1 : 0));
                            },
                            $dragDestroy: function () {
                                var t = Xe.Gs;
                                P(t.source) && this.Oo(t.source, "webix_invisible"), pt(Xe.Oi);
                            },
                            Xo: function () {
                                var t = document.createElement("div");
                                return (t.className = "webix_drop_area"), (t.style.width = this.type.width + "px"), (t.style.height = this.type.height + "px"), (t.innerHTML = this.$dropHTML()), t.setAttribute(this.Qo, "$webix-drop"), [t];
                            },
                            $dragMark: function () {
                                return !1;
                            },
                        };
                    c("DragOrder", bi);
                    var yi = {
                        $init: function () {
                            (this.ta = t.extend([], I, !0)), (this.ia = -1);
                        },
                        undo_setter: function (t) {
                            return t && (this.ea(), (this.ea = function () {})), t;
                        },
                        ea: function () {
                            var t = this;
                            this.attachEvent("onBeforeDrop", function (e) {
                                if (e.from == e.to) {
                                    var i = (t.sa = f(this.getItem(e.start)));
                                    this.data.branch ? (i.$index = this.getBranchIndex(i.id)) : (i.$index = this.getIndexById(i.id));
                                }
                            }),
                                this.data.attachEvent("onDataMove", function (e) {
                                    if (t.sa && t.sa.id == e) {
                                        var i = t.sa;
                                        (t.sa = null), t.na(e, i, "move");
                                    }
                                }),
                                this.data.attachEvent("onBeforeDelete", function (e) {
                                    if (this.getItem(e)) {
                                        var i = (t.ha = f(this.getItem(e)));
                                        this.branch ? ((i.$index = this.getBranchIndex(e)), this.branch[e] && (i.$branch = f(this.serialize(e)))) : (i.$index = this.getIndexById(e));
                                    }
                                }),
                                this.data.attachEvent("onDataUpdate", function (e, i, n) {
                                    t.na(e + "", n, "update");
                                }),
                                this.data.attachEvent("onStoreUpdated", function (e, i, n) {
                                    var s = null;
                                    e && ("add" == n ? (s = f(i)) : "delete" == n && (s = t.ha), s && t.na(e, s, n));
                                }),
                                this.data.attachEvent("onIdChange", function (i, n) {
                                    "object" == e(i) && (i = i.row);
                                    for (var s = 0; s < t.ta.length; s++) t.ta[s].id == i && (t.ta[s].id = n);
                                });
                        },
                        na: function (t, e, i) {
                            !this.ra && this.P.undo && (this.ta.push({ id: t, action: i, data: e }), 20 == this.ta.length && this.ta.splice(0, 1), this.oa || (this.ia = this.ta.length - 1));
                        },
                        ignoreUndo: function (t, e) {
                            (this.ra = !0), t.call(e || this), (this.ra = !1);
                        },
                        removeUndo: function (t) {
                            for (var e = this.ta.length - 1; 0 <= e; e--) this.ta[e].id == t && ("id" == this.ta[e].action && (t = this.ta[e].data), this.ta.removeAt(e));
                            this.ia = this.ta.length - 1;
                        },
                        undo: function (t) {
                            if (t)
                                this.ignoreUndo(function () {
                                    var e, i;
                                    for (i = this.ta.length - 1; !e && 0 <= i; i--) this.ta[i].id == t && (e = this.ta[i]);
                                    e && (this.aa(e), this.ta.removeAt(i + 1), (this.ia = this.ta.length - 1));
                                });
                            else {
                                var e = this.ta[this.ia];
                                e &&
                                    (this.ignoreUndo(function () {
                                        this.aa(e), this.ta.removeAt(this.ia);
                                    }),
                                    this.ia--);
                            }
                        },
                        aa: function (t) {
                            if ("delete" == t.action) {
                                var e = null,
                                    i = t.data.$parent;
                                t.data.$branch && ((e = { parent: t.id, data: f(t.data.$branch) }), delete t.data.$branch, i && !this.data.branch[i] && (i = 0)), this.add(t.data, t.data.$index, i), e && this.parse(e);
                            } else
                                "add" == t.action
                                    ? this.remove(t.id)
                                    : "update" == t.action
                                    ? this.updateItem(t.id, t.data)
                                    : "move" == t.action && (t.data.$parent ? this.getItem(t.data.$parent) && this.move(t.id, t.data.$index, null, { parent: t.data.$parent }) : this.move(t.id, t.data.$index));
                        },
                    };
                    function wi(t) {
                        t &&
                            t.setMasterValue &&
                            !t.ua &&
                            ((t.ua = !0),
                            t.attachEvent("onValueSuggest", function () {
                                b(function () {
                                    M("onEditEnd", []);
                                });
                            }));
                    }
                    function xi(t) {
                        return "string" == typeof t ? t : t.linkInput ? t.P.id : ("object" == e(t) ? (P(t) && (t = { data: t }), (t.view = t.view || "suggest")) : !0 === t && (t = { view: "suggest" }), ne(t).config.id);
                    }
                    function _i(t) {
                        return ((t.header && t.header[0] ? t.header[0].text : t.editValue || t.label) || "").toString().replace(/<[^>]*>/g, "");
                    }
                    var ki = {
                        text: {
                            focus: function () {
                                this.getInputNode(this.node).focus(), this.getInputNode(this.node).select();
                            },
                            getValue: function () {
                                return this.getInputNode(this.node).value;
                            },
                            setValue: function (t) {
                                var e = this.getInputNode(this.node);
                                (e.value = t),
                                    wi(
                                        (function (t, e) {
                                            var i = t.config.suggest;
                                            if (i) {
                                                var n = ae((t.config.suggest = xi(i)));
                                                return n && e && n.linkInput(e), n;
                                            }
                                        })(this, e)
                                    );
                            },
                            getInputNode: function () {
                                return this.node.firstChild;
                            },
                            render: function () {
                                return dt("div", { class: "webix_dt_editor" }, "<input type='text' aria-label='" + _i(this.config) + "'>");
                            },
                        },
                        "inline-checkbox": {
                            render: function () {
                                return {};
                            },
                            getValue: function () {
                                return this.node.checked;
                            },
                            setValue: function () {},
                            focus: function () {
                                this.node.focus();
                            },
                            getInputNode: function () {},
                            $inline: !0,
                        },
                        "inline-text": {
                            render: function () {
                                return {};
                            },
                            getValue: function () {
                                return this.node.value;
                            },
                            setValue: function () {},
                            focus: function () {
                                try {
                                    this.node.select(), this.node.focus();
                                } catch (t) {}
                            },
                            getInputNode: function () {},
                            $inline: !0,
                        },
                        checkbox: {
                            focus: function () {
                                this.getInputNode().focus();
                            },
                            getValue: function () {
                                return this.getInputNode().checked;
                            },
                            setValue: function (t) {
                                this.getInputNode().checked = !!t;
                            },
                            getInputNode: function () {
                                return this.node.firstChild.firstChild;
                            },
                            render: function () {
                                return dt("div", { class: "webix_dt_editor" }, "<div><input type='checkbox' aria-label='" + _i(this.config) + "'></div>");
                            },
                        },
                        select: {
                            focus: function () {
                                this.getInputNode().focus();
                            },
                            getValue: function () {
                                return this.getInputNode().value;
                            },
                            setValue: function (t) {
                                this.getInputNode().value = t;
                            },
                            getInputNode: function () {
                                return this.node.firstChild;
                            },
                            render: function () {
                                var t = "",
                                    e = this.config.options || this.config.collection;
                                if (e.data && e.data.each)
                                    e.data.each(function (e) {
                                        t += "<option value='" + e.id + "'>" + e.value + "</option>";
                                    });
                                else if (P(e))
                                    for (var i = 0; i < e.length; i++) {
                                        var n = e[i],
                                            s = v(n.id),
                                            r = s ? n : n.id,
                                            o = s ? n : n.value;
                                        t += "<option value='" + r + "'>" + o + "</option>";
                                    }
                                else for (var a in e) t += "<option value='" + a + "'>" + e[a] + "</option>";
                                return dt("div", { class: "webix_dt_editor" }, "<select aria-label='" + _i(this.config) + "'>" + t + "</select>");
                            },
                        },
                        popup: {
                            focus: function () {
                                this.getInputNode().focus();
                            },
                            destroy: function () {
                                this.getPopup().hide();
                            },
                            getValue: function () {
                                return this.getInputNode().getValue() || "";
                            },
                            setValue: function (t) {
                                this.getPopup().show(this.node), this.getInputNode().setValue(t);
                            },
                            getInputNode: function () {
                                return this.getPopup().getChildViews()[0];
                            },
                            getPopup: function () {
                                return this.config.$popup || (this.config.$popup = this.createPopup()), ae(this.config.$popup);
                            },
                            createPopup: function () {
                                var t,
                                    i = this.config.popup || this.config.suggest;
                                if (i)
                                    return (
                                        (t = "object" != e(i) || i.name ? ae(i) : ((i.view = i.view || "suggest"), ne(f(i)))).ca || (t.linkInput ? t.linkInput(document.body) : this.linkInput && this.linkInput(document.body), (t.ca = !0)),
                                        wi(t),
                                        t
                                    );
                                var n = ki.$popup[this.popupType];
                                return "string" == typeof n || n.name || ((n = ki.$popup[this.popupType] = ne(n)), this.popupInit(n), n.linkInput || this.linkInput(document.body)), n.P.id;
                            },
                            linkInput: function (t) {
                                Zt(
                                    _(t),
                                    "keydown",
                                    m(function (t) {
                                        if (this.config.$popup) {
                                            var e,
                                                i = t.which || t.keyCode,
                                                n = this.getInputNode();
                                            n.isVisible() &&
                                                (n.moveSelection && i < 41 && 32 < i
                                                    ? (33 == i && (e = "pgup"),
                                                      34 == i && (e = "pgdown"),
                                                      35 == i && (e = "bottom"),
                                                      36 == i && (e = "top"),
                                                      37 == i && (e = "left"),
                                                      38 == i && (e = "up"),
                                                      39 == i && (e = "right"),
                                                      40 == i && (e = "down"),
                                                      n.moveSelection(e))
                                                    : 13 !== i || ("TEXTAREA" === t.target.nodeName && t.shiftKey) || M("onEditEnd", []));
                                        }
                                    }, this)
                                );
                            },
                            popupInit: function () {},
                            popupType: "text",
                            render: function () {
                                return {};
                            },
                            $inline: !0,
                        },
                    };
                    (ki.color = t.extend(
                        {
                            focus: function () {},
                            popupType: "color",
                            popupInit: function (t) {
                                t.getChildViews()[0].attachEvent("onItemClick", function (t) {
                                    M("onEditEnd", [t]);
                                });
                            },
                        },
                        ki.popup
                    )),
                        (ki.date = t.extend(
                            {
                                focus: function () {},
                                popupType: "date",
                                setValue: function (t) {
                                    (this.fa = this.config.stringResult || (t && "string" == typeof t)), ki.popup.setValue.call(this, t);
                                },
                                getValue: function () {
                                    return this.getInputNode().getValue(this.fa ? T.parseFormatStr : "") || "";
                                },
                                popupInit: function (t) {
                                    t.getChildViews()[0].attachEvent("onDateSelect", function (t) {
                                        M("onEditEnd", [t]);
                                    });
                                },
                            },
                            ki.popup
                        )),
                        (ki.combo = t.extend(
                            {
                                la: function (t) {
                                    var e, i;
                                    return this.config.popup ? (i = (e = this.config.popup).config.id) : t ? (e = ae((i = xi(t)))) : (i = this.da(t)), wi(e), i;
                                },
                                da: function () {
                                    var t = ki.combo;
                                    return (t.va = t.va || this.la(!0));
                                },
                                render: function () {
                                    var t = dt("div", { class: "webix_dt_editor" }, "<input type='text' role='combobox' aria-label='" + _i(this.config) + "'>"),
                                        e = (this.config.suggest = this.la(this.config.suggest));
                                    return e && (ae(e).linkInput(t.firstChild, !0), Zt(t.firstChild, "click", m(this.showPopup, this))), t;
                                },
                                getPopup: function () {
                                    return ae(this.config.suggest);
                                },
                                showPopup: function () {
                                    var t = this.getPopup(),
                                        e = t.getList(),
                                        i = this.getInputNode(),
                                        n = this._a;
                                    t.show(i), i.setAttribute("aria-expanded", "true"), n ? (e.exists(n), e.exists(n) && (e.select(n), e.showItem(n))) : (e.unselect(), e.showItem(e.getFirstId())), (t.pa = i);
                                },
                                afterRender: function () {
                                    this.showPopup();
                                },
                                setValue: function (t) {
                                    if (((this._a = t), this.config.suggest)) {
                                        var e = ae(this.config.suggest),
                                            i = this.config.collection || this.config.options;
                                        i && e.getList().data.importData(i), (this.getInputNode(this.node).value = e.getItemText(t));
                                    }
                                },
                                getValue: function () {
                                    var t = this.getInputNode().value;
                                    if (this.config.suggest) {
                                        var e = ae(this.config.suggest),
                                            i = e.getList();
                                        (t || (i.getSelectedId && i.getSelectedId())) && (t = e.getSuggestion(t));
                                    }
                                    return t;
                                },
                            },
                            ki.text
                        )),
                        (ki.richselect = t.extend(
                            {
                                focus: function () {},
                                getValue: function () {
                                    return this.getPopup().getValue();
                                },
                                setValue: function (t) {
                                    var e = this.config.collection || this.config.options;
                                    this.getInputNode(), e && this.getPopup().getList().data.importData(e), this.getPopup().show(this.node), this.getPopup().setValue(t);
                                },
                                getInputNode: function () {
                                    return this.getPopup().getList();
                                },
                                popupInit: function (t) {
                                    (t.ba = function () {}), t.linkInput(document.body), wi(t);
                                },
                                popupType: "richselect",
                            },
                            ki.popup
                        )),
                        (ki.password = t.extend(
                            {
                                render: function () {
                                    return dt("div", { class: "webix_dt_editor" }, "<input type='password' aria-label='" + _i(this.config) + "'>");
                                },
                            },
                            ki.text
                        )),
                        (ki.$popup = {
                            text: { view: "popup", width: 250, height: 150, body: { view: "textarea" } },
                            color: { view: "popup", body: { view: "colorboard" } },
                            date: { view: "popup", width: 250, height: 250, padding: 0, body: { view: "calendar", icons: !0, borderless: !0 } },
                            richselect: { view: "suggest", body: { view: "list", select: !0 } },
                            multiselect: { view: "multisuggest", suggest: { button: !0 } },
                        });
                    var Pi = {
                            defaults: { editaction: "click" },
                            $init: function (e) {
                                (this.ma = {}),
                                    (this.Ai = 0),
                                    (this.wt = 0),
                                    (this.Wi.style.position = "relative"),
                                    e && (e.onDblClick = e.onDblClick || {}),
                                    this.attachEvent("onAfterRender", this.ga),
                                    this.P.editable && this.wa(),
                                    t.extend(this, yi);
                            },
                            xa: function (t) {
                                try {
                                    if ("number" == typeof t.selectionStart) t.selectionStart = t.selectionEnd = t.value.length;
                                    else if (void 0 !== t.createTextRange) {
                                        var e = t.createTextRange();
                                        e.collapse(!1), e.select();
                                    }
                                } catch (t) {}
                            },
                            ga: function () {
                                var t = this.getEditor();
                                if (t && t.$inline && !t.getPopup) {
                                    var e = this.ya(t);
                                    if (e && e != t.node) {
                                        var i = t.node.value;
                                        ((t.node = e).value = i), e.focus(), this.xa(e);
                                    } else this.editStop();
                                }
                            },
                            editable_setter: function (t) {
                                return t && this.wa(), t;
                            },
                            wa: function () {
                                var t = A(
                                        "onEditEnd",
                                        m(function () {
                                            this.Ai && this.editStop();
                                        }, this)
                                    ),
                                    e = A(
                                        "onClick",
                                        m(function (t) {
                                            this.Ai && 200 < new Date() - this.wt && ((this.Pi && !this.Pi.popupType && t && this.Pi.node && this.Pi.node.contains(t.target)) || this.editStop());
                                        }, this)
                                    );
                                this.attachEvent("onDestruct", function () {
                                    N(t), N(e);
                                }),
                                    this.data.attachEvent &&
                                        this.data.attachEvent(
                                            "onIdChange",
                                            m(function (t, e) {
                                                this.Ma(t, e);
                                            }, this)
                                        ),
                                    this.attachEvent("onItemClick", function (t) {
                                        this.P.editable && "click" == this.P.editaction && this.edit(t);
                                    }),
                                    this.attachEvent("onItemDblClick", function (t) {
                                        this.P.editable && "dblclick" == this.P.editaction && this.edit(t);
                                    }),
                                    (this.Sa = m(function () {
                                        this.wt = new Date();
                                    }, this)),
                                    (this.wa = function () {}),
                                    this.ka && this.ka();
                            },
                            Ca: function () {
                                b(function () {
                                    var t = this.getEditor();
                                    if (t && t.config.liveEdit) {
                                        var e = { value: t.getValue(), old: t.value };
                                        if (e.value == e.old) return;
                                        (t.value = e.value), this.$a(t, e.value, !1), this.callEvent("onLiveEdit", [e, t]);
                                    }
                                }, this);
                            },
                            Da: function (t) {
                                var e = this.P.form;
                                "string" != typeof e && (this.P.form = e = ne(e).config.id);
                                var i = (e = ae(e)).setValues ? e : e.getChildViews()[0];
                                i.setValues(this.getItem(t.row || t)), (e.config.master = this.config.id), e.show(this.getItemNode(t));
                                var n = i.getChildViews()[0];
                                n.focus && n.focus();
                            },
                            edit: function (e, i, n) {
                                if (this.P.editable && this.callEvent("onBeforeEditStart", [e])) {
                                    if (this.P.form) return this.Da(e);
                                    var s = this.Ia(e);
                                    if (s) {
                                        if (this.getEditor(e)) return;
                                        i || this.editStop(), ki[s];
                                        var r = t.extend({}, ki[s]),
                                            o = this.Aa(e, r, n);
                                        r.config.liveEdit && (this.Ta = this.attachEvent("onKeyPress", this.Ca));
                                        var a = r.getPopup ? r.getPopup(o).Vt : o;
                                        return (
                                            a && Zt(a, "click", this.Sa),
                                            o && Zt(o, "change", this.Fa, { bind: { view: this, id: e } }),
                                            !1 !== n && r.focus(),
                                            this.$fixEditor && this.$fixEditor(r),
                                            (this.wt = ee.edit_open_time = new Date()),
                                            ke.setFocus(this, !0),
                                            this.callEvent("onAfterEditStart", [e]),
                                            r
                                        );
                                    }
                                    return null;
                                }
                            },
                            getEditor: function (t) {
                                return t ? this.ma[t] : this.Pi;
                            },
                            Ma: function (t, e) {
                                var i = this.ma[t];
                                i && (((this.ma[e] = i).id = e), delete this.ma[t]);
                            },
                            Fa: function () {
                                this.view.hasEvent("onEditorChange") && this.view.callEvent("onEditorChange", [this.id, this.view.getEditorValue(this.id)]);
                            },
                            Va: function () {
                                return this.P;
                            },
                            Aa: function (t, e, i) {
                                e.config = this.Va(t);
                                var n = e.render();
                                e.$inline && (n = this.ya(t)), (e.node = n);
                                var s = this.getItem(t),
                                    r = s[this.P.editValue || "value"];
                                return v(r) && (r = ""), e.setValue(r, s), (e.value = r), this.za(t, e), !1 !== i && this.showItem(t), e.$inline || this.Ba(t, n, !0), e.afterRender && e.afterRender(), n;
                            },
                            Ha: function (t) {
                                return this.getItemNode(t);
                            },
                            ya: function (t) {
                                var e = this.Ha(t);
                                return e && (e = e.getElementsByTagName("input")[0] || e), e;
                            },
                            Ia: function () {
                                return this.P.editor;
                            },
                            za: function (t, e) {
                                (e.id = t), (this.ma[t] = this.Pi = e), this.Ai++;
                            },
                            Ra: function (t) {
                                this.Pi == t && (this.Pi = 0), t.destroy && t.destroy(), delete t.popup, delete t.node, delete this.ma[t.id], this.Ai--;
                            },
                            focusEditor: function () {
                                var t = this.getEditor.apply(this, arguments);
                                t && t.focus && t.focus();
                            },
                            editCancel: function () {
                                this.editStop(null, null, !0);
                            },
                            gi: function (t) {
                                if (t) {
                                    var e = this.getEditor();
                                    if (e && e.getPopup && e.getPopup() == t.getTopParentView()) return;
                                }
                                this.editStop();
                            },
                            editStop: function (t) {
                                if (!this.Ea) {
                                    this.Ea = 1;
                                    var e = arguments[2],
                                        i = 1;
                                    return (
                                        t
                                            ? (i = this.Pa(this.ma[t], e))
                                            : this.ja(function (t) {
                                                  i *= this.Pa(t, e);
                                              }),
                                        (this.Ea = 0),
                                        i
                                    );
                                }
                            },
                            at: function (t) {
                                var e = this.getItemNode(t);
                                return { left: e.offsetLeft, top: e.offsetTop, height: e.offsetHeight, width: e.offsetWidth, parent: this.Wi };
                            },
                            Ba: function (t, e, i) {
                                if (e.style) {
                                    var n = this.at(t, null, !0);
                                    return (e.style.top = n.top + "px"), (e.style.left = n.left + "px"), (e.style.width = n.width - 1 + "px"), (e.style.height = n.height - 1 + "px"), (e.top = n.top), i && n.parent.appendChild(e), n;
                                }
                            },
                            ja: function (t) {
                                for (var e in this.ma) t.call(this, this.ma[e]);
                            },
                            Pa: function (t, e) {
                                if (t && !ee.xt) {
                                    var i = { value: this.Na(t), old: t.value };
                                    if (this.callEvent("onBeforeEditStop", [i, t, e])) {
                                        if (!e) {
                                            var n = i.old;
                                            if (("string" == typeof i.value && (n += ""), n != i.value || t.config.liveEdit)) {
                                                var s = this.$a(t, i.value, !0);
                                                this.updateItem(t.row || t.id, s);
                                            }
                                        }
                                        t.$inline ? (t.node = null) : pt(t.node);
                                        var r = t.config.suggest;
                                        return r && "string" == typeof r && ae(r).hide(), this.Ra(t), this.Ta && this.detachEvent(this.Ta), this.callEvent("onAfterEditStop", [i, t, e]), 1;
                                    }
                                    return 0;
                                }
                            },
                            validateEditor: function (t) {
                                var e = !0;
                                if (this.P.rules) {
                                    var i = this.getEditor(t),
                                        n = i.column || this.P.editValue || "value",
                                        s = this.P.rules[n],
                                        r = this.P.rules.$all;
                                    if (s || r) {
                                        var o = this.data.getItem(i.row || i.id),
                                            a = i.getValue(),
                                            l = i.getInputNode();
                                        s && (e = s.call(this, a, o, n)), r && (e = r.call(this, a, o, n) && e), e ? kt(l, "webix_invalid") : _t(l, "webix_invalid"), M("onLiveValidation", [i, e, o, a]);
                                    }
                                }
                                return e;
                            },
                            getEditorValue: function (t) {
                                var e;
                                if ((e = 0 === arguments.length ? this.Pi : this.getEditor(t))) return e.getValue();
                            },
                            getEditState: function () {
                                return this.Pi || !1;
                            },
                            editNext: function (t, e) {
                                if (((t = !1 !== t), 1 == this.Ai || e)) {
                                    var i = this.La(
                                        this.Pi || e,
                                        function (t) {
                                            return !!this.Ia(t);
                                        },
                                        t
                                    );
                                    if (this.editStop()) return i && (this.edit(i), this.Oa(i)), !1;
                                }
                            },
                            Oa: function () {},
                            La: function (t, e, i) {
                                var n = this.getIndexById(t.id),
                                    s = this.data.order;
                                if (i) {
                                    for (var r = n + 1; r < s.length; r++) if (e.call(this, s[r])) return s[r];
                                } else for (var o = n - 1; 0 <= o; o--) if (e.call(this, s[o])) return s[o];
                                return null;
                            },
                            Na: function (t) {
                                return t.getValue();
                            },
                            $a: function (t, e, i) {
                                var n = i ? {} : this.getItem(t.id);
                                return (n[this.P.editValue || "value"] = e), n;
                            },
                        },
                        Si = {
                            $init: function () {
                                this.$view.className += " webix_flexlayout";
                            },
                            Wa: function () {},
                            Ua: function () {},
                            Ya: function () {},
                            $getSize: function () {
                                var t = 0,
                                    e = 0,
                                    i = this.P.gravity;
                                this.ei = [];
                                for (var n = 0; n < this.ri.length; n++) {
                                    var s = this.ri[n].$getSize(0, 0);
                                    this.ei.push(s), (t = Math.max(t, s[0])), (e = Math.max(e, s[2]));
                                }
                                return (t += this.qa.left + this.qa.right), (e += this.qa.top + this.qa.bottom), this.P.width && (t = Math.max(t, this.P.width)), this.P.height && (e = Math.max(e, this.P.height)), [t, 1e5, e, 1e5, i];
                            },
                            render: function () {
                                this.resize();
                            },
                            Ga: function () {
                                if (this.isVisible(this.P.id)) {
                                    var t = this.$view.style,
                                        e = Math.round(this.Xa / 2);
                                    (t.paddingTop = this.qa.top - e + "px"), (t.paddingBottom = this.qa.bottom - e + "px"), (t.paddingLeft = this.qa.left - e + "px"), (t.paddingRight = this.qa.right - e + "px");
                                    for (var i = 0; i < this.ri.length; i++)
                                        if (!this.ri[i].P.hidden) {
                                            var n = this.ri[i].$view,
                                                s = this.ei[i],
                                                r = this.ri[i].P;
                                            n &&
                                                ((n.style.minWidth = s[0] + "px"),
                                                s[1] < 1e5 && s[1] != s[0] && (n.style.maxWidth = s[1] + "px"),
                                                (n.style.flexBasis = r.flexBasis || s[0] + "px"),
                                                (n.style.flexGrow = r.flexGrow || (s[1] != s[0] ? s[4] : 0)),
                                                (n.style.height = s[3] != s[2] ? "auto" : s[2] + "px"),
                                                (n.style.minHeight = s[2] + "px"),
                                                s[3] < 1e5 && s[3] != s[2] && (n.style.maxHeight = s[3] + "px"),
                                                (n.style.margin = e + "px"));
                                        }
                                    for (var o = [], a = 0; a < this.ri.length; a++)
                                        if (!this.ri[a].P.hidden) {
                                            var l = this.ri[a].$view;
                                            o[a] = [l.offsetWidth, l.offsetHeight];
                                        }
                                    for (var h = 0; h < this.ri.length; h++)
                                        if (!this.ri[h].P.hidden) {
                                            var c = this.ri[h];
                                            if (c.$view) {
                                                c.P.flex = !0;
                                                var d = this.ei[h],
                                                    u = d[2] == d[3] ? d[2] : o[h][1];
                                                c.$setSize(o[h][0], u), (c.P.flex = !1);
                                            }
                                        }
                                    (this.$height = this.we = this.$view.scrollHeight), (this.$view.style.height = this.we + "px");
                                }
                            },
                        },
                        Ci = {
                            sum: function (t, e) {
                                e = e || this;
                                for (var i = 0, n = 0; n < e.length; n++) {
                                    var s = parseFloat(t(e[n]), 10);
                                    isNaN(s) || (i += s);
                                }
                                return i;
                            },
                            min: function (t, e) {
                                e = e || this;
                                for (var i = 1 / 0, n = 0; n < e.length; n++) {
                                    var s = parseFloat(t(e[n]), 10);
                                    isNaN(s) || (s < i && (i = s));
                                }
                                return i === 1 / 0 ? 0 : 1 * i;
                            },
                            max: function (t, e) {
                                e = e || this;
                                for (var i = -1 / 0, n = 0; n < e.length; n++) {
                                    var s = parseFloat(t(e[n]), 10);
                                    isNaN(s) || (i < s && (i = s));
                                }
                                return i === -1 / 0 ? 0 : 1 * i;
                            },
                            count: function (t, e) {
                                for (var i = 0, n = 0; n < e.length; n++) null != t(e[n]) && i++;
                                return i;
                            },
                            any: function (t, e) {
                                return t(e[0]);
                            },
                            string: function (t) {
                                return t.$name;
                            },
                        },
                        Ii = {
                            $init: function () {
                                var t = this;
                                this.attachEvent("onClearAll", function () {
                                    return (t.Vr = null);
                                }),
                                    this.attachEvent("onSyncApply", function () {
                                        return (t.Vr = null);
                                    });
                            },
                            ungroup: function (t) {
                                if (this.getBranchIndex) {
                                    if (!this.Ka(t)) return;
                                } else {
                                    if (!this.Vr) return;
                                    (this.order = this.Vr), (this.pull = this.Ja);
                                }
                                this.callEvent("onStoreUpdated", []);
                            },
                            Ka: function (t) {
                                for (var e = this, i = t || 0, n = "0" == i ? 1 : this.getItem(i).$level + 1, s = !1, r = this.branch[i], o = [], a = 0; a < r.length; a++) {
                                    var l = r[a];
                                    if (this.pull[l].$group) {
                                        s = !0;
                                        var h = this.branch[l];
                                        h &&
                                            (this.branch[l] = h.filter(function (t) {
                                                if (!e.pull[t].$footer) return t;
                                                e.Za(t);
                                            })),
                                            (o = o.concat(this.branch[l] || [])),
                                            this.Za(l);
                                    } else o.push(l);
                                }
                                return !!s && ((this.branch[i] = o), this.Qa(this.branch[i], i, n), void 0 === t && this.Ka(), !0);
                            },
                            Za: function (t) {
                                delete this.pull[t], delete this.branch[t];
                            },
                            Fr: function (t) {
                                this.blockEvent(), this.group(t), this.unblockEvent();
                            },
                            tu: function (t) {
                                if ("function" == typeof t) return t;
                                var e = function (e) {
                                    return e[t];
                                };
                                return (e.$name = t), e;
                            },
                            group: function (t, e) {
                                var i;
                                if (
                                    ("string" == typeof t ? ((i = t), (t = { by: this.tu(t), map: {} })) : "function" == typeof t ? (t = { by: t, map: {} }) : "string" == typeof t.by && ((i = t.by), (t.by = this.tu(t.by))),
                                    (t.map = t.map || {}),
                                    i && !t.map[i] && (t.map[i] = [i]),
                                    (t.missing = void 0 === t.missing || t.missing),
                                    this.getBranchIndex)
                                )
                                    return this.iu(t, e);
                                this.Vr || ((this.Vr = this.order), (this.Ja = this.pull));
                                var n = {},
                                    s = [],
                                    r = [],
                                    o = t.missing;
                                this.each(function (e) {
                                    var i = t.by(e);
                                    if (!i && 0 !== i) {
                                        if (!1 === o) return;
                                        if (!0 === o) return void r.push(e);
                                        i = o;
                                    }
                                    n[i] || (s.push({ id: i, value: i, $group: !0, $row: t.row }), (n[i] = C())), n[i].push(e);
                                });
                                for (var a = 0; a < s.length; a++) {
                                    var l = s[a];
                                    this.eu(t.map, l, n[s[a].id]), this.hasEvent("onGroupCreated") && this.callEvent("onGroupCreated", [l.id, l.value, n[s[a].id]]);
                                }
                                (this.order = C()), (this.pull = {}), this.su(s), this.su(r), this.callEvent("onStoreUpdated", []);
                            },
                            su: function (t) {
                                for (var e = 0; e < t.length; e++) {
                                    var i = this.id(t[e]);
                                    this.pull[i] && (i = t[e].id = x()), (this.pull[i] = t[e]), this.order.push(i), this.Rr && this.Rr(t[e]);
                                }
                            },
                            eu: function (t, e, i) {
                                for (var n in t) {
                                    var s = t[n][1] || "any",
                                        r = this.tu(t[n][0]);
                                    "function" != typeof s && (Ci[s], (s = Ci[s])), (e[n] = s.call(this, r, i));
                                }
                            },
                            iu: function (t, e) {
                                var i = 0;
                                e ? (i = this.getItem(e).$level) : (e = 0);
                                for (var n = [], s = [], r = [], o = this.branch[e], a = {}, l = 0; l < o.length; l++) {
                                    var h = this.getItem(o[l]),
                                        c = t.by(h);
                                    if (!c && 0 !== c) {
                                        if (!1 === t.missing) continue;
                                        if (!0 === t.missing) {
                                            r.push(h.id);
                                            continue;
                                        }
                                        c = t.missing;
                                    }
                                    var d = a[c];
                                    if (!d) {
                                        var u = x(),
                                            p = (this.pull[u] = { id: u, value: c, $group: !0, $row: t.row });
                                        this.Rr && this.Rr(p), s.push(p), ((d = a[c] = this.branch[u] = []).nu = []), n.push(u);
                                    }
                                    d.push(h.id), d.nu.push(h);
                                }
                                this.branch[e] = n.concat(r);
                                for (var f = 0; f < s.length; f++) {
                                    var m = s[f];
                                    if ((this.eu(t.map, m, this.branch[s[f].id].nu), this.hasEvent("onGroupCreated") && this.callEvent("onGroupCreated", [m.id, m.value, this.branch[m.id].nu]), t.footer)) {
                                        var g = "footer$" + m.id,
                                            v = (this.pull[g] = { id: g, $footer: !0, value: m.value, $level: i, $count: 0, $parent: m.id, $row: t.footer.row });
                                        this.eu(t.footer, v, this.branch[s[f].id].nu), this.branch[m.id].push(v.id), this.callEvent("onGroupFooter", [v.id, v.value, this.branch[m.id].nu]);
                                    }
                                    delete this.branch[m.id].nu;
                                }
                                this.Qa(this.branch[e], e, i + 1), this.callEvent("onStoreUpdated", []);
                            },
                            Qa: function (t, e, i) {
                                e && (this.getItem(e).$count = t.length);
                                for (var n = 0; n < t.length; n++) {
                                    var s = this.pull[t[n]];
                                    (s.$level = i), (s.$parent = e);
                                    var r = this.branch[s.id];
                                    r && this.Qa(r, s.id, i + 1);
                                }
                            },
                        },
                        Ti = {
                            $init: function () {
                                t.extend(this.data, Ii);
                            },
                            group: function (t, e) {
                                e || 0 === e || ((this.$blockRender = !0), this.data.ungroup(), (this.$blockRender = !1)), this.data.group(t, e);
                            },
                            ungroup: function (t) {
                                this.data.ungroup(t);
                            },
                        },
                        $i = {
                            $init: function () {
                                var t = this;
                                this.$ready.push(function () {
                                    (t.customRadio_setter && !t.config.customRadio) || Zt(t.$view, "keydown", t.hu, { bind: t });
                                });
                            },
                            wi: function () {
                                if (!ke.canFocus(this)) return !1;
                                var t = this.ru();
                                if (t) for (var e = 0; e < t.length; e++) if ("0" == t[e].getAttribute("tabindex")) return t[e].focus();
                            },
                            ou: function () {
                                var t = this.ru();
                                if (t) for (var e = 0; e < t.length; e++) if ("0" == t[e].getAttribute("tabindex")) return t[e].blur();
                            },
                            hu: function (t) {
                                var e = t.which || t.keyCode;
                                if (34 < e && e < 41) {
                                    var i = this.ru(),
                                        n = !1;
                                    if (!i.length) return;
                                    yt(t);
                                    var s = 37 === e || 38 === e || 35 === e ? -1 : 1;
                                    if (35 === e) n = i.length - 1;
                                    else if (36 === e) n = 0;
                                    else
                                        for (var r = 0; r < i.length; r++)
                                            if ("0" == i[r].getAttribute("tabindex")) {
                                                n = r + s;
                                                break;
                                            }
                                    if (!1 !== n) {
                                        var o = n;
                                        do {
                                            if ((o >= i.length && (o = 0), o < 0 && (o = i.length - 1), i[o].getAttribute("webix_disabled"))) o += s;
                                            else {
                                                var a = i[o].getAttribute("button_id");
                                                this.setValue(a), i[o].focus(), (o = "success");
                                            }
                                        } while ("success" !== o && o !== n);
                                    }
                                }
                            },
                            Te: function (t, e) {
                                for (var i, n = e.target; n && !n.webix_tooltip; ) {
                                    if ((i = n.getAttribute("webix_t_id"))) return this.getOption(i);
                                    n = n.parentNode;
                                }
                                return null;
                            },
                            optionIndex: function (t) {
                                for (var e = this.P.options, i = 0; i < e.length; i++) if (e[i].id == t) return i;
                                return -1;
                            },
                            getOption: function (t) {
                                var e = this.optionIndex(t);
                                return -1 !== e ? this.P.options[e] : null;
                            },
                            addOption: function (t, i, n, s) {
                                var r = t;
                                "object" != e(t) ? (r = { id: t, value: (i = i || t) }) : ((t = r.id), (s = n), (n = i)),
                                    -1 === this.optionIndex(t) && (I.insertAt.call(this.P.options, r, s), this.refresh(), this.callEvent("onOptionAdd", [t, r])),
                                    n && this.setValue(t);
                            },
                            removeOption: function (t) {
                                var e = this.optionIndex(t);
                                if (-1 !== e) {
                                    var i = this.P.options;
                                    I.removeAt.call(i, e), this.refresh(), this.P.value == t && this.au(i, e), this.callEvent("onOptionRemove", [t, this.P.value]);
                                }
                            },
                            au: function (t, e) {
                                var i = t.length;
                                if (i && !this.customRadio_setter) {
                                    for (var n = (e = Math.min(e, i - 1)); n < i; n++) if (!t[n].hidden) return this.setValue(t[n].id);
                                    for (var s = e; 0 <= s; s--) if (!t[s].hidden) return this.setValue(t[s].id);
                                }
                                this.setValue("");
                            },
                            uu: function (t) {
                                var e = this.P.options;
                                if (e.length) {
                                    for (var i = 0; i < e.length; i++) if (!e[i].hidden && !e[i].disabled) return e[i].id;
                                    if (t) return e[0].id;
                                }
                                return "";
                            },
                            cu: function (t) {
                                for (var e = [], i = 0; i < t.length; i++) t[i].hidden || e.push(t[i]);
                                return e;
                            },
                            fu: function (t, e, i) {
                                var n = this.P.options,
                                    s = this.optionIndex(t);
                                n[s] && i != !!n[s][e] && ((n[s][e] = i) && "hidden" === e && this.P.value == t && this.au(n, s), this.refresh());
                            },
                            hideOption: function (t) {
                                this.fu(t, "hidden", !0);
                            },
                            showOption: function (t) {
                                this.fu(t, "hidden", !1);
                            },
                            disableOption: function (t) {
                                this.fu(t, "disabled", !0);
                            },
                            enableOption: function (t) {
                                this.fu(t, "disabled", !1);
                            },
                        },
                        Ei = t.proto({
                            $init: function (t) {
                                (this.Qo = "map_" + x()), (this.lu = t), (this.du = []), (this.vu = []);
                            },
                            addRect: function (t, e, i) {
                                this._u(t, "RECT", e, i);
                            },
                            addPoly: function (t, e, i) {
                                this._u(t, "POLY", e, i);
                            },
                            _u: function (t, e, i, n) {
                                var s = "";
                                4 == arguments.length && (s = "userdata='" + n + "'"), this.du.push("<area " + this.lu + "='" + t + "' shape='" + e + "' coords='" + i.join() + "' " + s + "></area>"), this.vu.push({ index: n, points: i });
                            },
                            addSector: function (t, e, i, n, s, r, o, a) {
                                var l = [];
                                l.push(n), l.push(Math.floor(s * o));
                                for (var h = e; h < i; h += Math.PI / 18) l.push(Math.floor(n + r * Math.cos(h))), l.push(Math.floor((s + r * Math.sin(h)) * o));
                                return l.push(Math.floor(n + r * Math.cos(i))), l.push(Math.floor((s + r * Math.sin(i)) * o)), l.push(n), l.push(Math.floor(s * o)), this.addPoly(t, l, a);
                            },
                            hide: function (t, e, i) {
                                if (t.querySelectorAll)
                                    for (var n = t.querySelectorAll('area[userdata="' + e + '"]'), s = 0; s < n.length; s++) {
                                        var r = n[s];
                                        i
                                            ? r.getAttribute("coords") && ((r.coordsdis = r.getAttribute("coords")), r.setAttribute("coords", ""), (r.coords = ""))
                                            : i || (r.coordsdis && (r.setAttribute("coords", r.coordsdis), (r.coords = r.coordsdis), (r.coordsdis = ""))),
                                            (n[s].style.display = i ? "none" : "");
                                    }
                            },
                            render: function (t) {
                                var e = dt("DIV");
                                (e.style.cssText = "position:absolute; width:100%; height:100%; top:0px; left:0px;"), t.appendChild(e);
                                var i = G.isIE ? "" : "src='data:image/gif;base64,R0lGODlhEgASAIAAAP///////yH5BAUUAAEALAAAAAASABIAAAIPjI+py+0Po5y02ouz3pwXADs='";
                                (e.innerHTML = "<map id='" + this.Qo + "' name='" + this.Qo + "'>" + this.du.join("\n") + "</map><img " + i + " class='webix_map_img' usemap='#" + this.Qo + "'>"), (t.Ni = e), (this.du = []);
                            },
                        }),
                        Di = {
                            $init: function () {
                                (this._e = {}),
                                    (this.pe = {}),
                                    (this.getTopParentView = this.pu = m(function () {
                                        return this;
                                    }, this)),
                                    this.bu(),
                                    this.$ready.push(this.mu);
                            },
                            $$: function (t) {
                                return this._e[t];
                            },
                            innerId: function (t) {
                                return this.pe[t];
                            },
                            bu: function () {
                                (this.ve = ee.lt), (ee.lt = this);
                            },
                            mu: function () {
                                for (var t in this._e) {
                                    var e = this._e[t];
                                    this.callEvent && e.mapEvent && !e.l.onitemclick && e.mapEvent({ onitemclick: this }), (e.getTopParentView = this.pu);
                                }
                                (ee.lt = this.ve), (this.ve = 0);
                            },
                            ji: function (t) {
                                delete this._e[t];
                            },
                            ui: function () {
                                this.bu();
                                var t = ne.apply(this, arguments);
                                return this.mu(), t;
                            },
                        },
                        Mi = {
                            $init: function () {
                                this.getSelectedId && this.attachEvent("onAfterRender", this.gu), this.moveSelection && this.attachEvent("onTabFocus", this.wu);
                            },
                            wu: function () {
                                if (this.getSelectedId) {
                                    var t = this.getSelectedId(!0);
                                    (t.length && this.getItemNode(t[0])) || this.moveSelection("down");
                                }
                            },
                            gu: function () {
                                var t = this.getSelectedId(!0);
                                if (!t.length || !this.getItemNode(t[0])) {
                                    var e = this.tt.querySelector("[" + this.Qo + "]");
                                    e && e.setAttribute("tabindex", "0");
                                }
                            },
                            xu: function (t) {
                                return function (e, i) {
                                    var n = i.target;
                                    if (!n.getAttribute("webixignore")) {
                                        var s = n.tagName;
                                        if ("INPUT" == s || "TEXTAREA" == s || "SELECT" == s) return !0;
                                    }
                                    if (e && e.moveSelection && e.config.navigation && !e.Ai) return yt(i), e.moveSelection(t, { shift: i.shiftKey, ctrl: i.ctrlKey });
                                };
                            },
                            moveSelection: function (t, e, i) {
                                var n = this.P;
                                if (!n.disabled) {
                                    var s = this.getSelectedId(!0),
                                        r = this.count && ("x" == n.layout || 1 < n.xCount);
                                    if (("right" == t || "left" == t) && this.yu) {
                                        var o = ae(this.yu);
                                        return o.Mu(!0), void ("x" === o.config.layout ? o.moveSelection(t) : ke.setFocus(o));
                                    }
                                    if (!s.length && this.count()) {
                                        if ("down" == t || ("right" == t && r)) t = "top";
                                        else {
                                            if (!("up" == t || ("left" == t && r))) return;
                                            t = "bottom";
                                        }
                                        s = [this.getFirstId()];
                                    }
                                    if (1 == s.length) {
                                        var a = (s = s[0]);
                                        if ("left" == t && this.close) return this.close(s);
                                        if ("right" == t && this.open) return this.open(s);
                                        if ("top" == t) s = this.getFirstId();
                                        else if ("bottom" == t) s = this.getLastId();
                                        else if ("up" == t || "left" == t || "pgup" == t) {
                                            var l = this.getIndexById(s),
                                                h = "pgup" == t ? 10 : 1;
                                            s = this.getIdByIndex(Math.max(0, l - h));
                                        } else {
                                            if ("down" != t && "right" != t && "pgdown" != t) return;
                                            var c = this.getIndexById(s),
                                                d = "pgdown" == t ? 10 : 1;
                                            s = this.getIdByIndex(Math.min(this.count() - 1, c + d));
                                        }
                                        var u = "up" == t || "left" == t || "pgdown" == t || "bottom" == t ? -1 : 1;
                                        if ((this.Su && (s = this.Su(s, a, u)), this.showItem(s), this.select(s), this.getSubMenu && this.getSubMenu(s) && this.ku(s, this.getItemNode(s)), !this.config.clipboard && !1 !== i)) {
                                            var p = this.getItemNode(s);
                                            p && p.focus();
                                        }
                                    }
                                    return !1;
                                }
                            },
                            navigation_setter: function (t) {
                                return (
                                    t &&
                                        !ke.Cu &&
                                        ((ke.Cu = !0),
                                        ke.addHotKey("up", this.xu("up")),
                                        ke.addHotKey("down", this.xu("down")),
                                        ke.addHotKey("right", this.xu("right")),
                                        ke.addHotKey("left", this.xu("left")),
                                        ke.addHotKey("shift+up", this.xu("up")),
                                        ke.addHotKey("shift+down", this.xu("down")),
                                        ke.addHotKey("shift+right", this.xu("right")),
                                        ke.addHotKey("shift+left", this.xu("left")),
                                        ke.addHotKey("ctrl+shift+up", this.xu("up")),
                                        ke.addHotKey("ctrl+shift+down", this.xu("down")),
                                        ke.addHotKey("ctrl+shift+right", this.xu("right")),
                                        ke.addHotKey("ctrl+shift+left", this.xu("left")),
                                        ke.addHotKey("pageup", this.xu("pgup")),
                                        ke.addHotKey("pagedown", this.xu("pgdown")),
                                        ke.addHotKey("home", this.xu("top")),
                                        ke.addHotKey("end", this.xu("bottom"))),
                                    t
                                );
                            },
                        },
                        Ai = {
                            $init: function () {
                                this.$ready.push(this.$u),
                                    this.attachEvent("onStructureUpdate", this.$u),
                                    this.attachEvent("onStructureLoad", function () {
                                        this.Du.length || this.$u();
                                    });
                            },
                            $u: function () {
                                var t = (this.Du = []),
                                    e = this.P;
                                e.columns && this.Iu(e.columns),
                                    this.P.map && this.Au(e.map),
                                    t.length &&
                                        (this.data.Rr = function (e) {
                                            for (var i = 0; i < t.length; i++) t[i](e);
                                        });
                            },
                            Au: function (t) {
                                for (var e in t) this.Du.push(this.Tu(e, t[e]));
                            },
                            Tu: function (t, e, i) {
                                var n,
                                    s = e.replace(/^(\s|)\((date|number)\)/, "");
                                return (
                                    (n =
                                        "" === s
                                            ? function (e) {
                                                  return e[t];
                                              }
                                            : (-1 === s.indexOf("#") && -1 === s.indexOf("{") && (s = "#" + s + "#"), Ut(s))),
                                    0 === e.indexOf("(date)")
                                        ? (i && !i.format && (i.format = T.dateFormatStr),
                                          function (e) {
                                              var i = (n(e) || "").toString();
                                              e[t] = T.parseFormatDate(i);
                                          })
                                        : 0 === e.indexOf("(number)")
                                        ? function (e) {
                                              e[t] = 1 * n(e);
                                          }
                                        : function (e) {
                                              e[t] = n(e) || "";
                                          }
                                );
                            },
                            Iu: function (t) {
                                for (var e = 0; e < t.length; e++) {
                                    var i = t[e].map,
                                        n = t[e].id;
                                    n || ((n = t[e].id = "i" + x()), t[e].header || (t[e].header = "")), i && this.Du.push(this.Tu(n, i, t[e])), this.Fu(t[e]);
                                }
                            },
                            Vu: function (t) {
                                if ("string" == typeof t) {
                                    var i = ae(t);
                                    i ? (t = i) : ((t = new (d("DataCollection"))({ url: t })), this.Bt.push(t)), t.getBody && (t = i.getBody());
                                } else if ("function" == typeof t || t.$proxy) (t = new (d("DataCollection"))({ url: t })), this.Bt.push(t);
                                else if (!t.loadNext) {
                                    var n = P(t),
                                        s = [];
                                    if (n && "object" !== e(t[0])) {
                                        for (var r = 0; r < t.length; r++) s.push({ id: t[r], value: t[r] });
                                        t = s;
                                    } else if (!n) {
                                        for (var o in t) s.push({ id: o, value: t[o] });
                                        t = s;
                                    }
                                    (t = new (d("DataCollection"))({ data: t })), this.Bt.push(t);
                                }
                                return t;
                            },
                            Fu: function (t) {
                                var e = t.options || t.collection;
                                e && ((e = this.Vu(e)), this.zu(e, t)), t.header && (this.Bu(t.header), this.Bu(t.footer));
                            },
                            Bu: function (t) {
                                var e = this;
                                t = t || [];
                                for (
                                    var i = function (i) {
                                            var n = t[i];
                                            if (n && n.options) {
                                                var s = n.options;
                                                s.loadNext || (s = n.options = e.Vu(s));
                                                var r = s.data.attachEvent("onStoreUpdated", function () {
                                                    e.refreshFilter && e.refreshFilter(n.columnId);
                                                });
                                                e.attachEvent("onDestruct", function () {
                                                    s.$destructed || s.data.detachEvent(r);
                                                });
                                            }
                                        },
                                        n = 0;
                                    n < t.length;
                                    n++
                                )
                                    i(n);
                            },
                            zu: function (t, e) {
                                var i = this;
                                if (e) {
                                    delete e.options, (e.collection = t), (e.template = e.template || this.Hu(t, e.id, e.optionslist));
                                    var n = t.data.attachEvent("onStoreUpdated", function () {
                                        i.refresh(), i.refreshFilter && i.refreshFilter(e.id);
                                    });
                                    this.attachEvent("onDestruct", function () {
                                        t.$destructed || t.data.detachEvent(n);
                                    });
                                }
                            },
                            Hu: function (t, e, i) {
                                if (((e = this.getColumnConfig ? e : "value"), i)) {
                                    var n = "string" == typeof i ? i : ",";
                                    return function (i) {
                                        var s = i[e];
                                        if (!s) return "";
                                        for (var r = s.toString().split(n), o = 0; o < r.length; o++) {
                                            var a = t.data.pull[r[o]];
                                            r[o] = (a && a.value) || "";
                                        }
                                        return r.join(", ");
                                    };
                                }
                                return function (i) {
                                    var n = t.data.pull[i[e]];
                                    return n && (n.value || 0 === n.value) ? n.value : "";
                                };
                            },
                        },
                        Ni = {
                            $init: function (t) {
                                (t = t || {}),
                                    (this.Ru = 0),
                                    (this.Eu = 300),
                                    (this.Pu = null),
                                    this.ju(t.onClick, "on_click"),
                                    this.ju(t.onContext, "on_context"),
                                    this.ju(t.onDblClick, "on_dblclick"),
                                    this.ju(t.onMouseMove, "on_mouse_move"),
                                    this.on_click && (Zt(this.Wi, "click", this.Nu, { bind: this }), G.isIE8 && this.on_dblclick && Zt(this.Wi, "dblclick", this.Lu, { bind: this })),
                                    this.on_context && Zt(this.Wi, "contextmenu", this.Ou, { bind: this }),
                                    this.on_mouse_move && this.Wu();
                            },
                            Wu: function () {
                                this.Uu ||
                                    ((this.on_mouse_move = this.on_mouse_move || {}),
                                    Zt(this.Wi, "mousemove", this.Yu, { bind: this }),
                                    Zt(this.Wi, G.isIE ? "mouseleave" : "mouseout", this.Yu, { bind: this }),
                                    (this.Uu = 1),
                                    this.attachEvent("onDestruct", function () {
                                        this.qu && window.clearTimeout(this.qu);
                                    }));
                            },
                            ju: function (e, i) {
                                if (e) {
                                    var n = this[i],
                                        s = n ? t.extend({}, n) : {};
                                    this[i] = t.extend(s, e);
                                }
                            },
                            Nu: function (t) {
                                if (!this.isEnabled()) return !1;
                                if ((ke.Et(this), this.on_dblclick)) {
                                    var e = new Date().valueOf();
                                    if (e - this.Ru <= this.Eu && this.locate && "" + this.locate(t) == "" + this.Pu) return (this.Ru = 0), this.Lu(t);
                                    this.Ru = e;
                                }
                                return this.Gu(t, this.on_click, "ItemClick");
                            },
                            Lu: function (t) {
                                return this.Gu(t, this.on_dblclick, "ItemDblClick");
                            },
                            Ou: function (t) {
                                this.Gu(t, this.on_context, "BeforeContextMenu", "AfterContextMenu");
                            },
                            Yu: function (t) {
                                this.$destructed ||
                                    (document.createEventObject && (t = document.createEventObject(event)),
                                    this.qu && window.clearTimeout(this.qu),
                                    this.callEvent("onMouseMoving", [t]),
                                    (this.qu = b(
                                        function (t) {
                                            "mousemove" == t.type ? this.Xu(t) : this.Ku(t);
                                        },
                                        this,
                                        [t],
                                        this.P.mouseEventDelay || 500
                                    )));
                            },
                            Xu: function (t) {
                                this.Gu(t, this.on_mouse_move, "MouseMove") || this.Ku(t);
                            },
                            Ku: function (t) {
                                this.callEvent("onMouseOut", [t || event]);
                            },
                            Gu: function (t, e, i, n) {
                                if (!(t = t || event).processed && this.Vt) {
                                    t.processed = !0;
                                    var s = t.target;
                                    if (G.isIE8) {
                                        var r = this.P.id,
                                            o = s.w_view;
                                        if (o) {
                                            if (o !== r) return;
                                        } else s.w_view = r;
                                    }
                                    for (var a = "", l = null, h = !1; s && s.parentNode && this.Vt && s != this.Vt.parentNode; ) {
                                        if (!h && s.getAttribute && (l = s.getAttribute(this.Qo))) {
                                            if (s.getAttribute("webix_disabled")) return void (this.Pu = null);
                                            if (((this.Pu = l), this.callEvent)) {
                                                if (!this.callEvent("on" + i, [l, t, s])) return;
                                                n && this.callEvent("on" + n, [l, t, s]);
                                            }
                                            h = !0;
                                        }
                                        if ((a = Ct(s))) {
                                            a = a.toString().split(" ");
                                            for (var c = 0; c < a.length; c++) if (e[a[c]] && !1 === k(e[a[c]], this.$scope).call(this, t, l || mt(t, this.Qo), s)) return h;
                                        }
                                        s = s.parentNode;
                                    }
                                    return h;
                                }
                            },
                        },
                        Oi = {
                            $init: function () {
                                this.$ready.push(function () {
                                    this.attachEvent("onKeyPress", this.ke);
                                });
                            },
                            Ju: function (t, e) {
                                if (37 === t || 39 === t) {
                                    yt(e), this.Zu(37 === t ? -1 : 1);
                                    var i = this.Qu.querySelector("[tabindex='0']");
                                    i && i.focus();
                                }
                            },
                            tc: function () {
                                pt(this.Qu), (this.Qu = dt("DIV", { class: "webix_nav_panel webix_nav_panel_" + this.P.navigation.type, role: "tablist" }, "")), this.Vt.appendChild(this.Qu), this.ic(), this.ec(), this.sc();
                            },
                            sc: function () {
                                var t = [];
                                this.Qu &&
                                    (t[0] = Jt(
                                        this.Qu,
                                        "click",
                                        m(function (t) {
                                            for (var e = t.target, i = !1; e != this.Qu && !i; ) {
                                                var n = e.getAttribute(this.nc);
                                                n && ((i = !0), this.hc(n)), (e = e.parentNode);
                                            }
                                        }, this)
                                    )),
                                    this.rc &&
                                        (t[1] = Jt(
                                            this.rc,
                                            "click",
                                            m(function () {
                                                this.Zu(-1);
                                            }, this)
                                        )),
                                    this.oc &&
                                        (t[1] = Jt(
                                            this.oc,
                                            "click",
                                            m(function () {
                                                this.Zu(1);
                                            }, this)
                                        )),
                                    this.attachEvent("onDestruct", function () {
                                        for (var e = 0; e < t.length; e++) this.detachEvent(t[e]);
                                        t = null;
                                    });
                            },
                            Zu: function (t) {
                                if (this.ri) {
                                    var e = this.ac + t;
                                    (e >= this.ri.length || e < 0) && (e = e < 0 ? this.ri.length - 1 : 0), this.setActiveIndex(e);
                                }
                            },
                            hc: function (t) {
                                this.ri && ae(t).show();
                            },
                            ic: function () {
                                var t, e;
                                if ((e = this.P.navigation).items) {
                                    (this.nc = e.linkAttr || "bind_id"), this.Qu ? this.uc() : this.tc();
                                    var i = this.ri ? this.ri : this.data.order;
                                    if (1 < i.length)
                                        for (var n = 0; n < i.length; n++) {
                                            t = dt("DIV", { class: "webix_nav_item webix_nav_" + (n == this.ac ? "active" : "inactive"), role: "tab", tabindex: n == this.ac ? "0" : "-1" });
                                            var s = this.ri ? this.ri[n].P.id : i[n];
                                            s && t.setAttribute(this.nc, s), this.Qu.appendChild(t);
                                        }
                                }
                            },
                            uc: function () {
                                if (this.Qu) for (var t = this.Qu.childNodes, e = t.length - 1; 0 <= e; e--) pt(t[e]);
                            },
                            ec: function () {
                                var t = this.P.navigation;
                                t.buttons &&
                                    (this.rc && pt(this.rc),
                                    this.rc && pt(this.oc),
                                    (this.rc = dt("DIV", { class: "webix_nav_button_" + t.type + " webix_nav_button_prev " }, '<div role="button" tabindex="0" aria-label="' + T.aria.prevTab + '" class="webix_nav_button_inner"></div>')),
                                    this.Vt.appendChild(this.rc),
                                    (this.oc = dt("DIV", { class: "webix_nav_button_" + t.type + " webix_nav_button_next " }, '<div role="button" tabindex="0" aria-label="' + T.aria.prevTab + '" class="webix_nav_button_inner"></div>')),
                                    this.Vt.appendChild(this.oc));
                            },
                        },
                        Ri = {
                            showOverlay: function (t) {
                                this.cc ? (this.cc.innerHTML = t) : ((this.cc = dt("DIV", { class: "webix_overlay" }, t || "")), ft(this.cc, this.Vt.firstChild, this.Vt), (this.Vt.style.position = "relative"));
                            },
                            hideOverlay: function () {
                                this.cc && (pt(this.cc), (this.cc = null));
                            },
                        },
                        Vi = {
                            pager_setter: function (t) {
                                if ("string" == typeof t) {
                                    var e = ae(t);
                                    if (!e)
                                        return (
                                            (this.$blockRender = !0),
                                            b(function () {
                                                var e = ae(t);
                                                this.P.pager = this.pager_setter(e);
                                                var i = e.P;
                                                (i.count = this.data.fc(i.level)), e.refresh(), (this.$blockRender = !1), this.render();
                                            }, this),
                                            null
                                        );
                                    t = e;
                                }
                                return (
                                    this.attachEvent("onBeforeRender", function e(i) {
                                        if ((this.config.topSplit && (this.config.topSplit = 0), t.config.autosize && this.getVisibleCount)) {
                                            var n = this.getVisibleCount();
                                            isNaN(n) ? ((t.config.size = 1), b(e, this, [!0])) : n != t.config.size && ((t.config.size = n), t.refresh(), !0 === i && this.refresh());
                                        }
                                        var s = this.P.pager;
                                        return -1 != s.page && ((this.data.$min = this.lc(0, s.page * s.size)), (this.data.$max = this.lc(this.data.$min, s.size)), (this.data.$pagesize = this.data.$max - this.data.$min), !0);
                                    }),
                                    t.$view || ((t.view = "pager"), (t = ne(t))),
                                    ((this.dc = t).$master = this).data.attachEvent("onStoreUpdated", function () {
                                        var e = t.P;
                                        (e.count = this.fc(e.level)), t.refresh();
                                    }),
                                    (this.data.fc = this.fc),
                                    t.P
                                );
                            },
                            fc: function (t) {
                                if (t && 0 !== t) {
                                    var e = 0;
                                    return (
                                        this.each(function (i) {
                                            i.$level == t && e++;
                                        }),
                                        e
                                    );
                                }
                                return this.count();
                            },
                            lc: function (t, e) {
                                var i = this.P.pager;
                                if (i.level && 0 !== i.level) {
                                    var n = t,
                                        s = this.data.order.length;
                                    if (e)
                                        for (; n < s; ) {
                                            if (this.data.order[n] && this.data.getItem(this.data.order[n]).$level == i.level) {
                                                if (0 === e) break;
                                                e--;
                                            }
                                            n++;
                                        }
                                    return n;
                                }
                                return t + e;
                            },
                            setPage: function (t) {
                                this.dc && this.dc.select(t);
                            },
                            getPage: function () {
                                return this.dc.P.page;
                            },
                            getPager: function () {
                                return this.dc;
                            },
                        },
                        Li = {
                            $init: function () {
                                var t = this;
                                v(this.vc) &&
                                    this.attachEvent &&
                                    (this.attachEvent("onBeforeLoad", function () {
                                        return t.showProgress();
                                    }),
                                    this.attachEvent("onAfterLoad", function () {
                                        return t.hideProgress();
                                    }),
                                    (this.vc = null));
                            },
                            showProgress: function (e) {
                                var i;
                                if (!this.vc) {
                                    var n = "icon" == (e = t.extend({ position: 0, delay: 2e3, type: "icon", icon: "wxi-sync", hide: !1 }, e || {}, !0)).type ? e.icon + " webix_spin" : "";
                                    if (
                                        ((this.vc = dt("DIV", { class: "webix_progress_" + e.type, role: "progressbar", "aria-valuemin": "0", "aria-valuemax": "100", tabindex: "0" }, "<div class='webix_progress_state " + n + "'></div>")),
                                        this.setPosition || (this.Vt.style.position = "relative"),
                                        ft(this.vc, this.Vt.firstChild, this.Vt),
                                        this.Vt.setAttribute("aria-busy", "true"),
                                        (!Ue.$active || "native" == this.jo) && this.getScrollState)
                                    ) {
                                        var s = this.getScrollState();
                                        this.Vt.scrollWidth != this.$width && (this.vc.style.left = s.x + "px"),
                                            this.Vt.scrollHeight != this.$height && ("bottom" != e.type ? (this.vc.style.top = s.y + "px") : (this.vc.style.top = s.y + this.$height - this.vc.offsetHeight + "px"));
                                    }
                                    this._c = "icon" != e.type;
                                }
                                if (e) {
                                    if (this._c) {
                                        var r = e.position || 1;
                                        if (void 0 === this.vc.style[G.transitionDuration] && e.delay) {
                                            var o = 0,
                                                a = 0,
                                                l = (r / e.delay) * 30,
                                                h = this;
                                            this.pc && (window.clearInterval(this.pc), (a = (this.vc.firstChild.offsetWidth / this.vc.offsetWidth) * 100)),
                                                (this.pc = window.setInterval(function () {
                                                    30 * o == e.delay ? window.clearInterval(h.pc) : (h.vc && h.vc.firstChild && (h.vc.firstChild.style.width = a + o * l * r * 100 + "%"), o++);
                                                }, 30));
                                        } else e.delay && ((i = this.Vt.firstChild.offsetWidth), (this.vc.firstChild.style[G.transitionDuration] = e.delay + "ms")), (this.vc.firstChild.style.width = 100 * r + "%");
                                    }
                                    return this.bc && clearTimeout(this.bc), e.hide && (this.bc = b(this.hideProgress, this, [1], e.delay)), i;
                                }
                            },
                            hideProgress: function (t) {
                                this.vc && (t || !this._c ? (this.pc && window.clearInterval(this.pc), pt(this.vc), (this.vc = null), this.Vt.removeAttribute("aria-busy")) : this.showProgress({ position: 1.1, delay: 300, hide: !0 }));
                            },
                        },
                        ji = {
                            $init: function () {
                                this.data,
                                    (this.Oi = document.createElement("DIV")),
                                    this.data.attachEvent("onIdChange", m(this.Er, this)),
                                    this.attachEvent("onItemClick", this.mc),
                                    this.types || ((this.types = { default: this.type }), (this.type.name = "default")),
                                    (this.type = p(this.type));
                            },
                            customize: function (t) {
                                te(this, t);
                            },
                            item_setter: function (t) {
                                return this.type_setter(t);
                            },
                            type_setter: function (e) {
                                return this.types[e] ? ((this.type = p(this.types[e])), this.type.css && (this.Wi.className += " " + this.type.css)) : this.customize(e), this.type.on_click && t.extend(this.on_click, this.type.on_click), e;
                            },
                            template_setter: function (t) {
                                this.type.template = Ut(t);
                            },
                            Q: function (t) {
                                var e = this.data.Dr[t.id];
                                return (
                                    !t.$template || this.type["template" + t.$template],
                                    t.$template,
                                    this.callEvent("onItemRender", [t]),
                                    this.type.templateStart(t, this.type, e) + (t.$template ? this.type["template" + t.$template] : this.type.template)(t, this.type, e) + this.type.templateEnd(t, this.type, e)
                                );
                            },
                            gc: function (t) {
                                return (this.Oi.innerHTML = this.Q(t)), this.Oi.firstChild;
                            },
                            Er: function (t, e) {
                                var i = this.getItemNode(t);
                                i && (i.setAttribute(this.Qo, e), (this.Ni[e] = this.Ni[t]), delete this.Ni[t]);
                            },
                            mc: function () {
                                if (this.P.click) {
                                    var t = k(this.P.click, this.$scope);
                                    t && t.call && t.apply(this, arguments);
                                }
                            },
                            getItemNode: function (t) {
                                if (this.Ni) return this.Ni[t];
                                this.Ni = {};
                                for (var e = this.tt.childNodes, i = 0; i < e.length; i++) {
                                    var n = e[i].getAttribute(this.Qo);
                                    n && (this.Ni[n] = e[i]);
                                }
                                return this.getItemNode(t);
                            },
                            locate: function (t) {
                                return mt(t, this.Qo);
                            },
                            showItem: function (t) {
                                var e = this.getItemNode(t);
                                if (e && this.scrollTo) {
                                    var i = e.offsetLeft,
                                        n = i + e.offsetWidth,
                                        s = e.offsetTop,
                                        r = s + e.offsetHeight,
                                        o = this.getScrollState(),
                                        a = o.x;
                                    (i < a || a + this.me < n) && (a = i);
                                    var l = o.y;
                                    (s < l || l + this.we < r) && (l = s), this.scrollTo(a, l), this.wc && this.wc(t);
                                }
                            },
                            render: function (t, e, i) {
                                if (this.isVisible(this.P.id) && !this.$blockRender)
                                    if (t) {
                                        var n = this.getItemNode(t);
                                        switch (i) {
                                            case "paint":
                                            case "update":
                                                if (!n) return;
                                                ft((this.Ni[t] = this.gc(e)), n), pt(n);
                                                break;
                                            case "delete":
                                                if (!n) return;
                                                pt(n), delete this.Ni[t];
                                                break;
                                            case "add":
                                                ft((this.Ni[t] = this.gc(e)), this.getItemNode(this.data.getNextId(t)), this.tt);
                                                break;
                                            case "move":
                                                ft(this.getItemNode(t), this.getItemNode(this.data.getNextId(t)), this.tt);
                                        }
                                    } else this.callEvent("onBeforeRender", [this.data]) && (((this.xc || this.tt).innerHTML = this.data.getRange().map(this.Q, this).join("")), (this.Ni = null), this.callEvent("onAfterRender", []));
                            },
                        },
                        Fi = {
                            $init: function (t) {
                                if (t && !t.scroll && this.yc) return (this.tt = this.tt || this.Wi);
                                (this.tt || this.Wi).appendChild(dt("DIV", { class: "webix_scroll_cont" }, "")),
                                    (this.tt = (this.tt || this.Wi).firstChild),
                                    !this.callEvent ||
                                        (G.touch && "native" != this.jo) ||
                                        Zt(
                                            this.Vt,
                                            "scroll",
                                            function () {
                                                b(function () {
                                                    this.callEvent("onAfterScroll", []);
                                                }, this);
                                            },
                                            { bind: this }
                                        );
                            },
                            jo: "native",
                            scroll_setter: function (t) {
                                if (!t) return !1;
                                var e = "auto" === t,
                                    i = "x" == t ? "x" : "xy" == t || e ? "xy" : "y";
                                if (G.$customScroll) oi.enable(this, i);
                                else {
                                    var n = this.tt.parentNode.style;
                                    e ? (n.overflowX = n.overflowY = "auto") : (-1 != i.indexOf("x") && ((this.xe = !0), (n.overflowX = "scroll")), -1 != i.indexOf("y") && ((this.ge = !0), (n.overflowY = "scroll")));
                                }
                                return i;
                            },
                            Mc: function (t, e) {
                                !!this.P.scroll != !!t && (G.$customScroll || (this.tt.parentNode.style["x" === e ? "overflowX" : "overflowY"] = t ? "auto" : "hidden"), "x" === e ? (this.xe = t) : (this.ge = t), (this.P.scroll = !!t && e));
                            },
                            getScrollState: function () {
                                return { x: this.tt.parentNode.scrollLeft, y: this.tt.parentNode.scrollTop };
                            },
                            scrollTo: function (t, e) {
                                (this.tt.parentNode.scrollLeft = t), (this.tt.parentNode.scrollTop = e);
                            },
                        },
                        zi = {
                            $init: function () {
                                (this.th = C()),
                                    this.data,
                                    this.data.attachEvent("onStoreUpdated", m(this.Sc, this)),
                                    this.data.attachEvent("onStoreLoad", m(this.kc, this)),
                                    this.data.attachEvent("onAfterFilter", m(this.Cc, this)),
                                    this.data.attachEvent("onSyncApply", m(this.Dc, this)),
                                    this.data.attachEvent("onIdChange", m(this.Ic, this)),
                                    this.$ready.push(this.Ac);
                            },
                            Ac: function () {
                                ("multiselect" == this.P.select || this.P.multiselect || "area" == this.P.select) &&
                                    Zt(this.$view, "mousedown", function (t) {
                                        (t || window.event).shiftKey && _t((ee.Mt = this), "webix_noselect", 1);
                                    });
                            },
                            Ic: function (t, e) {
                                for (var i = this.th.length - 1; 0 <= i; i--) this.th[i] == t && (this.th[i] = e);
                            },
                            Cc: function () {
                                for (var t = this.th.length - 1; 0 <= t; t--)
                                    if (this.data.getIndexById(this.th[t]) < 0) {
                                        var e = this.th[t];
                                        this.removeCss(e, "webix_selected", !0), this.th.splice(t, 1), this.callEvent("onSelectChange", [e]);
                                    }
                            },
                            Sc: function (t, e, i) {
                                "delete" == i ? (this.loadBranch ? this.Dc() : this.th.remove(t)) : t || this.data.count() || this.data.Ir || this.data.Wr || (this.th = C());
                            },
                            kc: function () {
                                this.P.select &&
                                    this.data.each(function (t) {
                                        t && t.$selected && this.select(t.id);
                                    }, this);
                            },
                            Dc: function () {
                                for (var t = this.th.length - 1; 0 <= t; t--) this.exists(this.th[t]) || this.th.splice(t, 1);
                            },
                            Tc: function (t, e, i, n) {
                                var s = e ? "onBeforeSelect" : "onBeforeUnSelect";
                                if (!this.callEvent(s, [t, e])) return !1;
                                n && ((this.Fc = !0), this.unselectAll(), (this.Fc = !1)),
                                    e ? this.addCss(t, "webix_selected", !0) : this.removeCss(t, "webix_selected", !0),
                                    i ? i.push(t) : (e ? this.th.push(t) : this.th.remove(t), this.Vc(t));
                                var r = e ? "onAfterSelect" : "onAfterUnSelect";
                                return this.callEvent(r, [t]), !0;
                            },
                            select: function (t, e) {
                                var i = arguments[2],
                                    n = arguments[3];
                                if (!t) return this.selectAll();
                                if (P(t)) for (var s = 0; s < t.length; s++) this.select(t[s], s ? 1 : e, i, n);
                                else {
                                    if ((this.data.exists(t), n && this.th.length)) return this.selectAll(this.th[this.th.length - 1], t);
                                    var r = !1;
                                    i || e || (1 == this.th.length && this.th[0] == t) || (r = !0), r || !this.isSelected(t) ? this.Tc(t, !0, null, r) : i && this.unselect(t);
                                }
                            },
                            unselect: function (t) {
                                if (!t) return this.unselectAll();
                                this.isSelected(t) && this.Tc(t, !1);
                            },
                            selectAll: function (t, e) {
                                var i = [];
                                (t || e ? this.data.getRange(t || null, e || null) : this.data.getRange()).each(function (t) {
                                    this.data.getMark(t.id, "webix_selected") || (this.th.push(t.id), this.Tc(t.id, !0, i));
                                }, this),
                                    this.Vc(i);
                            },
                            unselectAll: function () {
                                var t = [];
                                this.th.each(function (e) {
                                    this.Tc(e, !1, t);
                                }, this),
                                    (this.th = C()),
                                    this.Vc(t);
                            },
                            isSelected: function (t) {
                                return -1 != this.th.find(t);
                            },
                            getSelectedId: function (t) {
                                switch (this.th.length) {
                                    case 0:
                                        return t ? [] : "";
                                    case 1:
                                        return t ? [this.th[0]] : this.th[0];
                                    default:
                                        return [].concat(this.th);
                                }
                            },
                            getSelectedItem: function (t) {
                                var e = this.getSelectedId(!0);
                                if (1 < e.length || t) {
                                    for (var i = e.length - 1; 0 <= i; i--) e[i] = this.getItem(e[i]);
                                    return e;
                                }
                                if (e.length) return this.getItem(e[0]);
                            },
                            zc: function (t) {
                                return 100 < t.length || t.length > this.data.count / 2;
                            },
                            Vc: function (t) {
                                if (("object" != e(t) && (t = [t]), t.length)) {
                                    if (this.zc(t)) this.data.refresh();
                                    else for (var i = 0; i < t.length; i++) this.render(t[i], this.data.getItem(t[i]), "update");
                                    this.Fc || this.callEvent("onSelectChange", [t]);
                                }
                            },
                        };
                    ge(function () {
                        Jt(document.body, "mouseup", function () {
                            ee.Mt && (kt(ee.Mt, "webix_noselect"), (ee.Mt = null));
                        });
                    });
                    var Hi = {
                        Bc: ["0", "1", "2", "3", "4", "5", "6", "7", "8", "9", "A", "B", "C", "D", "E", "F"],
                        toHex: function (t, e) {
                            t = parseInt(t, 10);
                            for (var i = ""; 0 < t; ) (i = this.Bc[t % 16] + i), (t = Math.floor(t / 16));
                            for (; i.length < e; ) i = "0" + i;
                            return i;
                        },
                        rgbToHex: function (t) {
                            var e = [];
                            return (
                                "string" == typeof t
                                    ? t.replace(/[\d+.]+/g, function (t) {
                                          e.push(parseFloat(t));
                                      })
                                    : P(t) && (e = t),
                                0 === e[3]
                                    ? ""
                                    : e
                                          .slice(0, 3)
                                          .map(function (t) {
                                              return Hi.toHex(Math.floor(t), 2);
                                          })
                                          .join("")
                            );
                        },
                        hexToDec: function (t) {
                            return parseInt(t, 16);
                        },
                        toRgb: function (t) {
                            var e, i, n, s;
                            return (
                                (n =
                                    "string" != typeof t
                                        ? ((e = t[0]), (i = t[1]), t[2])
                                        : -1 != t.indexOf("rgb")
                                        ? ((e = (s = t.substr(t.indexOf("(") + 1, t.lastIndexOf(")") - t.indexOf("(") - 1).split(","))[0]), (i = s[1]), s[2])
                                        : ("#" == t.substr(0, 1) && (t = t.substr(1)), (e = this.hexToDec(t.substr(0, 2))), (i = this.hexToDec(t.substr(2, 2))), this.hexToDec(t.substr(4, 2)))),
                                ((e = parseInt(e, 10) || 0) < 0 || 255 < e) && (e = 0),
                                ((i = parseInt(i, 10) || 0) < 0 || 255 < i) && (i = 0),
                                ((n = parseInt(n, 10) || 0) < 0 || 255 < n) && (n = 0),
                                [e, i, n]
                            );
                        },
                        hsvToRgb: function (t, e, i) {
                            var n, s, r, o, a, l, h, c;
                            switch (((r = i * (1 - e)), (o = i * (1 - (s = t / 60 - (n = Math.floor(t / 60) % 6)) * e)), (a = i * (1 - (1 - s) * e)), (c = h = l = 0), n)) {
                                case 0:
                                    (l = i), (h = a), (c = r);
                                    break;
                                case 1:
                                    (l = o), (h = i), (c = r);
                                    break;
                                case 2:
                                    (l = r), (h = i), (c = a);
                                    break;
                                case 3:
                                    (l = r), (h = o), (c = i);
                                    break;
                                case 4:
                                    (l = a), (h = r), (c = i);
                                    break;
                                case 5:
                                    (l = i), (h = r), (c = o);
                            }
                            return [(l = Math.floor(255 * l)), (h = Math.floor(255 * h)), (c = Math.floor(255 * c))];
                        },
                        rgbToHsv: function (t, e, i) {
                            var n, s, r, o, a, l, h;
                            return (
                                (n = t / 255),
                                (s = e / 255),
                                (r = i / 255),
                                (o = Math.min(n, s, r)),
                                (l = 0),
                                (h = a = Math.max(n, s, r)) == o
                                    ? (l = 0)
                                    : a == n && r <= s
                                    ? (l = (60 * (s - r)) / (a - o) + 0)
                                    : a == n && s < r
                                    ? (l = (60 * (s - r)) / (a - o) + 360)
                                    : a == s
                                    ? (l = (60 * (r - n)) / (a - o) + 120)
                                    : a == r && (l = (60 * (n - s)) / (a - o) + 240),
                                [l, 0 === a ? 0 : 1 - o / a, h]
                            );
                        },
                    };
                    function Wi(t) {
                        var e = " ";
                        if (t) for (var i in t) e += i + '="' + t[i] + '" ';
                        return e;
                    }
                    var Bi = {
                        draw: function (t, e, i, n) {
                            return "<svg " + Wi({ xmlns: "http://www.w3.org/2000/svg", version: "1.1", height: "100%", width: "100%", viewBox: "0 0 " + e + " " + i, class: n || "" }) + ">" + t + "</svg>";
                        },
                        styleMap: { lineColor: "stroke", color: "fill" },
                        group: function (t) {
                            return "<g>" + t + "</g>";
                        },
                    };
                    (Bi.Hc = {
                        M: function (t) {
                            return " M " + t.x + " " + t.y;
                        },
                        L: function (t) {
                            return " L " + t.x + " " + t.y;
                        },
                        C: function (t, e, i) {
                            return " C " + t.x + " " + t.y + " " + e.x + " " + e.y + " " + i.x + " " + i.y;
                        },
                        A: function (t, e, i, n) {
                            var s = t.x + Math.cos(n) * e,
                                r = t.y + Math.sin(n) * e;
                            return " A " + e + " " + e + " 0 " + (n - i >= Math.PI ? 1 : 0) + " 1 " + s + " " + r;
                        },
                    }),
                        (Bi.definePath = function (t, e) {
                            for (var i = "", n = 0; n < t.length; n++) {
                                t[n][0] && t[n][0];
                                var s = t[n][0].toUpperCase();
                                this.Hc[s], (i += this.Hc[s].apply(this, t[n].slice(1)));
                            }
                            return e && (i += " Z"), i;
                        }),
                        (Bi.Rc = function (t) {
                            for (var e = [], i = 0; i < t.length; i++) e.push([i ? "L" : "M", t[i]]);
                            return e;
                        }),
                        (Bi.setOpacity = function (t, e) {
                            var i = Hi.toRgb(t);
                            return i.push(e), "rgba(" + i.join(",") + ")";
                        }),
                        (Bi.Ec = function (t) {
                            for (var e = [], i = 0; i < t.length; i++) {
                                var n = t[i];
                                i || e.push(["M", n[0]]), e.push(["C", n[1], n[2], n[3]]);
                            }
                            return e;
                        }),
                        (Bi.getPath = function (t, e, i) {
                            return '<path class="' + e + '" vector-effect="non-scaling-stroke" d="' + t + '" ' + (i = Wi(i)) + "/>";
                        }),
                        (Bi.getSector = function (t, e, i, n, s, r) {
                            r = Wi(r);
                            var o = [
                                ["M", t],
                                ["L", { x: t.x + Math.cos(i) * e, y: t.y + Math.sin(i) * e }],
                                ["A", t, e, i, n],
                                ["L", t],
                            ];
                            return '<path class="' + s + '" vector-effect="non-scaling-stroke" d="' + Bi.definePath(o, !0) + '" ' + r + "/>";
                        }),
                        (Bi.getCurve = function (t, e, i) {
                            return (i = Wi(i)), '<path fill="none" class="' + e + '" vector-effect="non-scaling-stroke" d="' + this.definePath(this.Ec(t)) + '" ' + i + "/>";
                        }),
                        (Bi.getLine = function (t, e, i, n) {
                            return this.getPath(this.definePath(this.Rc([t, e]), !0), i, n);
                        }),
                        (Bi.getCircle = function (t, e, i, n) {
                            return (n = Wi(n)), '<circle class="' + i + '" cx="' + t.x + '" cy="' + t.y + '" r="' + e + '" ' + n + "/>";
                        }),
                        (Bi.getRect = function (t, e, i, n, s, r) {
                            return '<rect class="' + s + '" rx="0" ry="0" x="' + t + '" y="' + e + '" width="' + i + '" height="' + n + '" ' + (r = Wi(r)) + "/>";
                        });
                    var Yi = { paddingX: 6, paddingY: 6, radius: 2, minHeight: 4, eventRadius: 8 };
                    function Ui(e) {
                        this.config = t.extend(f(Yi), e || {}, !0);
                    }
                    (Ui.prototype.draw = function (t, e, i) {
                        var n = this.getPoints(t, e, i),
                            s = this.config,
                            r = Bi,
                            o = s.color ? this.Pc(r, s.color) : null,
                            a = r.definePath(this.jc(n)),
                            l = r.group(r.getPath(a, "webix_sparklines_line" + (o ? " " + o.line : "")));
                        l += this.Nc(r, n, s.radius, "webix_sparklines_item" + (o ? " " + o.item : ""));
                        var h = Math.min(t.length ? (e - 2 * (s.paddingX || 0)) / t.length : 0, s.eventRadius);
                        return (l += this.Lc(r, n, h)), r.draw(l, e, i, "webix_sparklines_line_chart" + (s.css ? " " + s.css : ""));
                    }),
                        (Ui.prototype.Pc = function (t, e) {
                            var i = { line: {}, item: {} },
                                n = t.styleMap;
                            if (e) for (var s in ((i.line[n.lineColor] = e), (i.item[n.color] = e), i)) i[s] = lt(i[s]);
                            return i;
                        }),
                        (Ui.prototype.Nc = function (t, e, i, n, s) {
                            for (var r = [], o = 0; o < e.length; o++) r.push(t.getCircle(e[o], i, n, s));
                            return t.group(r.join(""));
                        }),
                        (Ui.prototype.Lc = function (t, e, i) {
                            for (var n = [], s = 0; s < e.length; s++) n.push(t.getCircle(e[s], i, "webix_sparklines_event_area", { webix_area: s }));
                            return t.group(n.join(""));
                        }),
                        (Ui.prototype.jc = function (t) {
                            var e,
                                i,
                                n = [];
                            for (e = 0; e < t.length; e++) (i = e ? "L" : "M"), n.push([i, t[e]]);
                            return n;
                        }),
                        (Ui.prototype.getPoints = function (t, e, i) {
                            var n = this.config,
                                s = Math.min.apply(null, t);
                            void 0 !== n.origin && (s = Math.min(n.origin, s));
                            var r = Math.max.apply(null, t),
                                o = [],
                                a = n.paddingX || 0,
                                l = n.paddingY || 0;
                            e = (e || 100) - 2 * a;
                            var h = n.minHeight || 0;
                            if (((i = (i || 100) - 2 * l), t.length))
                                if (1 == t.length) o.push({ x: e / 2 + a, y: i / 2 + a });
                                else {
                                    var c = e / (t.length - 1),
                                        d = n.scale || r - s,
                                        u = (i - h) / (d || 1);
                                    d || (i /= 2);
                                    for (var p = 0; p < t.length; p++) o.push({ x: Math.ceil(c * p) + a, y: i - Math.ceil(u * (t[p] - s)) + l - h });
                                }
                            return o;
                        });
                    var Gi = { paddingX: 3, paddingY: 4, radius: 1, minHeight: 4, eventRadius: 8 };
                    function qi(e) {
                        this.config = t.extend(f(Gi), e || {}, !0);
                    }
                    (qi.prototype.draw = function (t, e, i) {
                        var n,
                            s,
                            r,
                            o,
                            a,
                            l = this.config,
                            h = Ui.prototype,
                            c = Bi;
                        return (
                            (o = this.getPoints(t, e, i)),
                            (r = c.definePath(h.jc(o), !0)),
                            l.color && (a = this.Pc(c, l.color)),
                            (s = c.group(c.getPath(r, "webix_sparklines_area" + (a ? " " + a.area : "")))),
                            o.splice(o.length - 3, 3),
                            (r = c.definePath(h.jc(o))),
                            (s += c.group(c.getPath(r, "webix_sparklines_line" + (a ? " " + a.line : "")))),
                            (s += h.Nc(c, o, l.radius, "webix_sparklines_item" + (a ? " " + a.item : ""))),
                            (n = Math.min(t.length ? (e - 2 * (l.paddingX || 0)) / t.length : 0, l.eventRadius)),
                            (s += h.Lc(c, o, n)),
                            c.draw(s, e, i, "webix_sparklines_area_chart" + (l.css ? " " + l.css : ""))
                        );
                    }),
                        (qi.prototype.Pc = function (t, e) {
                            var i = { area: {}, line: {}, item: {} },
                                n = t.styleMap;
                            if (e) for (var s in ((i.area[n.color] = t.setOpacity(e, 0.2)), (i.line[n.lineColor] = e), (i.item[n.color] = e), i)) i[s] = lt(i[s]);
                            return i;
                        }),
                        (qi.prototype.getPoints = function (t, e, i) {
                            var n = Ui.prototype.getPoints.call(this, t, e, i),
                                s = this.config.paddingX || 0,
                                r = this.config.paddingY || 0;
                            return n.push({ x: e - s, y: i - r }, { x: s, y: i - r }, { x: s, y: n[0].y }), n;
                        });
                    var Xi = {
                        paddingX: 3,
                        paddingY: 4,
                        width: 20,
                        margin: 4,
                        minHeight: 4,
                        eventRadius: 8,
                        origin: 0,
                        itemCss: function (t) {
                            return t < (this.config.origin || 0) ? " webix_sparklines_bar_negative" : "";
                        },
                    };
                    function Ki(e) {
                        this.config = t.extend(f(Xi), e || {}, !0);
                    }
                    (Ki.prototype.draw = function (t, e, i) {
                        var n,
                            s,
                            r,
                            o,
                            a,
                            l = this.config,
                            h = "",
                            c = [],
                            d = this.getPoints(t, e, i),
                            u = Bi;
                        for (n = 0; n < d.length; n++)
                            (s = "function" == typeof l.itemCss ? l.itemCss.call(this, t[n]) : l.itemCss || ""),
                                l.negativeColor && t[n] < l.origin ? (s += " " + this.Pc(u, l.negativeColor)) : l.color && (s += " " + this.Pc(u, l.color)),
                                (r = d[n]),
                                c.push(u.getRect(r.x, r.y, r.width, r.height, "webix_sparklines_bar " + s));
                        (h += u.group(c.join(""))), (o = parseInt(this.Oc(t, e, i), 10) + 0.5), (a = l.paddingX || 0), (h += u.group(u.getLine({ x: a, y: o }, { x: e - a, y: o }, "webix_sparklines_origin")));
                        var p = this.Wc(t, e, i),
                            f = [];
                        for (n = 0; n < p.length; n++) (r = p[n]), f.push(u.getRect(r.x, r.y, r.width, r.height, "webix_sparklines_event_area ", { webix_area: n }));
                        return (h += u.group(f.join(""))), u.draw(h, e, i, "webix_sparklines_bar_chart" + (l.css ? " " + l.css : ""));
                    }),
                        (Ki.prototype.Pc = function (t, e) {
                            var i = {},
                                n = t.styleMap;
                            return e && (i[n.color] = e), lt(i);
                        }),
                        (Ki.prototype.Oc = function (t, e, i) {
                            var n = this.config,
                                s = n.paddingY || 0,
                                r = s + (i = (i || 100) - 2 * s);
                            if (!1 !== n.origin) {
                                var o = Math.min.apply(null, t),
                                    a = Math.max.apply(null, t),
                                    l = n.origin || -1e-6;
                                a <= l ? (r = s) : o < l && (r -= (i / (a - o)) * (l - o));
                            }
                            return r;
                        }),
                        (Ki.prototype.Wc = function (t, e, i) {
                            var n = [],
                                s = this.config.paddingX || 0,
                                r = this.config.paddingY || 0;
                            if (((e = (e || 100) - 2 * s), (i = (i || 100) - 2 * r), t.length)) for (var o = e / t.length, a = 0; a < t.length; a++) n.push({ x: Math.ceil(o * a) + s, y: r, height: i, width: o });
                            return n;
                        }),
                        (Ki.prototype.getPoints = function (t, e, i) {
                            var n = this.config,
                                s = Math.min.apply(null, t);
                            n.origin < s && (s = n.origin);
                            var r = Math.max.apply(null, t),
                                o = [],
                                a = n.paddingX,
                                l = n.paddingY,
                                h = n.margin,
                                c = n.width || 20,
                                d = this.Oc(t, e, i);
                            if (((e = (e || 100) - 2 * a), (i = (i || 100) - 2 * l), t.length)) {
                                var u = e / t.length,
                                    p = n.scale || r - s;
                                h = u - (c = Math.min(u - h, c));
                                var f = 0,
                                    m = s;
                                !1 !== n.origin && n.origin > s ? (m = n.origin || 0) : (f = n.minHeight);
                                for (var g = (i - f) / (p || 1), v = 0; v < t.length; v++) {
                                    var b = Math.ceil(g * (t[v] - m));
                                    o.push({ x: Math.ceil(u * v) + a + h / 2, y: d - (t[v] >= m ? b : 0) - f, height: Math.abs(b) + f, width: c });
                                }
                            }
                            return o;
                        });
                    var Zi = { paddingY: 2 };
                    function Ji(e) {
                        this.config = t.extend(Zi, e || {}, !0);
                    }
                    (Ji.prototype.Uc = 0),
                        (Ji.prototype.Yc = ["#f55b50", "#ff6d3f", "#ffa521", "#ffc927", "#ffee54", "#d3e153", "#9acb61", "#63b967", "#21a497", "#21c5da", "#3ea4f5", "#5868bf", "#7b53c0", "#a943ba", "#ec3b77", "#9eb0b8"]),
                        (Ji.prototype.qc = function (t, e) {
                            var i = e.length,
                                n = this.Yc.length;
                            return i < n ? (t && (t = t < n - i ? this.Uc + 2 : this.Uc + 1), (this.Uc = t)) : (t %= n), this.Yc[t];
                        }),
                        (Ji.prototype.draw = function (t, e, i) {
                            var n,
                                s,
                                r,
                                o,
                                a = this.config,
                                l = a.color || this.qc,
                                h = this.getAngles(t),
                                c = Bi,
                                d = i / 2 - (a.paddingY || 0),
                                u = e / 2,
                                p = i / 2;
                            for (
                                "function" != typeof l &&
                                    (l = function () {
                                        return l;
                                    }),
                                    o = "",
                                    r = 0;
                                r < h.length;
                                r++
                            )
                                ((n = {})[c.styleMap.color] = l.call(this, r, t, this.Gc)), (o += c.getSector({ x: u, y: p }, d, h[r][0], h[r][1], "webix_sparklines_sector", n));
                            for (s = c.group(o), o = "", r = 0; r < h.length; r++) o += c.getSector({ x: u, y: p }, d, h[r][0], h[r][1], "webix_sparklines_event_area", { webix_area: r });
                            return (s += c.group(o)), c.draw(s, e, i, "webix_sparklines_pie_chart" + (a.css ? " " + a.css : ""));
                        }),
                        (Ji.prototype.getAngles = function (t) {
                            var e,
                                i,
                                n = -Math.PI / 2,
                                s = [],
                                r = this.Xc(t);
                            for (i = 0; i < t.length; i++) (e = -Math.PI / 2 + r[i] - 1e-4), s.push([n, e]), (n = e);
                            return s;
                        }),
                        (Ji.prototype.Kc = function (t) {
                            for (var e = 0, i = 0; i < t.length; i++) e += 1 * t[i];
                            return e;
                        }),
                        (Ji.prototype.Xc = function (t) {
                            var e,
                                i,
                                n = [],
                                s = 0,
                                r = this.Kc(t);
                            for (e = 0; e < t.length; e++) (i = 1 * t[e]), (n[e] = 2 * Math.PI * (r ? (i + s) / r : 1 / t.length)), (s += i);
                            return n;
                        });
                    var Qi = { paddingX: 3, paddingY: 6, radius: 2, minHeight: 4, eventRadius: 8 };
                    function tn(e) {
                        this.config = t.extend(f(Qi), e || {}, !0);
                    }
                    (tn.prototype.draw = function (t, e, i) {
                        var n = this.config,
                            s = "",
                            r = Ui.prototype,
                            o = this.getPoints(t, e, i),
                            a = Bi,
                            l = n.color ? this.Pc(a, n.color) : null;
                        s += a.group(a.getCurve(o, "webix_sparklines_line" + (l ? " " + l.line : "")));
                        var h = r.getPoints.call(this, t, e, i);
                        s += r.Nc(a, h, n.radius, "webix_sparklines_item" + (l ? " " + l.item : ""));
                        var c = Math.min(t.length ? (e - 2 * (n.paddingX || 0)) / t.length : 0, n.eventRadius);
                        return (s += r.Lc(a, h, c)), a.draw(s, e, i, "webix_sparklines_line_chart" + (n.css ? " " + n.css : ""));
                    }),
                        (tn.prototype.Pc = function (t, e) {
                            var i = { line: {}, item: {} },
                                n = t.styleMap;
                            if (e) for (var s in ((i.line[n.lineColor] = e), (i.item[n.color] = e), i)) i[s] = lt(i[s]);
                            return i;
                        }),
                        (tn.prototype.getPoints = function (t, e, i) {
                            var n,
                                s,
                                r,
                                o,
                                a = [],
                                l = [],
                                h = [];
                            for (s = Ui.prototype.getPoints.call(this, t, e, i), n = 0; n < s.length; n++) l.push(s[n].x), h.push(s[n].y);
                            for (r = this.Jc(l), o = this.Jc(h), n = 0; n < s.length - 1; n++) a.push([s[n], { x: r[0][n], y: o[0][n] }, { x: r[1][n], y: o[1][n] }, s[n + 1]]);
                            return a;
                        }),
                        (tn.prototype.Jc = function (t) {
                            var e,
                                i,
                                n = [],
                                s = [],
                                r = [],
                                o = [],
                                a = [],
                                l = [],
                                h = t.length - 1;
                            for (s[(n[0] = 0)] = 2, r[0] = 1, o[0] = t[0] + 2 * t[1], e = 1; e < h - 1; e++) (n[e] = 1), (s[e] = 4), (r[e] = 1), (o[e] = 4 * t[e] + 2 * t[e + 1]);
                            for (n[h - 1] = 2, s[h - 1] = 7, r[h - 1] = 0, o[h - 1] = 8 * t[h - 1] + t[h], e = 1; e < h; e++) (i = n[e] / s[e - 1]), (s[e] = s[e] - i * r[e - 1]), (o[e] = o[e] - i * o[e - 1]);
                            for (a[h - 1] = o[h - 1] / s[h - 1], e = h - 2; 0 <= e; --e) a[e] = (o[e] - r[e] * a[e + 1]) / s[e];
                            for (e = 0; e < h - 1; e++) l[e] = 2 * t[e + 1] - a[e + 1];
                            return (l[h - 1] = 0.5 * (t[h] + a[h - 1])), [a, l];
                        });
                    var en = { paddingX: 3, paddingY: 6, radius: 1, minHeight: 4, eventRadius: 8 };
                    function nn(e) {
                        this.config = t.extend(f(en), e || {}, !0);
                    }
                    function sn() {}
                    ((nn.prototype = f(tn.prototype)).draw = function (t, e, i) {
                        var n = this.config,
                            s = Ui.prototype,
                            r = Bi,
                            o = n.color ? this.Pc(r, n.color) : null,
                            a = this.getPoints(t, e, i),
                            l = a.splice(a.length - 3, 3),
                            h = r.Rc(l);
                        h[0][0] = "L";
                        var c = r.Ec(a).concat(h),
                            d = r.group(r.getPath(r.definePath(c), "webix_sparklines_area" + (o ? " " + o.area : ""), !0));
                        d += r.group(r.getPath(r.definePath(r.Ec(a)), "webix_sparklines_line" + (o ? " " + o.line : "")));
                        var u = s.getPoints.call(this, t, e, i);
                        d += s.Nc(r, u, n.radius, "webix_sparklines_item" + (o ? " " + o.item : ""));
                        var p = Math.min(t.length ? (e - 2 * (n.paddingX || 0)) / t.length : 0, n.eventRadius);
                        return (d += s.Lc(r, u, p)), r.draw(d, e, i, "webix_sparklines_splinearea_chart" + (n.css ? " " + n.css : ""));
                    }),
                        (nn.prototype.Pc = function (t, e) {
                            var i = { area: {}, line: {}, item: {} },
                                n = t.styleMap;
                            if (e) for (var s in ((i.area[n.color] = t.setOpacity(e, 0.2)), (i.line[n.lineColor] = e), (i.item[n.color] = e), i)) i[s] = lt(i[s]);
                            return i;
                        }),
                        (nn.prototype.getPoints = function (t, e, i) {
                            var n = tn.prototype.getPoints.call(this, t, e, i),
                                s = this.config.paddingX || 0,
                                r = this.config.paddingY || 0;
                            return n.push({ x: e - s, y: i - r }, { x: s, y: i - r }, { x: s, y: n[0][0].y }), n;
                        }),
                        (sn.types = {}),
                        (sn.getTemplate = function (e) {
                            var i = e || {};
                            "string" == typeof e && (i = { type: e }), t.extend(i, { type: "line" });
                            var n = this.types[i.type];
                            return m(this.Zc, new n(i));
                        }),
                        (sn.Zc = function (t, i, n, s) {
                            return s
                                ? this.draw(
                                      (function (t) {
                                          for (var i = [], n = t.length - 1; 0 <= n; n--) {
                                              var s = t[n];
                                              i[n] = "object" === e(s) ? s.value : s;
                                          }
                                          return i;
                                      })(n),
                                      s.width,
                                      33
                                  )
                                : this.draw(t.data || t, i.width, i.height);
                        }),
                        A("onDataTable", function (t) {
                            t.type.sparklines = sn.getTemplate();
                        }),
                        (sn.types.area = qi),
                        (sn.types.bar = Ki),
                        (sn.types.line = Ui),
                        (sn.types.pie = Ji),
                        (sn.types.spline = tn),
                        (sn.types.splineArea = nn);
                    var rn = {
                            escape: !0,
                            delimiter: { rows: "\n", cols: "\t" },
                            parse: function (t, e) {
                                if (((e = e || this.delimiter), !this.escape)) return this.Qc(t, e);
                                for (var i = t.replace(/\n$/, "").split(e.rows), n = 0; n < i.length - 1; ) this.tf(i[n], '"') % 2 == 1 && ((i[n] += e.rows + i[n + 1]), delete i[n + 1], n++), n++;
                                var s = [];
                                for (n = 0; n < i.length; n++)
                                    if (void 0 !== i[n]) {
                                        for (var r = i[n], o = 0, a = [], l = !1, h = 0; h <= r.length; h++) {
                                            if ((!l && r[h] === e.cols) || h === r.length) {
                                                var c = r.substr(o, h - o);
                                                c[0] === c[c.length - 1] && '"' === c[0] && (c = c.substr(1, c.length - 2).replace('""', '"')), a.push(c), (o = h + 1);
                                            }
                                            '"' !== r[h] || (l = !l);
                                        }
                                        s.push(a);
                                    }
                                return s;
                            },
                            Qc: function (t, e) {
                                for (var i = t.split(e.rows), n = 0; n < i.length; n++) i[n] = i[n].split(e.cols);
                                return i;
                            },
                            tf: function (t, e) {
                                return t.split(e).length - 1;
                            },
                            stringify: function (t, e) {
                                if (((e = e || this.delimiter), !this.escape)) {
                                    for (var i = 0; i < t.length; i++) t[i] = t[i].join(e.cols);
                                    return t.join(e.rows);
                                }
                                for (var n = /\n|"|;|,/, s = 0; s < t.length; s++) {
                                    for (var r = 0; r < t[s].length; r++) {
                                        var o = t[s][r];
                                        o instanceof Date ? (t[s][r] = T.parseFormatStr(o)) : n.test(o) && (t[s][r] = '"' + o.toString().replace(/"/g, '""') + '"');
                                    }
                                    t[s] = t[s].join(e.cols);
                                }
                                return t.join(e.rows);
                            },
                        },
                        on = {
                            clipboard_setter: function (t) {
                                return (
                                    G.touch ||
                                        ((!0 !== t && 1 !== t) || (t = "block"),
                                        ni.init(),
                                        this.attachEvent("onSelectChange", this.if),
                                        this.attachEvent("onItemClick", function () {
                                            document.activeElement && this.$view.contains(document.activeElement) && (ni.focus(), ke.setFocus(this));
                                        }),
                                        this.attachEvent("onPaste", this.ef)),
                                    t
                                );
                            },
                            templateCopy_setter: Ut,
                            if: function () {
                                if (!this.getEditor || !this.getEditor()) {
                                    var t = this.sf();
                                    ni.set(t), ke.setFocus(this);
                                }
                            },
                            sf: function () {
                                var t = [],
                                    e = this.P.templateCopy;
                                return (
                                    this.mapSelection(function (i, n, s, r) {
                                        t[r] || (t[r] = []);
                                        var o = e ? e(i, n, s) : i;
                                        return t[r].push(o), i;
                                    }),
                                    1 === t.length && 1 === t[0].length ? t[0][0] : rn.stringify(t, this.P.delimiter)
                                );
                            },
                            ef: function (t) {
                                if (!v(this.Zn[this.P.clipboard])) {
                                    var e = rn.parse(t, this.P.delimiter);
                                    this.Zn[this.P.clipboard].call(this, e);
                                }
                            },
                            Zn: {
                                block: function (t) {
                                    var e = this.mapSelection(null);
                                    e &&
                                        (this.mapCells(e.row, e.column, t.length, null, function (e, i, n, s, r) {
                                            return t[s] && t[s].length > r ? t[s][r] : e;
                                        }),
                                        this.render());
                                },
                                selection: function (t) {
                                    this.mapSelection(function (e, i, n, s, r) {
                                        return t[s] && t[s].length > r ? t[s][r] : e;
                                    }),
                                        this.render();
                                },
                                repeat: function (t) {
                                    this.mapSelection(function (e, i, n, s, r) {
                                        return (i = t[s % t.length])[r % i.length];
                                    }),
                                        this.render();
                                },
                                custom: function () {},
                            },
                        },
                        an = {
                            open: function (t, e) {
                                if (t) {
                                    var i = this.getItem(t);
                                    i.$count &&
                                        !i.open &&
                                        (this.callEvent("onBeforeOpen", [t]) && ((i.open = !0), this.data.callEvent("onStoreUpdated", [t, 0, "branch"]), this.callEvent("onAfterOpen", [t])),
                                        e && "0" != t && this.open(this.getParentId(t), e));
                                }
                            },
                            close: function (t) {
                                if (t) {
                                    var e = this.getItem(t);
                                    e.open && this.callEvent("onBeforeClose", [t]) && ((e.open = !1), this.data.callEvent("onStoreUpdated", [t, 0, "branch"]), this.callEvent("onAfterClose", [t]));
                                }
                            },
                            openAll: function (t) {
                                this.data.eachSubItem(t || 0, function (t, e) {
                                    e && (t.open = !0);
                                }),
                                    this.data.refresh();
                            },
                            closeAll: function (t) {
                                this.data.eachSubItem(t || 0, function (t, e) {
                                    e && (t.open = !1);
                                }),
                                    this.data.refresh();
                            },
                            nf: function (t, e, i) {
                                if (this.P.threeState) return this.hf(t, null !== e ? e : "");
                                var n,
                                    s = this.getItem(t),
                                    r = i ? i.target : null;
                                (n = r && "checkbox" == r.type ? !!r.checked : null !== e ? e : !s.checked), (s.checked = n), this.callEvent("onItemCheck", [t, s.checked, i]);
                            },
                            isBranchOpen: function (t) {
                                if ("0" == t) return !0;
                                var e = this.getItem(t);
                                return !!e.open && this.isBranchOpen(e.$parent);
                            },
                            getOpenItems: function () {
                                var t = [];
                                for (var e in this.data.branch) this.exists(e) && this.getItem(e).open && t.push(e);
                                return t;
                            },
                            getState: function () {
                                return { open: this.getOpenItems(), select: this.getSelectedId(!0) };
                            },
                            rf: function (t, e) {
                                var i = this.data.attachEvent("onStoreLoad", function () {
                                    t.setState.call(t, e), t.data.detachEvent(i), (t = null);
                                });
                            },
                            setState: function (t) {
                                if (t.open) {
                                    this.closeAll();
                                    for (var e = t.open, i = 0; i < e.length; i++) {
                                        var n = this.getItem(e[i]);
                                        if (n && n.$count && ((n.open = !0), -1 == n.$count)) return this.rf(this, t), this.refresh(), 0;
                                    }
                                    this.refresh();
                                }
                                if (t.select && this.select) {
                                    var s = t.select;
                                    this.unselect();
                                    for (var r = 0; r < s.length; r++) this.exists(s[r]) && this.select(s[r], !0);
                                }
                                return 1;
                            },
                        },
                        ln = {
                            webix_tree_open: function (t, e) {
                                return this.close(e), !1;
                            },
                            webix_tree_close: function (t, e) {
                                return this.open(e), !1;
                            },
                            webix_tree_checkbox: function (t, e) {
                                return this.nf(e, null, t), !1;
                            },
                        },
                        hn = {
                            $init: function () {
                                this.data.attachEvent("onStoreUpdated", m(this.af, this), null, !0), (this.vo = this.uf);
                            },
                            uf: function (t, e, i, n, s, r) {
                                return (s = 0 === e ? { parent: encodeURIComponent(t) } : null), mi.prototype.vo.call(this, t, e, i, n, s, r);
                            },
                            loadBranch: function (t, e, i) {
                                return (t = t || 0), (this.data.url = i || this.data.url), this.callEvent("onDataRequest", [t, e, this.data.url]) && this.data.url ? this.data.feed.call(this, t, 0, e, i) : l.reject();
                            },
                            af: function (t, e, i) {
                                (i && "add" != i && "delete" != i && "branch" != i) || this.data.cf(this);
                            },
                        },
                        cn = {
                            $init: function () {
                                this.data;
                            },
                            copy: function (t, e, i, n) {
                                return ((n = n || {}).copy = !0), this.move(t, e, i, n);
                            },
                            Zh: function (t, e, i) {
                                if (e && t) {
                                    var n = this.getBranchIndex(t);
                                    return n + (i == this && this.getParentId(t) == this.getParentId(e) && i.getBranchIndex(e) < n ? 0 : 1);
                                }
                            },
                            ff: function (t, e) {
                                var i = this.data.branch[t];
                                if (i && i.length)
                                    for (var n = 0; n < i.length; n++) {
                                        if (i[n] == e) return !0;
                                        if (this.ff(i[n], e)) return !0;
                                    }
                                return !1;
                            },
                            lf: function (t) {
                                for (var e = 0; e < t.length; e++) for (var i = t[e]; this.getParentId(i); ) (i = this.getParentId(i)), -1 == I.find.call(t, i) || (t.splice(e, 1), e--);
                                return t;
                            },
                            move: function (t, e, i, n) {
                                e = e || 0;
                                var s = (n = n || {}).newId || t,
                                    r = n.parent || 0;
                                if (((i = i || this).data, i.data)) {
                                    if (!P(t)) {
                                        if (this != i || n.copy) {
                                            if (((s = i.data.add(i.Jh(this.getItem(t), s), e, r || 0)), this.data.branch[t] && i.getBranchIndex)) {
                                                var o = this.data.vr;
                                                this.data.vr = function (t) {
                                                    var e = f(t);
                                                    return delete e.$parent, delete e.$level, delete e.$child, i.data.pull[e.id] && (e.id = x()), e;
                                                };
                                                var a = { data: this.serialize(t, !0), parent: s };
                                                (this.data.vr = o), i.parse(a);
                                            }
                                            n.copy || this.data.remove(t);
                                        } else {
                                            if (t == r || this.ff(t, r)) return;
                                            var l = this.getItem(t),
                                                h = this.data.branch[r];
                                            h || (h = this.data.branch[r] = []);
                                            var c = this.data.branch[l.$parent],
                                                d = I.find.call(c, t);
                                            if ((e < 0 && (e = h.length), c === h && e === d)) return s;
                                            if (
                                                (I.removeAt.call(c, d),
                                                I.insertAt.call(h, t, Math.min(h.length, e)),
                                                c.length || delete this.data.branch[l.$parent],
                                                l.$parent && "0" != l.$parent && this.getItem(l.$parent).$count--,
                                                r && "0" != r)
                                            ) {
                                                var u = i.getItem(r);
                                                u.$count++, this.df(l, u.$level + 1);
                                            } else this.df(l, 1);
                                            (l.$parent = r), i.data.callEvent("onDataMove", [t, e, r, h[e + 1]]);
                                        }
                                        return this.refresh(), s;
                                    }
                                    this.lf(t);
                                    for (var p = 0; p < t.length; p++) {
                                        var m = this.move(t[p], e, i, n);
                                        e = i.Zh(m, t[p + 1], this);
                                    }
                                }
                            },
                            df: function (t, e) {
                                t.$level = e;
                                var i = this.data.branch[t.id];
                                if (i) for (var n = 0; n < i.length; n++) this.df(this.getItem(i[n]), e + 1);
                            },
                            Ho: function (t) {
                                t && !t.header && this.exists(t) && this.Ro(t) != Xe.Gs.start && this.open(t);
                            },
                            $dropAllow: function (t) {
                                if (t.from != t.to) return !0;
                                for (var e = 0; e < t.source.length; e++) if (this.ff(t.source, t.target)) return !1;
                                return !0;
                            },
                            Jh: function (t, e) {
                                var i = li.Jh.call(this, t, e);
                                return delete i.open, i;
                            },
                        },
                        dn = {
                            $init: function () {
                                this.render;
                            },
                            vf: function (t) {
                                var e = this.data.Dr[t.id];
                                return (
                                    this.callEvent("onItemRender", [t]),
                                    this.type.templateStart(t, this.type, e) + (t.$template ? this.type["template" + t.$template](t, this.type, e) : this.type.template(t, this.type, e)) + this.type.templateEnd()
                                );
                            },
                            _f: function (t) {
                                return (this.Oi.innerHTML = this.vf(t)), this.Oi.firstChild;
                            },
                            Q: function (t) {
                                !t.$template || this.type["template" + t.$template], t.$template;
                                var e = "<div role='presentation' class='webix_tree_branch_" + t.$level + "'>" + this.vf(t);
                                return t.open && (e += this.pf(t.id)), e + "</div>";
                            },
                            pf: function (t) {
                                var e = "",
                                    i = this.data.branch[t];
                                if (i) {
                                    e += "<div role='presentation' class='webix_tree_leaves'>";
                                    for (var n = i.length - 1, s = 0; s <= n; s++) {
                                        var r = this.getItem(i[s]),
                                            o = this.type.bf;
                                        0 !== o && (o[r.$level] = s == n), (e += this.Q(r));
                                    }
                                    e += "</div>";
                                }
                                return e;
                            },
                            render: function (t, e, i) {
                                if ((dn.ze = this).isVisible(this.P.id) && !this.$blockRender) {
                                    if (t) {
                                        var n,
                                            s,
                                            r = this.getItem(t);
                                        if ("add" != i && !(n = this.getItemNode(t))) return;
                                        switch (i) {
                                            case "branch":
                                                var o = n.parentNode;
                                                ft((s = this.gc(r)), o), pt(o), (this.Ni = null);
                                                break;
                                            case "paint":
                                            case "update":
                                                ft((s = this.Ni[t] = this._f(r)), n), pt(n);
                                                break;
                                            case "delete":
                                                pt(n.parentNode);
                                                break;
                                            case "add":
                                                var a;
                                                if (0 == r.$parent) a = this.tt.firstChild;
                                                else if (this.getItem(r.$parent).open && (a = this.getItemNode(r.$parent))) {
                                                    if (!a.nextSibling) {
                                                        var l = dt("DIV", { class: "webix_tree_leaves" }, "");
                                                        a.parentNode.appendChild(l);
                                                    }
                                                    a = a.nextSibling;
                                                }
                                                if (a) {
                                                    var h = this.data.getNextSiblingId(t);
                                                    (h = this.getItemNode(h)) && (h = h.parentNode), (s = this.gc(r)), (this.Ni[t] = s.firstChild), ft(s, h, a);
                                                }
                                                break;
                                            default:
                                                return !1;
                                        }
                                        this.callEvent("onPartialRender", [t, e, i]);
                                    } else this.callEvent("onBeforeRender", [this.data]) && ((this.type.bf = []), (this.tt.innerHTML = this.pf(0)), (this.Ni = null), this.callEvent("onAfterRender", []));
                                    return (this.type.bf = 0), !(dn.ze = null);
                                }
                            },
                            getItemNode: function (t) {
                                if (this.Ni) return this.Ni[t];
                                this.Ni = {};
                                for (var e = this.tt.getElementsByTagName("DIV"), i = 0; i < e.length; i++) {
                                    var n = e[i].getAttribute(this.Qo);
                                    n && (this.Ni[n] = e[i]);
                                }
                                return this.getItemNode(t);
                            },
                            mf: 1,
                        },
                        un = {
                            gf: function () {
                                if (this.mf) {
                                    var t = this.render;
                                    (this.render = function (e, i) {
                                        var n = t.apply(this, arguments);
                                        this.P.threeState && n && "checkbox" != i && this.wf.apply(this, arguments);
                                    }),
                                        (this.gf = function () {});
                                }
                            },
                            threeState_setter: function (t) {
                                return t && this.gf(), t;
                            },
                            wf: function (t) {
                                var e, i, n, s, r;
                                if (((n = []), (r = this), t && !r.data.pull[t] && (t = 0), !t || r.data.pull[t].$count))
                                    for (
                                        (i = this.xf(t)).sort(function (t, e) {
                                            return r.data.pull[e].$level - r.data.pull[t].$level;
                                        }),
                                            e = 0;
                                        e < i.length;
                                        e++
                                    )
                                        (e && r.data.pull[i[e]].$parent == r.data.pull[i[e - 1]].$parent) || (n = n.concat(r.yf(i[e])));
                                else n = n.concat(r.yf(t));
                                for (s = {}, e = 0; e < n.length; e++) s[n[e]] || ((s[n[e]] = 1), this.Mf(n[e]));
                                r = null;
                            },
                            Mf: function (t) {
                                var e;
                                this.getItemNode(t) && (this.render(t, "checkbox", "update"), this.getItem(t).indeterminate && (e = this.getItemNode(t).getElementsByTagName("input")[0]) && (e.indeterminate = this.getItem(t).indeterminate));
                            },
                            yf: function (t) {
                                var e, i, n, s, r, o, a;
                                for (s = this.getParentId(t), r = []; s && "0" != s; ) {
                                    (i = o = 0),
                                        this.data.eachChild(s, function (t) {
                                            t.indeterminate ? o++ : t.checked && i++;
                                        }),
                                        (e = n = a = !1);
                                    var l = this.getItem(s);
                                    i == l.$count ? (e = !0) : (0 < i || 0 < o) && (n = !0),
                                        (n || n != l.indeterminate) && (a = !0),
                                        (l.indeterminate = n),
                                        (e || l.checked != e) && (a = !0),
                                        (l.checked = e),
                                        (s = a ? (r.push(s), this.getParentId(s)) : 0);
                                }
                                return r;
                            },
                            getChecked: function () {
                                var t = [],
                                    e = this;
                                return (
                                    this.data.eachSubItem(0, function (i) {
                                        e.isChecked(i.id) && t.push(i.id);
                                    }),
                                    t
                                );
                            },
                            hf: function (t, e) {
                                var i = this.getItem(t);
                                if (i && ("" === e && (e = !i.checked), i.checked != e || i.indeterminate)) {
                                    (i.checked = e), this.Sf(t);
                                    var n = this.yf(t);
                                    if (this.mf && n.length < 5) for (var s = 0; s < n.length; s++) this.Mf(n[s]);
                                    else this.refresh();
                                    this.callEvent("onItemCheck", [t, e]);
                                }
                            },
                            checkItem: function (t) {
                                this.nf(t, !0), this.updateItem(t);
                            },
                            uncheckItem: function (t) {
                                this.nf(t, !1), this.updateItem(t);
                            },
                            kf: function (t, e, i) {
                                var n = e ? "checkItem" : "uncheckItem";
                                t ? this[n](t) : (t = 0),
                                    this.P.threeState
                                        ? t ||
                                          this.data.eachChild(
                                              0,
                                              function (t) {
                                                  this[n](t.id);
                                              },
                                              this,
                                              i
                                          )
                                        : this.data.each(
                                              function (t) {
                                                  this[n](t.id);
                                              },
                                              this,
                                              i,
                                              t
                                          );
                            },
                            checkAll: function (t, e) {
                                this.kf(t, !0, e);
                            },
                            uncheckAll: function (t, e) {
                                this.kf(t, !1, e);
                            },
                            Sf: function (t) {
                                var e,
                                    i = this.getItem(t);
                                (i.indeterminate = !1),
                                    (e = i.checked),
                                    this.data.eachSubItem(t, function (t) {
                                        (t.indeterminate = !1), (t.checked = e);
                                    }),
                                    this.mf && this.isBranchOpen(i.$parent) && this.render(t, 0, "branch");
                            },
                            isChecked: function (t) {
                                return this.getItem(t).checked;
                            },
                            xf: function (t) {
                                var e = [];
                                return (
                                    this.data.eachSubItem(t, function (t, i) {
                                        i || e.push(t.id);
                                    }),
                                    e
                                );
                            },
                        },
                        pn = {
                            name: "TreeStore",
                            $init: function () {
                                (this.so = { showSubItems: !0 }),
                                    (this.branch = { 0: [] }),
                                    this.attachEvent("onParse", function (t) {
                                        this.qr(t.child);
                                    }),
                                    this.attachEvent(
                                        "onClearAll",
                                        m(function () {
                                            this.Wr = null;
                                        }, this)
                                    );
                            },
                            filterMode_setter: function (e) {
                                return t.extend(this.so, e, !0);
                            },
                            io: function (t) {
                                if (this.Wr && !t) {
                                    for (var e in ((this.branch = this.Wr), (this.order = C(f(this.branch[0]))), this.branch)) "0" != e && (this.getItem(e).$count = this.branch[e].length);
                                    delete this.Wr;
                                }
                            },
                            eo: function (t, e, i, n) {
                                (i && this.Wr) || ((this.Wr = this.branch), (this.branch = p(this.branch))), (this.branch[0] = this.Cf(t, e, this.branch[0], 1, n || {}));
                            },
                            Cf: function (t, e, i, n, s) {
                                for (var r = [], o = s.level && s.level != n, a = 0; a < i.length; a++) {
                                    var l = i[a],
                                        h = this.getItem(l),
                                        c = !1,
                                        d = this.branch[l];
                                    if (o) c = !0;
                                    else if (t(this.getItem(l), e)) {
                                        if ((r.push(l), !1 !== s.openParents)) for (var u = this.getParentId(l); u && "0" != u; ) (this.getItem(u).open = 1), (u = this.getParentId(u));
                                        if (s.level || s.showSubItems) continue;
                                    } else c = !0;
                                    if ((o || !s.level) && d) {
                                        var p = (this.branch[l] = this.Cf(t, e, d, n + 1, s));
                                        (h.$count = p.length), c && p.length && r.push(l);
                                    }
                                }
                                return r;
                            },
                            count: function () {
                                if (this.order.length) return this.order.length;
                                var t = 0;
                                return (
                                    this.eachOpen(function () {
                                        t++;
                                    }),
                                    t
                                );
                            },
                            $f: function (t, e, i, n) {
                                if (t[i]) {
                                    for (var s = (t[n] = t[i]), r = 0; r < s.length; r++) this.getItem(s[r]).$parent = n;
                                    delete t[i];
                                }
                                if (t[e]) {
                                    var o = I.find.call(t[e], i);
                                    0 <= o && (t[e][o] = n);
                                }
                            },
                            changeId: function (t, e) {
                                if (t != e) {
                                    var i = this.getItem(t).$parent;
                                    return this.$f(this.branch, i, t, e), this.Wr && this.$f(this.Wr, i, t, e), fi.prototype.changeId.call(this, t, e);
                                }
                            },
                            clearAll: function (t) {
                                (this.branch = { 0: [] }), fi.prototype.clearAll.call(this, t);
                            },
                            getPrevSiblingId: function (t) {
                                var e = this.branch[this.getItem(t).$parent],
                                    i = I.find.call(e, t) - 1;
                                return 0 <= i ? e[i] : null;
                            },
                            getNextSiblingId: function (t) {
                                var e = this.branch[this.getItem(t).$parent],
                                    i = I.find.call(e, t) + 1;
                                return i < e.length ? e[i] : null;
                            },
                            getParentId: function (t) {
                                return this.getItem(t).$parent;
                            },
                            getFirstChildId: function (t) {
                                var e = this.branch[t];
                                return e && e.length ? e[0] : null;
                            },
                            isBranch: function (t) {
                                return !!this.branch[t];
                            },
                            getBranchIndex: function (t) {
                                var e = this.branch[this.pull[t].$parent];
                                return I.find.call(e, t);
                            },
                            qr: function (t) {
                                this.Yr =
                                    "string" == typeof t
                                        ? function (e) {
                                              var i = e[t];
                                              return i && delete e[t], i;
                                          }
                                        : t;
                            },
                            Ar: function (e, i) {
                                for (var n = e.parent || 0, s = 0; s < i.length; s++) {
                                    var r = this.driver.getDetails(i[s]),
                                        o = this.id(r),
                                        a = !!this.pull[o];
                                    a ? ((r = t.extend(this.pull[o], r, !0)), this.Hr && this.Hr(r)) : (this.Rr && this.Rr(r), (this.pull[o] = r)), this.Ur(r, n, 0, a, e.from ? 1 * e.from + s : 0);
                                }
                                var l = this.pull[n] || {},
                                    h = this.branch[n] || [];
                                (l.$count = h.length), delete l.webix_kids, e.size && e.size != h.length && (h[e.size - 1] = void 0);
                            },
                            Ur: function (e, i, n, s, r) {
                                (e.$count = 0), (e.$parent = "0" != i ? i : 0), (e.$level = n || ("0" != i ? this.pull[i].$level + 1 : 1));
                                var o = this.branch[e.$parent];
                                o || (o = this.branch[e.$parent] = []), this.Wr && (this.Wr[e.$parent] = o), s || (o[r || o.length] = e.id);
                                var a = this.Yr(e);
                                if (e.webix_kids) return (e.$count = -1);
                                if (!a) return (e.$count = 0);
                                P(a) || (a = [a]);
                                for (var l = 0; l < a.length; l++) {
                                    var h = Nt.json.getDetails(a[l]),
                                        c = this.id(h);
                                    (s = !!this.pull[c]) ? ((h = t.extend(this.pull[c], h, !0)), this.Hr && this.Hr(h)) : (this.Rr && this.Rr(h), (this.pull[c] = h)), this.Ur(h, e.id, e.$level + 1, s);
                                }
                                var d = this.branch[e.id];
                                d && (e.$count = d.length);
                            },
                            cf: function (t) {
                                (this.order = C()), this.Df(this.order, 0, t);
                            },
                            Df: function (t, e, i) {
                                for (var n = this.branch[e], s = 0; s < n.length; s++) {
                                    var r = n[s];
                                    t.push(r);
                                    var o = this.pull[r];
                                    o && o.open && (-1 == o.$count ? i.loadBranch(r) : o.$count && this.Df(t, r, i));
                                }
                            },
                            provideApi: function (t, e) {
                                for (var i = ["getPrevSiblingId", "getNextSiblingId", "getParentId", "getFirstChildId", "isBranch", "getBranchIndex", "filterMode_setter"], n = 0; n < i.length; n++) t[i[n]] = this.ho(this, i[n]);
                                t.getIndexById || fi.prototype.provideApi.call(this, t, e);
                            },
                            getTopRange: function () {
                                return C([].concat(this.branch[0])).map(function (t) {
                                    return this.getItem(t);
                                }, this);
                            },
                            eachChild: function (t, e, i, n) {
                                var s = this.branch;
                                n && this.Wr && (s = this.Wr);
                                var r = s[t];
                                if (r) for (var o = 0; o < r.length; o++) r[o] && e.call(i || this, this.getItem(r[o]));
                            },
                            each: function (t, e, i, n) {
                                this.eachChild(
                                    n || 0,
                                    function (n) {
                                        var s = this.branch;
                                        t.call(e || this, n), i && this.Wr && (s = this.Wr), n && s[n.id] && this.each(t, e, i, n.id);
                                    },
                                    this,
                                    i
                                );
                            },
                            eachOpen: function (t, e, i) {
                                this.eachChild(i || 0, function (i) {
                                    t.call(e || this, i), this.branch[i.id] && i.open && this.eachOpen(t, e, i.id);
                                });
                            },
                            eachSubItem: function (t, e) {
                                var i = this.branch[t || 0];
                                if (i)
                                    for (var n = 0; n < i.length; n++) {
                                        var s = i[n];
                                        this.branch[s] ? (e.call(this, this.getItem(s), !0), this.eachSubItem(s, e)) : e.call(this, this.getItem(s), !1);
                                    }
                            },
                            eachLeaf: function (t, e) {
                                var i = this.branch[t || 0];
                                if (i)
                                    for (var n = 0; n < i.length; n++) {
                                        var s = i[n];
                                        this.branch[s] ? this.eachLeaf(s, e) : e.call(this, this.getItem(s), !1);
                                    }
                            },
                            Qr: function (t, e) {
                                for (var i in this.branch) {
                                    for (var n = this.branch[i], s = [], r = 0; r < n.length; r++) s.push(this.pull[n[r]]);
                                    s.sort(t);
                                    for (var o = 0; o < n.length; o++) s[o] = s[o].id;
                                    this.branch[i] = s;
                                }
                                return e;
                            },
                            add: function (t, e, i) {
                                var n = !1,
                                    s = this.getItem(i || 0);
                                if (
                                    (s && (this.branch[s.id] || (n = !0), s.$count++, s.$count || (s.$count = 1)),
                                    (this.branch[i || 0] = this.order = C(this.branch[i || 0])),
                                    (t.$count = t.webix_kids ? -1 : 0),
                                    (t.$level = s ? s.$level + 1 : 1),
                                    (t.$parent = s ? s.id : 0),
                                    this.Wr)
                                ) {
                                    var r = this.Wr[i || 0];
                                    if ((r || (r = this.Wr[i] = this.order), this.order !== r)) {
                                        var o = r.length;
                                        !e && this.branch[i || 0].length && (o = 0), (r = C(r)), (t.id = t.id || x()), r.insertAt(t.id, o);
                                    }
                                }
                                var a = fi.prototype.add.call(this, t, e);
                                return n && this.refresh(i), a;
                            },
                            If: function (t) {
                                var e = this.pull[t];
                                if (this.branch[e.id] && 0 < this.branch[e.id].length) for (var i = this.branch[t], n = 0; n < i.length; n++) this.If(i[n], !0);
                                delete this.branch[t], this.Wr && delete this.Wr[t], delete this.pull[t], this.Dr[t] && delete this.Dr[t];
                            },
                            Af: function (t, e, i) {
                                var n = t[e];
                                1 == n.length && n[0] == i && e ? delete t[e] : C(n).remove(i);
                            },
                            remove: function (t) {
                                if (P(t)) for (var e = 0; e < t.length; e++) this.remove(t[e]);
                                else {
                                    this.exists(t);
                                    var i = this.pull[t],
                                        n = i.$parent || 0;
                                    if (!1 === this.callEvent("onBeforeDelete", [t])) return !1;
                                    this.If(t), this.callEvent("onAfterDelete", [t]);
                                    var s = this.pull[n];
                                    this.Af(this.branch, n, t), this.Wr && this.Af(this.Wr, n, t);
                                    var r = 0;
                                    s && (s.$count--, s.$count <= 0 && ((s.$count = 0), (s.open = 0), (r = 1))), this.callEvent("onStoreUpdated", [t, i, "delete"]), r && this.refresh(s.id);
                                }
                            },
                            getBranch: function (t) {
                                var e = [],
                                    i = (this.Wr || this.branch)[t];
                                if (i) for (var n = 0; n < i.length; n++) e[n] = this.pull[i[n]];
                                return e;
                            },
                            serialize: function (t, e) {
                                var i = this.branch;
                                e && this.Wr && (i = this.Wr);
                                for (var n = i[t || 0], s = [], r = 0; r < n.length; r++) {
                                    var o,
                                        a = this.pull[n[r]];
                                    if (this.vr) {
                                        if (!1 === (o = this.vr(a))) continue;
                                    } else o = f(a);
                                    i[a.id] && (o.data = this.serialize(a.id, e)), s.push(o);
                                }
                                return s;
                            },
                        },
                        fn = {
                            insert: function (t) {
                                for (var e = this.getSelectedId(!0, !0), i = 0; i < t.length; i++) {
                                    for (var n = {}, s = 0; s < this.P.columns.length; s++) n[this.P.columns[s].id] = t[i][s] || "";
                                    !v(n.id) && this.exists(n.id) && (n.id = x()), this.add(n, null, e[0]);
                                }
                            },
                        },
                        mn = {
                            space: function (t) {
                                for (var e = "", i = 1; i < t.$level; i++) e += "<div class='webix_tree_none'></div>";
                                return e;
                            },
                            icon: function (t) {
                                return t.$count ? (t.open ? "<div class='webix_tree_open'></div>" : "<div class='webix_tree_close'></div>") : "<div class='webix_tree_none'></div>";
                            },
                            checkbox: function (t) {
                                return t.nocheckbox ? "" : "<input type='checkbox' class='webix_tree_checkbox' " + (t.checked ? "checked" : "") + (t.disabled ? " disabled" : "") + ">";
                            },
                            folder: function (t) {
                                return t.icon
                                    ? "<div class='webix_tree_file webix_tree_" + t.icon + "'></div>"
                                    : t.$count
                                    ? t.open
                                        ? "<div class='webix_tree_folder_open'></div>"
                                        : "<div class='webix_tree_folder'></div>"
                                    : "<div class='webix_tree_file'></div>";
                            },
                        },
                        gn = {
                            $render: function () {
                                if (this.Tf) this.Wi.firstChild.appendChild(this.Tf);
                                else {
                                    this.files.attachEvent("onBeforeDelete", this.Ff);
                                    var t = { type: "file", class: "webix_hidden_upload", tabindex: -1 };
                                    this.P.accept && (t.accept = this.P.accept), this.P.multiple && (t.multiple = "true"), this.P.directory && ((t.webkitdirectory = "true"), (t.mozdirectory = "true"), (t.directory = "true"));
                                    var e = dt("input", t);
                                    (this.Tf = this.Wi.firstChild.appendChild(e)),
                                        Zt(
                                            this.Vt,
                                            "drop",
                                            m(function (t) {
                                                this.$drop(t), yt(t);
                                            }, this)
                                        ),
                                        Zt(
                                            e,
                                            "change",
                                            m(function () {
                                                if ((this.Vf(e.files), G.isIE)) {
                                                    var t = document.createElement("form");
                                                    t.appendChild(this.Tf), t.reset(), this.Wi.firstChild.appendChild(e);
                                                } else e.value = "";
                                            }, this)
                                        ),
                                        Zt(
                                            this.Vt,
                                            "click",
                                            m(function () {
                                                250 < new Date() - (this.zf || 0) && this.fileDialog();
                                            }, this)
                                        ),
                                        Zt(this.Vt, "dragenter", yt),
                                        Zt(this.Vt, "dragexit", yt),
                                        Zt(this.Vt, "dragover", yt);
                                }
                            },
                            Bf: function (t) {
                                return t.isDirectory;
                            },
                            Hf: function (t, e, i) {
                                t.isFile
                                    ? t.file(function (t) {
                                          e.addFile(t, null, null, { name: i + "/" + t.name });
                                      })
                                    : t.isDirectory &&
                                      t.createReader().readEntries(function (n) {
                                          for (var s = 0; s < n.length; s++) e.Hf(n[s], e, (i ? i + "/" : "") + t.name);
                                      });
                            },
                            $drop: function (t) {
                                var e = t.dataTransfer.files,
                                    i = t.dataTransfer.items;
                                if (e.length) {
                                    if (this.callEvent("onBeforeFileDrop", [e, t])) {
                                        i = i || e;
                                        for (var n = 0; n < i.length; n++) {
                                            var s = i[n];
                                            s.webkitGetAsEntry && (s = s.webkitGetAsEntry()).isDirectory ? this.Hf(s, this, "") : this.addFile(e[n]);
                                        }
                                    }
                                    this.callEvent("onAfterFileDrop", [e, t]);
                                }
                            },
                            fileDialog: function (t) {
                                (this.zf = new Date()), (this.Rf = t);
                                var e = this.Vt.getElementsByTagName("INPUT");
                                e[e.length - 1].click();
                            },
                            send: function (e) {
                                if (("function" == typeof e && ((this.Ef = e), (e = 0)), e)) {
                                    var i = this.files.getItem(e);
                                    if ("client" !== i.status) return !1;
                                    this.P.upload, (i.status = "transfer");
                                    var n = new FormData();
                                    n.append(this.config.inputName, i.file, i.name), n.append(this.config.inputName + "_fullpath", i.name);
                                    var s = {},
                                        r = this.P.formData || {};
                                    "function" == typeof r && (r = r.call(this));
                                    var o = t.extend(i.formData || {}, r),
                                        a = new XMLHttpRequest(),
                                        l = this.Pf(i);
                                    if (M("onBeforeAjax", ["POST", l, o, a, s, n])) {
                                        for (var h in o) n.append(h, o[h]);
                                        for (var c in ((i.xhr = a).upload.addEventListener(
                                            "progress",
                                            m(function (t) {
                                                this.$updateProgress(e, (t.loaded / t.total) * 100);
                                            }, this),
                                            !1
                                        ),
                                        (a.onload = m(function () {
                                            a.aborted || this.jf(e);
                                        }, this)),
                                        a.open("POST", l, !0),
                                        s))
                                            a.setRequestHeader(c, s[c]);
                                        a.send(n);
                                    }
                                    return this.$updateProgress(e, 0), !0;
                                }
                                var d = this.files.data.order,
                                    u = !0;
                                if (d.length) for (var p = 0; p < d.length; p++) u = !this.send(d[p]) && u;
                                u && this.Nf();
                            },
                            jf: function (t) {
                                var e = this.files.getItem(t);
                                if (e) {
                                    var i = null;
                                    if (e.xhr.status < 400) {
                                        var n = Nt[this.P.datatype || "json"];
                                        (i = n.toObject(e.xhr.responseText)) && (i = n.getDetails(i));
                                    }
                                    i && "error" != i.status ? (!i.status || i.status, this.Lf(t, i)) : ((e.status = "error"), delete e.percent, this.files.updateItem(t), this.callEvent("onFileUploadError", [e, i])), delete e.xhr;
                                }
                            },
                            stopUpload: function (t) {
                                m(this.Ff, this.files)(t);
                            },
                            Ff: function (t) {
                                var e = this.getItem(t);
                                void 0 !== e.xhr && ((e.xhr.aborted = !0), e.xhr.abort(), delete e.xhr, (e.status = "client"));
                            },
                        },
                        vn = {
                            Of: function () {
                                this.data.attachEvent(
                                    "onStoreUpdated",
                                    m(function (t, e, i) {
                                        !t || ("add" != i && "update" != i) || this.validate(t);
                                    }, this)
                                ),
                                    this.data.attachEvent("onClearAll", m(this.clearValidation, this)),
                                    (this.Of = function () {});
                            },
                            rules_setter: function (t) {
                                return t && this.Of(), t;
                            },
                            clearValidation: function () {
                                this.data.clearMark("webix_invalid", !0);
                            },
                            validate: function (t) {
                                var e = !0;
                                if (t) {
                                    this.ir = {};
                                    var i = this.getItem(t);
                                    (e = ci.validate.call(this, null, i)) ? this.callEvent("onValidationSuccess", [t, i]) && this.Qh(t) : this.callEvent("onValidationError", [t, i, this.ir]) && this.nr(t, this.ir);
                                } else for (var n in this.data.pull) e = this.validate(n) && e;
                                return e;
                            },
                            sr: function (t, e, i, n) {
                                "string" == typeof t && (t = hi[t]);
                                var s = t.call(this, e, i, n);
                                return s || (this.ir[n] = !0), s;
                            },
                            Qh: function (t) {
                                this.data.removeMark(t, "webix_invalid", !0);
                            },
                            nr: function (t) {
                                this.data.addMark(t, "webix_invalid", !0);
                            },
                        },
                        bn = {
                            $init: function () {
                                this.elements = {};
                            },
                            focus: function (t) {
                                if (t) this.elements[t], this.wi(this.elements[t]);
                                else for (var e in this.elements) if (!1 !== this.wi(this.elements[e])) return !0;
                                return !1;
                            },
                            wi: function (t) {
                                return !(!t || !t.focus) && t.focus();
                            },
                            setValues: function (t, e) {
                                var i = this;
                                this.P.complexData &&
                                    (t = Vt.collapseNames(t, "", {}, function (t) {
                                        return !i.elements[t];
                                    })),
                                    this.Wf(t, e);
                            },
                            Wf: function (t, e) {
                                for (var i in ((this.Uf = e), this.blockEvent(), (e && this.Yf) || (this.Yf = {}), t)) this.elements[i] || (this.Yf[i] = t[i]);
                                for (var n in this.elements) {
                                    var s = this.elements[n];
                                    s && (v(t[n]) ? !e && s.$allowsClear && s.setValue("") : s.setValue(t[n]), (this.Yf[n] = s.getValue()));
                                }
                                this.unblockEvent(), this.callEvent("onValues", []);
                            },
                            isDirty: function () {
                                return !!this.Uf || !0 === this.getDirtyValues(!0);
                            },
                            setDirty: function (t) {
                                (this.Uf = t) || (this.Yf = this.qf());
                            },
                            getDirtyValues: function () {
                                var t = {};
                                if (this.Yf)
                                    for (var e in this.elements) {
                                        var i = this.elements[e],
                                            n = i.getValue(),
                                            s = this.Yf[e];
                                        if ((i.$compareValue ? !i.$compareValue(s, n) : s != n) && ((t[e] = n), arguments[0])) return !0;
                                    }
                                return t;
                            },
                            getCleanValues: function () {
                                return this.Yf;
                            },
                            getValues: function (t) {
                                var e = this.qf(t);
                                return this.P.complexData && (e = Vt.expandNames(e)), e;
                            },
                            qf: function (t) {
                                var i,
                                    n = null,
                                    s = this.Yf ? f(this.Yf) : {};
                                for (var r in this.elements)
                                    (n = this.elements[r]),
                                        (i = !0),
                                        t && ("object" == e(t) ? (!1 === t.hidden && (i = n.isVisible()), i && !1 === t.disabled && (i = n.isEnabled())) : (i = t.call(this, n))),
                                        i ? (s[r] = n.getValue()) : delete s[r];
                                return s;
                            },
                            clear: function () {
                                this.Uf = !1;
                                var t = {};
                                for (var e in this.elements) this.elements[e].$allowsClear && (t[e] = "");
                                this.Wf(t);
                            },
                            markInvalid: function (t, e) {
                                if (!1 === e) this.Qh(t);
                                else {
                                    if ("string" == typeof e) {
                                        var i = this.elements[t];
                                        i && (i.P.invalidMessage = e);
                                    }
                                    this.ir && (this.ir[t] = !0), this.nr(t);
                                }
                            },
                            nr: function (t) {
                                var e = this.elements[t];
                                t && e && (this.Qh(t, !0), _t(e.Vt, "webix_invalid"), (e.P.invalid = !0), "string" == typeof e.P.invalidMessage && e.setBottomText && e.setBottomText());
                            },
                            Qh: function (t, e) {
                                var i = this.elements[t];
                                t && i && i.$view && i.P.invalid && (kt(i.Vt, "webix_invalid"), (i.P.invalid = !1), "string" == typeof i.P.invalidMessage && !e && i.setBottomText && i.setBottomText());
                            },
                        },
                        yn = {
                            $init: function () {
                                this.render, (this.Ni = {}), Zt(this.Vt, "scroll", m(this.Gf, this)), (this.Xf = []);
                            },
                            getItemNode: function (t) {
                                return this.Ni[t];
                            },
                            showItem: function (t) {
                                var e = this.rh(),
                                    i = this.data.getIndexById(t),
                                    n = Math.floor(i / e.hh) * e.Cs,
                                    s = this.getScrollState();
                                (n < s.y || n + this.P.height >= s.y + this.we) && this.scrollTo(0, n);
                            },
                            render: function (t, e, i) {
                                if (this.isVisible(this.P.id) && !this.$blockRender)
                                    if (t) {
                                        var n = this.getItemNode(t);
                                        switch (i) {
                                            case "update":
                                                if (!n) return;
                                                ft((this.Ni[t] = this.gc(e)), n), pt(n);
                                                break;
                                            default:
                                                this.Kf();
                                        }
                                    } else this.callEvent("onBeforeRender", [this.data]) && ((this.Ni = {}), this.Gf(null, !0), (this.Jf = !1), this.callEvent("onAfterRender", []));
                            },
                            Kf: function () {
                                this.Jf ||
                                    ((this.Jf = !0),
                                    window.setTimeout(
                                        m(function () {
                                            this.render();
                                        }, this),
                                        1
                                    ));
                            },
                            Zf: function (t) {
                                G.maxHTMLElementSize && (t = Math.min(G.maxHTMLElementSize, t));
                                var e = document.createElement("DIV");
                                return (e.style.cssText = "height:" + t + "px; width:100%; overflow:hidden;"), e;
                            },
                            Gf: function (t, e) {
                                this.Xf = [];
                                var i = this.rh();
                                (this.tt.firstChild && !e) || ((this.tt.innerHTML = ""), this.tt.appendChild(this.Zf(i.Qf)), (this.Li = [this.tt.firstChild]));
                                for (var n = i.tl; n <= i.il; ) {
                                    for (; this.Li[n] && this.Li[n].el && n <= i.il; ) n++;
                                    if (n > i.il) break;
                                    for (var s = n; !this.Li[s]; ) s--;
                                    var r = this.Li[s],
                                        o = n * i.hh + (this.data.$min || 0);
                                    if (o > (this.data.$max || 1 / 0)) break;
                                    var a = Math.min(o + i.hh - 1, this.data.$max ? this.data.$max - 1 : 1 / 0),
                                        l = this.Zf(i.Cs),
                                        h = this.data.getIndexRange(o, a);
                                    if (!h.length) break;
                                    for (var c = { $template: "Loading" }, d = 0; d < h.length; d++) h[d] || this.Xf.push(o + d), (h[d] = this.Q(h[d] || c));
                                    l.innerHTML = h.join("");
                                    for (var u = 0; u < h.length; u++) this.Ni[this.data.getIdByIndex(o + u)] = l.childNodes[u];
                                    var p = parseFloat(r.style.height, 10),
                                        f = (n - s) * i.Cs,
                                        m = p - f - i.Cs;
                                    ft(l, f ? r.nextSibling : r, this.tt),
                                        ((this.Li[n] = l).el = !0),
                                        f <= 0 && 0 < m ? ((r.style.height = m + "px"), (this.Li[n + 1] = r)) : (f < 0 ? pt(r) : (r.style.height = f + "px"), 0 < m && ft((this.Li[n + 1] = this.Zf(m)), l.nextSibling, this.tt)),
                                        n++;
                                }
                                if (this.Xf.length) {
                                    var g = this.Xf[0],
                                        v = this.Xf.pop() + 1;
                                    if (g < v) {
                                        var b = v - g;
                                        if (this.mo(b, g)) return;
                                        (b = Math.max(b, this.P.datafetch || this.P.loadahead || 0)), this.loadNext(b, g);
                                    }
                                }
                            },
                            rh: function () {
                                var t = this.getScrollState(),
                                    e = Math.max(0, t.y),
                                    i = this.me,
                                    n = this.we,
                                    s = this.type,
                                    r = Math.floor(i / s.width) || 1,
                                    o = Math.floor(e / s.height),
                                    a = Math.ceil((n + e) / s.height) - 1,
                                    l = this.data.$max ? this.data.$max - this.data.$min : this.data.count();
                                return { tl: o, il: a, sl: e, Qf: Math.ceil(l / r) * s.height, Cs: s.height, hh: r };
                            },
                            at: function (t) {
                                var e = this.getItemNode(t);
                                return e || (this.showItem(t), this.Gf(), (e = this.getItemNode(t))), { left: e.offsetLeft, top: e.offsetTop, height: e.offsetHeight, width: e.offsetWidth, parent: this.Wi };
                            },
                        },
                        wn = {
                            $init: function () {
                                (this.Ni = {}),
                                    Zt(
                                        this.Vt,
                                        "scroll",
                                        m(function () {
                                            this.render(null, null, "paint");
                                        }, this)
                                    );
                            },
                            ws: function (t, e, i) {
                                this.P.footer && Ue.ms(this.nl.childNodes[1].firstChild, t, 0, i), this.callEvent("onSyncScroll", [t, e, i]);
                            },
                            getItemNode: function (t) {
                                return this.Ni && this.Ni[t];
                            },
                            showItem: function (t) {
                                var e = this.data.getIndexById(t);
                                if (-1 < e) {
                                    var i = e * this.type.height,
                                        n = i + this.type.height,
                                        s = this.getScrollState(),
                                        r = gt(this.$view);
                                    i < s.y ? this.scrollTo(0, i) : n > s.y + r.height && this.scrollTo(0, n - r.height);
                                }
                            },
                            render: function (t, e, i) {
                                if (this.isVisible(this.P.id) && !this.$blockRender) {
                                    var n = this.xc || this.tt;
                                    if (!t || ("paint" != i && "update" != i)) {
                                        if (("paint" != i && ((this.Ni = {}), (n.innerHTML = "")), this.callEvent("onBeforeRender", [this.data]))) {
                                            var s = this.data.count(),
                                                r = this.getScrollState(),
                                                o = gt(this.Vt),
                                                a = Math.floor(r.y / this.type.height) - 2,
                                                l = Math.ceil((r.y + o.height) / this.type.height) + 2;
                                            (a = Math.max(0, a)), (l = Math.min(this.data.count() - 1, l));
                                            for (var h = [], c = a; c <= l; c++) {
                                                var d = this.data.order[c];
                                                if (this.Ni[d]) h.push("<div></div>");
                                                else {
                                                    var u = this.data.getItem(d);
                                                    if (!u) {
                                                        this.hl({ count: l - c + (this.P.loadahead || 0), start: c });
                                                        break;
                                                    }
                                                    h.push(this.Q(u));
                                                }
                                            }
                                            (this.Oi.innerHTML = h.join("")), (n.style.position = "relative"), (n.style.height = s * this.type.height + "px");
                                            for (var p = this.Oi.childNodes, f = p.length - 1; 0 <= f; f--) {
                                                var m = p[f],
                                                    g = m.getAttribute(this.Qo);
                                                g && ((m.style.position = "absolute"), (m.style.top = (a + f) * this.type.height + "px"), (m.style.left = 0), (m.style.width = "100%"), n.appendChild(m), (this.Ni[g] = m));
                                            }
                                            this.callEvent("onAfterRender", []);
                                        }
                                    } else {
                                        var v = this.getItemNode(t);
                                        if (v) {
                                            var b = (this.Ni[t] = this.gc(e));
                                            return (b.style.top = v.style.top), (b.style.position = "absolute"), (b.style.left = 0), (b.style.width = "100%"), ft(b, v), void pt(v);
                                        }
                                    }
                                }
                            },
                            $setSize: function () {
                                Re.api.$setSize.apply(this, arguments) && this.render(null, null, "paint");
                            },
                            hl: function (t) {
                                var e = Math.max(t.count, this.P.datafetch || this.P.loadahead || 0);
                                this.mo(t.count, t.start) || this.loadNext(e, t.start);
                            },
                        },
                        xn = "non-existing view for export";
                    function _n(t, e, i) {
                        return !i && e.format
                            ? function (i) {
                                  return e.format(i[t]);
                              }
                            : function (e) {
                                  return e[t];
                              };
                    }
                    function kn(t, e) {
                        var i = e.text;
                        if (e.contentId) {
                            var n = t.getHeaderContent(e.contentId);
                            n && !n.type.$icon && (i = n.getValue(!0));
                        }
                        return (i || "").toString().replace(/<[^>]*>/gi, "");
                    }
                    function Pn(t, e, i) {
                        return i[t] && i[t][e] ? i[t][e] : "";
                    }
                    function Sn(e, i) {
                        var n,
                            s = [],
                            r = 0,
                            o = 0,
                            a = e.getColumnConfig,
                            l = i.columns,
                            h = !!i.rawValues,
                            c = "TreeStore" == e.data.name,
                            d = i.treeLines;
                        if (((!0 === d || v(d)) && (d = "value"), (s.heights = {}), l)) {
                            if (!l.length) {
                                var u = [];
                                for (var p in l) u.push(t.extend({ id: p }, t.extend({}, l[p])));
                                l = u;
                            }
                        } else if (a) l = [].concat(e.rl);
                        else {
                            l = [];
                            var f = e.data.pull[e.data.order[0]];
                            for (var m in f) "id" !== m && "$" != m[0] && l.push({ id: m, isTree: c && m === d });
                        }
                        if (i.ignore) for (var g = l.length - 1; 0 <= g; g--) i.ignore[l[g].id] && l.splice(g, 1);
                        if (
                            (i.id &&
                                s.push({
                                    id: "id",
                                    width: 50,
                                    header: " ",
                                    template: function (t) {
                                        return t.id;
                                    },
                                }),
                            i.flatTree)
                        ) {
                            for (var b = i.flatTree.id, y = [].concat(i.flatTree.columns), w = [], x = !!i.flatTree.fill, _ = 1; _ <= y.length; _++)
                                y[_ - 1].template = (function (t) {
                                    return function (e) {
                                        return e.$level == t ? (w[t] = e[b]) : x && t < e.$level ? w[t] : "";
                                    };
                                })(_);
                            for (var k = 0, P = l.length - 1; 0 <= P; P--) l[P].id === b && (k = P);
                            l = []
                                .concat(l.slice(0, k))
                                .concat(y)
                                .concat(l.slice(k + 1));
                        }
                        for (var S = 0; S < l.length; S++) {
                            var C = l[S],
                                I = C.id;
                            if (!C.noExport) {
                                var T = h && a;
                                if (a) {
                                    var $ = e.ol[I];
                                    !C.template || ($ && $.template == C.template) || (T = !1), $ && (C = t.extend(t.extend({}, C), $));
                                }
                                var E = { id: C.id, template: T || !C.template ? _n(I, C, h) : C.template, width: (C.width || 200) * ("excel" === i.export_mode ? 8.43 / 70 : 1), header: !1 !== C.header ? C.header || I : "" };
                                c && I === d && (E.isTree = n = !0),
                                    "excel" === i.export_mode && t.extend(E, { type: C.exportType || "", format: C.exportFormat || "" }),
                                    "string" == typeof E.header ? (E.header = [{ text: E.header }]) : (E.header = [].concat(E.header));
                                for (var D = 0; D < E.header.length; D++) E.header[D] = E.header[D] ? kn(e, E.header[D]) : "";
                                if (((r = Math.max(r, E.header.length)), e.config.footer)) {
                                    var M = C.footer || "";
                                    M = "string" == typeof M ? [{ text: M }] : [].concat(M);
                                    for (var A = 0; A < M.length; A++) M[A] = M[A] ? kn(e, M[A]) : "";
                                    (E.footer = M), (o = Math.max(o, E.footer.length));
                                }
                                s.push(E);
                            }
                        }
                        !n && c && i.treeLines != d && s[0] && (s[0].isTree = !0);
                        for (var N = 0; N < s.length; N++) {
                            for (var O = r - s[N].header.length, R = 0; R < O; R++) s[N].header.push("");
                            if (e.config.footer) {
                                O = o - s[N].footer.length;
                                for (var V = 0; V < O; V++) s[N].footer.push("");
                            }
                        }
                        return s;
                    }
                    function Cn(t, e, i) {
                        var n,
                            s,
                            r = !!e.filterHTML,
                            o = /<[^>]*>/gi,
                            a = [],
                            l = e.export_mode;
                        if (
                            (("excel" !== l && "csv" != l) || !e.docHeader || ((a = [[(e.docHeader.text || e.docHeader).toString()], [""]]), "excel" === l && e.docHeader.height && (i.heights[0] = e.docHeader.height)),
                            !1 !== e.header && i.length)
                        )
                            for (var h = 0; h < i[0].header.length; h++) {
                                s = [];
                                for (var c = 0; c < i.length; c++) (n = ""), i[c].header[h] && ((n = i[c].header[h]), r && (n = i[c].header[h] = n.replace(o, ""))), s.push(n);
                                "excel" != l || !t.rl || !1 === e.heights || (t.al[h] === Ve.barHeight && "all" != e.heights) || (i.heights[a.length] = t.al[h]), "pdf" !== l && (a[a.length] = s);
                            }
                        e.yCorrection = (e.yCorrection || 0) - a.length;
                        var d = e.flatTree || e.plainOutput ? "" : "-";
                        if (
                            (t.data.each(function (n) {
                                if (!e.filter || e.filter(n)) {
                                    this.data.Lr && (n = t.data.Lr(n));
                                    for (var s = [], h = 0; h < i.length; h++) {
                                        var c = i[h],
                                            u = null;
                                        if ((e.math && n["$" + c.id] && "=" == n["$" + c.id].charAt(0) && !n["$" + c.id].match(/^=(image|sparkline)\(/i) && (u = n["$" + c.id]), this.ul)) {
                                            var p = this.getSpan(n.id, c.id);
                                            p && p[4] && p[0] == n.id && p[1] == c.id && ((u = p[4]), r && "string" == typeof u && (u = u.replace(o, "")));
                                        }
                                        u ||
                                            ((u = c.template(n, t.type, n[c.id], c, h)) || 0 === u || (u = ""),
                                            c.isTree && d && (u = " " + Array(n.$level).join(d) + " " + u),
                                            r && "string" == typeof u && (u = u.replace(o, "")),
                                            "string" == typeof u && "csv" === l && (u = u.trim()),
                                            "string" != typeof u || ("excel" !== l && "csv" !== l) || (u = u.replace(/<br\s*\/?>/gm, "\n"))),
                                            s.push(u);
                                    }
                                    "excel" == l && t.rl && !1 !== e.heights && ((n.$height && n.$height !== Ve.rowHeight) || "all" == e.heights) && (i.heights[a.length] = n.$height || this.config.rowHeight), a.push(s);
                                }
                            }, t),
                            !1 !== e.footer)
                        )
                            for (var u = i[0].footer ? i[0].footer.length : 0, p = 0; p < u; p++) {
                                for (var f = [], m = 0; m < i.length; m++) {
                                    var g = i[m].footer[p];
                                    r && (g = i[m].footer[p] = g.toString().replace(o, "")), f.push(g);
                                }
                                "excel" != l || !t.rl || !1 === e.heights || (t.cl[p] === Ve.barHeight && "all" != e.heights) || (i.heights[a.length] = t.cl[p]), "pdf" !== l && a.push(f);
                            }
                        return "excel" === l && e.docFooter && ((a = a.concat([[], [(e.docFooter.text || e.docFooter).toString()]])), e.docFooter.height && (i.heights[a.length - 1] = e.docFooter.height)), a;
                    }
                    var In = {},
                        Tn = function (e, i) {
                            ((i = i || {}).export_mode = "pdf"), (i.fl = In), (i.fontName = i.fontName || "pt-sans.regular"), (e = P(e) ? e : [e]);
                            for (var n = [], s = 0; s < e.length; s++) {
                                e[s].id || (e[s] = { id: e[s] });
                                var r = ae(e[s].id);
                                if (r) {
                                    var o = t.extend(e[s].options || {}, i),
                                        a = o.display || "table";
                                    if (("image" == o.display && delete o.styles, r.$exportView && (r = r.$exportView(o)), P(r))) (n = n.concat(r)), i.autowidth && An(o, i);
                                    else {
                                        if (("table" == a || "all" == a) && r.data && r.data.pull) {
                                            var h = Sn(r, o);
                                            n.push({ scheme: h, exportData: Cn(r, o, h), viewOptions: o }), i.autowidth && An(r, i, h);
                                        }
                                        if ("image" == a || "all" == a) {
                                            var c = o.It ? On(r.$view) : r.$view;
                                            n.push({ node: c, viewOptions: o }), i.autowidth && An(r, i);
                                        }
                                    }
                                }
                            }
                            return i.dataOnly
                                ? n
                                : Mt([G.cdn + "/extras/pdfjs.js", G.cdn + "/extras/html2canvas-1.0.min.js"]).then(function () {
                                      if (0 == n.length) return l.reject(xn);
                                      if (In[i.fontName])
                                          return (
                                              (i.fl = In[i.fontName]),
                                              En(n, i).then(function (t) {
                                                  return $n(t, i);
                                              })
                                          );
                                      var t = l.defer();
                                      return (
                                          pdfjs.load(i.fontURL || G.cdn + "/extras/" + i.fontName + ".ttf", function (e, s) {
                                              if (e) throw e;
                                              (i.fl = In[i.fontName] = new pdfjs.TTFFont(s)),
                                                  t.resolve(
                                                      En(n, i).then(function (t) {
                                                          return $n(t, i);
                                                      })
                                                  );
                                          }),
                                          t
                                      );
                                  });
                        };
                    function $n(t, e) {
                        var i = (e.filename || "Data") + ".pdf",
                            n = new Blob([t.toString()], { type: "application/pdf" });
                        return !1 !== e.download && St(n, i), n;
                    }
                    function En(e, i) {
                        for (
                            var n = (function (t) {
                                    var e = t.width || 595.296,
                                        i = t.height || 841.896;
                                    return t.orientation && "landscape" === t.orientation && (i = [e, (e = i)][0]), new pdfjs.Document({ padding: 40, font: t.fl, threshold: 256, width: e, height: i });
                                })(i),
                                s = [],
                                r = 0;
                            r < e.length;
                            r++
                        )
                            e[r].node ? s.push(Mn(e[r].node)) : s.push(l.resolve());
                        return l.all(s).then(function (r) {
                            for (var o = 0; o < s.length; o++) {
                                var a = e[o].viewOptions;
                                a.textBefore && Dn(n, "before", a.textBefore), r[o] ? n.image(r[o], { align: "center" }) : Nn(e[o], n), a.textAfter && Dn(n, "after", a.textAfter), o != e.length - 1 && n.pageBreak();
                            }
                            return (function (e, i) {
                                !1 !== i.docFooter &&
                                    e
                                        .footer()
                                        .text({ color: 6710886, textAlign: "center" })
                                        .append(T.dataExport.page || "Page")
                                        .pageNumber()
                                        .append("  " + (T.dataExport.of || "of") + "  ")
                                        .pageCount();
                                var n = { text: 0, image: 1 };
                                if (
                                    (i.docHeader && ("string" == typeof i.docHeader && (i.docHeader = { text: i.docHeader }), t.extend(i.docHeader, { color: 6710886, textAlign: "right", order: 0 }), (n.text = i.docHeader.order)),
                                    i.docHeaderImage && ("string" == typeof i.docHeaderImage && (i.docHeaderImage = { url: i.docHeaderImage }), t.extend(i.docHeaderImage, { align: "right", order: 1 }), (n.image = i.docHeaderImage.order)),
                                    i.docHeader && n.image > n.text && e.header({ paddingBottom: 10 }).text(i.docHeader.text, i.docHeader),
                                    i.docHeaderImage)
                                ) {
                                    var s = l.defer();
                                    return (
                                        pdfjs.load(i.docHeaderImage.url, function (t, r) {
                                            if (!t) {
                                                var o = new pdfjs.Image(r);
                                                e.header({ paddingBottom: 10 }).image(o, i.docHeaderImage), i.docHeader && n.image < n.text && e.header({ paddingBottom: 10 }).text(i.docHeader.text, i.docHeader);
                                            }
                                            s.resolve(e.render());
                                        }),
                                        s
                                    );
                                }
                                return l.resolve(e.render());
                            })(n, i);
                        });
                    }
                    function Dn(t, e, i) {
                        "after" == e && t.text().br(), "string" == typeof i && (i = { text: i }), t.text(i.text, i.options || {}), "before" == e && t.text().br();
                    }
                    function Mn(t) {
                        var e = !document.body.contains(t);
                        return (
                            e && (document.body.appendChild(t), (t.style.position = "absolute"), (t.style.left = "-9999px")),
                            window
                                .html2canvas(t, { background: "#fff", logging: !1, useCORS: !0 })
                                .then(function (t) {
                                    for (var e = t.toDataURL("image/jpeg"), i = window.atob(e.split("base64,")[1]), n = i.length, s = new Uint8Array(n), r = 0; r < n; r++) s[r] = i.charCodeAt(r);
                                    return new pdfjs.Image(s.buffer);
                                })
                                .finally(function () {
                                    e && document.body.removeChild(t);
                                })
                        );
                    }
                    function An(t, e, i) {
                        var n,
                            s = e.orientation && "landscape" == e.orientation ? "height" : "width";
                        if (i) {
                            n = 80;
                            for (var r = 0; r < i.length; r++) n += i[r].width;
                        } else n = t.$width ? t.$width : t[s];
                        e[s] = Math.max(e[s] || 0, n || 0);
                    }
                    function Nn(e, i) {
                        var n = e.scheme,
                            s = e.exportData,
                            r = e.viewOptions,
                            o = e.styles;
                        (r.header = v(r.header) || !0 === r.header ? {} : r.header), (r.footer = v(r.footer) || !0 === r.footer ? {} : r.footer), (r.table = r.table || {});
                        for (var a = !1 === r.header ? 0 : n[0].header.length, l = !1 !== r.footer && n[0].footer ? n[0].footer.length : 0, h = [], c = 0; c < n.length; c++) h[c] = n[c].width;
                        var d = t.extend(r.table, {
                                borderWidth: 1,
                                height: 20,
                                lineHeight: 1.1,
                                borderColor: 15658734,
                                backgroundColor: 16777215,
                                color: 6710886,
                                textAlign: "left",
                                paddingRight: 10,
                                paddingLeft: 10,
                                headerRows: a,
                                widths: h.length ? h : ["100%"],
                            }),
                            u = i.table(d);
                        if (a)
                            for (var p = t.extend(r.header, { borderRightColor: 11587299, borderBottomColor: 11587299, color: 4868682, backgroundColor: 13820911, height: 27, lineHeight: 1.2 }), f = 0; f < a; f++)
                                for (var m = u.tr(p), g = 0; g < n.length; g++) {
                                    var b = o ? Pn(f, g, o) : {};
                                    m.td(n[g].header[f].toString(), b);
                                }
                        for (var y = 0; y < s.length; y++)
                            for (var w = u.tr({}), x = 0; x < s[y].length; x++) {
                                var _ = o ? Pn(y + a, x, o) : {};
                                w.td(s[y][x], _);
                            }
                        if (l)
                            for (var k = t.extend(r.footer, { borderRightColor: 15658734, borderBottomColor: 15658734, backgroundColor: 16448250, color: 6710886, height: 27, lineHeight: 1.2 }), P = 0; P < l; P++)
                                for (var S = a + s.length, C = u.tr(k), I = 0; I < n.length; I++) {
                                    var T = o ? Pn(P + S, I, o) : {};
                                    C.td(n[I].footer[P].toString(), T);
                                }
                    }
                    function On(t) {
                        var e = t.cloneNode(!1);
                        if (t.tagName) {
                            var i = window.getComputedStyle(t);
                            e.style.cssText = i.cssText;
                        }
                        for (var n = 0; n < t.childNodes.length; n++) e.appendChild(On(t.childNodes[n]));
                        return e;
                    }
                    var Rn = function (e, i) {
                            ((i = i || {}).export_mode = "excel"), (e = P(e) ? e : [e]);
                            for (var n = [], s = 0; s < e.length; s++) {
                                e[s].id || (e[s] = { id: e[s] });
                                var r = ae(e[s].id),
                                    o = t.extend(e[s].options || {}, i);
                                if ((r && r.$exportView && (r = r.$exportView(o)), P(r))) n = n.concat(r);
                                else if (r.data && r.data.pull) {
                                    var a = Sn(r, o);
                                    n.push({ scheme: a, exportData: Cn(r, o, a), spans: o.spans ? Fn(r, o) : [], viewOptions: o });
                                }
                            }
                            if (i.dataOnly) return n;
                            var h = l.defer();
                            return Mt(G.cdn + "/extras/xlsx.core.styles.min.js").then(function () {
                                if (!n.length) return h.reject(xn);
                                for (var t = { SheetNames: [], Sheets: {}, Workbook: { WBProps: {}, Names: [] } }, e = 0; e < n.length; e++) {
                                    for (
                                        var s = n[e].viewOptions,
                                            r = n[e].scheme,
                                            o = n[e].exportData,
                                            a = n[e].spans,
                                            l = n[e].ranges || [],
                                            c = jn(o, r, a, n[e].styles || [], s),
                                            d = (s.name || "Data" + (e + 1))
                                                .replace(/[*?:[\]\\/]/g, "")
                                                .replace(/&/g, "&amp;")
                                                .substring(0, 31),
                                            u = e;
                                        -1 != t.SheetNames.indexOf(d);

                                    )
                                        d = "Data" + ++u;
                                    t.SheetNames.push(d), (t.Sheets[d] = c), (t.Workbook.Names = t.Workbook.Names.concat(l));
                                }
                                var p = XLSX.write(t, { bookType: "xlsx", bookSST: !1, type: "binary" }),
                                    f = (i.filename || "Data") + ".xlsx",
                                    m = new Blob(
                                        [
                                            (function (t) {
                                                for (var e = new ArrayBuffer(t.length), i = new Uint8Array(e), n = 0; n != t.length; ++n) i[n] = 255 & t.charCodeAt(n);
                                                return e;
                                            })(p),
                                        ],
                                        { type: "application/xlsx" }
                                    );
                                return !1 !== i.download && St(m, f), h.resolve(m), h;
                            });
                        },
                        Vn = { number: "n", date: "n", string: "s", boolean: "b" },
                        Ln = "_table";
                    function jn(t, e, i, n, s) {
                        for (var r, o = {}, a = { s: { c: 1e7, r: 1e7 }, e: { c: 0, r: 0 } }, l = 0; l != t.length; ++l)
                            for (var h = 0; h != t[l].length; ++h) {
                                a.s.r > l && (a.s.r = l), a.s.c > h && (a.s.c = h), a.e.r < l && (a.e.r = l), a.e.c < h && (a.e.c = h);
                                var c = { v: t[l][h] };
                                if (null !== c.v) {
                                    var d = XLSX.utils.encode_cell({ c: h, r: l }),
                                        u = c.v.toString(),
                                        p = "=" === u.charAt(0);
                                    if (n) {
                                        var f = Pn(l, h, n);
                                        f.format && ((c.z = f.format), delete f.format), f.type && ((c.t = Vn[f.type]), delete f.type), (c.s = f);
                                    }
                                    if ((s.docHeader ? 2 : 0) + e[0].header.length <= l && !p) {
                                        var m = e[h];
                                        m.type && !c.t && (c.t = Vn[m.type] || ""), m.format && !c.z && (c.z = m.format);
                                    }
                                    c.v instanceof Date
                                        ? ((c.t = c.t || "n"), (c.z = c.z || XLSX.SSF[Ln][14]), (c.v = (25569 + ((r = c.v).getTime() - 60 * r.getTimezoneOffset() * 1e3) / 864e5).toString().substr(0, 20)))
                                        : p
                                        ? ((c.t = c.t || "n"), (c.f = c.v.substring(1)), delete c.v)
                                        : c.t || ("boolean" == typeof c.v ? (c.t = "b") : "number" == typeof c.v || parseFloat(c.v) == c.v ? ((c.v = 1 * c.v), (c.t = "n")) : ((c.v = u), (c.t = "s"))),
                                        (o[d] = c);
                                }
                            }
                        return (
                            a.s.c < 1e7 && (o["!ref"] = XLSX.utils.encode_range(a)),
                            (o["!rows"] = (function (t) {
                                for (var e in t) t[e] = { hpx: t[e], hpt: 0.75 * t[e] };
                                return t;
                            })(e.heights)),
                            (o["!cols"] = (function (t) {
                                for (var e = [], i = 0; i < t.length; i++) e.push({ wch: t[i].width });
                                return e;
                            })(e)),
                            i.length && (o["!merges"] = i),
                            o
                        );
                    }
                    function Fn(t, e) {
                        var i = t.getColumnConfig,
                            n = t.ul,
                            s = [];
                        if (i) {
                            if ((!1 !== e.header && (s = zn(t, e, "header", s)), n)) {
                                var r = e.xCorrection || 0,
                                    o = e.yCorrection || 0;
                                for (var a in n) {
                                    var l = n[a];
                                    for (var h in l) {
                                        var c = t.getColumnIndex(h) - r,
                                            d = t.getIndexById(a) - o;
                                        if (!(c < 0 || d < 0)) {
                                            var u = c + l[h][0] - 1,
                                                p = d + (l[h][1] - 1);
                                            s.push({ s: { c, r: d }, e: { c: u, r: p } });
                                        }
                                    }
                                }
                            }
                            !1 !== e.footer && (s = zn(t, e, "footer", s));
                        }
                        return s;
                    }
                    function zn(t, e, i, n) {
                        for (var s = t.config.columns, r = (e.docHeader ? 2 : 0) + ("header" == i ? 0 : (!1 !== e.header ? t.al.length : 0) + t.count()), o = 0; o < s.length; o++)
                            for (var a = s[o][i], l = 0; l < a.length; l++) a[l] && (a[l].colspan || a[l].rowspan) && n.push({ s: { c: o, r: l + r }, e: { c: o + (a[l].colspan || 1) - 1, r: l + (a[l].rowspan || 1) - 1 + r } });
                        return n;
                    }
                    function Hn(t, e) {
                        if (-1 != t.type.indexOf("prompt"))
                            if (!1 === e) t.ar.reject();
                            else {
                                var i = t.ll.querySelector(".webix_popup_input"),
                                    n = i.querySelector("input");
                                if (t.input.required && !n.value) return (t.input.invalid = !0), void _t(i, "webix_popup_invalid");
                                (e = n.value || ""), t.ar.resolve(e);
                            }
                        -1 != t.type.indexOf("confirm") && !1 === e ? t.ar.reject() : t.ar.resolve(e);
                        var s = t.callback;
                        s && s(e, t.details), ts.hide(t.id);
                    }
                    function Wn(t) {
                        var e = ts.order.length;
                        if (0 < e && es.keyboard) {
                            var i = (t = t || window.event).which || t.keyCode,
                                n = ts.pull[ts.order[e - 1]],
                                s = -1 != n.type.indexOf("prompt");
                            return (13 == i || (32 == i && !s)) && Hn(n, !0), 27 == i && Hn(n, !1), s || yt(t), !(t.cancelBubble = !0);
                        }
                    }
                    function Bn(t, e) {
                        var i,
                            n = e || document.body;
                        if (v(n.modality)) {
                            if ((((i = dt("DIV", { class: "webix_modal_cover", style: "position:" + (e ? "absolute" : "fixed") + ";" })).onkeydown = Wn), e)) {
                                var s = window.getComputedStyle(e).position;
                                "fixed" != s && "absolute" != s && "sticky" != s && "relative" != s && (n.style.position = "relative");
                            }
                            n.appendChild(i), (n.modality = 1);
                        } else t ? n.modality++ : n.modality--;
                        if ((t && 1 === n.modality) || 0 === n.modality)
                            if (i) i.style.display = "inline-block";
                            else {
                                i = n.querySelectorAll(".webix_modal_cover");
                                for (var r = 0; r < i.length; r++)
                                    if (i[r].parentNode == n) {
                                        i[r].style.display = 1 == n.modality ? "inline-block" : "none";
                                        break;
                                    }
                            }
                    }
                    function Yn(t, e, i) {
                        return "<div role='button' tabindex='0' aria-label='" + t + "' class='webix_popup_button" + (i ? " " + i : "") + "' result='" + e + "' ><div>" + t + "</div></div>";
                    }
                    function Un(t, e, i, n) {
                        var s = document.createElement("DIV"),
                            r = t.css ? " " + t.css : "";
                        (s.className = "webix_modal_box webix_" + t.type + r), s.setAttribute("webixbox", 1), s.setAttribute("role", "alertdialog"), s.setAttribute("aria-label", t.title || ""), s.setAttribute("tabindex", "0");
                        var o = "";
                        if (
                            (t.width && (s.style.width = t.width + (hi.isNumber(t.width) ? "px" : "")),
                            t.height && (s.style.height = t.height + (hi.isNumber(t.height) ? "px" : "")),
                            t.title && (o += '<div class="webix_popup_title">' + t.title + "</div>"),
                            (o += '<div class="webix_popup_text' + (n ? " webix_popup_label" : "") + '"><span>' + (t.content ? "" : t.text || "") + "</span></div>"),
                            (o += '<div  class="webix_popup_controls">'),
                            n &&
                                (o += (function (t) {
                                    return (
                                        "<div tabindex='0' class='webix_popup_input webix_el_text" +
                                        (t.required ? " webix_required" : "") +
                                        "'><input value='" +
                                        Ut.escape(t.value || "") +
                                        "' placeholder='" +
                                        Ut.escape(t.placeholder || "") +
                                        "'></input></div>"
                                    );
                                })(t.input)),
                            i && (o += Yn(t.cancel || T.message.cancel, !1)),
                            e && (o += Yn(t.ok || T.message.ok, !0, "confirm")),
                            t.buttons && !e && !i)
                        )
                            for (var a = 0; a < t.buttons.length; a++) o += Yn(t.buttons[a], a);
                        if (((o += "</div>"), (s.innerHTML = o), t.content)) {
                            var l = t.content;
                            "string" == typeof l && (l = document.getElementById(l)), "none" == l.style.display && (l.style.display = ""), s.childNodes[t.title ? 1 : 0].appendChild(l);
                        }
                        if (-1 != t.type.indexOf("prompt")) {
                            var h = s.querySelector(".webix_popup_input");
                            h.querySelector("input").oninput = function () {
                                t.input.invalid && (kt(h, "webix_popup_invalid"), (t.input.invalid = !1));
                            };
                        }
                        return (
                            (s.onclick = function (e) {
                                var i = (e = e || window.event).target;
                                if ((i.className || (i = i.parentNode), -1 != i.className.indexOf("webix_popup_button"))) {
                                    var n = i.getAttribute("result");
                                    Hn(t, (n = "true" == n || ("false" != n && n)));
                                }
                                e.cancelBubble = !0;
                            }),
                            (t.ll = s)
                        );
                    }
                    function Gn(t, e, i, n) {
                        var s = t.tagName ? t : Un(t, e, i, n),
                            r = t.container ? t.container.offsetWidth : window.innerWidth || document.documentElement.offsetWidth,
                            o = t.container ? t.container.offsetHeight : window.innerHeight || document.documentElement.offsetHeight;
                        t.container && (s.style.position = "absolute"), _((t.container || document.body).appendChild(s)), Bn(!0, t.container);
                        var a = t.left || Math.abs(Math.floor((r - s.offsetWidth) / 2)),
                            h = t.top || Math.abs(Math.floor((o - s.offsetHeight) / 2));
                        return (
                            "top" == t.position ? (s.style.top = "-3px") : (s.style.top = h + "px"),
                            (s.style.left = a + "px"),
                            (s.onkeydown = Wn),
                            s.focus(),
                            t.id ? ts.pull[t.id] && ts.hide(t.id) : (t.id = he("modalbox")),
                            ts.order.push(t.id),
                            ((ts.pull[t.id] = t).ar = l.defer()),
                            t.ar
                        );
                    }
                    function qn(t) {
                        return Gn(t, !0);
                    }
                    function Xn(t) {
                        return Gn(t, !0, !0);
                    }
                    function Kn(t) {
                        return Gn(t);
                    }
                    function Zn(t) {
                        return Gn(t, !0, !0, !0);
                    }
                    function Jn(t, i, n) {
                        return "object" != e(t) && ("function" == typeof i && ((n = i), (i = "")), (t = { text: t, type: i, callback: n })), t;
                    }
                    function Qn() {
                        var t = Jn.apply(this, arguments);
                        return (t.type = t.type || "confirm"), Xn(t);
                    }
                    function ts() {
                        var t = Jn.apply(this, arguments);
                        return (t.type = t.type || "alert"), Kn(t);
                    }
                    function es(t, i, n, s) {
                        switch (
                            (((t = function (t, i, n, s) {
                                return "object" != e(t) && (t = { text: t, type: i, expire: n, id: s }), (t.id = t.id || he("message")), (t.expire = t.expire || is.expire), t;
                            }.apply(this, arguments)).type = t.type || "info"),
                            t.type.split("-")[0])
                        ) {
                            case "alert":
                                return qn(t);
                            case "confirm":
                                return Xn(t);
                            case "modalbox":
                                return Kn(t);
                            case "prompt":
                                return Zn(t);
                            default:
                                return (function (t) {
                                    is.area || ((is.area = document.createElement("DIV")), (is.area.className = "webix_message_area"), (is.area.style[is.position] = "5px"), document.body.appendChild(is.area)),
                                        is.area.setAttribute("role", "alert"),
                                        is.area.setAttribute("aria-atomic", !0),
                                        is.hide(t.id);
                                    var e = document.createElement("DIV");
                                    return (
                                        (e.innerHTML = "<div>" + t.text + "</div>"),
                                        (e.className = "webix_message webix_" + t.type),
                                        (e.onclick = function () {
                                            t && is.hide(t.id), (t = null);
                                        }),
                                        "bottom" == is.position && is.area.firstChild ? is.area.insertBefore(e, is.area.firstChild) : is.area.appendChild(e),
                                        0 < t.expire &&
                                            (is.timers[t.id] = window.setTimeout(function () {
                                                is.hide(t.id);
                                            }, t.expire)),
                                        (e.style.height = e.offsetHeight - 2 + "px"),
                                        (is.pull[t.id] = e),
                                        (e = null),
                                        t.id
                                    );
                                })(t);
                        }
                    }
                    Jt(document, "keydown", Wn, { capture: !0 }),
                        (ts.pull = {}),
                        (ts.order = []),
                        (ts.hide = function (t) {
                            if (t && ts.pull[t]) {
                                var e = ts.pull[t].ll;
                                e && (e.parentNode.removeChild(e), ts.order.splice(ts.order.indexOf(t), 1), Bn(!1, ts.pull[t].container), delete ts.pull[t]);
                            }
                        }),
                        (ts.hideAll = function () {
                            for (var t in ts.pull) this.hide(t);
                        });
                    var is = es;
                    (is.expire = 4e3),
                        (is.keyboard = !0),
                        (is.position = "top"),
                        (is.pull = {}),
                        (is.timers = {}),
                        (is.hideAll = function () {
                            for (var t in is.pull) is.hide(t);
                        }),
                        (is.hide = function (t) {
                            var e = is.pull[t];
                            e &&
                                e.parentNode &&
                                (window.setTimeout(function () {
                                    e.parentNode.removeChild(e), (e = null);
                                }, 2e3),
                                (e.style.height = 0),
                                (e.className += " hidden"),
                                is.area.removeAttribute("role"),
                                is.timers[t] && window.clearTimeout(is.timers[t]),
                                delete is.pull[t]);
                        }),
                        c("message", es),
                        G.isIE8 &&
                            (Object.defineProperty = function (t, e, i) {
                                t[e] = i.value;
                            });
                    var ns = {
                            startOnMonday: !1,
                            toFixed: function (t, e) {
                                return t < 10 && (t = "0" + t), e && t < 100 && (t = "0" + t), t;
                            },
                            weekStart: function (t) {
                                var e = (t = this.copy(t)).getDay();
                                return this.startOnMonday && (0 === e ? (e = 6) : e--), this.datePart(this.add(t, -1 * e, "day"));
                            },
                            monthStart: function (t) {
                                return (t = this.copy(t)).setDate(1), this.datePart(t);
                            },
                            yearStart: function (t) {
                                return (t = this.copy(t)).setMonth(0), this.monthStart(t);
                            },
                            dayStart: function (t) {
                                return this.datePart(t, !0);
                            },
                            dateToStr: function (t, e) {
                                if ("function" == typeof t) return t;
                                if (G.strict)
                                    return function (e) {
                                        if (!e) return "";
                                        e.getMonth || (e = T.parseFormatDate(e));
                                        var i = "",
                                            n = 0;
                                        return (
                                            t.replace(/%[a-zA-Z]/g, function (s, r) {
                                                (i += t.slice(n, r)),
                                                    (i += (function (t) {
                                                        if ("%d" == s) return ns.toFixed(t.getDate());
                                                        if ("%m" == s) return ns.toFixed(t.getMonth() + 1);
                                                        if ("%j" == s) return t.getDate();
                                                        if ("%n" == s) return t.getMonth() + 1;
                                                        if ("%y" == s) return ns.toFixed(t.getFullYear() % 100);
                                                        if ("%Y" == s) return t.getFullYear();
                                                        if ("%D" == s) return T.calendar.dayShort[t.getDay()];
                                                        if ("%l" == s) return T.calendar.dayFull[t.getDay()];
                                                        if ("%M" == s) return T.calendar.monthShort[t.getMonth()];
                                                        if ("%F" == s) return T.calendar.monthFull[t.getMonth()];
                                                        if ("%h" == s) return ns.toFixed(((t.getHours() + 11) % 12) + 1);
                                                        if ("%g" == s) return ((t.getHours() + 11) % 12) + 1;
                                                        if ("%G" == s) return t.getHours();
                                                        if ("%H" == s) return ns.toFixed(t.getHours());
                                                        if ("%i" == s) return ns.toFixed(t.getMinutes());
                                                        if ("%a" == s) return 11 < t.getHours() ? T.pm[0] : T.am[0];
                                                        if ("%A" == s) return 11 < t.getHours() ? T.pm[1] : T.am[1];
                                                        if ("%s" == s) return ns.toFixed(t.getSeconds());
                                                        if ("%S" == s) return ns.toFixed(t.getMilliseconds(), !0);
                                                        if ("%W" == s) return ns.toFixed(Date.getISOWeek(t));
                                                        if ("%c" != s) return s;
                                                        var e = t.getFullYear();
                                                        return (
                                                            (e += "-" + ns.toFixed(t.getMonth() + 1)),
                                                            (e += "-" + ns.toFixed(t.getDate())),
                                                            (e += "T"),
                                                            (e += ns.toFixed(t.getHours())),
                                                            (e += ":" + ns.toFixed(t.getMinutes())) + ":" + ns.toFixed(t.getSeconds())
                                                        );
                                                    })(e)),
                                                    (n = r + 2);
                                            }),
                                            (i += t.slice(n, t.length))
                                        );
                                    };
                                (t = t.replace(/%[a-zA-Z]/g, function (t) {
                                    switch (t) {
                                        case "%d":
                                            return '"+wDate.toFixed(date.getDate())+"';
                                        case "%m":
                                            return '"+wDate.toFixed((date.getMonth()+1))+"';
                                        case "%j":
                                            return '"+date.getDate()+"';
                                        case "%n":
                                            return '"+(date.getMonth()+1)+"';
                                        case "%y":
                                            return '"+wDate.toFixed(date.getFullYear()%100)+"';
                                        case "%Y":
                                            return '"+date.getFullYear()+"';
                                        case "%D":
                                            return '"+i18n.calendar.dayShort[date.getDay()]+"';
                                        case "%l":
                                            return '"+i18n.calendar.dayFull[date.getDay()]+"';
                                        case "%M":
                                            return '"+i18n.calendar.monthShort[date.getMonth()]+"';
                                        case "%F":
                                            return '"+i18n.calendar.monthFull[date.getMonth()]+"';
                                        case "%h":
                                            return '"+wDate.toFixed((date.getHours()+11)%12+1)+"';
                                        case "%g":
                                            return '"+((date.getHours()+11)%12+1)+"';
                                        case "%G":
                                            return '"+date.getHours()+"';
                                        case "%H":
                                            return '"+wDate.toFixed(date.getHours())+"';
                                        case "%i":
                                            return '"+wDate.toFixed(date.getMinutes())+"';
                                        case "%a":
                                            return '"+(date.getHours()>11?i18n.pm[0]:i18n.am[0])+"';
                                        case "%A":
                                            return '"+(date.getHours()>11?i18n.pm[1]:i18n.am[1])+"';
                                        case "%s":
                                            return '"+wDate.toFixed(date.getSeconds())+"';
                                        case "%S":
                                            return '"+wDate.toFixed(date.getMilliseconds(), true)+"';
                                        case "%W":
                                            return '"+wDate.toFixed(wDate.getISOWeek(date))+"';
                                        case "%c":
                                            var i = '"+date.getFullYear()+"';
                                            return (
                                                (i += '-"+wDate.toFixed((date.getMonth()+1))+"'),
                                                (i += '-"+wDate.toFixed(date.getDate())+"'),
                                                (i += "T"),
                                                (i += '"+wDate.toFixed(date.getHours())+"'),
                                                (i += ':"+wDate.toFixed(date.getMinutes())+"'),
                                                (i += ':"+wDate.toFixed(date.getSeconds())+"'),
                                                !0 === e && (i += "Z"),
                                                i
                                            );
                                        default:
                                            return t;
                                    }
                                })),
                                    !0 === e && (t = t.replace(/date\.get/g, "date.getUTC"));
                                var i = new Function("date", "i18n", "wDate", "if (!date) return ''; if (!date.getMonth) date=i18n.parseFormatDate(date);  return \"" + t + '";');
                                return function (t) {
                                    return i(t, T, ns);
                                };
                            },
                            strToDate: function (t, i) {
                                if ("function" == typeof t) return t;
                                var n,
                                    s,
                                    r,
                                    o = t.match(/%[a-zA-Z]/g),
                                    a = "var temp=date.split(/[\\s\\./\\-\\:\\,]+/g); if(!temp.join('')){return ''}";
                                if (!T.calendar.monthShort_hash) {
                                    for (r = T.calendar.monthShort, s = T.calendar.monthShort_hash = {}, n = 0; n < r.length; n++) s[r[n]] = n;
                                    for (r = T.calendar.monthFull, s = T.calendar.monthFull_hash = {}, n = 0; n < r.length; n++) s[r[n]] = n;
                                }
                                if (G.strict)
                                    return function (t) {
                                        if (!t) return "";
                                        if ("object" == e(t)) return t;
                                        var s = t.split(/[\s./\-:,]+/g);
                                        if (!s.join("")) return "";
                                        var r = [0, 0, 1, 0, 0, 0, 0];
                                        for (n = 0; n < o.length; n++) {
                                            var a = o[n];
                                            if ("%y" == a) r[0] = 1 * s[n] + (30 < s[n] ? 1900 : 2e3);
                                            else if ("%Y" == a) (r[0] = 1 * (s[n] || 0)), r[0] < 30 && (r[0] += 2e3);
                                            else if ("%n" == a || "%m" == a) r[1] = (s[n] || 1) - 1;
                                            else if ("%M" == a) r[1] = T.calendar.monthShort_hash[s[n]] || 0;
                                            else if ("%F" == a) r[1] = T.calendar.monthFull_hash[s[n]] || 0;
                                            else if ("%j" == a || "%d" == a) r[2] = s[n] || 1;
                                            else if ("%g" == a || "%G" == a || "%h" == a || "%H" == a) r[3] = s[n] || 0;
                                            else if ("%a" == a) r[3] = (r[3] % 12) + ((s[n] || "") == T.am[0] ? 0 : 12);
                                            else if ("%A" == a) r[3] = (r[3] % 12) + ((s[n] || "") == T.am[1] ? 0 : 12);
                                            else if ("%i" == a) r[4] = s[n] || 0;
                                            else if ("%s" == a) r[5] = s[n] || 0;
                                            else if ("%S" == a) r[6] = s[n] || 0;
                                            else if ("%c" == a) {
                                                var l = /(\d+)-(\d+)-(\d+)T(\d+):(\d+):(\d+)(\+.*|)/g.exec(t);
                                                (r[0] = 1 * (l[1] || 0)), r[0] < 30 && (r[0] += 2e3), (r[1] = (l[2] || 1) - 1), (r[2] = l[3] || 1), (r[3] = l[4] || 0), (r[4] = l[5] || 0), (r[5] = l[6] || 0);
                                            }
                                        }
                                        return i ? new Date(Date.UTC(r[0], r[1], r[2], r[3], r[4], r[5], r[6])) : new Date(r[0], r[1], r[2], r[3], r[4], r[5], r[6]);
                                    };
                                for (n = 0; n < o.length; n++)
                                    switch (o[n]) {
                                        case "%j":
                                        case "%d":
                                            a += "set[2]=temp[" + n + "]||1;";
                                            break;
                                        case "%n":
                                        case "%m":
                                            a += "set[1]=(temp[" + n + "]||1)-1;";
                                            break;
                                        case "%y":
                                            a += "set[0]=temp[" + n + "]*1+(temp[" + n + "]>30?1900:2000);";
                                            break;
                                        case "%g":
                                        case "%G":
                                        case "%h":
                                        case "%H":
                                            a += "set[3]=temp[" + n + "]||0;";
                                            break;
                                        case "%i":
                                            a += "set[4]=temp[" + n + "]||0;";
                                            break;
                                        case "%Y":
                                            a += "set[0]=(temp[" + n + "]||0)*1; if (set[0]<30) set[0]+=2000;";
                                            break;
                                        case "%a":
                                            a += "set[3]=set[3]%12+(temp[" + n + "]==i18n.am[0]?0:12);";
                                            break;
                                        case "%A":
                                            a += "set[3]=set[3]%12+(temp[" + n + "]==i18n.am[1]?0:12);";
                                            break;
                                        case "%s":
                                            a += "set[5]=temp[" + n + "]||0;";
                                            break;
                                        case "%S":
                                            a += "set[6]=temp[" + n + "]||0;";
                                            break;
                                        case "%M":
                                            a += "set[1]=i18n.calendar.monthShort_hash[temp[" + n + "]]||0;";
                                            break;
                                        case "%F":
                                            a += "set[1]=i18n.calendar.monthFull_hash[temp[" + n + "]]||0;";
                                            break;
                                        case "%c":
                                            (a += "var res = date.split('T');"),
                                                (a += "if(res[0]){ var d = res[0].split('-');"),
                                                (a += "set[0]= (d[0]||0)*1; if (set[0]<30) set[0]+=2000;"),
                                                (a += "set[1]= (d[1]||1)-1;"),
                                                (a += "set[2]= d[2]||1;}"),
                                                (a += "if(res[1]){ var t = res[1].split(':');"),
                                                (a += "set[3]= t[0]||0;"),
                                                (a += "set[4]= t[1]||0;"),
                                                (a += "set[5]= parseInt(t[2])||0;}");
                                    }
                                var l = "set[0],set[1],set[2],set[3],set[4],set[5],set[6]";
                                i && (l = " Date.UTC(" + l + ")");
                                var h = new Function("date", "i18n", "if (!date) return ''; if (typeof date == 'object') return date; var set=[0,0,1,0,0,0,0]; " + a + " return new Date(" + l + ");");
                                return function (t) {
                                    return h(t, T);
                                };
                            },
                            getISOWeek: function (t) {
                                if (!t) return !1;
                                var e = t.getDay();
                                0 === e && (e = 7);
                                var i = new Date(t.valueOf());
                                i.setDate(t.getDate() + (4 - e));
                                var n = i.getFullYear(),
                                    s = Math.floor((i.getTime() - new Date(n, 0, 1).getTime()) / 864e5);
                                return 1 + Math.floor(s / 7);
                            },
                            getUTCISOWeek: function (t) {
                                return this.getISOWeek(t);
                            },
                            dl: function (t, e, i, n) {
                                if (i) {
                                    var s = n(t, e);
                                    if (s) for (var r = 0 < i ? 1 : -1; s; ) t.setHours(t.getHours() + r), (s = n(t, e)), (r += 0 < i ? 1 : -1);
                                }
                            },
                            add: function (t, e, i, n) {
                                n && (t = this.copy(t));
                                var s = ns.copy(t);
                                switch (i) {
                                    case "day":
                                        t.setDate(t.getDate() + e),
                                            this.dl(t, s, e, function (t, e) {
                                                return ns.datePart(e, !0).valueOf() == ns.datePart(t, !0).valueOf();
                                            });
                                        break;
                                    case "week":
                                        t.setDate(t.getDate() + 7 * e),
                                            this.dl(t, s, 7 * e, function (t, e) {
                                                return ns.datePart(e, !0).valueOf() == ns.datePart(t, !0).valueOf();
                                            });
                                        break;
                                    case "month":
                                        t.setMonth(t.getMonth() + e),
                                            this.dl(t, s, e, function (t, e) {
                                                return e.getMonth() == t.getMonth() && e.getYear() == t.getYear();
                                            });
                                        break;
                                    case "year":
                                        t.setYear(t.getFullYear() + e),
                                            this.dl(t, s, e, function (t, e) {
                                                return e.getFullYear() == t.getFullYear();
                                            });
                                        break;
                                    case "hour":
                                        t.setHours(t.getHours() + e),
                                            this.dl(t, s, e, function (t, e) {
                                                return e.getHours() == t.getHours() && Date.datePart(e, !0) == Date.datePart(t, !0);
                                            });
                                        break;
                                    case "minute":
                                        t.setMinutes(t.getMinutes() + e);
                                        break;
                                    default:
                                        ns.add[i](t, e, i);
                                }
                                return t;
                            },
                            datePart: function (t, e) {
                                e && (t = this.copy(t));
                                var i = this.copy(t);
                                return i.setHours(0), i.getDate() != t.getDate() ? t.setHours(1) : t.setHours(0), t.setMinutes(0), t.setSeconds(0), t.setMilliseconds(0), t;
                            },
                            timePart: function (t, e) {
                                return e && (t = this.copy(t)), (t.valueOf() / 1e3 - 60 * t.getTimezoneOffset()) % 86400;
                            },
                            copy: function (t) {
                                return new Date(t.valueOf());
                            },
                            equal: function (t, e) {
                                return !(!t || !e) && t.valueOf() === e.valueOf();
                            },
                            isHoliday: function (t) {
                                if (0 === (t = t.getDay()) || 6 == t) return "webix_cal_event";
                            },
                        },
                        ss = {
                            getConfig: function (t) {
                                var e = { decimalSize: 0, groupSize: 999, prefix: "", sufix: "" },
                                    i = t.split(/[0-9].*[0-9]/g);
                                i[0].length && (e.prefix = i[0]), i[1].length && (e.sufix = i[1]), (e.prefix || e.sufix) && (t = t.substr(e.prefix.length, t.length - e.prefix.length - e.sufix.length));
                                var n = t.indexOf("1");
                                0 < n && ((e.prefix = t.substr(0, n)), (t = t.substr(n)));
                                var s = t.indexOf("0");
                                0 < s && ((e.decimalSize = t.length - s), (e.decimalDelimiter = t[s - 1]), (t = t.substr(0, s - 1)));
                                var r = t.match(/[^0-9]/);
                                return r && ((e.groupSize = t.length - r.index - 1), (e.groupDelimiter = t[r.index])), e;
                            },
                            parse: function (t, e) {
                                if (!t || "string" != typeof t) return t;
                                e.prefix && (t = t.toLowerCase().replace(e.prefix.toLowerCase() || "", "")), e.sufix && (t = t.toLowerCase().replace(e.sufix.toLowerCase() || "", ""));
                                var i = "";
                                if (e.decimalDelimiter) {
                                    var n = t.indexOf(e.decimalDelimiter);
                                    -1 < n && ((i = (i = t.substr(n + 1).replace(/[^0-9]/g, "")).substr(0, Math.min(i.length, e.decimalSize))), (t = t.substr(0, n)));
                                }
                                var s = "-" === t[0] ? -1 : 1;
                                return (t = t.replace(/[^0-9]/g, "")) || (t = "0"), i && (t += "." + i), parseFloat(t) * s;
                            },
                            format: function (t, e) {
                                if ("" === t || void 0 === t) return t;
                                e = e || T;
                                var i = (t = parseFloat(t)) < 0 ? "-" : "";
                                (t = Math.abs(t)), e.decimalOptional || (t = t.toFixed(e.decimalSize));
                                var n = t.toString();
                                n = n.split(".");
                                var s = "";
                                if (e.groupSize) {
                                    var r = e.groupSize,
                                        o = n[0].length;
                                    do {
                                        s = (0 < (o -= r) ? n[0].substr(o, r) : n[0].substr(0, r + o)) + (s ? e.groupDelimiter + s : "");
                                    } while (0 < o);
                                } else s = n[0];
                                return (n = e.decimalSize ? i + s + (n[1] ? e.decimalDelimiter + n[1] : "") : i + s), e.prefix || e.sufix ? e.prefix + n + e.sufix : n;
                            },
                            numToStr: function (t) {
                                return function (e) {
                                    return ss.format(e, t);
                                };
                            },
                        },
                        rs = ["fullDateFormat", "timeFormat", "dateFormat", "longDateFormat", "parseFormat", "parseTimeFormat"];
                    (T.setLocale = function (t) {
                        "string" == typeof t && (t = T.locales[t]),
                            t &&
                                ((t.priceSettings = f(t.priceSettings || t)),
                                (function t(i, n) {
                                    for (var s in n) "object" != e(n[s]) || P(n[s]) ? (i[s] = n[s]) : (i[s] || (i[s] = {}), t(i[s], n[s]));
                                })(T, t),
                                delete T.calendar.monthShort_hash,
                                delete T.calendar.monthFull_hash);
                        for (var i = 0; i < rs.length; i++) {
                            var n = rs[i],
                                s = T[n + "UTC"];
                            (T[n + "Str"] = ns.dateToStr(T[n], s)), (T[n + "Date"] = ns.strToDate(T[n], s));
                        }
                        var r = Ut(T.price),
                            o = T.priceSettings || T;
                        (T.intFormat = ss.numToStr({ groupSize: T.groupSize, groupDelimiter: T.groupDelimiter, decimalSize: 0 })),
                            (T.priceFormat = function (t) {
                                return r(ss.format(t, o));
                            }),
                            (T.numberFormat = ss.format);
                    }),
                        (T.locales = {
                            "en-US": {
                                groupDelimiter: ",",
                                groupSize: 3,
                                decimalDelimiter: ".",
                                decimalSize: 2,
                                dateFormat: "%m/%d/%Y",
                                timeFormat: "%h:%i %A",
                                longDateFormat: "%d %F %Y",
                                fullDateFormat: "%m/%d/%Y %h:%i %A",
                                am: ["am", "AM"],
                                pm: ["pm", "PM"],
                                price: "${obj}",
                                priceSettings: { groupDelimiter: ",", groupSize: 3, decimalDelimiter: ".", decimalSize: 2 },
                                fileSize: ["b", "Kb", "Mb", "Gb", "Tb", "Pb", "Eb"],
                                calendar: {
                                    monthFull: ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"],
                                    monthShort: ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"],
                                    dayFull: ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"],
                                    dayShort: ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"],
                                    hours: "Hours",
                                    minutes: "Minutes",
                                    done: "Done",
                                    clear: "Clear",
                                    today: "Today",
                                },
                                dataExport: { page: "Page", of: "of" },
                                PDFviewer: {
                                    of: "of",
                                    automaticZoom: "Automatic Zoom",
                                    actualSize: "Actual Size",
                                    pageFit: "Page Fit",
                                    pageWidth: "Page Width",
                                    pageHeight: "Page Height",
                                    enterPassword: "Enter password",
                                    passwordError: "Wrong password",
                                },
                                aria: {
                                    calendar: "Calendar",
                                    increaseValue: "Increase value",
                                    decreaseValue: "Decrease value",
                                    navMonth: ["Previous month", "Next month"],
                                    navYear: ["Previous year", "Next year"],
                                    navDecade: ["Previous decade", "Next decade"],
                                    dateFormat: "%d %F %Y",
                                    monthFormat: "%F %Y",
                                    yearFormat: "%Y",
                                    hourFormat: "Hours: %h %A",
                                    minuteFormat: "Minutes: %i",
                                    removeItem: "Remove item",
                                    pages: ["First page", "Previous page", "Next page", "Last page"],
                                    page: "Page",
                                    headermenu: "Header menu",
                                    openGroup: "Open column group",
                                    closeGroup: "Close column group",
                                    closeTab: "Close tab",
                                    showTabs: "Show more tabs",
                                    resetTreeMap: "Reset tree map",
                                    navTreeMap: "Level up",
                                    nextTab: "Next tab",
                                    prevTab: "Previous tab",
                                    multitextSection: "Add section",
                                    multitextextraSection: "Remove section",
                                    showChart: "Show chart",
                                    hideChart: "Hide chart",
                                    resizeChart: "Resize chart",
                                },
                                richtext: { underline: "Underline", bold: "Bold", italic: "Italic" },
                                combo: { select: "Select", selectAll: "Select all", unselectAll: "Unselect all" },
                                message: { ok: "OK", cancel: "Cancel" },
                                comments: { send: "Send", confirmMessage: "The comment will be removed. Are you sure?", edit: "Edit", remove: "Remove", placeholder: "Type here..", moreComments: "More comments" },
                                filter: {
                                    less: "less",
                                    lessOrEqual: "less or equal",
                                    greater: "greater",
                                    greaterOrEqual: "greater or equal",
                                    contains: "contains",
                                    notContains: "not contains",
                                    equal: "equal",
                                    notEqual: "not equal",
                                    beginsWith: "begins with",
                                    notBeginsWith: "not begins with",
                                    endsWith: "ends with",
                                    notEndsWith: "not ends with",
                                    between: "between",
                                    notBetween: "not between",
                                },
                                timeboard: { seconds: "Seconds" },
                            },
                        }),
                        T.setLocale("en-US");
                    var os = {
                        prefix: function (t, e) {
                            return (
                                (t += "."),
                                {
                                    put: function (i, n) {
                                        return e.put(t + i, n);
                                    },
                                    get: function (i) {
                                        return e.get(t + i);
                                    },
                                    remove: function (i) {
                                        return e.remove(t + i);
                                    },
                                }
                            );
                        },
                    };
                    (os.local = {
                        put: function (t, e) {
                            t && window.JSON && window.localStorage && window.localStorage.setItem(t, $(e));
                        },
                        get: function (t) {
                            if (t && window.JSON && window.localStorage) {
                                var e = window.localStorage.getItem(t);
                                return e ? Nt.json.toObject(e) : null;
                            }
                            return null;
                        },
                        remove: function (t) {
                            t && window.JSON && window.localStorage && window.localStorage.removeItem(t);
                        },
                        clear: function () {
                            window.localStorage.clear();
                        },
                    }),
                        (os.session = {
                            put: function (t, e) {
                                t && window.JSON && window.sessionStorage && window.sessionStorage.setItem(t, $(e));
                            },
                            get: function (t) {
                                if (t && window.JSON && window.sessionStorage) {
                                    var e = window.sessionStorage.getItem(t);
                                    return e ? Nt.json.toObject(e) : null;
                                }
                                return null;
                            },
                            remove: function (t) {
                                t && window.JSON && window.sessionStorage && window.sessionStorage.removeItem(t);
                            },
                            clear: function () {
                                window.sessionStorage.clear();
                            },
                        }),
                        (os.cookie = {
                            put: function (t, e, i, n) {
                                t && window.JSON && (document.cookie = t + "=" + escape($(e)) + (n && n instanceof Date ? ";expires=" + n.toUTCString() : "") + (i ? ";domain=" + i : "") + (G.https ? ";secure" : ""));
                            },
                            getRaw: function (t) {
                                for (var e = document.cookie.split(";"), i = "", n = "", s = 0; s < e.length; s++) {
                                    if ((i = e[s].split("="))[0].replace(/^\s+|\s+$/g, "") == t) return 1 < i.length && (n = unescape(i[1].replace(/^\s+|\s+$/g, ""))), n;
                                    i = null;
                                }
                                return null;
                            },
                            get: function (t) {
                                if (t && window.JSON) {
                                    var e = this.getRaw(t);
                                    return e ? Nt.json.toObject(unescape(e)) : null;
                                }
                                return null;
                            },
                            remove: function (t, e) {
                                t && this.getRaw(t) && (document.cookie = t + "=" + (e ? ";domain=" + e : "") + ";expires=Thu, 01-Jan-1970 00:00:01 GMT");
                            },
                            clear: function (t) {
                                for (var e = document.cookie.split(";"), i = 0; i < e.length; i++) document.cookie = /^[^=]+/.exec(e[i])[0] + "=" + (t ? ";domain=" + t : "") + ";expires=Thu, 01-Jan-1970 00:00:01 GMT";
                            },
                        }),
                        (G.printPPI = 96),
                        (G.printMargin = 0.75 * G.printPPI);
                    var as = { a4: "A4", a3: "A3", letter: "letter" },
                        ls = { page: !0, data: !0 },
                        hs = { portrait: !0, landscape: !0 },
                        cs = { A3: { width: 11.7, height: 16.5 }, A4: { width: 8.27, height: 11.7 }, letter: { width: 8.5, height: 11 } };
                    function ds(t, e) {
                        var i = dt("div", { class: "webix_view webix_print_" + t.toLowerCase(), style: "height:0px;visibility:hidden;" }, e["doc" + t]);
                        "Header" === t ? ft(i, document.body.firstChild) : document.body.appendChild(i), (e["doc" + t] = i);
                    }
                    var us = {
                            number: {
                                greater: function (t, e) {
                                    return e < t;
                                },
                                less: function (t, e) {
                                    return t < e;
                                },
                                greaterOrEqual: function (t, e) {
                                    return e <= t;
                                },
                                lessOrEqual: function (t, e) {
                                    return t <= e;
                                },
                                equal: function (t, e) {
                                    return t == e;
                                },
                                notEqual: function (t, e) {
                                    return t != e;
                                },
                                contains: function (t, e) {
                                    return -1 !== t.toString().toLowerCase().indexOf(e.toString().toLowerCase());
                                },
                                notContains: function (t, e) {
                                    return -1 === t.toString().toLowerCase().indexOf(e.toString().toLowerCase());
                                },
                            },
                            text: {
                                equal: function (t, e) {
                                    return t.toLowerCase() === e.toLowerCase();
                                },
                                notEqual: function (t, e) {
                                    return t.toLowerCase() !== e.toLowerCase();
                                },
                                contains: function (t, e) {
                                    return -1 !== t.toLowerCase().indexOf(e.toLowerCase());
                                },
                                notContains: function (t, e) {
                                    return -1 === t.toLowerCase().indexOf(e.toLowerCase());
                                },
                                beginsWith: function (t, e) {
                                    return 0 === t.toLowerCase().lastIndexOf(e.toLowerCase(), 0);
                                },
                                notBeginsWith: function (t, e) {
                                    return 0 !== t.toLowerCase().lastIndexOf(e.toLowerCase(), 0);
                                },
                                endsWith: function (t, e) {
                                    return -1 !== t.toLowerCase().indexOf(e.toLowerCase(), t.length - e.length);
                                },
                                notEndsWith: function (t, e) {
                                    return -1 === t.toLowerCase().indexOf(e.toLowerCase(), t.length - e.length);
                                },
                            },
                            date: {
                                greater: function (t, e) {
                                    return e < t;
                                },
                                less: function (t, e) {
                                    return t < e;
                                },
                                greaterOrEqual: function (t, e) {
                                    return e <= t;
                                },
                                lessOrEqual: function (t, e) {
                                    return t <= e;
                                },
                                equal: function (t, e) {
                                    return !(!t || !e) && t.valueOf() === e.valueOf();
                                },
                                notEqual: function (t, e) {
                                    return !t || !e || t.valueOf() !== e.valueOf();
                                },
                                between: function (t, e) {
                                    return (!e.start || t > e.start) && (!e.end || t < e.end);
                                },
                                notBetween: function (t, e) {
                                    return !e.start || t <= e.start || !e.end || t >= e.end;
                                },
                            },
                        },
                        ps = { phone: { mask: "+# (###) ###-####", allow: /[0-9]/g }, card: { mask: "#### #### #### ####", allow: /[0-9]/g }, date: { mask: "####-##-## ##:##", allow: /[0-9]/g } },
                        fs = {
                            denySelect: rt,
                            allowSelect: ot,
                            index: at,
                            createCss: lt,
                            addStyle: ht,
                            removeStyle: ct,
                            create: dt,
                            getValue: ut,
                            remove: pt,
                            insertBefore: ft,
                            locate: mt,
                            offset: gt,
                            posRelative: vt,
                            pos: bt,
                            preventEvent: yt,
                            stopEvent: wt,
                            triggerEvent: xt,
                            addCss: _t,
                            removeCss: kt,
                            getTextSize: Pt,
                            download: St,
                            vl: Ct,
                            setSelectionRange: It,
                            getSelectionRange: Tt,
                            addMeta: $t,
                        },
                        ms = "__webix_remote_error";
                    function gs(t, e) {
                        (this._l = {}),
                            (this.pl = []),
                            (this.bl = t),
                            (this.lu = ""),
                            e
                                ? this.ml(e)
                                : (this.gl = V(t)
                                      .then(function (t) {
                                          return t.text();
                                      })
                                      .then(
                                          m(function (t) {
                                              return (t = t.split("/*api*/")[1]), this.ml(JSON.parse(t)), this._l;
                                          }, this)
                                      ));
                    }
                    function vs(t, e) {
                        var i = new gs(t, e).wl();
                        for (var n in i) bs[n] = i[n];
                        return i;
                    }
                    gs.prototype = {
                        ml: function (t) {
                            if ((t.$key && (this.lu = t.$key), t.$vars)) for (var e in t.$vars) this._l[e] = t.$vars[e];
                            this.X(t, this._l, "");
                        },
                        X: function (t, i, n) {
                            for (var s in t)
                                if ("$key" !== s && "$vars" !== s) {
                                    var r = t[s];
                                    if ("object" == e(r)) {
                                        var o = (i[s] = {});
                                        this.X(r, o, n + s + ".");
                                    } else i[s] = this.xl(this, n + s);
                                }
                        },
                        yl: function (t, e) {
                            var i = this.Ml(this, t, e);
                            return this.pl.push(i), this.Sl(), i;
                        },
                        Sl: function () {
                            this.kl || (this.kl = setTimeout(m(this.Cl, this), 1));
                        },
                        Cl: function () {
                            for (var t = [], e = this.pl, i = 0; i < this.pl.length; i++) {
                                var n = this.pl[i];
                                n.$sync ? (e.splice(i, 1), i--) : t.push({ name: n.$name, args: n.$args });
                            }
                            if (e.length) {
                                var s = V(),
                                    r = this.$l(t);
                                M("onBeforeRemoteCall", [s, r, {}]);
                                var o = s.post(this.bl, r).then(
                                    function (t) {
                                        for (var i = t.json().data, n = 0; n < i.length; n++) {
                                            var s = i[n],
                                                r = i[n] && i[n][ms];
                                            r ? (M("onRemoteError", [r]), e[n].reject(r)) : e[n].resolve(s);
                                        }
                                    },
                                    function (t) {
                                        for (var i = 0; i < e.length; i++) e[i].reject(t);
                                        throw t;
                                    }
                                );
                                M("onAfterRemoteCall", [o]);
                            }
                            (this.pl = []), (this.kl = null);
                        },
                        $: function () {
                            var t = null;
                            this.$sync = !0;
                            var e = [{ name: this.$name, args: this.$args }];
                            try {
                                var i = V(),
                                    n = this.$context.$l(e);
                                M("onBeforeRemoteCall", [i, n, { sync: !0 }]);
                                var s = i.sync().post(this.$context.bl, n);
                                M("onAfterRemoteCall", [null]), (t = JSON.parse(s.responseText).data[0])[ms] && (t = null);
                            } catch (t) {}
                            return t;
                        },
                        Ml: function (t, e, i) {
                            var n = l.defer();
                            return (n.sync = t.$), (n.$name = e), (n.$args = i), (n.$context = this), n;
                        },
                        xl: function (t, e) {
                            return function () {
                                return t.yl(e, [].slice.call(arguments));
                            };
                        },
                        wl: function () {
                            return this.gl || this._l;
                        },
                        $l: function (t) {
                            return { key: this.lu, payload: t };
                        },
                    };
                    var bs = function (t, i) {
                        if ("object" !== e(t)) return vs(t, i);
                        var n = document.getElementsByTagName("script");
                        return (i = t), vs((t = n[n.length - 1].src), i);
                    };
                    function ys() {
                        var t = !!(window.orientation % 180);
                        ee.orientation !== t && ((ee.orientation = t), M("onRotate", [t]));
                    }
                    G.touch && ((ee.orientation = !!((v(window.orientation) ? 90 : window.orientation) % 180)), Jt(window, "onorientationchange" in window ? "orientationchange" : "resize", ys));
                    var ws = {
                        textWaitDelay: 500,
                        summColumn: {
                            getValue: function (t) {
                                return t.innerText;
                            },
                            setValue: function () {},
                            refresh: function (t, e, i) {
                                var n = 0;
                                t.mapCells(
                                    null,
                                    i.columnId,
                                    null,
                                    1,
                                    function (t) {
                                        (t *= 1), isNaN(t) || (n += t);
                                    },
                                    !0
                                ),
                                    i.format && (n = i.format(n)),
                                    i.template && (n = i.template({ value: n })),
                                    (e.innerHTML = n);
                            },
                            trackCells: !0,
                            render: function (t, e) {
                                return e.template && (e.template = Ut(e.template)), "";
                            },
                        },
                        masterCheckbox: {
                            getValue: function () {},
                            setValue: function () {},
                            getHelper: function (t, e) {
                                return {
                                    check: function () {
                                        (e.checked = !1), t.onclick();
                                    },
                                    uncheck: function () {
                                        (e.checked = !0), t.onclick();
                                    },
                                    isChecked: function () {
                                        return e.checked;
                                    },
                                };
                            },
                            refresh: function (t, e, i) {
                                e.onclick = function () {
                                    this.getElementsByTagName("input")[0].checked = i.checked = !i.checked;
                                    var e = t.getColumnConfig(i.columnId),
                                        n = i.checked ? e.checkValue : e.uncheckValue;
                                    t.data.each(function (e) {
                                        (e[i.columnId] = n), t.callEvent("onCheck", [e.id, i.columnId, n]), this.callEvent("onStoreUpdated", [e.id, e, "save"]);
                                    }),
                                        t.refresh();
                                };
                            },
                            render: function (t, e) {
                                return "<input type='checkbox' " + (e.checked ? "checked='1'" : "") + ">";
                            },
                        },
                        textFilter: {
                            getInputNode: function (t) {
                                return t.querySelector("input") || { value: null };
                            },
                            getValue: function (t) {
                                return this.getInputNode(t).value;
                            },
                            setValue: function (t, e) {
                                this.getInputNode(t).value = e;
                            },
                            refresh: function (t, e, i) {
                                (e.component = t.P.id), t.registerFilter(e, i, this), (e.Dl = t.P.id), i.value && this.getValue(e) != i.value && this.setValue(e, i.value), (e.onclick = yt), Zt(e, "keydown", this.Il);
                            },
                            render: function (t, e) {
                                return this.init && this.init(e), (e.css = (e.css || "") + " webix_ss_filter"), "<input " + (e.placeholder ? 'placeholder="' + e.placeholder + '" ' : "") + "type='text'>";
                            },
                            Il: function (t) {
                                var e = this.Dl;
                                9 != (t.which || t.keyCode) &&
                                    (this.Al && window.clearTimeout(this.Al),
                                    (this.Al = window.setTimeout(function () {
                                        var t = ae(e);
                                        t && t.filterByAll();
                                    }, ws.textWaitDelay)));
                            },
                        },
                        selectFilter: {
                            getInputNode: function (t) {
                                return t.querySelector("select") || { value: null };
                            },
                            getValue: function (t) {
                                return this.getInputNode(t).value;
                            },
                            setValue: function (t, e) {
                                this.getInputNode(t).value = e;
                            },
                            refresh: function (t, e, i) {
                                (i.compare =
                                    i.compare ||
                                    function (t, e) {
                                        return t == e;
                                    }),
                                    (e.component = t.P.id),
                                    t.registerFilter(e, i, this);
                                var n = ws.Tl(t, i);
                                !1 !== i.emptyOption && n.unshift({ id: "", value: i.emptyOption || "" });
                                for (var s = document.createElement("select"), r = 0; r < n.length; r++) {
                                    var o = document.createElement("option");
                                    (o.value = n[r].id), (o.text = n[r].value), s.add(o);
                                }
                                (e.innerHTML = ""), e.appendChild(s), i.value && this.setValue(e, i.value), (e.onclick = yt), (s.Dl = t.P.id), Zt(s, "change", this.Fl);
                            },
                            render: function (t, e) {
                                return this.init && this.init(e), (e.css = (e.css || "") + " webix_ss_filter"), "";
                            },
                            Fl: function () {
                                ae(this.Dl).filterByAll();
                            },
                        },
                        Tl: function (t, e) {
                            var i = e.options;
                            return i ? t.Vl.call(i, "id", "value") : t.collectValues(e.columnId, e.collect);
                        },
                    };
                    (ws.serverFilter = t.extend(
                        {
                            $server: !0,
                            Il: function (t) {
                                var e = this.Dl,
                                    i = t.which || t.keyCode;
                                9 == i ||
                                    (33 <= i && i <= 40) ||
                                    (this.Al && window.clearTimeout(this.Al),
                                    (this.Al = window.setTimeout(function () {
                                        ae(e).filterByAll();
                                    }, ws.textWaitDelay)));
                            },
                        },
                        ws.textFilter
                    )),
                        (ws.serverSelectFilter = t.extend(
                            {
                                $server: !0,
                                Fl: function () {
                                    ae(this.Dl).filterByAll();
                                },
                            },
                            ws.selectFilter
                        )),
                        (ws.numberFilter = t.extend(
                            {
                                init: function (t) {
                                    t.prepare = function (e) {
                                        var i,
                                            n = this,
                                            s = -1 != e.indexOf("="),
                                            r = this.format(e);
                                        return "" === r
                                            ? ""
                                            : (-1 != e.indexOf(">") ? (i = this.zl) : -1 != e.indexOf("<") && (i = this.Bl),
                                              (t.compare =
                                                  i && s
                                                      ? function (t, e) {
                                                            return n.Hl(t, e) || i(t, e);
                                                        }
                                                      : i || this.Hl),
                                              r);
                                    };
                                },
                                format: function (t) {
                                    return t.replace(/[^\-.0-9]/g, "");
                                },
                                zl: function (t, e) {
                                    return e < 1 * t;
                                },
                                Bl: function (t, e) {
                                    return "" !== t && 1 * t < e;
                                },
                                Hl: function (t, e) {
                                    return "" !== t && 1 * t == e;
                                },
                            },
                            ws.textFilter
                        )),
                        (ws.dateFilter = t.extend(
                            {
                                format: function (t) {
                                    if ("" === t) return "";
                                    var e = new Date();
                                    if (-1 != t.indexOf("today")) e = ns.dayStart(e);
                                    else if (-1 == t.indexOf("now")) {
                                        var i = t.match(/[0-9]+/g);
                                        if (!i || !i.length) return "";
                                        e = i.length < 3 ? (i.reverse(), new Date(i[0], (i[1] || 1) - 1, 1)) : T.dateFormatDate(t.replace(/^[>< =]+/, ""));
                                    }
                                    return e.valueOf();
                                },
                            },
                            ws.numberFilter
                        ));
                    var xs = {
                            name: "baselayout",
                            restore: function (t, e, i) {
                                var n = this.Rl(f(t), e);
                                if (i) return n;
                                ne(n.cols || n.rows, this);
                            },
                            Rl: function (t, e) {
                                if (!t.$layout) return e.call(this, t);
                                for (var i = t.cols || t.rows, n = 0; n < i.length; n++) i[n] = this.Rl(i[n], e);
                                return t;
                            },
                            serialize: function (t) {
                                for (var e = [], i = this.getChildViews(), n = 0; n < i.length; n++) {
                                    var s = i[n];
                                    if (s.movePortlet) {
                                        var r = s.getChildViews();
                                        e.push(t.call(this, r[r.length - 1]));
                                    } else s.serialize ? e.push(s.serialize(t, !0)) : e.push(t.call(this, s));
                                }
                                var o = { $layout: !0, type: this.config.type };
                                return this.config.rows ? (o.rows = e) : (o.cols = e), o;
                            },
                            $init: function (e) {
                                this.$ready.push(this.El),
                                    (this.tt = this.Wi),
                                    (this.Pl = []),
                                    (this.jl = []),
                                    (this.qa = { top: 0, left: 0, right: 0, bottom: 0 }),
                                    e.$topView && ((e.borderless = !0), (e.Dt = { top: !0, left: !0, bottom: !0, right: !0 })),
                                    e.isolate && t.extend(this, Di);
                            },
                            rows_setter: function (t) {
                                return (this.Nl = 1), (this.Ll = t), !0;
                            },
                            cols_setter: function (t) {
                                return (this.Nl = 0), (this.$view.style.whiteSpace = "nowrap"), (this.Ll = t), !0;
                            },
                            Ft: function (t) {
                                var e = I.find.call(this.ri, t);
                                this.Ol && this.Ol(e), I.removeAt.call(this.ri, e), this.Wl(!0);
                            },
                            Wl: function (t) {
                                for (var e = (this.Ul = 0); e < this.ri.length; e++) {
                                    var i = this.ri[e];
                                    (i.P.hidden || i.$nospace) && this.Ul++;
                                }
                                t && this.resizeChildren(!0);
                            },
                            Tt: function (t, e) {
                                if (v(e)) {
                                    for (var i = 0; i < this.ri.length; i++) this.ri[i].destructor();
                                    (this.Ll = t), this.El();
                                } else {
                                    var n;
                                    "number" == typeof e
                                        ? ((e < 0 || e > this.ri.length) && (e = this.ri.length), I.insertAt.call(this.ri, t, e), t.P.hidden || this.Yl(t, this.ri[e]))
                                        : ((n = ae(e)), (e = I.find.call(this.ri, n)), t.P.hidden || this.Yl(t, n), n.destructor(), (this.ri[e] = t)),
                                        this.Nl || this.Wa(t);
                                }
                                this.Wl(!0);
                                var s = this.elements ? this : this.getFormView();
                                s && !this.ql && s.oe(), M("onReconstruct", [this]);
                            },
                            Wa: function (t) {
                                (t.Vt.style.display = "inline-block"), (t.Vt.style.verticalAlign = "top");
                            },
                            addView: function (t, e) {
                                v(e) && (e = this.ri.length);
                                var i = this.$$ ? this : this.getTopParentView();
                                ee.bt = this;
                                var n = i && i.ui ? i.ui(t, this, e) : ne(t, this, e);
                                return (ee.bt = null), n.P.id;
                            },
                            removeView: function (t) {
                                var i;
                                i = "object" != e(t) ? ae(t) || (this.$$ ? this.$$(t) : null) : t;
                                var n = I.find.call(this.ri, i);
                                if (0 <= n) {
                                    this.Ol && this.Ol(n, i);
                                    var s = this.elements ? this : this.getFormView();
                                    this.ri.splice(n, 1),
                                        s &&
                                            fe(
                                                i,
                                                function (t) {
                                                    t.name && delete s.getCleanValues()[t.config.name];
                                                },
                                                s,
                                                !0
                                            ),
                                        i.destructor(),
                                        this.Wl(!0),
                                        s && s.oe();
                                }
                                M("onReconstruct", [this]);
                            },
                            reconstruct: function () {
                                (this.Ul = 0), this.Tt(this.Ll);
                            },
                            Bi: function (t, e, i) {
                                t.P.hidden || ((t.P.hidden = !0), pt(t.Vt), this.Ul++, i || ee.gt || this.resizeChildren(!0));
                            },
                            Se: function (t) {
                                t.callEvent && t.callEvent("onViewShow", []);
                            },
                            resizeChildren: function () {
                                if (!ee.pt && this.Pl) {
                                    var t = this.getParentView();
                                    if (t) return t.resizeChildren ? t.resizeChildren() : t.resize();
                                    var e,
                                        i,
                                        n,
                                        s,
                                        r = this.$getSize(0, 0);
                                    if (
                                        ((n = e = this.Pl[0] || 0),
                                        (s = i = this.Pl[1] || 0),
                                        (1e5 <= r[1] || 1e5 <= r[3]) &&
                                            this.Vt.parentNode &&
                                            ((n = e = Math.max(r[0], this.P.width || this.Vt.parentNode.offsetWidth || e || 0)), (s = i = Math.max(r[2], this.P.height || this.Vt.parentNode.offsetHeight || i || 0))),
                                        t)
                                    )
                                        this.Ga(e, i);
                                    else {
                                        r[0] > e && (n = r[0]), r[2] > i && (s = r[2]);
                                        var o = this.Vt.parentNode == document.body && !this.setPosition;
                                        !o && e > r[1] && (n = r[1]), !o && i > r[3] && (s = r[3]), this.$setSize(n, s);
                                    }
                                    ee.vt && ((ee.vt = !1), this.resizeChildren()), M("onResize", []);
                                }
                            },
                            getChildViews: function () {
                                return this.ri;
                            },
                            index: function (t) {
                                t.P && (t = t.P.id);
                                for (var e = 0; e < this.ri.length; e++) if (this.ri[e].P.id == t) return e;
                                return -1;
                            },
                            Yl: function (t, e) {
                                if (e)
                                    if (e.P.hidden || t === e) {
                                        for (var i = this.index(e) + 1; this.ri[i] && this.ri[i].P.hidden; ) i++;
                                        e = this.ri[i] ? this.ri[i].Vt : null;
                                    } else e = e.Vt;
                                ft(t.Vt, e, this.tt || this.Vt);
                            },
                            ye: function (t, e, i) {
                                t.P.hidden && (this.Yl(t, t), (t.P.hidden = !1), this.Ul--, i || (this.resizeChildren(!0), t.refresh && t.refresh()), t.callEvent && (t.callEvent("onViewShow", []), fe(t, this.Se)));
                            },
                            showBatch: function (t, e) {
                                var i = void 0 !== e;
                                if (((e = !1 !== e), i)) this.P.visibleBatch = "";
                                else {
                                    if (this.P.visibleBatch == t) return;
                                    this.P.visibleBatch = t;
                                }
                                for (var n = [], s = 0; s < this.ri.length; s++)
                                    this.ri[s].P.batch || this.ri[s].P.hidden ? (this.ri[s].P.batch == t ? (e ? n.push(this.ri[s]) : this.Bi(this.ri[s], null, !0)) : i || this.Bi(this.ri[s], null, !0)) : n.push(this.ri[s]);
                                for (var r = 0; r < n.length; r++) this.ye(n[r], null, !0), n[r].Me();
                                this.resizeChildren(!0);
                            },
                            El: function (t) {
                                (this.ri = []), this.name;
                                for (var e = 0; e < t.length; e++)
                                    (ee.bt = this),
                                        t[e].Dt || (t[e].borderless = !0),
                                        (this.ri[e] = ne.Ht(t[e], this)),
                                        this.Nl || this.Wa(this.ri[e]),
                                        this.P.visibleBatch && this.P.visibleBatch != this.ri[e].P.batch && this.ri[e].P.batch && (this.ri[e].P.hidden = !0),
                                        this.ri[e].P.hidden || (this.tt || this.Wi).appendChild(this.ri[e].Vt);
                                this.Wl(), this.Gl && this.Gl(t);
                            },
                            Xl: function (t, e) {
                                e.top && (t.borderTopWidth = "0px"), e.left && (t.borderLeftWidth = "0px"), e.right && (t.borderRightWidth = "0px"), e.bottom && (t.borderBottomWidth = "0px");
                            },
                            Kl: function (t, e, i) {
                                if (this.Nl != i) for (var n = 0; n < this.ri.length; n++) (this.ri[n].P[t] = e), this.ri[n].Kl && this.ri[n].Kl(t, e, i);
                            },
                            $getSize: function (t, e) {
                                var i = 0,
                                    n = 1e5,
                                    s = 1e5,
                                    r = 0;
                                this.Nl ? (s = 0) : (n = 0);
                                var o = 0,
                                    a = 0,
                                    l = 0;
                                this.ei = [];
                                for (var h = 0; h < this.ri.length; h++)
                                    if (!this.ri[h].P.hidden) {
                                        var c = (this.ei[h] = this.ri[h].$getSize(0, 0));
                                        this.ri[h].$nospace
                                            ? a++
                                            : this.Nl
                                            ? (c[0] > i && (i = c[0]), c[1] < n && (n = c[1]), (r += c[2]), (s += c[3]), c[2] == c[3] && -1 != c[2] ? ((o += c[2]), a++) : (l += c[4]))
                                            : (c[2] > r && (r = c[2]), c[3] < s && (s = c[3]), (i += c[0]), (n += c[1]), c[0] == c[1] && -1 != c[0] ? ((o += c[0]), a++) : (l += c[4]));
                                    }
                                s < r && (s = r), n < i && (n = i), (this.Jl = [o, this.ri.length - a, l]), (this.Zl = [i + t, r + e]);
                                var d = Ae.api.$getSize.call(this, 0, 0);
                                return (
                                    1e5 <= d[1] && (d[1] = 0),
                                    1e5 <= d[3] && (d[3] = 0),
                                    (d[0] = (d[0] || i) + t),
                                    (d[1] = Math.max(d[0], (d[1] || n) + t)),
                                    (d[2] = (d[2] || r) + e),
                                    (d[3] = Math.max(d[2], (d[3] || s) + e)),
                                    !this.Nl && this.P.responsive && (d[0] = 0),
                                    d
                                );
                            },
                            $setSize: function (t, e) {
                                (this.Pl = [t, e]), Ae.api.$setSize.call(this, t, e), this.Ga(t, e);
                            },
                            Ql: function (t, e, i) {
                                var n = (e = t[e]);
                                if (e != (i = t[i])) {
                                    var s = (this.ed * t[4]) / this.sd;
                                    if (s < e) (n = e), (this.sd -= t[4]), (this.ed -= n);
                                    else {
                                        if (!(i < s)) return -1;
                                        (n = i), (this.sd -= t[4]), (this.ed -= n);
                                    }
                                }
                                return n;
                            },
                            nd: function (t, e) {
                                var i = ae(e);
                                "hide" !== i && i
                                    ? (i || (i = ne({ view: "popup", body: [{}] })), (t.hd = t.P.width), (t.rd = t.P.height), (t.od = i.P.id), (t.P.width = 0), t.P.height || (t.P.autoheight = !0), ne(t, i, this.jl.length))
                                    : (t.hide(), (t.od = "hide")),
                                    this.jl.push(t);
                            },
                            ad: function (t) {
                                var e = t.od;
                                if (((t.od = 0), "hide" !== e && e)) {
                                    (t.P.width = t.hd), (t.P.height = t.rd), delete t.P.autoheight;
                                    for (var i = 0; this.ri[i] && !1 === this.ri[i].P.responsiveCell; ) i++;
                                    ne(t, this, i);
                                } else t.show();
                                this.jl.pop();
                            },
                            ud: function (t) {
                                if (((ee._t = !0), t + this.qa.left + this.qa.right + this.Xa * (this.ri.length - 1) < this.Zl[0]))
                                    for (var e = this.ri.length - 1, i = 0; i < e; i++) {
                                        var n = this.ri[i];
                                        if (!n.od) {
                                            if (!1 !== n.P.responsiveCell) {
                                                this.nd(n, this.P.responsive), M("onResponsiveHide", [n.P.id]), (ee.vt = !0);
                                                break;
                                            }
                                            e = this.ri.length;
                                        }
                                    }
                                else if (this.jl.length) {
                                    var s = this.jl[this.jl.length - 1],
                                        r = "hide" == s.od ? 0 : s.hd;
                                    s.$getSize(r, 0)[0] + this.Zl[0] + this.Xa + 20 <= t && (this.ad(s), M("onResponsiveShow", [s.P.id]), (ee.vt = !0));
                                }
                                ee._t = !1;
                            },
                            Ga: function (t, e) {
                                (ee.dt = (ee.dt || 0) + 1), !this.Nl && this.P.responsive && this.ud(t, e), (this.ed = (this.Nl ? e : t) - this.Jl[0]), (this.sd = this.Jl[2]);
                                for (var i = t, n = e, s = [], r = 0; r < this.ri.length; r++)
                                    if (!this.ri[r].P.hidden && this.ei[r]) {
                                        var o = this.ei[r];
                                        if (this.Nl) {
                                            if ((n = this.Ql(o, 2, 3)) < 0) {
                                                s.push({ oldIndex: r, view: this.ri[r] });
                                                continue;
                                            }
                                        } else if ((i = this.Ql(o, 0, 1)) < 0) {
                                            s.push({ oldIndex: r, view: this.ri[r] });
                                            continue;
                                        }
                                        this.ri[r].$setSize(i, n);
                                    }
                                for (var a = 0; a < s.length; a++) {
                                    var l = s[a].oldIndex,
                                        h = this.ei[l],
                                        c = Math.round((this.ed * h[4]) / this.sd);
                                    (this.ed -= c), (this.sd -= h[4]), this.Nl ? (n = c) : (i = c), s[a].view.$setSize(i, n);
                                }
                                ee.dt -= 1;
                            },
                            cd: function (t, e) {
                                var i = this.index(t);
                                return -1 == i ? null : this.ri[i + e];
                            },
                            fd: function () {
                                return this.ri[0];
                            },
                        },
                        _s = { api: xs, view: t.protoUI(xs, E, Ae.view) },
                        ks = {
                            name: "layout",
                            $init: function () {
                                this.Ul = 0;
                            },
                            defaults: { type: "line" },
                            El: function () {
                                this.ld && (i = this.ld(i)),
                                    this.dd || ((this.Vt.className += " webix_layout_" + (this.P.type || "")), (this.dd = 1)),
                                    void 0 !== this.P.margin && (this.Xa = this.P.margin),
                                    void 0 !== this.P.padding && "object" !== e(this.P.padding) && (this.qa.left = this.qa.right = this.qa.top = this.qa.bottom = this.P.padding),
                                    void 0 !== this.P.paddingX && (this.qa.left = this.qa.right = this.P.paddingX),
                                    void 0 !== this.P.paddingY && (this.qa.top = this.qa.bottom = this.P.paddingY),
                                    "object" === e(this.P.padding) && t.extend(this.qa, this.P.padding, !0),
                                    (this.qa.left || this.qa.right || this.qa.top || this.qa.bottom) && (this.qa.defined = !0),
                                    this.vd() && !this.P.borderless && ((this.Wi.style.borderWidth = "1px"), (this._d = !0));
                                var i = this.Ll;
                                this.P.borderless && (this.P.Dt = { top: !0, left: !0, right: !0, bottom: !0 }), this.Ua(i), _s.api.El.call(this, i), this.Ya(i);
                            },
                            $getSize: function (t, e) {
                                (t = t || 0), (e = e || 0);
                                var i = this.Xa * (this.ri.length - this.Ul - 1);
                                if (this._d || this.vd()) {
                                    var n = this.P.Dt;
                                    n && ((t += (n.left ? 0 : 1) + (n.right ? 0 : 1)), (e += (n.top ? 0 : 1) + (n.bottom ? 0 : 1)));
                                }
                                return this.P.height || (e += this.qa.top + this.qa.bottom + (this.Nl ? i : 0)), this.P.width || (t += this.qa.left + this.qa.right + (this.Nl ? 0 : i)), _s.api.$getSize.call(this, t, e);
                            },
                            $setSize: function (t, e) {
                                (this.Pl = [t, e]),
                                    this.vd() || this._d ? Re.api.$setSize.call(this, t, e) : Ae.api.$setSize.call(this, t, e),
                                    (e = this.we),
                                    (t = this.me),
                                    this.P.scroll && ((e = Math.max(e, this.Zl[1])), (t = Math.max(t, this.Zl[0]))),
                                    this.Ga(t, e);
                            },
                            Ga: function (t, e) {
                                var i = this.Xa * (this.ri.length - this.Ul - 1);
                                return (e -= this.qa.top + this.qa.bottom), (t -= this.qa.left + this.qa.right), this.Nl ? (e -= i) : (t -= i), _s.api.Ga.call(this, t, e);
                            },
                            resizeChildren: function (t) {
                                if (t) {
                                    this.be = null;
                                    for (var e = [], i = 0; i < this.ri.length; i++) {
                                        var n = this.ri[i];
                                        e[i] = n.P;
                                        var s = (n.Pl && !n._d) || n.P.borderless ? "0px" : "1px";
                                        n.Vt.style.borderTopWidth = n.Vt.style.borderBottomWidth = n.Vt.style.borderLeftWidth = n.Vt.style.borderRightWidth = s;
                                    }
                                    this.Ua(e);
                                    for (var r = 0; r < e.length; r++) e[r].borderless && this.ri[r].hi && this.ri[r].hi(e[r]);
                                    this.Ya(this.ri);
                                }
                                ee._t || _s.api.resizeChildren.call(this);
                            },
                            vd: function () {
                                return this.qa.defined && 0 < this.Xa && !this.pd;
                            },
                            Ua: function (t) {
                                if (!this.vd() || (this.P.borderless && "space" != this.P.type)) {
                                    for (var e = 0; e < t.length; e++) t[e].Dt = p(this.P.Dt);
                                    var i = !1;
                                    this.pd && (i = !0);
                                    var n = t.length;
                                    if (this.Nl) {
                                        for (var s = 1; s < n - 1; s++) t[s].Dt.top = t[s].Dt.bottom = i;
                                        if (1 < n) {
                                            for ("head" != this.P.type && (t[0].Dt.bottom = i); t[n - 1].hidden && 1 < n; ) n--;
                                            0 < n && (t[n - 1].Dt.top = i);
                                        }
                                    } else {
                                        for (var r = 1; r < n - 1; r++) t[r].Dt.left = t[r].Dt.right = i;
                                        if (1 < n) {
                                            for ("head" != this.P.type && (t[0].Dt.right = i), t[n - 1].Dt.left = i; 1 < n && t[n - 1].hidden; ) n--;
                                            0 < n && (t[n - 1].Dt.left = i);
                                        }
                                    }
                                } else for (var o = 0; o < t.length; o++) (t[o].Dt && t[o].borderless) || (t[o].Dt = { top: !1, left: !1, right: !1, bottom: !1 });
                            },
                            Ya: function (t) {
                                for (var e = 0, i = 0; i < t.length; i++) {
                                    var n = this.ri[i],
                                        s = n.P.Dt;
                                    if (n.P.hidden && this.ri[i + 1]) {
                                        var r = this.ri[i + 1].P.Dt;
                                        s.top || (r.top = !1), s.left || (r.left = !1), i == e && e++;
                                    }
                                    this.Xl(n.Vt.style, n.P.Dt);
                                }
                                for (var o = this.Nl ? "marginLeft" : "marginTop", a = this.Nl ? "marginTop" : "marginLeft", l = this.Nl ? this.qa.left : this.qa.top, h = this.Nl ? this.qa.top : this.qa.left, c = 0; c < t.length; c++)
                                    this.ri[c].Vt.style[o] = l + "px";
                                this.ri.length && (this.ri[e].Vt.style[a] = h + "px");
                                for (var d = e + 1; d < t.length; d++) this.ri[d].Vt.style[a] = this.Xa + "px";
                            },
                            type_setter: function (t) {
                                return (
                                    (this.Xa = void 0 !== this.bd[t] ? this.bd[t] : this.bd.line),
                                    (this.qa.left = this.qa.right = this.qa.top = this.qa.bottom = void 0 !== this.bd[t] ? this.md[t] : this.md.line),
                                    (this.pd = "material" == t || "clean" == t),
                                    "material" == t && (this.P.borderless = !0),
                                    t
                                );
                            },
                            $skin: function () {
                                (this.bd = Ve.layoutMargin), (this.md = Ve.layoutPadding);
                            },
                        },
                        Ps = t.protoUI(ks, _s.view),
                        Ss = { api: ks, view: Ps };
                    Ps.call(-1);
                    var Cs = {
                            name: "daterange",
                            defaults: { button: !1, icons: !1, calendarCount: 2, borderless: !1 },
                            $init: function (e) {
                                (e.calendar = e.calendar || {}), (e.value = this.$prepareValue(e.value)), delete e.calendar.type, (this.Vt.className += " webix_daterange"), (this.gd = this.wd[e.calendar.type] || 0);
                                for (
                                    var i = [],
                                        n = Ve.calendar,
                                        s = n && n.height ? n.height : 0,
                                        r = n && n.width ? n.width : 0,
                                        o = s || 250,
                                        a = r || 250,
                                        l = t.extend({ view: "calendar", width: r, height: s }, e.calendar || {}, !0),
                                        h = (e.calendarCount = (0 === this.gd && e.calendarCount) || this.defaults.calendarCount),
                                        c = (l.css ? l.css + " " : "") + "webix_range_",
                                        d = e.value.start || new Date(),
                                        u = 0;
                                    u < h;
                                    u++
                                ) {
                                    var p = ns.copy(d);
                                    p.setDate(1),
                                        (p = ns.add(p, this.xd[this.gd] * u, "month")),
                                        t.extend(
                                            l,
                                            {
                                                events: m(this.yd, this),
                                                css: c + (1 === h ? "" : 0 === u ? "0" : u + 1 == h ? "N" : "1"),
                                                monthSelect: 0 === u || u + 1 === h,
                                                timepicker: 0 === this.gd && e.timepicker,
                                                borderless: !0,
                                                date: p,
                                            },
                                            !0
                                        ),
                                        i.push(f(l));
                                }
                                (e.rows = [{ type: "clean", cols: i }]),
                                    (e.button || e.icons) && e.rows.push(this.Md(e, a * h)),
                                    (e.height = v(e.height) ? o + (e.icons || e.button ? 30 : 0) : e.height),
                                    (e.width = v(e.width) ? a * h : e.width),
                                    (e.type = "line"),
                                    this.$ready.push(this.Sd),
                                    Zt(
                                        this.$view,
                                        "keydown",
                                        m(function (t) {
                                            this.ke(t.which || t.keyCode, t);
                                        }, this)
                                    );
                            },
                            value_setter: function (t) {
                                return this.$prepareValue(t);
                            },
                            getValue: function () {
                                return this.P.value;
                            },
                            setValue: function (t, e) {
                                t = this.$prepareValue(t);
                                var i = (this.P.value = t).start || t.end || new Date();
                                if (!e) {
                                    this.kd[0].showCalendar(t.start);
                                    for (var n = 1; n < this.kd.length; n++) (this.kd[n].P.date = i), this.Cd(this.kd[n], 1, n);
                                }
                                this.callEvent("onChange", [t]), this.refresh();
                            },
                            refresh: function () {
                                for (var t = 0; t < this.kd.length; t++)
                                    if (this.kd[t].gd === this.gd) {
                                        kt(this.kd[t].$view, "webix_cal_timepicker"), kt(this.kd[t].$view, "webix_range_timepicker");
                                        var e = this.$d(this.kd[t].getVisibleDate());
                                        if (e.start || e.end) {
                                            if (((this.kd[t].P.date = e.start || e.end), this.P.timepicker)) {
                                                var i = "webix_" + (e.start && e.end ? "range" : "cal") + "_timepicker";
                                                _t(this.kd[t].$view, i);
                                            }
                                        } else ns.datePart(this.kd[t].P.date);
                                        this.kd[t].refresh();
                                    }
                            },
                            addToRange: function (t) {
                                var e = this.Dd(this.Id(t));
                                this.setValue(e);
                            },
                            Ad: [
                                {
                                    template: function () {
                                        return "<span role='button' tabindex='0' class='webix_cal_icon_today webix_cal_icon'>" + T.calendar.today + "</span>";
                                    },
                                    on_click: {
                                        webix_cal_icon_today: function () {
                                            var t = new Date();
                                            this.P.timepicker || (t = ns.datePart(t)), this.addToRange(t), this.callEvent("onTodaySet", [this.getValue()]);
                                        },
                                    },
                                },
                                {
                                    template: function () {
                                        return "<span role='button' tabindex='0' class='webix_cal_icon_clear webix_cal_icon'>" + T.calendar.clear + "</span>";
                                    },
                                    on_click: {
                                        webix_cal_icon_clear: function () {
                                            this.setValue(""), this.callEvent("onDateClear", []);
                                        },
                                    },
                                },
                            ],
                            Td: function (t) {
                                if (t) {
                                    t = "object" == e(t) ? t : this.Ad;
                                    for (var i = { css: "webix_cal_footer ", borderless: !0, template: "<div class='webix_cal_icons'>", onClick: {} }, n = 0; n < t.length; n++) {
                                        if (t[n].template) {
                                            var s = "function" == typeof t[n].template ? t[n].template : Ut(t[n].template);
                                            i.template += s.call(this);
                                        }
                                        if (t[n].on_click) for (var r in t[n].on_click) i.onClick[r] = m(t[n].on_click[r], this);
                                    }
                                    return (i.template += "</div>"), (i.width = Pt(i.template).width + 30), i;
                                }
                                return { width: 0 };
                            },
                            Md: function (t, e) {
                                var i = {
                                        view: "button",
                                        value: T.calendar.done,
                                        minWidth: 100,
                                        maxWidth: 230,
                                        align: "center",
                                        click: function () {
                                            this.getParentView().getParentView().hide();
                                        },
                                    },
                                    n = this.Td(t.icons),
                                    s = { css: "webix_range_footer", height: 30, cols: [{ width: n.width }] };
                                return (t.button || t.icons) && 2 * n.width + i.minWidth > e && (s.cols[0].width = 0), s.cols.push(t.button ? i : {}), s.cols.push(n), s;
                            },
                            wd: { time: -1, month: 1, year: 2 },
                            xd: { 0: 1, 1: 12, 2: 120 },
                            $prepareValue: function (t) {
                                return (
                                    t || (t = { start: null, end: null }),
                                    t.start || t.end || (t = { start: t }),
                                    (t.end = this.Id(t.end) || null),
                                    (t.start = this.Id(t.start) || null),
                                    ((t.end && t.end < t.start) || !t.start) && (t.end = [t.start, (t.start = t.end)][0]),
                                    t
                                );
                            },
                            Id: function (t) {
                                return "string" == typeof t && (t = T.parseFormatDate(t)), isNaN(1 * t) ? null : t;
                            },
                            yd: function (t, e) {
                                if (!e) {
                                    var i = this.P.value,
                                        n = i.start ? ns.datePart(ns.copy(i.start)) : null,
                                        s = i.end ? ns.datePart(ns.copy(i.end)) : null,
                                        r = ns.datePart(t),
                                        o = ns.add(r, 1, "day", !0),
                                        a = ns.add(r, -1, "day", !0),
                                        l = "";
                                    return (
                                        n <= r && s && r <= s && ((l = "webix_cal_range"), ns.equal(a, n) && (l += " webix_cal_range_first"), ns.equal(o, s) && (l += " webix_cal_range_last")),
                                        ns.equal(r, n) && (l = "webix_cal_range_start"),
                                        ns.equal(r, s) && (l = "webix_cal_range_end"),
                                        l + " " + (ns.isHoliday(t) + " " || 0)
                                    );
                                }
                            },
                            Sd: function () {
                                var t = (this.kd = this.getChildViews()[0].getChildViews()),
                                    e = this,
                                    i = this.config.id;
                                this.Fd = {};
                                for (var n = 0; n < t.length; n++)
                                    (t[n].config.master = i),
                                        t[(this.Fd[t[n].config.id] = n)].attachEvent("onBeforeDateSelect", function (t) {
                                            return e.Vd(this, t);
                                        }),
                                        t[n].attachEvent("onBeforeZoom", function (t) {
                                            return e.zd(this, t);
                                        }),
                                        (0 !== n && n !== t.length - 1) ||
                                            (t[n].attachEvent("onAfterMonthChange", m(this.Bd, this)),
                                            t[n].attachEvent("onAfterZoom", function (t, i) {
                                                e.Hd(this, t, i);
                                            }));
                                this.P.timepicker && this.refresh();
                            },
                            zd: function (t, e) {
                                var i = this.Rd(t.config.id);
                                if (0 <= e && 0 < i && i !== this.kd.length - 1) return !1;
                                if (-1 === e) {
                                    var n = this.$d(t.getVisibleDate());
                                    n.start && n.end && (t.P.date = n[this.Ed]);
                                }
                                return !0;
                            },
                            Bd: function (t, e) {
                                var i = e < t ? 1 : -1,
                                    n = e < t ? this.kd[this.kd.length - 1] : this.kd[0],
                                    s = n.jd[n.gd].Pd;
                                this.Nd(i, s, n), this.refresh();
                            },
                            Hd: function (t, e, i) {
                                var n = t.jd[t.gd].Pd,
                                    s = this.Rd(t.config.id),
                                    r = 0 === s ? 1 : -1;
                                if (this.kd[s + r]) {
                                    var o = this.kd[s + r].P.date;
                                    if (e < i && 0 <= e) {
                                        var a = 0;
                                        if (1 === e) {
                                            var l = o.getFullYear();
                                            (this.gd || (-1 === r && 11 === o.getMonth()) || (1 === r && 0 === o.getMonth())) && (l -= r), (a = t.P.date.getFullYear() - l);
                                        } else if (0 === e) {
                                            var h = o.getMonth() - r;
                                            (12 !== h && -1 != h) || (h = -1 === h ? 11 : 0), (a = t.P.date.getMonth() - h);
                                        }
                                        this.Nd(a, n, t), this.refresh();
                                    }
                                }
                            },
                            Cd: function (t, e, i) {
                                t.blockEvent(), 0 <= t.gd && t.Ld(e, i), t.unblockEvent();
                            },
                            Rd: function (t) {
                                return this.Fd[t];
                            },
                            Nd: function (t, e, i) {
                                for (var n = 0; n < this.kd.length; n++) {
                                    var s = this.kd[n];
                                    (i && s.config.id === i.config.id) || this.Cd(s, t, e);
                                }
                            },
                            $d: function (t) {
                                var e = this.P.value,
                                    i = {};
                                return (
                                    e.start && e.start.getYear() === t.getYear() && e.start.getMonth() === t.getMonth() && (i.start = e.start),
                                    e.end && e.end.getYear() === t.getYear() && e.end.getMonth() === t.getMonth() && (i.end = e.end),
                                    i
                                );
                            },
                            Od: function (t, e) {
                                t.setHours(e.getHours()), t.setMinutes(e.getMinutes()), t.setSeconds(e.getSeconds()), t.setMilliseconds(e.getMilliseconds());
                            },
                            Dd: function (t, e) {
                                var i = f(this.P.value);
                                return 0 === this.gd || v(e) ? (i.start && !i.end ? (i.end = t) : ((i.start = t), (i.end = null))) : (i[e ? "end" : "start"] = t), i;
                            },
                            Vd: function (e, i) {
                                if (this.callEvent("onBeforeDateSelect", [i])) {
                                    var n = this.P.value;
                                    if (e.gd < 0) {
                                        var s,
                                            r = f(this.$d(i));
                                        (s = r.start && r.end ? r[this.Ed] : r.start || r.end) && this.Od(s, i), (e.gd = 0), (n = t.extend(f(n), r, !0));
                                    } else {
                                        var o = e.getVisibleDate(),
                                            a = this.Rd(e.config.id);
                                        if (i.getMonth() !== o.getMonth() && (0 === a || a === this.kd.length - 1)) {
                                            var l = o < i ? 1 : -1;
                                            this.Nd(l, 1);
                                        }
                                        n = this.Dd(i, a);
                                    }
                                    e.gd !== this.gd && e.showCalendar(i), this.setValue(n, !0), this.callEvent("onAfterDateSelect", [this.getValue()]);
                                }
                                return !1;
                            },
                        },
                        Is = { api: Cs, view: t.protoUI(Cs, Ss.view) };
                    (ws.excelFilter = {
                        getValue: function (t) {
                            var e = this.Wd(t);
                            if (e) return e.getValue();
                        },
                        setValue: function (t, e) {
                            var i = this.Wd(t);
                            i && ((e = e || {}), i.setValue(e), this.Ud(e, t));
                        },
                        $icon: !0,
                        refresh: function (t, e, i) {
                            var n = this;
                            if (!t.$destructed) {
                                ((i.node = e).$webix = i.filter), t.registerFilter(e, i, this);
                                var s = ae(i.filter),
                                    r = s.getBody(),
                                    o = this.Tl(t, i);
                                r.clearAll(),
                                    r.parse(o),
                                    i.value
                                        ? this.setValue(e, i.value)
                                        : (i.compare = function () {
                                              return !0;
                                          }),
                                    (e.onclick = function (t) {
                                        -1 === t.target.className.indexOf("webix_excel_filter") || s.isVisible() || s.show(n.Yd(e, s));
                                    });
                            }
                        },
                        render: function (e, i) {
                            var n = this;
                            if (!i.filter) {
                                i.template && (i.template = Ut(i.template));
                                var s = ne({
                                        view: "popup",
                                        body: t.extend(
                                            i.filterConfig || {},
                                            {
                                                view: "filter",
                                                mode: i.mode,
                                                field: "value",
                                                template: function (t, e) {
                                                    var n = t.value;
                                                    return null != n || (n = ""), i.format && (n = i.format(n)), i.template && (n = i.template(t, e, n)), n;
                                                },
                                            },
                                            !0
                                        ),
                                    }),
                                    r = s.getBody();
                                r.attachEvent("onChange", function () {
                                    var t = r.getFilterFunction();
                                    (i.compare = function (e, n, s) {
                                        return t({ value: s[i.columnId] });
                                    }),
                                        e.filterByAll(),
                                        i.value && n.Ud(i.value, i.node);
                                }),
                                    e.attachEvent("onScrollX", function () {
                                        return s.hide();
                                    }),
                                    (i.originText = i.text || ""),
                                    (i.filter = s.P.id),
                                    e.Bt.push(s);
                            }
                            return (i.css = (i.css || "") + " webix_ss_excel_filter"), "<span class='webix_excel_filter webix_icon wxi-filter'></span>" + i.originText;
                        },
                        Yd: function (t, e) {
                            var i = gt(t);
                            return { x: i.x + i.width - e.$width, y: i.y + i.height };
                        },
                        Ud: function (t, e) {
                            t.includes || (t.condition && t.condition.filter) ? _t(e, "webix_ss_filter_active", !0) : kt(e, "webix_ss_filter_active");
                        },
                        Wd: function (t) {
                            var e = ae(t.$webix);
                            return e ? e.getBody() : null;
                        },
                        Tl: function (t, e) {
                            return e.options ? t.Vl.call(e.options, "id", "value") : t.collectValues(e.columnId, e.collect);
                        },
                    }),
                        (ws.serverExcelFilter = t.extend({ $server: !0 }, ws.excelFilter)),
                        (ws.richSelectFilter = {
                            getInputNode: function (t) {
                                return ae(t.$webix) || null;
                            },
                            getValue: function (t, e) {
                                var i = this.getInputNode(t);
                                return e && i && i.getText ? i.getText() : i ? i.getValue() : "";
                            },
                            setValue: function (t, e) {
                                var i = this.getInputNode(t);
                                return i ? i.setValue(e) : "";
                            },
                            compare: function (t, e) {
                                return t == e;
                            },
                            refresh: function (t, e, i) {
                                if (!t.$destructed) {
                                    var n = ae(i.richselect);
                                    n.$view.parentNode || dt("div", { class: "webix_richfilter" }).appendChild(n.$view),
                                        (e.$webix = i.richselect),
                                        (i.compare = i.compare || this.compare),
                                        (i.prepare = i.prepare || this.prepare),
                                        t.registerFilter(e, i, this);
                                    var s = ws.Tl(t, i),
                                        r = n.getPopup().getList();
                                    if ((e.appendChild(n.$view.parentNode), r.parse && (r.clearAll(), r.parse(s), (!this.$noEmptyOption && !1 !== i.emptyOption) || i.emptyOption))) {
                                        var o = { id: "$webix_empty", value: i.emptyOption || "", $empty: !0 };
                                        r.add(o, 0);
                                    }
                                    n.render(), i.value && this.setValue(e, i.value), b(n.resize, n);
                                }
                            },
                            render: function (e, i) {
                                if (!i.richselect) {
                                    var n = { container: dt("div", { class: "webix_richfilter" }), view: this.inputtype, options: [] },
                                        s = t.extend(this.inputConfig || {}, i.inputConfig || {}, !0);
                                    t.extend(n, s), i.separator && (n.separator = i.separator), i.suggest && (n.suggest = i.suggest);
                                    var r = ne(n);
                                    r.attachEvent("onChange", function () {
                                        e.filterByAll();
                                    }),
                                        (i.richselect = r.P.id),
                                        e.Bt.push(r);
                                }
                                return (i.css = (i.css || "") + " webix_div_filter"), " ";
                            },
                            inputtype: "richselect",
                        }),
                        (ws.serverRichSelectFilter = t.extend({ $server: !0 }, ws.richSelectFilter)),
                        (ws.multiSelectFilter = t.extend(
                            {
                                $noEmptyOption: !0,
                                inputtype: "multiselect",
                                prepare: function (t, e) {
                                    if (!t) return t;
                                    for (var i = {}, n = t.toString().split(e.separator || ","), s = 0; s < n.length; s++) i[n[s]] = 1;
                                    return i;
                                },
                                compare: function (t, e) {
                                    return !e || e[t];
                                },
                            },
                            ws.richSelectFilter
                        )),
                        (ws.serverMultiSelectFilter = t.extend(
                            {
                                $server: !0,
                                Fl: function () {
                                    ae(this.Dl).filterByAll();
                                },
                            },
                            ws.multiSelectFilter
                        )),
                        (ws.multiComboFilter = t.extend({ inputtype: "multicombo", inputConfig: { tagMode: !1 } }, ws.multiSelectFilter)),
                        (ws.serverMultiComboFilter = t.extend({ inputtype: "multicombo", inputConfig: { tagMode: !1 } }, ws.serverMultiSelectFilter)),
                        (ws.datepickerFilter = t.extend(
                            {
                                prepare: function (t) {
                                    return t || "";
                                },
                                compare: function (t, e) {
                                    return 1 * t == 1 * e;
                                },
                                inputtype: "datepicker",
                            },
                            ws.richSelectFilter
                        )),
                        (ws.columnGroup = {
                            getValue: function (t) {
                                return t.innerHTML;
                            },
                            setValue: function () {},
                            getHelper: function (t, e) {
                                return {
                                    open: function () {
                                        (e.closed = !0), t.onclick();
                                    },
                                    close: function () {
                                        (e.closed = !1), t.onclick();
                                    },
                                    isOpened: function () {
                                        return e.closed;
                                    },
                                };
                            },
                            refresh: function (t, e, i) {
                                (e.onclick = function (e) {
                                    wt(e);
                                    var n = this.firstChild;
                                    i.closed ? ((i.closed = !1), (n.className = "webix_tree_open")) : ((i.closed = !0), (n.className = "webix_tree_close")),
                                        b(function () {
                                            t.callEvent("onColumnGroupCollapse", [i.columnId, i.batch, !i.closed]), t.showColumnBatch(i.batch, !i.closed);
                                        });
                                }),
                                    i.firstRun || ((i.firstRun = 1), i.closed && t.showColumnBatch(i.batch, !1));
                            },
                            render: function (t, e) {
                                return "<div role='button' tabindex='0' aria-label='" + T.aria[e.closed ? "openGroup" : "closeGroup"] + "' class='" + (e.closed ? "webix_tree_close" : "webix_tree_open") + "'></div>" + (e.groupText || "");
                            },
                        }),
                        (ws.dateRangeFilter = t.extend(
                            {
                                prepare: function (t) {
                                    return t.start || t.end ? Is.api.$prepareValue(t) : "";
                                },
                                compare: function (t, e) {
                                    return (!e.start || t >= e.start) && (!e.end || t <= e.end);
                                },
                                inputtype: "daterangepicker",
                            },
                            ws.richSelectFilter
                        )),
                        (ws.serverDateRangeFilter = t.extend({ $server: !0 }, ws.dateRangeFilter)),
                        (G.scrollSize = G.touch || G.$customScroll ? 0 : 17),
                        ge(function () {
                            var t = (function () {
                                var t = dt("div");
                                (t.className = "webix_skin_mark"), (t.style.cssText = "position:absolute;left:-1000px;width:100px;padding:0px;margin:0px;min-height:100px;overflow-y:scroll;"), document.body.appendChild(t);
                                var e = t.offsetWidth - t.clientWidth,
                                    i = { 200: "flat", 210: "compact", 230: "contrast", 240: "material", 250: "mini" }[10 * Math.floor(t.offsetHeight / 10)];
                                return document.body.removeChild(t), i && Be(i), G.$customScroll ? 0 : e;
                            })();
                            G.scrollSize = G.touch ? 0 : t;
                        });
                    var Ts = !1;
                    c("_fixHeight", function () {
                        Ts || (ht("html, body{ height:100%; }"), (document.body.className += " webix_full_screen"), Ue.limit(!1), (Ts = !0));
                    }),
                        (ne.animate = function (t, e, i) {
                            var n = ae(e);
                            if (n) {
                                var s = i || { type: "slide", direction: "left" },
                                    r = n.Vt.cloneNode(!0),
                                    o = ne(t, e);
                                o.Vt.parentNode.appendChild(r);
                                var a = We.formLine(o.Vt, r, s);
                                return (
                                    (s.callback = function () {
                                        We.breakLine(a);
                                    }),
                                    We(a, s),
                                    o
                                );
                            }
                        }),
                        (ne.animateView = function (t, e, i) {
                            if ((t = ae(t))) {
                                i = i || { type: "slide", direction: "left" };
                                for (
                                    var n = function (t) {
                                            var e = t.Vt,
                                                i = e.className,
                                                n = e.innerHTML;
                                            return "<div class='" + i + "' style='width:" + e.offsetWidth + "px;height:" + e.offsetHeight + "px;'>" + n + "</div>";
                                        },
                                        s = [],
                                        r = 0;
                                    r < t.Vt.childNodes.length;
                                    r++
                                ) {
                                    var o = t.Vt.childNodes[r],
                                        a = o.currentStyle ? o.currentStyle.display : getComputedStyle(o, null).display;
                                    s.push(a || "");
                                }
                                var l = n(t);
                                "function" == typeof e && e.call(this);
                                for (
                                    var h = n(t), c = t.Vt.insertBefore(dt("DIV", { class: "webix_view_animate", style: "width:" + t.Vt.offsetWidth + "px;height:" + t.Vt.offsetHeight + "px;" }, h + l), t.Vt.firstChild), d = 1;
                                    d < t.Vt.childNodes.length;
                                    d++
                                )
                                    t.Vt.childNodes[d].style.display = "none";
                                var u = We.formLine(c.childNodes[0], c.childNodes[1], i);
                                return (
                                    (i.callback = function () {
                                        if (c) {
                                            t.Vt.removeChild(c), (c = null);
                                            for (var e = 0; e < t.Vt.childNodes.length; e++) t.Vt.childNodes[e].style.display = s[e];
                                        }
                                    }),
                                    We(u, i),
                                    t
                                );
                            }
                        }),
                        (ne.freeze = ue),
                        (ne.resize = pe),
                        (ne.zIndex = me),
                        (ne.datafilter = ws),
                        (ne.fullScreen = function () {
                            if (G.touch) {
                                $t("apple-mobile-web-app-capable", "yes"), $t("viewport", "initial-scale=1, maximum-scale=1, user-scalable=no, shrink-to-fit=no"), G.isMac || ht("body.webix_full_screen{ overflow-y: auto; }");
                                var t = function () {
                                        var t = window.innerWidth,
                                            e = window.innerHeight;
                                        e && ((document.body.style.height = e + "px"), (document.body.style.width = t + "px")), (ee.pt = !1), pe();
                                    },
                                    e = function () {
                                        (ee.pt = !0), b(t, null, [], 500);
                                    };
                                A("onRotate", e), ys(), b(e);
                            }
                        }),
                        (T.locales["de-DE"] = {
                            groupDelimiter: ".",
                            groupSize: 3,
                            decimalDelimiter: ",",
                            decimalSize: 2,
                            dateFormat: "%d.%n.%Y",
                            timeFormat: "%H:%i",
                            longDateFormat: "%j. %F %Y",
                            fullDateFormat: "%j. %F %Y %H:%i",
                            am: null,
                            pm: null,
                            price: "{obj} ",
                            priceSettings: { groupDelimiter: ".", groupSize: 3, decimalDelimiter: ",", decimalSize: 2 },
                            calendar: {
                                monthFull: ["Januar", "Februar", "Mrz", "April", "Mai", "Juni", "Juli", "August", "September", "Oktober", "November", "Dezember"],
                                monthShort: ["Jan", "Feb", "Mrz", "Apr", "Mai", "Jun", "Jul", "Aug", "Sep", "Okt", "Nov", "Dez"],
                                dayFull: ["Sonntag", "Montag", "Dienstag", "Mittwoch", "Donnerstag", "Freitag", "Samstag"],
                                dayShort: ["So", "Mo", "Di", "Mi", "Do", "Fr", "Sa"],
                                hours: "Stunden",
                                minutes: "Minuten",
                                done: "Fertig",
                                clear: "Entfernen",
                                today: "Heute",
                            },
                            dataExport: { page: "Seite", of: "von" },
                            PDFviewer: {
                                of: "von",
                                automaticZoom: "Automatisch Zoom",
                                actualSize: "Aktuelles Ausma",
                                pageFit: "Seite Ausma",
                                pageWidth: "Seite Breite",
                                pageHeight: "Seite Hhe",
                                enterPassword: "Passwort eingeben",
                                passwordError: "Falsches passwort",
                            },
                            aria: {
                                calendar: "Kalender",
                                increaseValue: "Wert erhhen",
                                decreaseValue: "Wert verringern",
                                navMonth: ["Vorheriger Monat", "Nchsten Monat"],
                                navYear: ["Vorheriges Jahr", "Nchstes Jahr"],
                                navDecade: ["Zurck Jahrzehnt", "Als nchstes Jahrzehnt"],
                                dateFormat: "%j. %F %Y",
                                monthFormat: "%F %Y",
                                yearFormat: "%Y",
                                hourFormat: "Stunden: %H",
                                minuteFormat: "Minuten: %i",
                                removeItem: "Element entfernen",
                                pages: ["Erste Seite", "Vorherige Seite", "Folgeseite", "Letzte Seite"],
                                page: "Seite",
                                headermenu: "Titelmen",
                                openGroup: "ffnen Spaltengruppe ",
                                closeGroup: "Schlieen Spaltengruppe ",
                                closeTab: "Tab schlieen",
                                showTabs: "Weitere Tabs",
                                resetTreeMap: "Zurck zur ursprnglichen Ansicht",
                                navTreeMap: "Aufleveln",
                                nextTab: "Weiter tab",
                                prevTab: "Zurck tab",
                                multitextSection: "Element hinzufgen",
                                multitextextraSection: "Element entfernen",
                                showChart: "Chart anzeigen",
                                hideChart: "Chart verstecken",
                                resizeChart: "Chart Gre ndern",
                            },
                            richtext: { underline: "Unterstreichen", bold: "Fettgedruckt", italic: "Kursiv" },
                            combo: { select: "Auswhlen", selectAll: "Alles auswhlen", unselectAll: "Alles widerrufen" },
                            message: { ok: "OK", cancel: "Abbrechen" },
                            comments: { send: "Absenden", confirmMessage: "Der Kommentar wird entfernt. Sind Sie sicher?", edit: "Redigieren", remove: "Lschen", placeholder: "Geben Sie hier ein..", moreComments: "Mehr Kommentare" },
                            filter: {
                                less: "weniger",
                                lessOrEqual: "weniger oder gleich",
                                greater: "mehr",
                                greaterOrEqual: "grer oder gleich",
                                contains: "enthlt",
                                notContains: "nicht enthlt",
                                equal: "gleich",
                                notEqual: "ungleich",
                                beginsWith: "beginnt mit",
                                notBeginsWith: "nicht beginnt mit",
                                endsWith: "endet mit",
                                notEndsWith: "nicht endet mit",
                                between: "zwischen",
                                notBetween: "nicht zwischen",
                            },
                            timeboard: { seconds: "Sekunden" },
                        }),
                        (T.locales["es-ES"] = {
                            groupDelimiter: ".",
                            groupSize: 3,
                            decimalDelimiter: ",",
                            decimalSize: 2,
                            dateFormat: "%d/%n/%Y",
                            timeFormat: "%G:%i",
                            longDateFormat: "%d %F %Y",
                            fullDateFormat: "%d %F %Y %G:%i",
                            am: null,
                            pm: null,
                            price: "{obj} ",
                            priceSettings: { groupDelimiter: ".", groupSize: 3, decimalDelimiter: ",", decimalSize: 2 },
                            calendar: {
                                monthFull: ["enero", "febrero", "marzo", "abril", "mayo", "junio", "julio", "agosto", "septiembre", "octubre", "noviembre", "diciembre"],
                                monthShort: ["ene", "feb", "mar", "abr", "may", "jun", "jul", "ago", "sep", "oct", "nov", "dic"],
                                dayFull: ["domingo", "lunes", "martes", "mircoles", "jueves", "viernes", "sbado"],
                                dayShort: ["dom", "lun", "mar", "mi", "jue", "vie", "sb"],
                                hours: "Horas",
                                minutes: "Minutos",
                                done: "Listo",
                                clear: "Reinicio",
                                today: "Hoy",
                            },
                            dataExport: { page: "Pgina", of: "de" },
                            PDFviewer: {
                                of: "de",
                                automaticZoom: "Zoom automtico",
                                actualSize: "Tamao real",
                                pageFit: "Tamao de pgina",
                                pageWidth: "Ancho de pgina",
                                pageHeight: "Altura de la pgina",
                                enterPassword: "Introduzca la contrasea",
                                passwordError: "Contrasea incorrecta",
                            },
                            aria: {
                                calendar: "alendario",
                                increaseValue: "Aumentar el valor",
                                decreaseValue: "Disminuye el valor",
                                navMonth: ["Mes anterior", "Prximo mes"],
                                navYear: ["Ao anterior", "Prximo ao"],
                                navDecade: ["Dcada anterior", "Prxima dcada"],
                                dateFormat: "%d %F %Y",
                                monthFormat: "%F %Y",
                                yearFormat: "%Y",
                                hourFormat: "Horas: %G",
                                minuteFormat: "Minutos: %i",
                                removeItem: "Retire el elemento",
                                pages: ["Primera pgina", "Pagina anterior", "Siguiente pgina", "ltima pgina"],
                                page: "Pgina",
                                headermenu: "Men de ttulos",
                                openGroup: "Grupo de columnas abiertas",
                                closeGroup: "Primer grupo de columnas",
                                closeTab: "Cerrar tab",
                                showTabs: "Mostrar ms tabs",
                                resetTreeMap: "Volver a la vista original",
                                navTreeMap: "Elevar a mismo nivel",
                                nextTab: "Siguiente tab",
                                prevTab: "Tab anterior",
                                multitextSection: "Aadir elemento",
                                multitextextraSection: "Retire el elemento",
                                showChart: "Espectculo chart",
                                hideChart: "Esconder chart",
                                resizeChart: "Cambiar el tamao el chart",
                            },
                            richtext: { underline: "Subrayar", bold: "Negrita", italic: "Itlico" },
                            combo: { select: "Seleccionar", selectAll: "Seleccionar todo", unselectAll: "Deselecciona todo" },
                            message: { ok: "OK", cancel: "Cancelar" },
                            comments: { send: "Enviar", confirmMessage: "El comentario ser eliminado. Ests seguro?", edit: "Corregir", remove: "Suprimir", placeholder: "Escriba aqu..", moreComments: "Ms comentarios" },
                            filter: {
                                less: "menos",
                                lessOrEqual: "menor o igual",
                                greater: "mayor",
                                greaterOrEqual: "mayor o igual",
                                contains: "contiene",
                                notContains: "not contiene",
                                equal: "igual",
                                notEqual: "no es igual",
                                beginsWith: "comienza con",
                                notBeginsWith: "no comienza con",
                                endsWith: "termina con",
                                notEndsWith: "no termina con",
                                between: "entre",
                                notBetween: "no entre",
                            },
                            timeboard: { seconds: "segundos" },
                        }),
                        (T.locales["fr-FR"] = {
                            groupDelimiter: " ",
                            groupSize: 3,
                            decimalDelimiter: ",",
                            decimalSize: 2,
                            dateFormat: "%d/%m/%Y",
                            timeFormat: "%H:%i",
                            longDateFormat: "%d %F %Y",
                            fullDateFormat: "%d.%m.%Y %H:%i",
                            price: "{obj} ",
                            priceSettings: null,
                            calendar: {
                                monthFull: ["Janvier", "Fvrier", "Mars", "Avril", "Mai", "Juin", "Juillet", "Aot", "Septembre", "Octobre", "Novembre", "Dcembre"],
                                monthShort: ["Jan", "Fv", "Mar", "Avr", "Mai", "Juin", "Juil", "Au", "Sep", "Oct", "Nov", "Dc"],
                                dayFull: ["Dimanche", "Lundi", "Mardi", "Mercredi", "Jeudi", "Vendredi", "Samedi"],
                                dayShort: ["Dim", "Lun", "Mar", "Mer", "Jeu", "Ven", "Sam"],
                                hours: "Heures",
                                minutes: "Minutes",
                                done: "Fini",
                                clear: "Effacer",
                                today: "Aujourd'hui",
                            },
                            dataExport: { page: "Page", of: "sur" },
                            PDFviewer: {
                                of: "sur",
                                automaticZoom: "Zoom automatique",
                                actualSize: "Taille actuelle",
                                pageFit: "Taille de la page",
                                pageWidth: "Largeur de la page",
                                pageHeight: "Hauteur de page",
                                enterPassword: "Entrez le mot de passe",
                                passwordError: "Mauvais mot de passe",
                            },
                            aria: {
                                calendar: "alendrier",
                                increaseValue: "Augmenter la valeur",
                                decreaseValue: "Diminution de la valeur",
                                navMonth: ["Le mois prcdent", "Le mois prochain"],
                                navYear: ["Anne prcdente", "L'anne prochaine"],
                                navDecade: ["Dcennie prcdente", "Suivant dcennie"],
                                dateFormat: "%d %F %Y",
                                monthFormat: "%F %Y",
                                yearFormat: "%Y",
                                hourFormat: "Heures: %H",
                                minuteFormat: "Minutes: %i",
                                removeItem: "Retirer l'lment",
                                pages: ["Premire page", "Page prcdente", "Page suivante", "Dernire page"],
                                page: "Page",
                                headermenu: "Menu de titre",
                                openGroup: "Ouvrir groupe de colonnes ",
                                closeGroup: "Fermer groupe de colonnes",
                                closeTab: "Fermer tab",
                                showTabs: "Montrer plus tabs",
                                resetTreeMap: "Revenir  la vue originale",
                                navTreeMap: "Niveau suprieur",
                                nextTab: "Prochain tab",
                                prevTab: "Prcdent tab",
                                multitextSection: "Ajouter l'lment",
                                multitextextraSection: "Retirer l'lment",
                                showChart: "Montrer chart",
                                hideChart: "Cacher chart",
                                resizeChart: "Redimensionner chart",
                            },
                            richtext: { underline: "Souligner", bold: "Gras", italic: "Italique" },
                            combo: { select: "Slectionner", selectAll: "Tout slectionner", unselectAll: "Tout dselectionner" },
                            message: { ok: "OK", cancel: "Annuler" },
                            comments: { send: "Envoyer", confirmMessage: "Le commentaire sera supprim. tes-vous sr?", edit: "Modifier", remove: "Effacer", placeholder: "crivez ici..", moreComments: "Plus de commentaires" },
                            filter: {
                                less: "moins",
                                lessOrEqual: "infrieur ou gal",
                                greater: "plus grand",
                                greaterOrEqual: "suprieur ou gal",
                                contains: "contient",
                                notContains: "ne contient",
                                equal: "gal",
                                notEqual: "pas gal",
                                beginsWith: "commence par",
                                notBeginsWith: "ne commence par",
                                endsWith: "se termine par",
                                notEndsWith: "pas se termine par",
                                between: "entre",
                                notBetween: "pas entre",
                            },
                            timeboard: { seconds: "secondes" },
                        }),
                        (T.locales["it-IT"] = {
                            groupDelimiter: ".",
                            groupSize: 3,
                            decimalDelimiter: ",",
                            decimalSize: 2,
                            dateFormat: "%d/%m/%Y",
                            timeFormat: "%H:%i",
                            longDateFormat: "%j %F %Y",
                            fullDateFormat: "%j %F %Y %H:%i",
                            am: null,
                            pm: null,
                            price: " {obj}",
                            priceSettings: { groupDelimiter: ".", groupSize: 3, decimalDelimiter: ",", decimalSize: 2 },
                            calendar: {
                                monthFull: ["gennaio", "febbraio", "marzo", "aprile", "maggio", "giugno", "luglio", "agosto", "settembre", "ottobre", "novembre", "dicembre"],
                                monthShort: ["gen", "feb", "mar", "apr", "mag", "giu", "lug", "ago", "set", "ott", "nov", "dic"],
                                dayFull: ["domenica", "luned", "marted", "mercoled", "gioved", "venerd", "sabato"],
                                dayShort: ["dom", "lun", "mar", "mer", "gio", "ven", "sab"],
                                hours: "Orario",
                                minutes: "Minuti",
                                done: "Pronto",
                                clear: "Pulisci",
                                today: "Oggi",
                            },
                            dataExport: { page: "Pagina", of: "di" },
                            PDFviewer: {
                                of: "di",
                                automaticZoom: "Zoom automatico",
                                actualSize: "Dimensione reale",
                                pageFit: "Dimensioni della pagina",
                                pageWidth: "Larghezza della pagina",
                                pageHeight: "Altezza della pagina",
                                enterPassword: "Inserisci la password",
                                passwordError: "Password errata",
                            },
                            aria: {
                                calendar: "Calendario",
                                increaseValue: "Aumenta il valore",
                                decreaseValue: "Riduci il valore",
                                navMonth: ["Il mese scorso", "Il prossimo mese"],
                                navYear: ["L'anno scorso", "L'anno prossimo"],
                                navDecade: ["Decennio precedente", "Prossimo decennio"],
                                dateFormat: "%j %F %Y",
                                monthFormat: "%F %Y",
                                yearFormat: "%Y",
                                hourFormat: "Orario: %H",
                                minuteFormat: "Minuti: %i",
                                removeItem: "Rimuovere l'elemento",
                                pages: ["Prima pagina", "Pagina precedente", "Pagina successiva", "Ultima pagina"],
                                page: "Pagina",
                                headermenu: "Menu del titolo",
                                openGroup: "Aperto gruppo di colonne",
                                closeGroup: "Chiudi gruppo di colonne",
                                closeTab: "Chiudi tab",
                                showTabs: "Mostra pi tabs",
                                resetTreeMap: "Tornare alla vista originale",
                                navTreeMap: "Livello superiore",
                                nextTab: "Tab successivo",
                                prevTab: "Tab precedente",
                                multitextSection: "Aggiungi elemento",
                                multitextextraSection: "Rimuovere l'elemento",
                                showChart: "Mostrare grafico",
                                hideChart: "Nascondere grafico",
                                resizeChart: "Ridimensionare grafico",
                            },
                            richtext: { underline: "Sottolineare", bold: "Grassetto", italic: "Corsivo" },
                            combo: { select: "Selezionare", selectAll: "Seleziona tutto", unselectAll: "Deseleziona tutto" },
                            message: { ok: "OK", cancel: "Annullare" },
                            comments: { send: "Inviare", confirmMessage: "Il commento verr rimosso. Sei sicuro?", edit: "Correggere", remove: "Elimina", placeholder: "Digitare qui..", moreComments: "Altri commenti" },
                            filter: {
                                less: "meno",
                                lessOrEqual: "minore o uguale",
                                greater: "maggiore",
                                greaterOrEqual: "maggiore o uguale",
                                contains: "contiene",
                                notContains: "non contiene",
                                equal: "uguale",
                                notEqual: "non uguale",
                                beginsWith: "inizia con",
                                notBeginsWith: "non inizia con",
                                endsWith: "finisce con",
                                notEndsWith: "non termina con",
                                between: "tra",
                                notBetween: "non tra",
                            },
                            timeboard: { seconds: "secondi" },
                        }),
                        (T.locales["ja-JP"] = {
                            groupDelimiter: ",",
                            groupSize: 3,
                            decimalDelimiter: ".",
                            decimalSize: 2,
                            dateFormat: "%Y.%m.%d",
                            timeFormat: "%H:%i",
                            longDateFormat: "%Y%m%d",
                            fullDateFormat: "%Y.%m.%d %H:%i",
                            price: "{obj}",
                            priceSettings: { groupSize: 3, groupDelimiter: ",", decimalDelimiter: "", decimalSize: 0 },
                            calendar: {
                                monthFull: ["1", "2", "3", "4", "5", "6", "7", "8", "9", "10", "11", "12"],
                                monthShort: ["1", "2", "3", "4", "5", "6", "7", "8", "9", "10", "11", "12"],
                                dayFull: ["", "", "", "", "", "", ""],
                                dayShort: ["", "", "", "", "", "", ""],
                                hours: "",
                                minutes: "",
                                done: "",
                                clear: "",
                                today: "",
                            },
                            dataExport: { page: "", of: "" },
                            PDFviewer: {
                                of: "",
                                automaticZoom: "",
                                actualSize: "",
                                pageFit: "",
                                pageWidth: "",
                                pageHeight: "",
                                enterPassword: "",
                                passwordError: "",
                            },
                            aria: {
                                calendar: "",
                                increaseValue: "",
                                decreaseValue: "",
                                navMonth: ["", ""],
                                navYear: ["", ""],
                                navDecade: ["", "10"],
                                dateFormat: "%Y%m%d",
                                monthFormat: "%Y%m",
                                yearFormat: "%Y",
                                hourFormat: ": %H",
                                minuteFormat: ": %i",
                                removeItem: "",
                                pages: ["", "", "", ""],
                                page: "",
                                headermenu: "",
                                openGroup: "",
                                closeGroup: "",
                                closeTab: "",
                                showTabs: "",
                                resetTreeMap: "",
                                navTreeMap: "",
                                nextTab: "",
                                prevTab: "",
                                multitextSection: "",
                                multitextextraSection: "",
                                showChart: "",
                                hideChart: "",
                                resizeChart: "",
                            },
                            richtext: { underline: "", bold: "", italic: "" },
                            combo: { select: "", selectAll: "", unselectAll: "" },
                            message: { ok: "OK", cancel: "" },
                            comments: { send: "", confirmMessage: ". ", edit: "", remove: "", placeholder: "..", moreComments: "" },
                            filter: {
                                less: "",
                                lessOrEqual: "",
                                greater: "",
                                greaterOrEqual: "",
                                contains: "",
                                notContains: "",
                                equal: "",
                                notEqual: "",
                                beginsWith: "",
                                notBeginsWith: "",
                                endsWith: "",
                                notEndsWith: "",
                                between: "",
                                notBetween: "",
                            },
                            timeboard: { seconds: "" },
                        }),
                        (T.locales["pt-BR"] = {
                            groupDelimiter: ".",
                            groupSize: 3,
                            decimalDelimiter: ",",
                            decimalSize: 2,
                            dateFormat: "%d/%m/%Y",
                            timeFormat: "%G:%i",
                            longDateFormat: "%d de %F de %Y",
                            fullDateFormat: "%d de %F de %Y %G:%i",
                            am: null,
                            pm: null,
                            price: "R$ {obj}",
                            priceSettings: { groupDelimiter: ".", groupSize: 3, decimalDelimiter: ",", decimalSize: 2 },
                            fileSize: ["b", "Kb", "Mb", "Gb", "Tb", "Pb", "Eb"],
                            calendar: {
                                monthFull: ["Janeiro", "Fevereiro", "Maro", "Abril", "Maio", "Junho", "Julho", "Agosto", "Setembro", "Outubro", "Novembro", "Dezembro"],
                                monthShort: ["Jan", "Fev", "Mar", "Abr", "Mai", "Jun", "Jul", "Ago", "Set", "Out", "Nov", "Dez"],
                                dayFull: ["Domingo", "Segunda-Feira", "Tera-Feira", "Quarta-Feira", "Quinta-Feira", "Sexta-Feira", "Sbado"],
                                dayShort: ["Dom", "Seg", "Ter", "Qua", "Qui", "Sex", "Sb"],
                                hours: "Horas",
                                minutes: "Minutos",
                                done: "Feito",
                                clear: "Limpar",
                                today: "Hoje",
                            },
                            dataExport: { page: "Pgina", of: "de" },
                            PDFviewer: {
                                of: "de",
                                automaticZoom: "Zoom automtico",
                                actualSize: "Tamanho atual",
                                pageFit: "Tamanho da pgina",
                                pageWidth: "Largura da pgina",
                                pageHeight: "Altura da pgina",
                                enterPassword: "Digite a senha",
                                passwordError: "Senha incorreta",
                            },
                            aria: {
                                calendar: "Calendrio",
                                increaseValue: "Aumentar o valor",
                                decreaseValue: "Diminuir o valor",
                                navMonth: ["Ms anterior", "Prximo ms"],
                                navYear: ["Ano anterior", "Prximo ano"],
                                navDecade: ["Dcada anterior", "Prxima dcada"],
                                dateFormat: "%d de %F de %Y",
                                monthFormat: "%F de %Y",
                                yearFormat: "%Y",
                                hourFormat: "Horas: %G",
                                minuteFormat: "Minutos: %i",
                                removeItem: "Remover elemento",
                                pages: ["Primeira pgina", "Pgina anterior", "Prxima pgina", "ltima pgina"],
                                page: "Pgina",
                                headermenu: "Menu de ttulos",
                                openGroup: "Grupo coluna aberta",
                                closeGroup: "Fechar grupo de colunas",
                                closeTab: "Fechar tab",
                                showTabs: "Mostre mais tabs",
                                resetTreeMap: "oltar  vista original",
                                navTreeMap: "Upar",
                                nextTab: "Prximo tab",
                                prevTab: "Anterior tab",
                                multitextSection: "Adicionar elemento",
                                multitextextraSection: "Remover elemento",
                                showChart: "Exposio chart",
                                hideChart: "Esconder chart",
                                resizeChart: "Redimensionar chart",
                            },
                            richtext: { underline: "Sublinhado", bold: "Negrito", italic: "itlico" },
                            combo: { select: "Selecionar", selectAll: "Selecionar tudo", unselectAll: "Desmarque todos" },
                            message: { ok: "OK", cancel: "Cancelar" },
                            comments: { send: "Enviar", confirmMessage: "Comentrio ser removido. Voc tem certeza?", edit: "Editar", remove: "Excluir", placeholder: "Digite aqui..", moreComments: "Mais comentrios" },
                            filter: {
                                less: "menos",
                                lessOrEqual: "menor ou igual",
                                greater: "maior",
                                greaterOrEqual: "maior ou igual",
                                contains: "contm",
                                notContains: "no contm",
                                equal: "igual",
                                notEqual: "no  igual",
                                beginsWith: "comea com",
                                notBeginsWith: "no comea com",
                                endsWith: "termina com",
                                notEndsWith: "no termina com",
                                between: "entre",
                                notBetween: "no entre",
                            },
                            timeboard: { seconds: "segundos" },
                        }),
                        (T.locales["zh-CN"] = {
                            groupDelimiter: ",",
                            groupSize: 3,
                            decimalDelimiter: ".",
                            decimalSize: 2,
                            dateFormat: "%Y/%m/%j",
                            timeFormat: "%G:%i",
                            longDateFormat: "%Y''%m''%j''",
                            fullDateFormat: "%Y''%m''%j'' %G:%i",
                            am: ["", ""],
                            pm: ["", ""],
                            price: "{obj}",
                            priceSettings: { groupDelimiter: ",", groupSize: 3, decimalDelimiter: ".", decimalSize: 2 },
                            calendar: {
                                monthFull: ["", "", "", "", "", "", "", "", "", "", "", ""],
                                monthShort: ["", "", "", "", "", "", "", "", "", "", "", ""],
                                dayFull: ["", "", "", "", "", "", ""],
                                dayShort: ["", "", "", "", "", "", ""],
                                hours: "",
                                minutes: "",
                                done: "",
                                clear: "",
                                today: "",
                            },
                            dataExport: { page: "", of: "" },
                            PDFviewer: { of: "", automaticZoom: "", actualSize: "", pageFit: "", pageWidth: "", pageHeight: "", enterPassword: "", passwordError: "" },
                            aria: {
                                calendar: "",
                                increaseValue: "",
                                decreaseValue: "",
                                navMonth: ["", ""],
                                navYear: ["", ""],
                                navDecade: ["", ""],
                                dateFormat: "%Y''%m''%j''",
                                monthFormat: "%Y''%m'",
                                yearFormat: "%Y'",
                                hourFormat: ": %G",
                                minuteFormat: ": %i",
                                removeItem: "",
                                pages: ["", "", "", ""],
                                page: "",
                                headermenu: "",
                                openGroup: "",
                                closeGroup: "",
                                closeTab: "",
                                showTabs: "",
                                resetTreeMap: "",
                                navTreeMap: "",
                                nextTab: "",
                                prevTab: "",
                                multitextSection: "",
                                multitextextraSection: "",
                                showChart: "",
                                hideChart: "",
                                resizeChart: "",
                            },
                            richtext: { underline: "", bold: "", italic: "" },
                            combo: { select: "", selectAll: "", unselectAll: "" },
                            message: { ok: "", cancel: "" },
                            comments: { send: "", confirmMessage: ". ?", edit: "", remove: "", placeholder: "..", moreComments: "" },
                            filter: {
                                less: "",
                                lessOrEqual: "",
                                greater: "",
                                greaterOrEqual: "",
                                contains: "",
                                notContains: "",
                                equal: "",
                                notEqual: "",
                                beginsWith: "",
                                notBeginsWith: "",
                                endsWith: "",
                                notEndsWith: "",
                                between: "",
                                notBetween: "",
                            },
                            timeboard: { seconds: "" },
                        }),
                        (T.locales["ru-RU"] = {
                            groupDelimiter: " ",
                            groupSize: 3,
                            decimalDelimiter: ",",
                            decimalSize: 2,
                            dateFormat: "%d.%m.%Y",
                            timeFormat: "%H:%i",
                            longDateFormat: "%d %F %Y",
                            fullDateFormat: "%d.%m.%Y %H:%i",
                            price: "{obj} .",
                            priceSettings: null,
                            calendar: {
                                monthFull: ["", "", "", "", "Ma", "", "", "", "", "O", "", ""],
                                monthShort: ["", "", "Ma", "A", "Ma", "", "", "A", "", "", "", ""],
                                dayFull: ["", "", "", "", "", "", ""],
                                dayShort: ["", "", "", "", "", "", ""],
                                hours: "",
                                minutes: "",
                                done: "oo",
                                clear: "",
                                today: "",
                            },
                            dataExport: { page: "", of: "" },
                            PDFviewer: {
                                of: "",
                                automaticZoom: " ",
                                actualSize: " ",
                                pageFit: " ",
                                pageWidth: " ",
                                pageHeight: " ",
                                enterPassword: " ",
                                passwordError: " ",
                            },
                            aria: {
                                calendar: "",
                                increaseValue: " ",
                                decreaseValue: " ",
                                navMonth: [" ", " "],
                                navYear: [" ", " "],
                                navDecade: ["  ", "  "],
                                dateFormat: "%d %F %Y",
                                monthFormat: "%F %Y",
                                yearFormat: "%Y",
                                hourFormat: ": %H",
                                minuteFormat: ": %i",
                                removeItem: " ",
                                pages: [" ", " ", " ", " "],
                                page: "",
                                headermenu: "  ",
                                openGroup: "  ",
                                closeGroup: "  ",
                                closeTab: " ",
                                showTabs: "  ",
                                resetTreeMap: "   ",
                                navTreeMap: "   ",
                                nextTab: " ",
                                prevTab: " ",
                                multitextSection: " ",
                                multitextextraSection: " ",
                                showChart: " ",
                                hideChart: " ",
                                resizeChart: "  ",
                            },
                            richtext: { underline: "", bold: "", italic: "" },
                            combo: { select: "", selectAll: " ", unselectAll: " " },
                            message: { ok: "OK", cancel: "" },
                            comments: { send: "", confirmMessage: "  .  ?", edit: "", remove: "", placeholder: " ..", moreComments: " " },
                            filter: {
                                less: "",
                                lessOrEqual: "  ",
                                greater: "",
                                greaterOrEqual: "  ",
                                contains: "",
                                notContains: " ",
                                equal: "",
                                notEqual: " ",
                                beginsWith: " ",
                                notBeginsWith: "  ",
                                endsWith: "",
                                notEndsWith: " ",
                                between: "",
                                notBetween: " ",
                            },
                            timeboard: { seconds: "" },
                        }),
                        (T.locales["be-BY"] = {
                            groupDelimiter: " ",
                            groupSize: 3,
                            decimalDelimiter: ",",
                            decimalSize: 2,
                            dateFormat: "%d.%m.%Y",
                            timeFormat: "%H:%i",
                            longDateFormat: "%d %F %Y",
                            fullDateFormat: "%d.%m.%Y %H:%i",
                            price: "{obj} .",
                            priceSettings: { groupSize: 3, groupDelimiter: " ", decimalDelimiter: "", decimalSize: 0 },
                            calendar: {
                                monthFull: ["", "", "", "", "", "", "", "", "", "", "", ""],
                                monthShort: ["", "", "", "", "", "", "", "", "", "", "", ""],
                                dayFull: ["", "", "", "", "", "", ""],
                                dayShort: ["", "", "", "", "", "", ""],
                                hours: "",
                                minutes: "",
                                done: "",
                                today: "C",
                                clear: "",
                            },
                            dataExport: { page: "", of: "" },
                            PDFviewer: {
                                of: "",
                                automaticZoom: " ",
                                actualSize: " ",
                                pageFit: " ",
                                pageWidth: " ",
                                pageHeight: " ",
                                enterPassword: " ",
                                passwordError: " ",
                            },
                            aria: {
                                calendar: "",
                                increaseValue: " ",
                                decreaseValue: " ",
                                navMonth: [" ", " "],
                                navYear: [" ", " "],
                                navDecade: ["  ", "  "],
                                dateFormat: "%d %F %Y",
                                monthFormat: "%F %Y",
                                yearFormat: "%Y",
                                hourFormat: "Hours: %h",
                                minuteFormat: ": %i",
                                removeItem: " ",
                                pages: [" ", " ", " ", " "],
                                page: "",
                                headermenu: " ",
                                openGroup: "  ",
                                closeGroup: "  ",
                                closeTab: " ",
                                showTabs: "  ",
                                resetTreeMap: "   ",
                                navTreeMap: "   ",
                                nextTab: " ",
                                prevTab: " ",
                                multitextSection: " ",
                                multitextextraSection: " ",
                                showChart: " ",
                                hideChart: " ",
                                resizeChart: "  ",
                            },
                            richtext: { underline: "", bold: "", italic: "" },
                            combo: { select: "", selectAll: " ", unselectAll: " " },
                            message: { ok: "", cancel: "" },
                            comments: { send: "", confirmMessage: "  .  ?", edit: "", remove: "", placeholder: " ..", moreComments: " " },
                            filter: {
                                less: "",
                                lessOrEqual: "  ",
                                greater: "",
                                greaterOrEqual: "  ",
                                contains: "",
                                notContains: " ",
                                equal: "",
                                notEqual: " ",
                                beginsWith: " ",
                                notBeginsWith: "  ",
                                endsWith: "",
                                notEndsWith: " ",
                                between: "",
                                notBetween: " ",
                            },
                            timeboard: { seconds: "" },
                        }),
                        t.protoUI(
                            {
                                name: "spacer",
                                defaults: { borderless: !0 },
                                $init: function () {
                                    this.Vt.className += " webix_spacer";
                                },
                            },
                            Re.view
                        );
                    var $s = {
                            name: "template",
                            $init: function (e) {
                                var i = this.qd[e.type];
                                i && (i.css && e.css && (this.Vt.className += " " + i.css), t.extend(e, i), e.borderless && (delete e.Dt, this.hi(e))),
                                    this.tt == this.Vt ? ((this.tt = dt("DIV")), (this.tt.className = " webix_template"), this.Vt.appendChild(this.tt)) : (this.tt.className += " webix_template"),
                                    this.attachEvent("onAfterRender", this.Gd);
                            },
                            setValues: function (e, i) {
                                (this.data = i ? t.extend(this.data, e, !0) : e), this.render();
                            },
                            getValues: function () {
                                return this.data;
                            },
                            $skin: function () {
                                (this.qd.header.height = Ve.barHeight - 2 * Ve.borderWidth), (this.qd.section.height = Ve.barHeight);
                            },
                            qd: { header: { css: "webix_header" }, section: { css: "webix_section", borderless: !0 }, clean: { css: "webix_clean", borderless: !0 } },
                            onClick_setter: function (e) {
                                return (this.on_click = t.extend(this.on_click || {}, e, !0)), this.Nu || t.extend(this, Ni), e;
                            },
                            defaults: { template: Ut.empty },
                            Xd: function () {
                                (this.Kd = !1), this.Jd(), this.resize();
                            },
                            Jd: function () {
                                this.Kd || ((this.Kd = !0), this.render());
                            },
                            src_setter: function (t) {
                                return (
                                    (this.Kd = !0),
                                    this.callEvent("onBeforeLoad", [])
                                        ? (V(
                                              t,
                                              m(function (t) {
                                                  (this.P.template = Ut(t)), this.Xd(), this.callEvent("onAfterLoad", []);
                                              }, this)
                                          ),
                                          t)
                                        : ""
                                );
                            },
                            content_setter: function (t) {
                                t && ((this.Kd = !0), (this.render = function () {}), this.tt.appendChild(_(t)), this.Gd());
                            },
                            refresh: function () {
                                this.render();
                            },
                            setHTML: function (t) {
                                (this.P.template = function () {
                                    return t;
                                }),
                                    this.refresh();
                            },
                            setContent: function (t) {
                                (this.tt.innerHTML = ""), this.content_setter(t);
                            },
                            $setSize: function (t, e) {
                                if (Re.api.$setSize.call(this, t, e)) {
                                    if ((this.Jd(), this.P.autoheight)) {
                                        var i = this.getTopParentView();
                                        clearTimeout(i.Zd), (i.Zd = b(this.resize, this));
                                    }
                                    return !0;
                                }
                            },
                            $getSize: function (t, e) {
                                return !this.P.autoheight || (this.P.type && "clean" != this.P.type) || (this.P.height = this.Qd()), Re.api.$getSize.call(this, t, e);
                            },
                            Gd: function () {
                                this.P.autoheight && ((this.be = null), this.resize());
                            },
                            Qd: function () {
                                var t,
                                    e = Ve.layoutPadding.space;
                                return (
                                    this.Jd(),
                                    this.isVisible()
                                        ? ((this.tt.style.height = "auto"), (t = this.tt.scrollHeight), (this.tt.style.height = ""))
                                        : (t = Pt(this.Q(this.data) || this.tt.innerHTML, "webix_template", (this.$width || (this.getParentView() ? this.getParentView().$width : 0)) - e).height),
                                    t
                                );
                            },
                            yc: !0,
                        },
                        Es = { api: $s, view: t.protoUI($s, Fi, ze, Rt, Gt, E, Re.view) },
                        Ds = {
                            name: "scrollview",
                            defaults: { scroll: "y", scrollSpeed: "300ms" },
                            $init: function () {
                                this.Vt.className += " webix_scrollview";
                            },
                            body_setter: function (t) {
                                (t.borderless = !0), ((ee.bt = this).$t = ne.Ht(t)), this.tt.appendChild(this.$t.Vt);
                            },
                            getChildViews: function () {
                                return [this.$t];
                            },
                            getBody: function () {
                                return this.$t;
                            },
                            resizeChildren: function () {
                                this.$t && ((this.Zl = this.$t.$getSize(0, 0)), this.tv(), M("onResize", []));
                            },
                            tv: function () {
                                var t = Math.max(this.me, this.Zl[0]),
                                    e = Math.max(this.we, this.Zl[2]);
                                if ((this.$t.$setSize(t, e), G.touch)) {
                                    var i = this.getScrollState(),
                                        n = this.$t.we - this.we;
                                    n < i.y && this.scrollTo(null, n);
                                }
                                ee.vt && ((ee.vt = !1), (this.Zl = this.$t.$getSize(0, 0)), this.tv());
                            },
                            $getSize: function (t, e) {
                                var i = (this.Zl = this.$t.$getSize(0, 0)),
                                    n = Re.api.$getSize.call(this, t, e),
                                    s = this.iv || G.scrollSize;
                                return "x" == this.P.scroll ? ((n[2] = Math.max(n[2], i[2]) + s), (n[3] = Math.min(n[3], i[3]) + s)) : "y" == this.P.scroll && ((n[0] = Math.max(n[0], i[0]) + s), (n[1] = Math.min(n[1], i[1]) + s)), n;
                            },
                            $setSize: function (t, e) {
                                var i = G.scrollSize;
                                (G.scrollSize = this.iv || i), (Re.api.$setSize.call(this, t, e) || ee.Jt) && this.tv(), (G.scrollSize = i);
                            },
                            scroll_setter: function (t) {
                                var e = G.$customScroll;
                                return "string" == typeof t && 0 === t.indexOf("native-") && ((this.iv = 17), (t = t.replace("native-", "")), (G.$customScroll = !1)), (t = Fi.scroll_setter.call(this, t)), (G.$customScroll = e), t;
                            },
                            Tt: function (t) {
                                this.$t.destructor(), (this.$t = t), this.tt.appendChild(this.$t.Vt), this.resizeChildren();
                            },
                            showView: function (t) {
                                var e = ae(t).$view.offsetTop - ae(t).$view.parentNode.offsetTop;
                                this.scrollTo(0, e);
                            },
                        },
                        Ms =
                            (t.protoUI(Ds, Fi, E, Re.view),
                            t.protoUI(
                                {
                                    name: "iframe",
                                    $init: function () {
                                        (this.tt = this.Wi),
                                            (this.Wi.innerHTML =
                                                "<iframe style='width:100%; height:100%' frameborder='0' onload='var t = $$(this.parentNode.getAttribute(\"view_id\")); if (t) t.callEvent(\"onAfterLoad\",[]);' src='about:blank'></iframe>");
                                    },
                                    load: function (t) {
                                        this.src_setter(t);
                                    },
                                    src_setter: function (t) {
                                        return this.callEvent("onBeforeLoad", []) ? (this.getIframe().src = t) : "";
                                    },
                                    getIframe: function () {
                                        return this.Wi.getElementsByTagName("iframe")[0];
                                    },
                                    getWindow: function () {
                                        return this.getIframe().contentWindow;
                                    },
                                },
                                Re.view,
                                E
                            ),
                            {
                                name: "accordion",
                                defaults: { panelClass: "accordionitem", multi: !1, collapsed: !1 },
                                $init: function () {
                                    this.Vt.setAttribute("role", "tablist"), this.Vt.setAttribute("aria-multiselectable", "true");
                                },
                                Tt: function (t) {
                                    Ss.api.Tt.apply(this, arguments), t.collapsed_setter && t.refresh && t.refresh();
                                },
                                El: function () {
                                    for (var t = this.P.panelClass, e = this.Ll, i = 0; i < e.length; i++) (!e[i].body && !e[i].header) || e[i].view || e[i].align || (e[i].view = t), v(e[i].collapsed) && (e[i].collapsed = this.P.collapsed);
                                    (this.ev = !0), Ss.api.El.call(this), (this.ev = !1);
                                    for (var n = 0; n < this.ri.length; n++) this.ri[n].name == t && this.ri[n].refresh(), (this.ri[n].sv = !1);
                                    for (var s = !1, r = this.ri.length - 1; 0 <= r && !s; r--) this.ri[r].P.hidden || (s = this.ri[r].sv = !0);
                                },
                                nv: function (t) {
                                    if (!1 === this.P.multi && !0 !== this.ev) for (var e = 0; e < this.ri.length; e++) t != this.ri[e] && !this.ri[e].P.collapsed && this.ri[e].collapse && this.ri[e].collapse();
                                    t.callEvent && (t.callEvent("onViewShow", []), fe(t, this.Se));
                                },
                                hv: function (t) {
                                    if (!0 === this.P.multi || this.ev) return !0;
                                    for (var e = 0; e < this.ri.length; e++) if (t != this.ri[e] && !this.ri[e].P.collapsed && this.ri[e].isVisible() && !this.ri[e].$nospace) return !0;
                                    return !1;
                                },
                                $skin: function () {
                                    Ss.api.$skin.call(this), Ve.accordionType && (this.defaults.type = Ve.accordionType);
                                },
                            }),
                        As = { api: Ms, view: t.protoUI(Ms, Ss.view) },
                        Ns =
                            (t.protoUI({ name: "headerlayout", defaults: { type: "accordion", multi: "mixed", collapsed: !1 } }, As.view),
                            {
                                name: "accordionitem",
                                $init: function (t) {
                                    (this.Vt.innerHTML =
                                        "<div tabindex='0' webix_ai_id='" +
                                        t.id +
                                        "'  class='webix_accordionitem_header'><div class='webix_accordionitem_button' ></div><div class='webix_accordionitem_label' ></div></div><div class='webix_accordionitem_body'></div>"),
                                        (this.Wi = this.Vt),
                                        (this.vn = this.Wi.childNodes[0]),
                                        t.header || (this.vn.style.display = "none"),
                                        (this.rv = this.Wi.childNodes[0].childNodes[1]),
                                        (this.ov = this.Wi.childNodes[0].childNodes[0]),
                                        (this.Tn = this.Wi.childNodes[1]),
                                        (this.Vt.className += " webix_accordionitem"),
                                        (this.Fn = this.$t = null),
                                        (this.ri = !0),
                                        this.Tn.setAttribute("role", "tabpanel"),
                                        this.vn.setAttribute("role", "tab"),
                                        this.attachEvent("onKeyPress", this.ke);
                                },
                                Ft: function () {
                                    this.body_setter();
                                },
                                Tt: function (t) {
                                    this.$t.destructor(), (this.$t = t), this.Tn.appendChild(this.$t.Vt), this.resize();
                                },
                                Qo: "webix_ai_id",
                                getChildViews: function () {
                                    return [this.$t];
                                },
                                body_setter: function (t) {
                                    return "object" != e(t) && (t = { template: t }), (t.Dt = { top: !0, left: !0, right: !0, bottom: !0 }), ((ee.bt = this).$t = ne.Ht(t)), this.Tn.appendChild(this.$t.Vt), t;
                                },
                                header_setter: function (t) {
                                    return t && (t = Ut(t)), t;
                                },
                                headerAlt_setter: function (t) {
                                    return t && (t = Ut(t)), t;
                                },
                                $getSize: function (t, e) {
                                    var i = this.$t.$getSize(0, 0),
                                        n = this.P.Dt;
                                    n && ((t += (n.left ? 0 : 1) + (n.right ? 0 : 1)), (e += (n.top ? 0 : 1) + (n.bottom ? 0 : 1)));
                                    var s = 0,
                                        r = Ae.api.$getSize.call(this, 0, 0);
                                    (r[0] = (r[0] || i[0]) + t), 1e5 <= r[1] && (r[1] = i[1]), (r[1] += t), (r[2] = (r[2] || i[2]) + e);
                                    var o = r[3] < 1e5;
                                    return (
                                        o || (r[3] = i[3]),
                                        (r[3] += e),
                                        this.getParentView().Nl
                                            ? this.P.collapsed
                                                ? (r[2] = r[3] = this.av() + e)
                                                : this.P.header && (s = this.P.headerHeight)
                                            : (this.P.collapsed && (r[0] = r[1] = this.av() + t), this.P.header && (s = this.P.headerHeight)),
                                        o || ((r[2] += s), (r[3] += s)),
                                        r
                                    );
                                },
                                on_click: {
                                    webix_accordionitem_header: function (t) {
                                        return this.uv(t), !1;
                                    },
                                    webix_accordionitem_header_v: function (t) {
                                        return this.uv(t), !1;
                                    },
                                },
                                uv: function () {
                                    this.define("collapsed", !this.P.collapsed);
                                },
                                collapsed_setter: function (t) {
                                    if (!1 !== this.P.header) {
                                        var e = this.getParentView();
                                        if (e) {
                                            if (t)
                                                if (e.hv(this)) this.cv();
                                                else {
                                                    var i = 0;
                                                    if (1 < e.ri.length)
                                                        for (var n = 0; n < e.ri.length; n++) {
                                                            var s = e.ri[n];
                                                            if (this != s && s.isVisible() && s.expand) {
                                                                s.expand(), this.cv(), (i = 1);
                                                                break;
                                                            }
                                                        }
                                                    if (!i) return;
                                                }
                                            else this.fv();
                                            (this.P.collapsed = t) || e.nv(this), this.refresh(), ee.gt || this.resize(), e.callEvent("onAfter" + (t ? "Collapse" : "Expand"), [this.P.id]), (this.P.$noresize = t);
                                        }
                                        return t;
                                    }
                                },
                                collapse: function () {
                                    this.define("collapsed", !0), ke.yi(this);
                                },
                                expand: function () {
                                    this.define("collapsed", !1);
                                },
                                ye: function () {
                                    this.show();
                                },
                                Bi: function () {
                                    this.hide();
                                },
                                fv: function () {
                                    (this.Tn.style.display = ""), kt(this.$view, "collapsed"), kt(this.vn, "collapsed"), this.vn.setAttribute("aria-expanded", "true");
                                },
                                cv: function () {
                                    this.P.headerAlt && (this.rv.innerHTML = this.P.headerAlt()), (this.Tn.style.display = "none"), _t(this.$view, "collapsed"), _t(this.vn, "collapsed"), this.vn.setAttribute("aria-expanded", "false");
                                },
                                refresh: function () {
                                    var t = this.P[this.P.collapsed ? "headerAlt" : "header"] || this.P.header;
                                    t && ((this.rv.innerHTML = t()), this.ov.setAttribute("aria-label", t()));
                                    var e = this.getParentView().Nl ? "vertical" : "horizontal";
                                    this.Vt.className.indexOf(" " + e) < 0 && _t(this.Vt, e), G.transform || _t(this.Vt, "webix_ie", !0);
                                },
                                av: function () {
                                    return this.P.collapsed ? this.P.headerAltHeight : this.P.headerHeight;
                                },
                                $setSize: function (t, e) {
                                    if (Re.api.$setSize.call(this, t, e) || this.av() != this.lv) {
                                        (t = this.me), (e = this.we);
                                        var i = (this.lv = this.av());
                                        if (this.P.header)
                                            if (
                                                ((this.vn.style.height = i + "px"),
                                                (this.vn.style.width = "auto"),
                                                (this.vn.style[G.transform] = ""),
                                                (this.vn.style.borderBottomWidth = (this.P.collapsed ? 0 : 1) + "px"),
                                                this.getParentView().Nl || !this.P.collapsed)
                                            )
                                                e -= this.av();
                                            else if (this.P.collapsed)
                                                if (We.isSupported()) {
                                                    (this.vn.style.width = e + "px"), (this.vn.style.height = t + 3 + "px");
                                                    var n = Math.floor(e / 2 - t / 2) + (t - this.P.headerAltHeight) / 2;
                                                    this.vn.style[G.transform] = "rotate(90deg) translate(" + n + "px, " + (n + 1) + "px)";
                                                } else (this.vn.style.width = t + "px"), (this.vn.style.height = e + 3 + "px");
                                        this.P.collapsed || (this.$t.$setSize(t, e), (this.dv = e));
                                    } else if (!this.P.collapsed) {
                                        var s = this.$t;
                                        this.dv && s.$setSize(this.me, this.dv);
                                    }
                                },
                                $skin: function () {
                                    this.defaults.headerAltHeight = this.defaults.headerHeight = Ve.barHeight - 2 * Ve.borderWidth;
                                },
                                defaults: { header: !1, headerAlt: !1, body: "" },
                            }),
                        Os =
                            (t.protoUI(Ns, Ni, E, Re.view),
                            {
                                name: "resizearea",
                                defaults: { dir: "x" },
                                $init: function (t) {
                                    var e = t.dir || "x",
                                        i = _(t.container),
                                        n = "x" == e ? "width" : "height",
                                        s = t.margin ? t.margin + "px" : 0;
                                    (this.vv = "x" == e ? "left" : "top"),
                                        (this.Vt = dt("DIV", { class: "webix_resize_area webix_dir_" + e })),
                                        Zt(this.Vt, G.mouse.down, wt),
                                        s && (s = "x" == e ? s + " 0 " + s : "0 " + s + " 0 " + s),
                                        (this._v = dt("DIV", { class: "webix_resize_handle_" + e, style: s ? "padding:" + s : "" }, "<div class='webix_handle_content'></div>")),
                                        (this.pv = dt("DIV", { class: "webix_resize_origin_" + e })),
                                        t[n] && ((this.pv.style[n] = t[n] + (t.border ? 1 : 0) + "px"), (this._v.style[n] = t[n] + "px")),
                                        t.cursor && (this._v.style.cursor = this.pv.style.cursor = this.Vt.style.cursor = t.cursor),
                                        (this.bv = Jt(i, G.mouse.move, this.mv, { bind: this })),
                                        (this.gv = Jt(document.body, G.mouse.up, this.wv, { bind: this })),
                                        (this._v.style[this.vv] = this.pv.style[this.vv] = t.start + "px"),
                                        i.appendChild(this.Vt),
                                        i.appendChild(this._v),
                                        i.appendChild(this.pv);
                                },
                                wv: function () {
                                    this.callEvent("onResizeEnd", [this.xv]), Qt(this.bv), Qt(this.gv), pt(this.Vt), pt(this._v), pt(this.pv), (this.Vt = this._v = this.pv = null);
                                },
                                mv: function (t) {
                                    var e = bt(t);
                                    (this.xv = ("x" == this.P.dir ? e.x : e.y) + this.P.start - this.P.eventPos), (this._v.style[this.vv] = this.xv + "px"), this.callEvent("onResize", [this.xv]);
                                },
                            }),
                        Rs =
                            (t.protoUI(Os, E, Pe),
                            {
                                name: "resizer",
                                defaults: { width: 7, height: 7 },
                                $init: function (t) {
                                    this.getParentView(), (this.Vt.className += " webix_resizer");
                                    var e = this.getParentView().Xa;
                                    Zt(this.Vt, G.mouse.down, this.yv, { bind: this });
                                    var i = this.Mv();
                                    (this.Sv = !1),
                                        (this.kv = i),
                                        (this.Cv = "x" == i ? "width" : "height"),
                                        "x" == i ? (t.height = 0) : (t.width = 0),
                                        0 < e
                                            ? ((this.Vt.className += " webix_resizer_v" + i), (this.Vt.style.marginRight = "-" + e + "px"), "x" == i ? (t.width = e) : (t.height = e), (this.$nospace = !0))
                                            : (this.Vt.className += " webix_resizer_" + i),
                                        (this.Vt.innerHTML = "<div class='webix_resizer_content'></div>"),
                                        "y" == i && 0 < e && (this.Vt.style.marginBottom = "-" + (t.height || this.defaults.height) + "px"),
                                        this.Vt.setAttribute("webix_disable_drag", "true"),
                                        this.Vt.setAttribute("tabindex", "-1"),
                                        this.Vt.setAttribute("aria-grabbed", "false");
                                },
                                yv: function (t) {
                                    var e = this,
                                        i = this.$v();
                                    if (i && !this.P.disabled) {
                                        (t = t || window.event), (this.Sv = !0), (this.Dv = bt(t)), (this.Iv = []), this.Vt.setAttribute("aria-grabbed", "true");
                                        for (var n = 0; n < 2; n++) i[n].$view.setAttribute("aria-dropeffect", "move");
                                        this.Vt.setAttribute("aria-dropeffect", "move"), this.Av(t, i[0]);
                                        var s = Jt(document.body, G.mouse.up, function (t) {
                                            return Qt(s), e.Tv(t);
                                        });
                                    }
                                },
                                Tv: function () {
                                    (this.Sv = !1), (this.Dv = !1);
                                },
                                Av: function (t, e) {
                                    var i, n, s, r, o;
                                    (t = t || window.event),
                                        (i = this.kv),
                                        (this.getParentView().Vt.style.position = "relative"),
                                        (s = gt(this.Vt)),
                                        (r = gt(this.getParentView().Vt)),
                                        (o = s[i] - r[i]),
                                        (n = gt(e.$view)[i] - gt(this.getParentView().$view)[i]),
                                        (this.Fv = [i, e, o, n]),
                                        (this.Vv = new ne.resizearea({
                                            container: this.getParentView().Vt,
                                            dir: i,
                                            eventPos: this.Dv[i],
                                            start: o - 1,
                                            height: this.$height,
                                            width: this.$width,
                                            border: 1,
                                            margin: this.getParentView().qa["x" === i ? "left" : "top"],
                                        })),
                                        this.Vv.attachEvent("onResizeEnd", m(this.zv, this)),
                                        this.Vv.attachEvent("onResize", m(this.Bv, this)),
                                        _t(document.body, "webix_noselect", 1);
                                },
                                Mv: function () {
                                    return this.getParentView().Nl ? "y" : "x";
                                },
                                Bv: function () {
                                    var t, e, i, n, s, r, o, a, l;
                                    if (this.Fv)
                                        for (t = this.$v(), n = this.Fv[0], i = this.Vv.xv - this.Fv[2], a = this.Hv(t, n, i), l = t[0]["$" + this.Cv] + t[1]["$" + this.Cv], s = 0; s < 2; s++) {
                                            (e = s ? -i : i), (r = t[s].$getSize(0, 0));
                                            var h = "y" == n ? r[2] : r[0],
                                                c = "y" == n ? r[3] : r[1];
                                            if ((h === c && ((h = t[s].P["y" == n ? "minHeight" : "minWidth"] || 3), (c = t[s].P["y" == n ? "maxHeight" : "maxWidth"] || 1e5)), (0 < e && c && c <= a[s]) || (e < 0 && h && h >= a[s])))
                                                return (this.Iv[s] = 0 < e ? c : h), (o = this.Rv(t, n)), void (this.Vv._v.style["y" == n ? "top" : "left"] = this.Fv[3] + o[0] + "px");
                                            a[s] < 3 ? (this.Vv._v.style["y" == n ? "top" : "left"] = this.Fv[3] + s * l + 1 + "px") : (this.Iv[s] = null);
                                        }
                                },
                                $v: function () {
                                    var t, e, i;
                                    for (t = this.getParentView().ri, e = 0; e < t.length; e++) if (t[e] == this) return ((i = [this.Ev(t, e, 1, -1), this.Ev(t, e, 1, 1)])[0] && i[1]) || (i = null), i;
                                },
                                Ev: function (t, e, i, n) {
                                    var s = t[e + n * i];
                                    return s && s.P.hidden ? this.Ev(t, e, i + 1, n) : s && s.P.$noresize ? null : s;
                                },
                                zv: function (t) {
                                    if (void 0 !== t) {
                                        var e,
                                            i,
                                            n,
                                            s,
                                            r = this.getParentView().Nl;
                                        if (((this.Pv = null), this.Fv)) {
                                            if (((i = this.Fv[0]), (n = t - this.Fv[2]), (e = this.$v())[0] && e[1])) {
                                                s = this.jv(e, i, n);
                                                for (var o = 0; o < 2; o++) {
                                                    var a = e[o].$getSize(0, 0);
                                                    if (r ? a[2] == a[3] : Math.abs(a[1] - a[0]) < 3) (e[o].P[this.Cv] = s[o]), e[o].Kl && e[o].Kl(this.Cv, s[o], r);
                                                    else {
                                                        var l = e[o].$view[r ? "offsetHeight" : "offsetWidth"];
                                                        e[o].P.gravity = (s[o] / l) * e[o].P.gravity;
                                                    }
                                                }
                                                e[0].resize();
                                                for (var h = 0; h < 2; h++) e[h].callEvent && e[h].callEvent("onViewResize", []), e[h].$view.removeAttribute("aria-dropeffect");
                                                M("onLayoutResize", [e]);
                                            }
                                            this.Fv = !1;
                                        }
                                        (this.Fv = !1), (this.Sv = !1), (this.Iv = null), kt(document.body, "webix_noselect"), this.Vt.setAttribute("aria-grabbed", "false"), this.Vt.removeAttribute("aria-dropeffect");
                                    }
                                },
                                Rv: function (t) {
                                    var e, i, n;
                                    return (n = t[0]["$" + this.Cv] + t[1]["$" + this.Cv]), this.Iv[0] ? (i = n - (e = this.Iv[0])) : this.Iv[1] && (e = n - (i = this.Iv[1])), [e, i];
                                },
                                Hv: function (t, e, i) {
                                    for (var n = [], s = "height" == this.Cv ? "offsetHeight" : "offsetWidth", r = 0; r < 2; r++) n[r] = t[r].$view[s] + (r ? -1 : 1) * i;
                                    return n;
                                },
                                jv: function (t, e, i) {
                                    var n, s, r;
                                    if (this.Iv[0] || this.Iv[1]) s = this.Rv(t, e);
                                    else for (s = this.Hv(t, e, i), n = 0; n < 2; n++) s[n] < 0 && ((r = s[0] + s[1]), (s[n] = 1), (s[1 - n] = r - 1));
                                    return s;
                                },
                            }),
                        Vs =
                            (t.protoUI(Rs, Ni, Se, Re.view),
                            {
                                name: "align",
                                defaults: { borderless: !0, left: 0, top: 0, right: 0, bottom: 0 },
                                $init: function () {
                                    this.Vt.className += " webix_view_align";
                                },
                                Ft: function () {
                                    this.body_setter({});
                                },
                                Tt: function (t) {
                                    this.$t.destructor(), (this.$t = t), this.Vt.appendChild(this.$t.Vt), this.resize();
                                },
                                getChildViews: function () {
                                    return [this.$t];
                                },
                                body_setter: function (t) {
                                    return (t.Dt = { top: !1, left: !1, right: !1, bottom: !1 }), ((ee.bt = this).$t = ne.Ht(t)), this.Vt.appendChild(this.$t.Vt), t;
                                },
                                align_setter: function (t) {
                                    "string" == typeof t && (t = t.split(",")), (this.Nv = this.Lv = this.Ov = "");
                                    for (var e = 0; e < t.length; e++) {
                                        var i = t[e];
                                        ("center" !== i && "left" !== i && "right" !== i) || (this.Nv = i), ("top" !== i && "bottom" !== i && "middle" !== i) || (this.Lv = i), "absolute" === i && (this.Nv = this.Lv = this.Ov = "precise");
                                    }
                                    return t;
                                },
                                getBody: function () {
                                    return this.$t;
                                },
                                $setSize: function (t, e) {
                                    var i, n;
                                    Re.api.$setSize.call(this, t, e), (n = this.Ov ? ((i = t - this.P.left - this.P.right), e - this.P.top - this.P.bottom) : ((i = this.Zl[0] || t), this.Zl[2] || e)), this.$t.$setSize(i, n);
                                    var s = this.$t.Vt;
                                    "center" == this.Nv ? (s.style.marginLeft = Math.ceil((t - i) / 2) + "px") : "right" == this.Nv ? (s.style.marginLeft = t - i + "px") : (s.style.marginLeft = (this.Ov ? this.P.left : 0) + "px"),
                                        "middle" == this.Lv ? (s.style.marginTop = Math.ceil((e - n) / 2) + "px") : "bottom" == this.Lv ? (s.style.marginTop = e - n + "px") : (s.style.marginTop = (this.Ov ? this.P.top : 0) + "px");
                                },
                                $getSize: function (t, e) {
                                    var i = (this.Zl = this.$t.$getSize(0, 0)),
                                        n = Ae.api.$getSize.call(this, 0, 0);
                                    return (
                                        this.Ov && ((t += this.P.left + this.P.right), (e += this.P.top + this.P.bottom)),
                                        !this.Nv || this.Ov ? ((n[0] = i[0] + t), (n[1] = i[1] + t)) : ((n[0] = (n[0] || i[0]) + e), (n[1] += t)),
                                        !this.Lv || this.Ov ? ((n[2] = i[2] + e), (n[3] = i[3] + e)) : ((n[2] = (n[2] || i[2]) + e), (n[3] += e)),
                                        n
                                    );
                                },
                            }),
                        Ls =
                            (t.protoUI(Vs, Re.view),
                            {
                                name: "multiview",
                                defaults: { animate: {} },
                                setValue: function (t) {
                                    ae(t).show();
                                },
                                getValue: function () {
                                    return this.getActiveId();
                                },
                                $init: function () {
                                    (this.ac = 0), (this.Nl = 1), (this.Vt.style.position = "relative"), (this.Vt.className += " webix_multiview"), (this.Wv = []);
                                },
                                Uv: function (t, e) {
                                    var i = ae(t);
                                    i.Yv || ((i.qv = []), (i.Yv = {})), i.Yv[e] || ((i.Yv[e] = !0), i.qv.push(e));
                                },
                                Gv: function (t) {
                                    var e = ae(t);
                                    if ((this.P.keepViews && (e.Vt.style.display = ""), this.Wv[this.Wv.length - 2] != t ? (10 == this.Wv.length && this.Wv.splice(0, 1), this.Wv.push(t)) : this.Wv.splice(this.Wv.length - 1, 1), e.Yv)) {
                                        for (var i = 0; i < e.qv.length; i++) {
                                            var n = ae(e.qv[i]);
                                            n && n.render();
                                        }
                                        (e.qv = []), (e.Yv = {});
                                    }
                                },
                                addView: function (t, e) {
                                    var i = !v(e) && e <= this.ac ? 1 : 0,
                                        n = _s.api.addView.apply(this, arguments);
                                    return 1 < this.ri.length && (this.P.keepViews ? (ae(n).Vt.style.display = "none") : pt(ae(n).Vt), (this.ac += i)), n;
                                },
                                Tt: function (t) {
                                    if (!t.P.borderless) {
                                        var e = p(this.P.Dt);
                                        t.P.Dt = e;
                                        var i = t.Vt.style;
                                        (i.borderTopWidth = i.borderBottomWidth = i.borderLeftWidth = i.borderRightWidth = "1px"), this.Xl(i, e);
                                    }
                                    _s.api.Tt.apply(this, arguments);
                                },
                                Ol: function (t) {
                                    if (t == this.ac) {
                                        var e = t ? t - 1 : 1;
                                        this.ri[e] && ((this.Xv = null), this.ye(this.ri[e], !1));
                                    }
                                    t < this.ac && this.ac--;
                                },
                                Bi: function () {},
                                El: function (t) {
                                    t = t || this.Ll;
                                    for (var e = 0; e < t.length; e++) t[e].Dt = this.P.borderless ? { top: 1, left: 1, right: 1, bottom: 1 } : this.P.Dt || {};
                                    _s.api.El.call(this, t);
                                    for (var i = 1; i < this.ri.length; i++) this.P.keepViews ? (this.ri[i].Vt.style.display = "none") : pt(this.ri[i].Vt);
                                    for (var n = 0; n < t.length; n++) {
                                        var s = this.ri[n];
                                        (s.ri && !s._d) || (this.Xl(s.Vt.style, s.P.Dt), s.Vt.setAttribute("role", "tabpanel"));
                                    }
                                    this.Gv(this.getActiveId());
                                },
                                cells_setter: function (t) {
                                    t && t.length, (this.Ll = t);
                                },
                                Kv: function (t, e) {
                                    var i = (this.P.animate || {}).direction,
                                        n = "top" == i || "bottom" == i;
                                    return t < e ? (n ? "bottom" : "right") : n ? "top" : "left";
                                },
                                ye: function (e, i) {
                                    var n = this,
                                        s = arguments,
                                        r = this.getParentView();
                                    if (r && r.getTabbar) {
                                        var o = r.getTabbar();
                                        o.blockEvent(), o.setValue(e.P.$id || e.P.id), o.unblockEvent();
                                    }
                                    if (this.Xv)
                                        return this.Xv.then(function () {
                                            return n.ye.apply(n, s);
                                        });
                                    for (var a = -1, h = 0; h < this.ri.length; h++)
                                        if (this.ri[h] == e) {
                                            a = h;
                                            break;
                                        }
                                    if (!(a < 0 || a == this.ac)) {
                                        var c = this.ri[this.ac],
                                            d = this.ri[a];
                                        if ((c.$getSize(0, 0), (i || void 0 === i) && We.isSupported() && this.P.animate)) {
                                            var u = t.extend({}, this.P.animate);
                                            this.P.keepViews && (u.keepViews = !0), (u.direction = this.Kv(a, this.ac)), (u = Pe.Ei(i || {}, u));
                                            var p = We.formLine(d.Vt, c.Vt, u);
                                            d.$getSize(0, 0), d.$setSize(this.me, this.we);
                                            var f = u.callback;
                                            (u.callback = function () {
                                                We.breakLine(p, this.P.keepViews), (this.Xv = null), u.wait_animation.resolve(), f && f.call(this), (f = u.master = u.callback = null), this.resize();
                                            }),
                                                ((u.master = this).ac = a),
                                                this.Gv(this.getActiveId()),
                                                We(p, u),
                                                (this.Xv = u.wait_animation = l.defer());
                                        } else this.P.keepViews ? (c.Vt.style.display = "none") : (pt(c.Vt), this.Vt.appendChild(this.ri[h].Vt)), (this.ac = a), this.resizeChildren(), this.Gv(this.getActiveId());
                                        d.callEvent && (d.callEvent("onViewShow", []), fe(d, this.Se)), this.callEvent("onViewChange", [c.P.id, d.P.id]);
                                    }
                                },
                                $getSize: function (t, e) {
                                    if (!this.ri.length) return Ae.api.$getSize.call(this, 0, 0);
                                    var i = this.ri[this.ac].$getSize(0, 0);
                                    if (this.P.fitBiggest) for (var n = 0; n < this.ri.length; n++) if (n != this.ac) for (var s = this.ri[n].$getSize(0, 0), r = 0; r < 4; r++) i[r] = Math.max(i[r], s[r]);
                                    var o = Ae.api.$getSize.call(this, 0, 0);
                                    return 1e5 <= o[1] && (o[1] = 0), 1e5 <= o[3] && (o[3] = 0), (o[0] = (o[0] || i[0]) + t), (o[1] = (o[1] || i[1]) + t), (o[2] = (o[2] || i[2]) + e), (o[3] = (o[3] || i[3]) + e), o;
                                },
                                $setSize: function (t, e) {
                                    this.ri.length && ((this.Pl = [t, e]), Ae.api.$setSize.call(this, t, e), this.ri[this.ac].$setSize(t, e));
                                },
                                isVisible: function (t, e) {
                                    return e && e != this.getActiveId() ? (t && this.Uv(e, t), !1) : Re.api.isVisible.call(this, t, this.P.id);
                                },
                                getActiveId: function () {
                                    return this.ri.length ? this.ri[this.ac].P.id : null;
                                },
                                back: function (t) {
                                    if (((t = t || 1), this.callEvent("onBeforeBack", [this.getActiveId(), t]))) {
                                        if (this.Wv.length > t) {
                                            var e = this.Wv[this.Wv.length - t - 1];
                                            return ae(e).show(), e;
                                        }
                                        return null;
                                    }
                                    return null;
                                },
                                Yl: function (t, e) {
                                    (!this.P.keepViews && e && e != this.ri[this.ac]) || _s.api.Yl.call(this, t, e);
                                },
                            }),
                        js =
                            (t.protoUI(Ls, _s.view),
                            {
                                name: "tabview",
                                setValue: function (t) {
                                    this.ri[0].setValue(t);
                                },
                                getValue: function () {
                                    return this.ri[0].getValue();
                                },
                                getTabbar: function () {
                                    return this.ri[0];
                                },
                                getMultiview: function () {
                                    return this.ri[1];
                                },
                                addView: function (t) {
                                    var e = this.getMultiview().addView(t.body);
                                    return (t.id = e), (t.value = t.header), delete t.body, delete t.header, this.getTabbar().addOption(t), e;
                                },
                                removeView: function (t) {
                                    var e = this.getTabbar();
                                    e.removeOption(t), e.refresh();
                                },
                                $init: function (e) {
                                    this.$ready.push(this.Jv);
                                    var i = e.cells,
                                        n = [];
                                    i && i.length;
                                    for (var s = i.length - 1; 0 <= s; s--) {
                                        var r = i[s].body || i[s];
                                        r.id || (r.id = "view" + x()), (n[s] = { value: i[s].header, id: r.id, close: i[s].close, width: i[s].width, hidden: !!i[s].hidden }), (i[s] = r);
                                    }
                                    var o = { view: "tabbar", multiview: !0 },
                                        a = { view: "multiview", cells: i, animate: !!e.animate };
                                    e.value && (o.value = e.value), e.tabbar && t.extend(o, e.tabbar, !0), e.multiview && t.extend(a, e.multiview, !0), (o.options = o.options || n), (e.rows = [o, a]), delete e.cells, delete e.tabs;
                                },
                                Jv: function () {
                                    this.getTabbar().attachEvent("onOptionRemove", function (t) {
                                        var e = ae(t);
                                        if (e) {
                                            var i = e.getParentView();
                                            i && i.removeView(e);
                                        }
                                    });
                                },
                            }),
                        Fs =
                            (t.protoUI(js, Ss.view),
                            {
                                name: "carousel",
                                defaults: { scrollSpeed: "300ms", type: "clean", navigation: {}, animate: !0 },
                                $init: function () {
                                    (this.Vt.className += " webix_carousel"), (this.Zv = null), (this.tt = null), (this.ac = 0), this.$ready.unshift(this.Qv), this.$ready.push(this.rr);
                                },
                                addView: function (t, e) {
                                    var i = this.Zv.addView(t, e);
                                    return this.t_(), i;
                                },
                                removeView: function (t) {
                                    this.Zv.removeView(t), this.t_();
                                },
                                Tt: function (t, e) {
                                    this.Zv.Tt(t, e), this.t_();
                                },
                                t_: function () {
                                    (this.ri = this.Zv.ri), this.tc(), this.setActiveIndex(Math.min(this.ac, this.ri.length - 1));
                                },
                                Qv: function () {
                                    var e = this;
                                    this.Zv && this.Zv.destructor && this.Zv.destructor();
                                    var i = "";
                                    this.config.cols ? ((i = "cols"), (this.Nl = 0)) : ((i = "rows"), (this.Nl = 1));
                                    var n = { borderless: !0, type: "clean" };
                                    n[i] = f(this.P[i]);
                                    for (var s = ["type", "margin", "marginX", "marginY", "padding", "paddingX", "paddingY"], r = {}, o = 0; o < s.length; o++) this.P[s[o]] && (r[s[o]] = this.P[s[o]]);
                                    t.extend(n, r, !0), ((ee.bt = this).Zv = ne.Ht(n)), this.Vt.appendChild(this.Zv.Vt), (this.ri = this.Zv.ri), (this.Zv.ye = m(Fs.ye, this)), (this.Zv.adjustScroll = m(Fs.adjustScroll, this));
                                    var a = A("onReconstruct", function (t) {
                                        t == e.Zv && e.i_();
                                    });
                                    this.attachEvent("onDestruct", function () {
                                        N(a);
                                    }),
                                        (this.Wi = this.Vt.firstChild);
                                },
                                ke: function (t, e) {
                                    this.P.navigation.items && "tab" === e.target.getAttribute("role") && this.Ju(t, e), Ae.api.ke.call(this, t, e);
                                },
                                getChildViews: function () {
                                    return [this.Zv];
                                },
                                getLayout: function () {
                                    return this.Zv;
                                },
                                rr: function () {
                                    this.Wi.setAttribute("touch_scroll", this.Nl ? "y" : "x"),
                                        this.Zv.attachEvent(
                                            "onAfterScroll",
                                            m(function () {
                                                this.callEvent("onShow", [this.getActiveId()]);
                                            }, this)
                                        ),
                                        fe(this.Zv, function (t) {
                                            t.Vt.setAttribute("role", "tabpanel");
                                        });
                                },
                                adjustScroll: function (t) {
                                    var e,
                                        i = this.Nl ? this.we : this.me;
                                    return this.Nl ? ((e = Math.round(t.f / i)), (t.f = e * i)) : ((e = Math.round(t.e / i)), (t.e = e * i)), (this.ac = -e), this.P.navigation && this.ic(), !0;
                                },
                                ye: function (t) {
                                    var e, i, n, s, r, o;
                                    for (n = -1, i = this.Zv, e = 0; e < i.ri.length; e++)
                                        if (i.ri[e] == t) {
                                            n = e;
                                            break;
                                        }
                                    n < 0 ||
                                        n == this.ac ||
                                        ((this.ac = n),
                                        (s = i.Nl ? this.we : this.me),
                                        (r = -(i.Nl ? 0 : n * s)),
                                        (o = -(i.Nl ? n * s : 0)),
                                        this.scrollTo(r, o),
                                        this.callEvent("onShow", [i.ri[this.ac].P.id]),
                                        this.P.navigation && this.tc());
                                },
                                scrollTo: function (t, e) {
                                    Ue && We.isSupported() && this.P.animate ? Ue.ms(this.Wi, t, e, this.P.scrollSpeed || "100ms") : ((this.Wi.style.marginLeft = t + "px"), (this.Wi.style.marginTop = e + "px"));
                                },
                                navigation_setter: function (t) {
                                    return this.Ei(t, { type: "corner", buttons: !0, items: !0 }), t;
                                },
                                showNext: function () {
                                    this.ac < this.Zv.ri.length - 1 && this.setActiveIndex(this.ac + 1);
                                },
                                showPrev: function () {
                                    0 < this.ac && this.setActiveIndex(this.ac - 1);
                                },
                                setActiveIndex: function (t) {
                                    this.Zv.ri.length, ae(this.Zv.ri[t].P.id).show();
                                },
                                getActiveIndex: function () {
                                    return this.ac;
                                },
                                $getSize: function (t, e) {
                                    var i = this.Zv.$getSize(0, 0),
                                        n = Re.api.$getSize.call(this, t, e);
                                    return this.Zv.Nl ? ((n[0] = Math.max(n[0], i[0])), (n[1] = Math.min(n[1], i[1]))) : ((n[2] = Math.max(n[2], i[2])), (n[3] = Math.min(n[3], i[3]))), n;
                                },
                                $setSize: function (t, e) {
                                    var i = this.Zv,
                                        n = i.ri.length,
                                        s = Re.api.$setSize.call(this, t, e),
                                        r = this.we * (i.Nl ? n : 1),
                                        o = this.me * (i.Nl ? 1 : n);
                                    s ? ((this.Wi.style.height = r + "px"), (this.Wi.style.width = o + "px"), i.$setSize(o, r), this.i_()) : i.$setSize(o, r);
                                },
                                i_: function () {
                                    var t = this.Zv,
                                        e = this.ac || 0,
                                        i = t.Nl ? this.we : this.me,
                                        n = -(t.Nl ? 0 : e * i),
                                        s = -(t.Nl ? e * i : 0);
                                    this.scrollTo(n, s), this.P.navigation && this.tc();
                                },
                                getActiveId: function () {
                                    var t = this.Zv.ri[this.ac];
                                    return t ? t.P.id : null;
                                },
                                setActive: function (t) {
                                    ae(t).show();
                                },
                            }),
                        zs =
                            (t.protoUI(Fs, E, Oi, Re.view),
                            {
                                name: "proxy",
                                body_setter: function (t) {
                                    return ((ee.bt = this).$t = ne.Ht(t)), this.Vt.appendChild(this.$t.Vt), t;
                                },
                                getChildViews: function () {
                                    return [this.$t];
                                },
                                $setSize: function (t, e) {
                                    Re.api.$setSize.call(this, t, e), this.$t.$setSize(this.$width, this.$height);
                                },
                                $getSize: function (t, e) {
                                    var i = Re.api.$getSize.call(this, t, e),
                                        n = this.$t.$getSize(t, e);
                                    return (n[0] = Math.max(i[0], n[0])), (n[1] = Math.min(i[1], n[1])), (n[2] = Math.max(i[2], n[2])), (n[3] = Math.min(i[3], n[3])), (n[4] = Math.max(i[4], n[4])), n;
                                },
                                Tt: function (t) {
                                    this.$t.destructor(), (this.$t = t), this.Vt.appendChild(t.Vt), this.resize();
                                },
                            }),
                        Hs =
                            (t.protoUI(zs, Re.view),
                            {
                                name: "portlet",
                                defaults: { layoutType: "wide", icon: "wxi-drag" },
                                $init: function (t) {
                                    (this.Vt.style.position = "relative"), t.header && t.body && (t.body = [{ template: t.header, type: "header" }, t.body]), this.$ready.push(this.e_);
                                },
                                s_: function (t) {
                                    fe(t, function (t) {
                                        t.n_ && t.n_();
                                    });
                                },
                                e_: function () {
                                    var t = this.getChildViews();
                                    if (1 < t.length) Xe.addDrag(t[0].$view, this);
                                    else if (this.P.icon) {
                                        var e = dt("div", { class: "portlet_drag" }, "<span class='webix_icon " + this.P.icon + "'></span>");
                                        this.Vt.appendChild(e), Xe.addDrag(e, this);
                                    } else Xe.addDrag(this.$view, this);
                                },
                                body_setter: function (t) {
                                    return this.rows_setter(P(t) ? t : [t]);
                                },
                                markDropArea: function (t, e) {
                                    if (!t) return pt(this.h_);
                                    (t = ae(t)), this.h_ || (this.h_ = dt("div", null, "&nbsp;")), t.$view.appendChild(this.h_), (this.h_.className = "portlet_marker" + e);
                                },
                                movePortlet: function (t, e) {
                                    var i = t.getParentView(),
                                        n = this.getParentView(),
                                        s = i.index(t),
                                        r = n.index(this);
                                    if (M("onBeforePortletMove", [n, i, this, t, e])) {
                                        ee.pt = !0;
                                        var o = n != i ? 1 : 0,
                                            a = i.Nl;
                                        "top" == e || "bottom" == e
                                            ? (1 !== a && (ne(t, (i = ne({ type: t.P.layoutType, rows: [] }, i, s + o)), 0), (s = 0), (o = 1)), "bottom" == e && (o += 1))
                                            : ("left" != e && "right" != e) || (0 !== a && (ne(t, (i = ne({ type: t.P.layoutType, cols: [] }, i, s + o)), 0), (s = 0), (o = 1)), "right" == e && (o += 1)),
                                            r < s && (o -= 1),
                                            ne(this, i, s + o),
                                            "replace" == e && ne(t, n, r),
                                            this.r_(n),
                                            (ee.pt = !1),
                                            t.resize(),
                                            n.resize(),
                                            this.s_(n),
                                            M("onAfterPortletMove", [n, i, this, t, e]);
                                    }
                                },
                                r_: function (t) {
                                    for (var e, i = 0; t.getChildViews().length <= i; ) (t = (e = t).getParentView()), (i = 1);
                                    i && t.removeView(e);
                                },
                                $drag: function (t) {
                                    return _t(this.Vt, "portlet_in_drag"), (Xe.Gs = { source: t, from: t }), this.Vt.innerHTML;
                                },
                                $dragDestroy: function (t, e) {
                                    kt(this.Vt, "portlet_in_drag"), pt(e), this.o_ && (this.movePortlet(this.o_, this.a_), this.markDropArea(), (this.o_ = null));
                                },
                                qs: function () {
                                    return gt(this.$view);
                                },
                                $dragPos: function (t, e, i) {
                                    i.style.left = "-10000px";
                                    var n = G.mouse.context(e),
                                        s = document.body.scrollTop || document.documentElement.scrollTop || 0,
                                        r = document.body.scrollLeft || document.documentElement.scrollLeft || 0,
                                        o = document.elementFromPoint(n.x - r, n.y - s),
                                        a = null;
                                    o && (a = ae(o)), (this.o_ = this.u_(a)), (this.a_ = this.c_(this.o_, e)), (t.x = t.x - this.me + 10), (t.y = t.y - 20), (Xe.hn = !0);
                                },
                                c_: function (t, e) {
                                    var i = "",
                                        n = "";
                                    if (e && t) {
                                        var s = gt(t.$view),
                                            r = bt(e),
                                            o = r.x - s.x - s.width / 2,
                                            a = r.y - s.y - s.height / 2;
                                        (n = t.P.mode) || (n = Math.abs(o) * (s.height / s.width) > Math.abs(a) ? "cols" : "rows"),
                                            "cols" == n ? (i = 0 <= o ? "right" : "left") : "rows" == n && (i = 0 <= a ? "bottom" : "top"),
                                            this.markDropArea(t, i);
                                    }
                                    return this.markDropArea(t, i), i || n;
                                },
                                u_: function (t) {
                                    for (; t; ) {
                                        if (t.movePortlet) return t;
                                        t = t.getParentView();
                                    }
                                },
                            }),
                        Ws =
                            (t.protoUI(Hs, Ss.view),
                            {
                                name: "abslayout",
                                $init: function () {
                                    (this.$view.className += " webix_abslayout"), delete this.rows_setter, delete this.cols_setter, (this.Ll = []);
                                },
                                cells_setter: function (t) {
                                    this.Ll = t;
                                },
                                El: function () {
                                    for (var t = 0; t < this.Ll.length; t++) this.Ll[t].Dt = {};
                                    _s.api.El.call(this, this.Ll);
                                },
                                $getSize: function () {
                                    for (var t = Ae.api.$getSize.call(this, 0, 0), e = null, i = 0; i < this.ri.length; i++) this.ri[i].P.relative && (e = this.ri[i].$getSize(0, 0));
                                    return e && (1e5 <= t[1] && (t[1] = 0), 1e5 <= t[3] && (t[3] = 0), (t[0] = Math.max(t[0], e[0])), (t[1] = Math.max(t[1], e[1])), (t[2] = Math.max(t[2], e[2])), (t[3] = Math.max(t[3], e[3]))), t;
                                },
                                $setSize: function (t, e) {
                                    (this.Pl = [t, e]), Ae.api.$setSize.call(this, t, e), this.Ga(t, e);
                                },
                                Ga: function (t, e) {
                                    for (var i = 0; i < this.ri.length; i++) {
                                        var n = this.ri[i],
                                            s = n.P,
                                            r = n.$getSize(0, 0);
                                        s.relative ? ((s.left = s.top = 0), n.$setSize(t, e)) : n.$setSize(r[0], r[2]);
                                        for (var o = n.$view, a = ["left", "right", "top", "bottom"], l = 0; l < a.length; l++) {
                                            var h = a[l];
                                            h in s && (o.style[h] = s[h] + "px");
                                        }
                                    }
                                },
                            }),
                        Bs = { api: Ws, view: t.protoUI(Ws, _s.view) },
                        Ys = {
                            name: "gridlayout",
                            defaults: { autoplace: !0, gridColumns: 2, gridRows: 2, margin: 10, padding: 10 },
                            gridRows_setter: function (t) {
                                return (this.f_ = t);
                            },
                            removeView: function (t) {
                                Bs.api.removeView.call(this, t), this.l_(), this.callEvent("onChange", []);
                            },
                            d_: function (t) {
                                if (((t.dx = t.dx || 1), (t.dy = t.dy || 1), v(t.y) || v(t.x))) {
                                    for (var e = this.v_(), i = 0; i < this.f_; i++) for (var n = 0; n < this.P.gridColumns; n++) if (!e[n][i] && this.__(e, n, i, n + t.dx, i + t.dy)) return (t.x = n), void (t.y = i);
                                    (t.x = 0), (t.y = this.f_);
                                }
                                var s = t.x + t.dx - this.P.gridColumns;
                                0 < s && (t.dx -= s);
                            },
                            Tt: function (t, e) {
                                if (v(e)) {
                                    for (var i = 0; i < this.ri.length; i++) this.ri[i].destructor();
                                    (this.Ll = t), this.El();
                                } else this.d_(t.config), this.ri.push(t), this.$view.appendChild(t.Vt), this.p_(t.config, t.config.id);
                                this.l_(!0), this.b_ || this.callEvent("onChange", []);
                            },
                            __: function (t, e, i, n, s) {
                                for (var r = e; r < n; r++) for (var o = i; o < s; o++) if (!t[r] || t[r][o]) return !1;
                                return !0;
                            },
                            m_: function (t, e, i) {
                                for (var n = 0; n < e.dx; n++) for (var s = 0; s < e.dy; s++) t[n + e.x][s + e.y] = i;
                            },
                            g_: function (t, e, i) {
                                for (var n = this.P.gridColumns, s = e.x + e.dx; s + i.dx <= n; s++) if (this.__(t, s, i.y, s + i.dx, i.y + i.dy)) return s - i.x;
                                return 0;
                            },
                            w_: function (t, e, i) {
                                for (var n = e.x - i.dx; 0 <= n; n--) if (this.__(t, n, i.y, n + i.dx, i.y + i.dy)) return i.x - n;
                                return 0;
                            },
                            x_: function (t, e, i) {
                                for (var n = e.y - i.dy; 0 <= n; n--) if (this.__(t, i.x, n, i.x + i.dx, n + i.dy)) return i.y - n;
                                return 0;
                            },
                            v_: function (t) {
                                for (var e = [], i = 0; i < this.P.gridColumns; i++) e[i] = [];
                                for (var n = 0; n < this.ri.length; n++) {
                                    var s = this.ri[n].config;
                                    s.id === t || s.hidden || this.m_(e, s, s.id);
                                }
                                return e;
                            },
                            l_: function (t) {
                                (this.y_() || t) && this.M_();
                            },
                            y_: function () {
                                if (!this.P.autoplace) return !1;
                                var t = this.P.gridColumns,
                                    e = this.f_,
                                    i = this.v_(),
                                    n = !1;
                                t: for (var s = e - 1; 0 <= s; s--) {
                                    for (var r = t - 1; 0 <= r; r--) if (i[r][s]) continue t;
                                    n = !0;
                                    for (var o = 0; o < this.ri.length; o++) {
                                        var a = this.ri[o].config;
                                        !a.hidden && a.y >= s && (a.y -= 1);
                                    }
                                }
                                return n;
                            },
                            p_: function (t, e) {
                                if (((t.x -= Math.max(0, t.x + t.dx - this.P.gridColumns)), this.P.autoplace)) {
                                    for (var i = [], n = this.v_(e), s = 0; s < this.ri.length; s++) {
                                        var r = this.ri[s].config;
                                        r.id === e || r.hidden || (r.y < t.y + t.dy && r.y + r.dy > t.y && r.x < t.x + t.dx && r.x + r.dx > t.x && i.push(r));
                                    }
                                    for (var o = [], a = 0; a < i.length; a++) {
                                        var l = i[a];
                                        this.m_(n, l, 0);
                                        var h = this.g_(n, t, l);
                                        if (h) l.x += h;
                                        else {
                                            var c = this.w_(n, t, l);
                                            if (c) l.x -= c;
                                            else {
                                                var d = this.x_(n, t, l);
                                                d ? (l.y -= d) : ((l.y = t.y + t.dy), o.push(l));
                                            }
                                        }
                                        this.m_(n, l, l.id);
                                    }
                                    for (var u = 0; u < o.length; u++) this.p_(o[u], o[u].id);
                                } else t.y -= Math.max(0, t.y + t.dy - this.P.gridRows);
                            },
                            M_: function () {
                                for (var t = this.P.gridRows, e = 0; e < this.ri.length; e++) {
                                    var i = this.ri[e].config;
                                    i.hidden || (t = Math.max(t, i.y + i.dy));
                                }
                                this.f_ != t && ((this.f_ = t), this.resize()), this.Ga();
                            },
                            moveView: function (e, i) {
                                (i = t.extend(ae(e).config, i, !0)), this.p_(i, e), this.l_(!0), this.callEvent("onChange", []);
                            },
                            serialize: function (t) {
                                for (var e = [], i = 0; i < this.ri.length; i++)
                                    if (t) e.push(t.call(this, this.ri[i]));
                                    else {
                                        var n = this.ri[i].config;
                                        e.push({ id: n.id, name: n.name, x: n.x, y: n.y, dx: n.dx, dy: n.dy });
                                    }
                                return e;
                            },
                            clearAll: function () {
                                for (var t = 0; t < this.ri.length; t++) this.ri[t].destructor();
                                (this.ri = []), this.callEvent("onChange", []);
                            },
                            restore: function (e, i) {
                                (i = i || this.P.factory), (e = f(e)), (this.b_ = !0);
                                for (var n = {}, s = 0; s < e.length; s++) {
                                    var r = e[s],
                                        o = ae(r.id);
                                    n[o ? (t.extend(o.config, r, !0), o.config.id) : ((o = i.call(this, r)), this.addView(o))] = 1;
                                }
                                for (var a = this.ri.length - 1; 0 <= a; a--) n[this.ri[a].config.id] || (this.ri[a].destructor(), this.ri.splice(a, 1));
                                this.M_(), (this.b_ = !1);
                            },
                            $getSize: function () {
                                for (var t = Ae.api.$getSize.call(this, 0, 0), e = 0; e < this.ri.length; e++) this.ri[e].$getSize(0, 0);
                                var i = this.P.cellWidth,
                                    n = this.P.cellHeight,
                                    s = this.S_(0, 0, this.P.gridColumns, this.f_);
                                return i && (t[0] = s.dx + 2 * s.x), n && (t[2] = s.dy + 2 * s.y), t;
                            },
                            S_: function (t, e, i, n) {
                                var s = this.P.margin,
                                    r = this.P.paddingX || this.P.padding,
                                    o = this.P.paddingY || this.P.padding,
                                    a = this.P.cellWidth;
                                a || (a = (this.$width - 2 * r + s) / this.P.gridColumns - s);
                                var l = this.P.cellHeight;
                                return l || (l = (this.$height - 2 * o + s) / this.f_ - s), { x: r + (a + s) * t, y: o + (l + s) * e, dx: Math.ceil(a + (a + s) * (i - 1)), dy: Math.ceil(l + (l + s) * (n - 1)) };
                            },
                            Ga: function () {
                                for (var t = 0; t < this.ri.length; t++) {
                                    var e = this.ri[t],
                                        i = e.P,
                                        n = this.S_(i.x, i.y, i.dx, i.dy);
                                    e.$getSize(0, 0), e.$setSize(n.dx, n.dy);
                                    var s = e.$view;
                                    (s.style.left = n.x + "px"), (s.style.top = n.y + "px");
                                }
                            },
                        },
                        Us = { api: Ys, view: t.protoUI(Ys, Bs.view) },
                        Gs = {
                            name: "dashboard",
                            $init: function () {
                                Xe.addDrag(this.$view, this), Xe.addDrop(this.$view, this, !0);
                            },
                            k_: function (t) {
                                return (
                                    !(!t.getAttribute || t.getAttribute("webix_disable_drag") || t.getAttribute("webixignore")) &&
                                    (-1 != (t.className || "").toString().indexOf("panel_drag") ? t : !(!t.parentNode || t == this.$view) && this.k_(t.parentNode))
                                );
                            },
                            $dragCreate: function (t, e) {
                                if (!e.target || !this.k_(e.target)) return !1;
                                var i = ae(e);
                                i.$resizeMove ||
                                    (i = i.queryView(function (t) {
                                        return !v(t.config.dx);
                                    }, "parent"));
                                var n = gt(this.$view),
                                    s = bt(e),
                                    r = (Xe.Gs = { source: i, from: this, dashboard: { sx: s.x - n.x - parseInt(i.$view.style.left) + this.P.margin / 2, sy: s.y - n.y - parseInt(i.$view.style.top) + this.P.margin / 2 } });
                                return this.callEvent("onBeforeDrag", [r, e]) ? (this.C_(i.P.dx, i.P.dy), i.$view) : void 0;
                            },
                            C_: function (t, e) {
                                var i = (this.D_ = dt("div", { class: "panel_target" })),
                                    n = this.S_(0, 0, t, e);
                                (i.style.width = n.dx + "px"), (i.style.height = n.dy + "px"), this.$view.appendChild(this.D_);
                            },
                            $drop: function (t, e, i) {
                                var n = Xe.Gs,
                                    s = { x: n.dashboard.x, y: n.dashboard.y };
                                if (this.callEvent("onBeforeDrop", [n, i])) {
                                    if (n.from === this) {
                                        var r = n.source.config;
                                        this.moveView(r.id, s);
                                    } else {
                                        if (!(n.from && n.from.callEvent && n.from.callEvent("onBeforeDropOut", [n, i]))) return;
                                        (s.name = n.source[0]), (s.dx = n.dashboard.dx), (s.dy = n.dashboard.dy), (s.id = s.name + ":" + x()), (s = this.P.factory.call(this, s)) && this.addView(s);
                                    }
                                    this.callEvent("onAfterDrop", [n, i]);
                                }
                            },
                            $dragDestroy: function (t, e) {
                                (e.style.zIndex = 1), pt(this.D_), (this.D_ = null), this.M_();
                            },
                            I_: function (t, e, i) {
                                var n = this.P.margin,
                                    s = this.P.paddingX || this.P.padding,
                                    r = this.P.paddingY || this.P.padding,
                                    o = this.P.cellWidth;
                                o || (o = (this.$width - 2 * s + n) / this.P.gridColumns - n);
                                var a = this.P.cellHeight;
                                return (
                                    a || (a = (this.$height - 2 * r + n) / this.f_ - n),
                                    (t += i ? n : -s),
                                    (e += i ? n : -r),
                                    (t = Math.round(t / (o + n))),
                                    (e = Math.round(e / (a + n))),
                                    { x: (t = Math.max(0, Math.min(t, this.P.gridColumns - (i ? 0 : 1)))), y: (e = Math.max(0, Math.min(e, this.f_))), width: o, height: a, margin: n, rx: t * (o + n) + s, ry: e * (a + n) + r }
                                );
                            },
                            $dragOut: function (t, e, i, n) {
                                var s = Xe.Gs;
                                this.callEvent("onDragOut", [s, n]), this.D_ && s.external && (pt(this.D_), (this.D_ = null));
                            },
                            $dragIn: function (e, i, n) {
                                var s = Xe.Gs;
                                if (this.callEvent("onBeforeDragIn", [s, n])) {
                                    if (!this.D_) {
                                        if (!s.from || !s.from.getItem) return !1;
                                        if (!this.P.factory) return !1;
                                        s.external = !0;
                                        var r = s.from.getItem(s.source);
                                        (s.dashboard = { dx: r.dx, dy: r.dy }), this.C_(r.dx, r.dy);
                                    }
                                    if (s.external) {
                                        var o = this.D_,
                                            a = G.mouse.context(n),
                                            l = gt(this.$view),
                                            h = this.I_(a.x - l.x, a.y - l.y);
                                        t.extend(s.dashboard, h, !0), (o.style.left = h.rx + "px"), (o.style.top = h.ry + "px");
                                    }
                                    return !0;
                                }
                            },
                            $dragPos: function (e, i, n) {
                                var s = Xe.Gs;
                                n.style.left = "-10000px";
                                var r = G.mouse.context(i),
                                    o = gt(this.$view),
                                    a = s.dashboard,
                                    l = this.I_(r.x - o.x - a.sx, r.y - o.y - a.sy);
                                (e.x = r.x - a.sx - o.x), (e.y = r.y - a.sy - o.y);
                                var h = this.D_;
                                (h.style.left = l.rx + "px"), (h.style.top = l.ry + "px"), t.extend(a, l, !0);
                            },
                        },
                        qs =
                            (t.protoUI(Gs, Us.view),
                            {
                                name: "panel",
                                $init: function (t) {
                                    if (t.header && t.body) {
                                        var i = t.header;
                                        "object" !== e(i) && (i = { template: t.header, type: "header", css: "webix_header" }), (t.body = [i, t.body]);
                                    }
                                    _t(this.$view, "panel_drag_view"), this.$ready.push(this.e_);
                                },
                                e_: function () {
                                    var t = this.getChildViews(),
                                        e = 1 === t.length ? this : t[1];
                                    if (this.P.icon) {
                                        var i = dt("div", { class: "panel_icon" }, "<span class='webix_icon " + this.P.icon + " panel_icon_span'></span>");
                                        e != this && (e.$view.style.position = "relative"), e.$view.appendChild(i);
                                    }
                                },
                                body_setter: function (t) {
                                    return this.rows_setter(P(t) ? t : [t]);
                                },
                                $resizeEnd: function (t) {
                                    var e = this.getParentView();
                                    if (e && e.I_) {
                                        var i = e.I_(t.mx, t.my, !0),
                                            n = Math.max(i.x, 1),
                                            s = Math.max(i.y, 1);
                                        e.moveView(this.P.id, { dx: n, dy: s });
                                    }
                                },
                                $resizeMove: function (t) {
                                    var e = this.getParentView();
                                    if (e && e.I_) {
                                        (t.mx = t.x), (t.my = t.y);
                                        var i = e.I_(t.x, t.y, !0);
                                        (t.x = (i.width + i.margin) * i.x - i.margin), (t.y = (i.height + i.margin) * i.y - i.margin);
                                    }
                                },
                            }),
                        Xs =
                            (t.protoUI(qs, Ss.view, Qe),
                            {
                                $init: function () {
                                    t.extend(this, Si, !0);
                                },
                                name: "flexlayout",
                            }),
                        Ks =
                            (t.protoUI(Xs, Ss.view),
                            {
                                name: "datalayout",
                                $init: function () {
                                    this.data.provideApi(this, !0), this.data.attachEvent("onStoreUpdated", m(this.render, this));
                                },
                                El: function () {
                                    return this.A_ || ((this.A_ = this.Ll), (this.Ll = [{}])), Ss.api.El.call(this, this.Ll);
                                },
                                setValue: function (t) {
                                    this.parse(t);
                                },
                                getValue: function () {
                                    for (var t = this.A_.length, e = 0; e < this.ri.length; e++) {
                                        var i = this.data.order[Math.floor(e / t)],
                                            n = this.data.getItem(i);
                                        this.T_(this.ri[e], n);
                                    }
                                    return this.data.serialize();
                                },
                                T_: function (e, i) {
                                    var n = e.P.name;
                                    if (n) {
                                        var s = null;
                                        e.getValues ? (s = e.getValues()) : e.getValue ? (s = e.getValue()) : e.serialize && (s = e.serialize()), "$value" == n ? t.extend(i, s, !0) : (i[n] = s);
                                    } else {
                                        var r = e.ri;
                                        if (r) for (var o = 0; o < r.length; o++) this.T_(r[o], i);
                                    }
                                },
                                ql: function (t, e) {
                                    var i,
                                        n = t.P.name;
                                    if (n) (i = "$value" == n ? e : e[n]), t.setValues ? t.setValues(i) : t.setValue ? t.setValue(i) : t.parse && (t.openAll && (i = f(i)), t.parse(i));
                                    else {
                                        var s = t.ri;
                                        if (s) for (var r = 0; r < s.length; r++) this.ql(s[r], e);
                                    }
                                },
                                render: function (t, e, i) {
                                    var n = this.A_.length;
                                    if (t && "update" === i) for (var s = this.getItem(t), r = this.getIndexById(t), o = 0; o < n; o++) this.ql(this.ri[r * n + o], s);
                                    else {
                                        for (var a = (this.Ll = []), l = this.data.order, h = 0; h < l.length; h++)
                                            if (n) for (var c = 0; c < n; c++) a.push(f(this.A_[c]));
                                            else a.push(this.getItem(l[h]));
                                        if ((a.length || a.push({}), this.reconstruct(), n))
                                            for (var d = 0; d < l.length; d++)
                                                for (var u = this.getItem(l[d]), p = 0; p < n; p++) {
                                                    var m = this.ri[d * n + p];
                                                    this.ql(m, u);
                                                }
                                    }
                                },
                            }),
                        Zs = { api: Ks, view: t.protoUI(Ks, mi, Ss.view) },
                        Js = {
                            $init: function () {
                                t.extend(this, Si, !0);
                            },
                            name: "flexdatalayout",
                        },
                        Qs =
                            (t.protoUI(Js, Zs.view),
                            {
                                name: "popup",
                                $init: function () {
                                    var t = this;
                                    (this.P.head = !1), (this.$view.className += " webix_popup");
                                    var e = A("onClick", function (e) {
                                        return t.Bi(e);
                                    });
                                    this.attachEvent("onDestruct", function () {
                                        N(e);
                                    }),
                                        this.attachEvent("onHide", this.Hn);
                                },
                                $skin: function () {
                                    ei.api.$skin.call(this), (this.defaults.padding = Ve.popupPadding), (this.defaults.point = !Ve.popupNoPoint), (this.defaults.borderless = Ve.borderlessPopup);
                                },
                                close: function () {
                                    pt(this.F_), ei.api.close.call(this);
                                },
                                $getSize: function (t, e) {
                                    return ei.api.$getSize.call(this, t + 2 * this.P.padding, e + 2 * this.P.padding);
                                },
                                $setSize: function (t, e) {
                                    Re.api.$setSize.call(this, t, e),
                                        (t = this.me - 2 * this.P.padding),
                                        (e = this.we - 2 * this.P.padding),
                                        (this.Wi.style.padding = this.P.padding + "px"),
                                        (this.vn.style.display = "none"),
                                        this.$t.$setSize(t, e);
                                },
                                On: function (t) {
                                    void 0 === t.borderless && (t.borderless = !1);
                                },
                                head_setter: function () {},
                                Bn: function (t, e, i, n) {
                                    this.Hn(),
                                        document.body.appendChild((this.F_ = dt("DIV", { class: "webix_point_" + t }, ""))),
                                        (this.F_.style.zIndex = this.Vt.style.zIndex),
                                        (this.F_.style.position = n ? "fixed" : "absolute"),
                                        (this.F_.style.top = i + "px"),
                                        (this.F_.style.left = e + "px");
                                },
                                Hn: function () {
                                    this.F_ = pt(this.F_);
                                },
                            }),
                        tr = { api: Qs, view: t.protoUI(Qs, ei.view) },
                        er = {
                            name: "toolbar",
                            defaults: { type: "toolbar" },
                            _d: !0,
                            V_: "webix_toolbar",
                            z_: !1,
                            $init: function (t) {
                                t.borderless || ((this.Wi.style.borderWidth = "1px"), (this.P.Dt = { top: !1, left: !1, right: !1, bottom: !1 })), (this.Wi.className += " " + this.V_), this.Vt.setAttribute("role", "toolbar");
                            },
                            oe: function () {
                                var t = this;
                                (t.elements = {}),
                                    fe(this, function (e) {
                                        if ((e.P.name && e.getValue && e.setValue && (t.elements[e.P.name] = e).mapEvent && e.mapEvent({ onbeforetabclick: t, onaftertabclick: t, onitemclick: t, onchange: t }), e.setValues || e.ql))
                                            return !1;
                                    });
                                var e = this.Yf;
                                if ((this.setDirty(!1), e)) {
                                    var i = this.Yf;
                                    for (var n in t.elements) e[n] && i[n] != e[n] && ((i[n] = e[n]), this.setDirty(!0));
                                }
                            },
                            Gl: function () {
                                this.oe();
                            },
                            ld: function (t) {
                                var e = this.P;
                                return e.elements && !t && ((this.Ll = t = e.elements), (this.Nl = this.z_), delete e.elements), this.P.elementsConfig && this.B_(this.Ll, e.elementsConfig), t;
                            },
                            B_: function (e, i) {
                                for (var n = 0; n < e.length; n++) {
                                    var s = e[n];
                                    t.extend(s, i);
                                    var r,
                                        o = i;
                                    s.elementsConfig && (o = t.extend(t.extend({}, s.elementsConfig), i)), (r = s.body ? [s.body] : s.rows || s.cols || s.cells || s.body) && this.B_(r, o);
                                }
                            },
                            $getSize: function (t, e) {
                                var i = Ss.api.$getSize.call(this, t, e),
                                    n = this.getParentView(),
                                    s = this.Nl ? 3 : 1;
                                return n && this.Nl != n.Nl && (i[s] += 1e5), i;
                            },
                            render: function () {},
                            refresh: function () {
                                this.render();
                            },
                        },
                        ir = { api: er, view: t.protoUI(er, Fi, Rt, bn, Ss.view, ci) },
                        nr = {
                            name: "form",
                            defaults: { type: "form", autoheight: !0 },
                            H_: -1,
                            V_: "webix_form",
                            z_: !0,
                            $init: function () {
                                this.Vt.setAttribute("role", "form");
                            },
                            $getSize: function (t, e) {
                                this.ge && !this.P.width && (t += G.scrollSize);
                                var i = Ss.api.$getSize.call(this, t, e);
                                return (!this.P.scroll && this.P.autoheight) || ((i[2] = this.P.height || this.P.minHeight || 0), (i[3] = this.P.height || 1e5)), i;
                            },
                        },
                        sr =
                            (t.protoUI(nr, ir.view),
                            {
                                name: "fieldset",
                                defaults: { borderless: !0, $cssName: "webix_fieldset", paddingX: 18, paddingY: 30 },
                                $init: function (t) {
                                    t.body = t.body || {};
                                    var e = this.defaults.$cssName;
                                    (this.Vt.className += " " + e), (this.Vt.innerHTML = "<fieldset><legend class='" + e + "_label" + (t.required ? " webix_required" : "") + "'></legend><div class='" + e + "_body'></div></fieldset>");
                                },
                                label_setter: function (t) {
                                    return (this.Vt.firstChild.childNodes[0].innerHTML = t);
                                },
                                getChildViews: function () {
                                    return [this.R_];
                                },
                                body_setter: function (t) {
                                    return ((ee.bt = this).R_ = ne(t, this.Vt.firstChild.childNodes[1])), t;
                                },
                                getBody: function () {
                                    return this.R_;
                                },
                                resizeChildren: function () {
                                    if (this.R_) {
                                        var t = this.$width - this.P.paddingX,
                                            e = this.$height - this.P.paddingY,
                                            i = this.R_.$getSize(0, 0);
                                        i[0] > t && (t = i[0]), i[2] > e && (e = i[2]), this.R_.$setSize(t, e), this.resize();
                                    }
                                },
                                $getSize: function (t, e) {
                                    (t += this.P.paddingX), (e += this.P.paddingY);
                                    var i = this.R_.$getSize(t, e),
                                        n = (this.E_ = Re.api.$getSize.call(this, t, e));
                                    return n[0] < i[0] && (n[0] = i[0]), n[2] < i[2] && (n[2] = i[2]), n[1] > i[1] && (n[1] = i[1]), n[3] > i[3] && (n[3] = i[3]), n[1] < n[0] && (n[1] = n[0]), n[3] < n[2] && (n[3] = n[2]), n;
                                },
                                $setSize: function (t, e) {
                                    Re.api.$setSize.call(this, t, e) && ((t = Math.min(this.E_[1], t)), (e = Math.min(this.E_[3], e)), this.R_.$setSize(t - this.P.paddingX, e - this.P.paddingY));
                                },
                            }),
                        rr = { api: sr, view: t.protoUI(sr, Re.view) },
                        or = {
                            name: "forminput",
                            defaults: { $cssName: "webix_forminput", labelWidth: 80, labelAlign: "left", paddingY: 0, paddingX: 0 },
                            setValue: function (t) {
                                this.R_.setValue ? this.R_.setValue(t) : this.R_.setValues && this.R_.setValues(t);
                            },
                            focus: function () {
                                return !!this.R_.focus && this.R_.focus();
                            },
                            getValue: function () {
                                return this.R_.getValue ? this.R_.getValue() : this.R_.getValues ? this.R_.getValues() : void 0;
                            },
                            getBody: function () {
                                return this.R_;
                            },
                            $skin: function () {
                                (this.P_ = Ve.inputPadding), (this.j_ = Ve.inputSpacing), (this.N_ = Ve.labelTopHeight);
                            },
                            $init: function (t) {
                                if (
                                    (this.$ready.push(function () {
                                        var t = this.Vt.firstChild.childNodes[0],
                                            e = this.Vt.firstChild.childNodes[1];
                                        if (!this.P.label || (!this.P.labelWidth && "top" != this.P.labelPosition))
                                            return (t.style.display = "none"), (e.style.padding = "0 " + this.j_ / 2 + "px"), (this.P.paddingX = this.j_), void (this.P.paddingY = 0);
                                        "top" == this.P.labelPosition
                                            ? ((t.style.lineHeight = this.N_ - this.P_ + "px"), (t.className += " " + this.defaults.$cssName + "_label_top"), (e.style.padding = "0 " + this.j_ / 2 + "px"))
                                            : (t.style.width = this.P.paddingX - this.j_ / 2 + "px"),
                                            (t.style.textAlign = this.P.labelAlign),
                                            this.P.value && this.setValue(this.P.value);
                                    }),
                                    "top" != t.labelPosition)
                                ) {
                                    var e = v(t.labelWidth) ? this.defaults.labelWidth : t.labelWidth;
                                    t.paddingX = e + this.j_;
                                } else (t.paddingY = this.N_), (t.paddingX = this.j_);
                            },
                            labelWidth_setter: function (t) {
                                return t ? Math.max(t, Ve.dataPadding) : 0;
                            },
                            setBottomText: function (t) {
                                var e = this.P;
                                if (void 0 !== t) {
                                    if (e.bottomLabel == t) return;
                                    e.bottomLabel = t;
                                }
                                var i = (e.invalid ? e.invalidMessage : "") || e.bottomLabel;
                                this.L_ && pt(this.L_),
                                    i &&
                                        ((this.$view.style.position = "relative"),
                                        (this.L_ = dt(
                                            "div",
                                            {
                                                class: "webix_inp_bottom_label",
                                                role: e.invalid ? "alert" : "",
                                                "aria-relevant": "all",
                                                style: "position:absolute; bottom:0px; padding:2px 0; background: white; left:" + (this.j_ / 2 + (e.label ? e.labelWidth : 0)) + "px; ",
                                            },
                                            i
                                        )),
                                        this.Vt.appendChild(this.L_));
                            },
                        };
                    function ar(t) {
                        return t.tagName ? t.tagName.toLowerCase() : null;
                    }
                    function lr(t, e) {
                        if (!t.getAttribute) return null;
                        var i = t.getAttribute(e);
                        return i ? i.toLowerCase() : null;
                    }
                    function hr() {
                        var t = ar(this);
                        return cr[t] ? cr[t](this) : cr.other(this);
                    }
                    t.protoUI(or, rr.view);
                    var cr = {
                        radio: function (t) {
                            for (var e = 0; e < t.length; e++) if (t[e].checked) return t[e].value;
                            return "";
                        },
                        input: function (t) {
                            return "checkbox" === lr(t, "type") ? t.checked : t.value;
                        },
                        textarea: function (t) {
                            return t.value;
                        },
                        select: function (t) {
                            var e = t.selectedIndex;
                            return t.options[e].value;
                        },
                        other: function (t) {
                            return t.innerHTML;
                        },
                    };
                    function dr(t) {
                        var e = ar(this);
                        return ur[e] ? ur[e](this, t) : ur.other(this, t);
                    }
                    var ur = {
                            radio: function (t, e) {
                                for (var i = 0; i < t.length; i++) t[i].checked = t[i].value == e;
                            },
                            input: function (t, e) {
                                "checkbox" === lr(t, "type") ? (t.checked = !!e) : (t.value = e);
                            },
                            textarea: function (t, e) {
                                t.value = e;
                            },
                            select: function (t, e) {
                                (t.value = e), -1 === t.selectedIndex && (t.value = t.firstElementChild.value);
                            },
                            other: function (t, e) {
                                t.innerHTML = e;
                            },
                        },
                        pr = {
                            name: "htmlform",
                            $init: function (t) {
                                (this.elements = {}), (this.O_ = !1), t.content && (t.container == t.content || (!t.container && t.content == document.body)) && (this.W_ = !0);
                            },
                            content_setter: function (t) {
                                if (((t = _(t)), this.W_)) for (; 1 < t.childNodes.length; ) this.Vt.childNodes[0].appendChild(t.childNodes[0]);
                                else this.Vt.childNodes[0].appendChild(t);
                                return this.U_(), !0;
                            },
                            render: function () {
                                Es.api.render.apply(this, arguments), this.U_();
                            },
                            U_: function () {
                                var t = this.Vt.querySelectorAll("[name]");
                                this.elements = {};
                                for (var e = 0; e < t.length; e++) {
                                    var i = t[e],
                                        n = lr(i, "name");
                                    if (n) {
                                        var s = "button" === ar(i),
                                            r = lr(i, "type"),
                                            o = s || "button" === r || "submit" === r;
                                        if ("radio" === r) {
                                            var a = this.elements[n] || [];
                                            (a.tagName = "radio"), a.push(i), (i = a);
                                        }
                                        ((this.elements[n] = i).getValue = hr), (i.setValue = dr), (i.$allowsClear = !o);
                                    }
                                }
                                return this.elements;
                            },
                            nr: function (t, e) {
                                this.Qh(t, e);
                                var i = this.Vt.querySelector('[name="' + t + '"]');
                                i && _t(i, "invalid");
                            },
                            Qh: function (t) {
                                var e = this.Vt.querySelector('[name="' + t + '"]');
                                e && kt(e, "invalid");
                            },
                            focus: function (t) {
                                if (!t && this.$view.contains(document.activeElement)) return !1;
                                bn.focus.apply(this, arguments);
                            },
                        },
                        fr =
                            (t.protoUI(pr, Es.view, bn),
                            {
                                name: "property",
                                $init: function () {
                                    (this.Wi.className += " webix_property"),
                                        this.Wi.setAttribute("role", "listbox"),
                                        (this.Bt = []),
                                        this.attachEvent("onAfterEditStart", function (t) {
                                            _t(this.getItemNode(t), "webix_focused");
                                        }),
                                        this.attachEvent("onAfterEditStop", function (t, e) {
                                            kt(this.getItemNode(e.config.id), "webix_focused");
                                        });
                                },
                                defaults: { nameWidth: 100, editable: !0 },
                                on_render: {
                                    checkbox: function (t) {
                                        return "<input type='checkbox' class='webix_property_check' " + (t ? "checked" : "") + ">";
                                    },
                                    color: function (t) {
                                        return '<div class="webix_property_col_val"><div class=\'webix_property_col_ind\' style="background-color:' + (t || "#FFFFFF") + ';"></div><span>' + t + "</span></div>";
                                    },
                                },
                                on_edit: { label: !1 },
                                Qo: "webix_f_id",
                                on_click: {
                                    webix_property_check: function (t) {
                                        var e = this.locate(t);
                                        return (this.getItem(e).value = !this.getItem(e).value), this.callEvent("onCheck", [e, this.getItem(e).value]), !1;
                                    },
                                },
                                on_dblclick: {},
                                registerType: function (t, e) {
                                    if ((v(e.template) || (this.on_render[t] = e.template), v(e.editor) || (this.on_edit[t] = e.editor), !v(e.click))) for (var i in e.click) this.on_click[i] = e.click[i];
                                },
                                elements_setter: function (t) {
                                    this.Y_ = {};
                                    for (var e = 0; e < t.length; e++) {
                                        var i = t[e];
                                        "multiselect" == i.type && (i.optionslist = !0), (i.id = i.id || x()), (i.label = i.label || ""), (i.value = i.value || ""), (this.Y_[i.id] = e), this.Fu(t[e]);
                                    }
                                    return t;
                                },
                                showItem: function (t) {
                                    ji.showItem.call(this, t);
                                },
                                locate: function () {
                                    return mt(arguments[0], this.Qo);
                                },
                                getItemNode: function (t) {
                                    return this.tt.childNodes[this.Y_[t]];
                                },
                                getItem: function (t) {
                                    return this.P.elements[this.Y_[t]];
                                },
                                Ia: function (t) {
                                    var e = this.getItem(t).type;
                                    if ("checkbox" == e) return "inline-checkbox";
                                    var i = this.on_edit[e];
                                    return !1 !== i && (i || e);
                                },
                                Va: function (t) {
                                    return this.getItem(t);
                                },
                                La: function (t, e, i) {
                                    var n = this.Y_[t.id],
                                        s = this.P.elements;
                                    if (i) {
                                        for (var r = n + 1; r < s.length; r++) if (e.call(this, s[r].id)) return s[r].id;
                                    } else for (var o = n - 1; 0 <= o; o--) if (e.call(this, s[o].id)) return s[o].id;
                                    return null;
                                },
                                updateItem: function (e, i) {
                                    i = i || {};
                                    var n = this.getItem(e);
                                    n && t.extend(n, i, !0), this.refresh();
                                },
                                at: function (t) {
                                    var e = this.getItemNode(t);
                                    return { left: e.offsetLeft + this.P.nameWidth, top: e.offsetTop, height: e.firstChild.offsetHeight, width: this.q_, parent: this.Wi };
                                },
                                G_: function () {
                                    for (var t = this.P.elements, e = 0; e < t.length; e++) t[e].value = "";
                                },
                                clear: function () {
                                    this.G_(), (this.X_ = {}), this.refresh();
                                },
                                setValues: function (t, e) {
                                    var i = this;
                                    for (var n in (this.P.complexData &&
                                        (t = Vt.collapseNames(t, "", {}, function (t) {
                                            return v(i.Y_[t]);
                                        })),
                                    e || this.G_(),
                                    t)) {
                                        var s = this.getItem(n);
                                        s && (s.value = t[n]);
                                    }
                                    (this.X_ = t), this.refresh();
                                },
                                getValues: function () {
                                    for (var t = p(this.X_ || {}), e = 0; e < this.P.elements.length; e++) {
                                        var i = this.P.elements[e];
                                        "label" != i.type && (t[i.id] = i.value);
                                    }
                                    return this.P.complexData && (t = Vt.expandNames(t)), t;
                                },
                                refresh: function () {
                                    this.render();
                                },
                                $setSize: function (t, e) {
                                    Re.api.$setSize.call(this, t, e) && ((this.q_ = this.me - this.P.nameWidth), this.render());
                                },
                                $getSize: function (t, e) {
                                    if (this.P.autoheight) {
                                        var i = this.P.elements.length;
                                        this.P.height = Math.max(this.type.height * i, this.P.minHeight || 0);
                                    }
                                    return Re.api.$getSize.call(this, t, e);
                                },
                                Q: function () {
                                    var t = [],
                                        i = this.P.elements;
                                    if (i)
                                        for (var n = 0; n < i.length; n++) {
                                            var s = i[n];
                                            s.css && "object" == e(s.css) && (s.css = lt(s.css));
                                            var r = '<div webix_f_id="' + s.id + '"' + ("label" !== s.type ? 'role="option" tabindex="0"' : "") + ' class="webix_property_line ' + (s.css || "") + '">';
                                            if ("label" == s.type) t[n] = r + "<div class='webix_property_label_line'>" + s.label + "</div></div>";
                                            else {
                                                var o,
                                                    a = this.on_render[s.type],
                                                    l = "<div class='webix_property_label' style='width:" + this.P.nameWidth + "px'>" + s.label + "</div><div class='webix_property_value' style='width:" + this.q_ + "px'>";
                                                (o = s.collection || s.options ? s.template(s) : s.format ? s.format(s.value) : s.value), a && (o = a.call(this, s.value, s)), (t[n] = r + l + o + "</div></div>");
                                            }
                                        }
                                    return t.join("");
                                },
                                type: { height: 24, templateStart: Ut(""), templateEnd: Ut("</div>") },
                                $skin: function () {
                                    this.type.height = Ve.propertyItemHeight;
                                },
                            }),
                        mr =
                            (t.protoUI(fr, ze, Pi, Ai, Ni, Fi, je, Rt, E, Re.view),
                            {
                                name: "calendar",
                                defaults: {
                                    date: new Date(),
                                    navigation: !0,
                                    monthSelect: !0,
                                    weekHeader: !0,
                                    monthHeader: !0,
                                    weekNumber: !1,
                                    skipEmptyWeeks: !1,
                                    calendarHeader: "%F %Y",
                                    events: ns.isHoliday,
                                    minuteStep: 5,
                                    timeIcon: "wxi-clock",
                                    icons: !1,
                                    timepickerHeight: 30,
                                    headerHeight: 30,
                                    dayTemplate: function (t) {
                                        return t.getDate();
                                    },
                                    width: 260,
                                    height: 250,
                                },
                                dayTemplate_setter: Ut,
                                calendarHeader_setter: ns.dateToStr,
                                calendarTime_setter: function (t) {
                                    return (this.K_ = t), ns.dateToStr(t);
                                },
                                date_setter: function (t) {
                                    return this.Id(t);
                                },
                                maxDate_setter: function (t) {
                                    return this.Id(t);
                                },
                                minDate_setter: function (t) {
                                    return this.Id(t);
                                },
                                minTime_setter: function (t) {
                                    return "string" == typeof t && (t = [(t = T.parseTimeFormatDate(t)).getHours(), t.getMinutes()]), t;
                                },
                                maxTime_setter: function (t) {
                                    return "string" == typeof t && (t = [(t = T.parseTimeFormatDate(t)).getHours(), t.getMinutes()]), t;
                                },
                                J_: function () {
                                    var t = "focus" + (G.isIE ? "in" : "");
                                    G.touch ||
                                        Zt(
                                            this.$view,
                                            t,
                                            m(function (t) {
                                                var e = t.target.className,
                                                    i = -1 !== e.indexOf("webix_cal_day") ? "webix_cal_day" : -1 !== e.indexOf("webix_cal_block") ? "webix_cal_block" : "";
                                                if (300 < new Date() - ke.ci && 100 < new Date() - ke.fi && i) {
                                                    var n = t.relatedTarget;
                                                    if (n && !v(n.className)) {
                                                        var s = "webix_cal_day" == i ? this.Z_(t.target) : this.Q_(t.target);
                                                        this.hu(s);
                                                    }
                                                }
                                            }, this),
                                            { capture: !G.isIE }
                                        );
                                },
                                $init: function () {
                                    (this.Vt.className += " webix_calendar"),
                                        this.Vt.setAttribute("role", "region"),
                                        this.Vt.setAttribute("aria-label", T.aria.calendar),
                                        (this.tp = {}),
                                        (this.ip = {}),
                                        (this.gd = 0),
                                        this.J_(),
                                        this.attachEvent("onKeyPress", this.ke);
                                },
                                minuteStep_setter: function (t) {
                                    return Math.max(Math.min(t, 60), this.defaults.minuteStep);
                                },
                                type_setter: function (t) {
                                    return "time" == t ? ((this.ep = !0), (this.gd = -1)) : "year" == t && (this.sp = !0), t;
                                },
                                $setSize: function (t, e) {
                                    Re.api.$setSize.call(this, t, e) && this.render();
                                },
                                $getSize: function (t, e) {
                                    var i = this.P;
                                    if (i.cellHeight && !i.type) {
                                        var n = this.np(i.date);
                                        i.height = i.cellHeight * n.hp + i.headerHeight + (i.weekHeader ? Ve.calendarWeekHeaderHeight : 0) + (i.timepicker || this.Ad ? i.timepickerHeight : 0) + 2 * (this.rp + Ve.borderWidth);
                                    }
                                    return Re.api.$getSize.call(this, t, e);
                                },
                                moveSelection: function (t, e, i) {
                                    if (!this.config.master) {
                                        var n = this.getSelectedDate();
                                        this.config.multiselect && (n = n[0]);
                                        var s = ns.copy(n || this.getVisibleDate());
                                        this.hu(s, t, i);
                                    }
                                },
                                hu: function (t, e, i) {
                                    var n = this.jd[this.gd].op(t, e, this);
                                    if (!1 !== i) {
                                        var s = this.Vt.querySelector("." + n + "[tabindex='0']");
                                        s && s.focus();
                                    }
                                },
                                np: function (t, e) {
                                    if (!this.ap || e) {
                                        var i = t.getMonth(),
                                            n = t.getFullYear(),
                                            s = new Date(n, i + 1, 1),
                                            r = ns.weekStart(new Date(n, i, 1)),
                                            o = Math.round((s.valueOf() - r.valueOf()) / 864e5),
                                            a = this.P.skipEmptyWeeks ? Math.ceil(o / 7) : 6;
                                        this.ap = { cp: i, fp: r, cd: s, hp: a };
                                    }
                                    return this.ap;
                                },
                                $skin: function () {
                                    Ve.calendar &&
                                        (Ve.calendar.width && (this.defaults.width = Ve.calendar.width),
                                        Ve.calendar.height && (this.defaults.height = Ve.calendar.height),
                                        Ve.calendar.headerHeight && (this.defaults.headerHeight = Ve.calendar.headerHeight),
                                        Ve.calendar.timepickerHeight && (this.defaults.timepickerHeight = Ve.calendar.timepickerHeight)),
                                        (this.rp = Ve.layoutPadding.form);
                                },
                                lp: function (t) {
                                    for (
                                        var e = this.np(t),
                                            i = this.P,
                                            n = [],
                                            s = [],
                                            r = 1 / 0,
                                            o = this.me - 2 * (this.rp + Ve.borderWidth),
                                            a = this.we - (i.monthHeader ? i.headerHeight : 0) - (i.weekHeader ? Ve.calendarWeekHeaderHeight : 0) - (i.timepicker || this.Ad ? i.timepickerHeight : 0) - 2 * (this.rp + Ve.borderWidth),
                                            l = i.weekNumber ? 8 : 7,
                                            h = 0;
                                        h < l;
                                        h++
                                    )
                                        (s[h] = Math.ceil(o / (l - h))), (o -= s[h]), (r = Math.min(r, s[h]));
                                    for (var c = e.hp, d = 0; d < c; d++) (n[d] = Math.ceil(a / (c - d))), (a -= n[d]), (r = Math.min(r, n[d]));
                                    return [s, n, r];
                                },
                                icons_setter: function (t) {
                                    t ? ("object" == e(t) ? (this.Ad = t) : (this.Ad = this.vp)) : (this.Ad = null);
                                },
                                Ad: [],
                                vp: [
                                    {
                                        template: function () {
                                            return "<span role='button' tabindex='0' class='webix_cal_icon_today webix_cal_icon'>" + T.calendar.today + "</span>";
                                        },
                                        on_click: {
                                            webix_cal_icon_today: function () {
                                                var t = new Date();
                                                this.P.timepicker || (t = ns.datePart(t)), this.setValue(t), this.callEvent("onTodaySet", [this.getSelectedDate()]);
                                            },
                                        },
                                    },
                                    {
                                        template: function () {
                                            return "<span role='button' tabindex='0' class='webix_cal_icon_clear webix_cal_icon'>" + T.calendar.clear + "</span>";
                                        },
                                        on_click: {
                                            webix_cal_icon_clear: function () {
                                                this.setValue(""), this.callEvent("onDateClear", [this.getSelectedDate()]);
                                            },
                                        },
                                    },
                                ],
                                refresh: function () {
                                    this.render();
                                },
                                render: function () {
                                    (this.gd = 0), (this._p = !1);
                                    var t = this.P;
                                    if (this.isVisible(t.id)) {
                                        (this.pp = ns.datePart(new Date())), this.callEvent("onBeforeRender", []);
                                        var e = this.P.date,
                                            i = this.np(e, !0),
                                            n = this.lp(e),
                                            s = this.rp + "px",
                                            r = n[0],
                                            o = n[1],
                                            a = "";
                                        if (
                                            (t.monthHeader &&
                                                ((a +=
                                                    "<div class='webix_cal_month' style='margin:0 " +
                                                    s +
                                                    "'><span aria-live='assertive' aria-atomic='true' class='webix_cal_month_name" +
                                                    (t.monthSelect && t.navigation ? "' role='button' tabindex='0'" : " webix_readonly'") +
                                                    ">" +
                                                    t.calendarHeader(e) +
                                                    "</span>"),
                                                t.navigation &&
                                                    (a +=
                                                        "<div role='button' tabindex='0' aria-label='" +
                                                        T.aria.navMonth[0] +
                                                        "' class='webix_cal_prev_button'></div><div role='button' tabindex='0' aria-label='" +
                                                        T.aria.navMonth[1] +
                                                        "' class='webix_cal_next_button'></div>"),
                                                (a += "</div>")),
                                            t.weekHeader && (a += "<div class='webix_cal_header' style='margin:0 " + s + "' aria-hidden='true'>" + this.bp(r) + "</div>"),
                                            (a += "<div class='webix_cal_body' style='margin:0 " + s + "'>" + this.mp(r, o, i, n[2]) + "</div>"),
                                            (this.P.timepicker || this.Ad) && ((a += "<div class='webix_cal_footer' style='margin:0 " + s + "'>"), this.P.timepicker && (a += this.gp(e)), this.Ad && (a += this.Td()), (a += "</div>")),
                                            (this.Wi.innerHTML = a),
                                            (this.Wi.firstChild.style.marginTop = s),
                                            "time" == this.P.type)
                                        ) {
                                            var l = this.P.date;
                                            l && ("string" == typeof l ? (e = T.parseTimeFormatDate(l)) : P(l) && (e.setHours(l[0]), e.setMinutes(l[1]))), this.wp(-1, e);
                                        } else "month" == this.P.type ? this.wp(1, e) : "year" == this.P.type && this.wp(2, e);
                                        this.callEvent("onAfterRender", []);
                                    }
                                },
                                Td: function (e) {
                                    for (var i = "<div class='webix_cal_icons'>", n = this.Ad, s = 0; s < n.length; s++) {
                                        if (n[s].template) {
                                            var r = "function" == typeof n[s].template ? n[s].template : r(n[s].template);
                                            i += r.call(this, e);
                                        }
                                        n[s].on_click && t.extend(this.on_click, n[s].on_click);
                                    }
                                    return i + "</div>";
                                },
                                gp: function (t) {
                                    var e = this.P.calendarTime || T.timeFormatStr,
                                        i = this.P.timeIcon,
                                        n = "";
                                    if (this.P.master) {
                                        var s = f(ae(this.P.master).P.value);
                                        for (var r in (ns.equal(s.end, t) && (s.start = s.end), s))
                                            n += "<div role='button' tabindex='0' class='webix_range_time_" + r + " webix_cal_time'><span class='webix_icon " + i + "'></span> " + e(s[r]) + "</div>";
                                    } else n = "<div role='button' tabindex='0' class='webix_cal_time" + (this.Ad ? " webix_cal_time_icons" : "") + "'><span class='webix_icon " + i + "'></span> " + e(t) + "</div>";
                                    return n;
                                },
                                bp: function (t) {
                                    var e = this.P,
                                        i = "",
                                        n = 0;
                                    e.weekNumber && ((n = 1), (i += "<div class='webix_cal_week_header' style='width: " + t[0] + "px;' >" + (e.calendarWeekHeader || "") + "</div>"));
                                    for (var s = ns.startOnMonday ? 1 : 0, r = 0; r < 7; r++) {
                                        var o = (s + r) % 7,
                                            a = T.calendar.dayShort[o];
                                        i += "<div day='" + o + "' style='width: " + t[r + n] + "px;' >" + a + "</div>";
                                    }
                                    return i;
                                },
                                blockDates_setter: function (t) {
                                    return k(t, this.$scope);
                                },
                                xp: function (t, e) {
                                    var i = "",
                                        n = !1;
                                    return (
                                        ns.equal(t, this.pp) && (i += " webix_cal_today"),
                                        this.yp(t) || (i += " webix_cal_day_disabled"),
                                        t.getMonth() != e.cp && ((n = !0), (i += " webix_cal_outside")),
                                        !n && this.Mp(t) && (i += " webix_cal_select"),
                                        this.P.events && (i += " " + (this.P.events(t, n) || "")),
                                        i + " webix_cal_day"
                                    );
                                },
                                mp: function (t, i, n, s) {
                                    for (var r = this.P, o = "", a = ns.datePart(ns.copy(n.fp)), l = r.weekNumber ? 1 : 0, h = ns.getISOWeek(ns.add(a, 2, "day", !0)), c = 0; c < i.length; c++) {
                                        (o += "<div class='webix_cal_row' style='height:" + i[c] + "px;line-height:" + i[c] + "px'>"),
                                            l && (!a.getMonth() && a.getDate() < 7 && (h = ns.getISOWeek(ns.add(a, 2, "day", !0))), (o += "<div class='webix_cal_week_num' aria-hidden='true' style='width:" + t[0] + "px'>" + h + "</div>"));
                                        for (var d = l; d < t.length; d++) {
                                            var u = this.xp(a, n),
                                                p = this.P.dayTemplate.call(this, a),
                                                f = this.Mp(a),
                                                m = "",
                                                g = a.getMonth() != n.cp;
                                            "object" == e(p) ? ((m = p.aria || m), (p = p.text)) : (m = ns.dateToStr(T.aria.dateFormat)(a)),
                                                (o +=
                                                    "<div day='" +
                                                    d +
                                                    "' role='gridcell' " +
                                                    (g ? "aria-hidden='true'" : "") +
                                                    " aria-label='" +
                                                    m +
                                                    "' tabindex='" +
                                                    (f && !g ? "0" : "-1") +
                                                    "' aria-selected='" +
                                                    (f && !g ? "true" : "false") +
                                                    "' class='" +
                                                    u +
                                                    "' style='text-align:center; width:" +
                                                    t[d] +
                                                    "px'><span aria-hidden='true' class='webix_cal_day_inner' style='display:inline-block; " +
                                                    this.Sp(s, s) +
                                                    "'>" +
                                                    p +
                                                    "</span></div>"),
                                                (a = ns.add(a, 1, "day")).getHours() && (a = ns.datePart(a));
                                        }
                                        (o += "</div>"), h++;
                                    }
                                    return o;
                                },
                                Ld: function (t, e) {
                                    var i = this.P.date;
                                    e || (e = this.jd[this.gd].Pd), this.gd || (i = ns.copy(i)).setDate(1);
                                    var n = ns.add(i, t * e, "month", !0);
                                    this.kp(i, n);
                                },
                                kp: function (t, e) {
                                    this.callEvent("onBeforeMonthChange", [t, e]) && (this.gd ? this.Cp(e) : this.showCalendar(e), this.callEvent("onAfterMonthChange", [e, t]));
                                },
                                jd: {
                                    "-2": {
                                        $p: function (t) {
                                            var e = this.P,
                                                i = e.date,
                                                n = !1,
                                                s = e.minTime ? e.minTime[0] : 0,
                                                r = e.maxTime ? e.maxTime[0] + (e.maxTime[1] ? 1 : 0) : 24,
                                                o = e.minTime && i.getHours() == s ? e.minTime[1] : 0,
                                                a = e.maxTime && e.maxTime[1] && i.getHours() == r - 1 ? e.maxTime[1] : 60;
                                            if (this.P.blockTime) {
                                                var l = ns.copy(i);
                                                l.setMinutes(t), (n = this.P.blockTime(l));
                                            }
                                            return t < o || a <= t || n;
                                        },
                                        Dp: function (t, e) {
                                            t.setMinutes(e);
                                        },
                                        Ip: function (t, e, i) {
                                            if (!this.$p.call(i, t.getMinutes())) return t;
                                            var n = i.P.minuteStep,
                                                s = ns.add(t, "right" == e ? n : -n, "minute", !0);
                                            return t.getHours() === s.getHours() ? this.Ip(s, e, i) : void 0;
                                        },
                                    },
                                    "-1": {
                                        $p: function (t) {
                                            var e = this.P,
                                                i = e.date,
                                                n = e.minTime ? e.minTime[0] : 0,
                                                s = e.maxTime ? e.maxTime[0] + (e.maxTime[1] ? 1 : 0) : 24;
                                            if (t < n || s <= t) return !0;
                                            if (e.blockTime) {
                                                var r = ns.copy(i);
                                                r.setHours(t);
                                                for (var o = e.minTime && t == n ? e.minTime[1] : 0, a = e.maxTime && e.maxTime[1] && t == s - 1 ? e.maxTime[1] : 60, l = o; l < a; l += e.minuteStep)
                                                    if ((r.setMinutes(l), !e.blockTime(r))) return !1;
                                                return !0;
                                            }
                                        },
                                        Dp: function (t, e) {
                                            t.setHours(e);
                                        },
                                        op: function (t, e, i) {
                                            var n,
                                                s,
                                                r = i.P.minuteStep;
                                            return (
                                                "bottom" === e || "top" === e
                                                    ? (t.setHours("bottom" === e ? 23 : 0), t.setMinutes("bottom" === e ? 55 : 0), t.setSeconds(0), t.setMilliseconds(0), (n = t))
                                                    : "left" === e || "right" === e
                                                    ? ((s = "right" === e ? r : -r),
                                                      "left" === e && t.getMinutes() < r && (s = 60 - r),
                                                      "right" === e && t.getMinutes() >= 60 - r && (s = r - 60),
                                                      (s -= t.getMinutes() % r),
                                                      (n = i.jd[-2].Ip(ns.add(t, s, "minute"), e, i)))
                                                    : "up" === e || "down" === e
                                                    ? ((s = "down" === e ? 1 : -1), "down" === e && 23 === t.getHours() && (s = -23), "up" === e && 0 === t.getHours() && (s = 23), (n = this.Ip(ns.add(t, s, "hour"), e, i)))
                                                    : !1 === e && (n = this.Ip(t, e, i)),
                                                i.selectDate(n, !1),
                                                n && (i.Cp(n), i.selectDate(n, !1)),
                                                "webix_cal_block" + ("left" === e || "right" === e ? "_min" : "")
                                            );
                                        },
                                        Ip: function (t, e, i) {
                                            if (!this.$p.call(i, t.getHours())) return t;
                                            var n = ns.add(t, "down" == e ? 1 : -1, "hour", !0);
                                            return t.getDate() === n.getDate() ? this.Ip(n, e, i) : void 0;
                                        },
                                    },
                                    0: {
                                        Pd: 1,
                                        op: function (t, e, i) {
                                            var n = t;
                                            return (
                                                "pgup" === e || "pgdown" === e
                                                    ? (n = ns.add(t, "pgdown" === e ? 1 : -1, "month"))
                                                    : "bottom" === e
                                                    ? (n = new Date(t.getFullYear(), t.getMonth() + 1, 0))
                                                    : "top" === e
                                                    ? (n = new Date(t.setDate(1)))
                                                    : "left" === e || "right" === e
                                                    ? (n = ns.add(t, "right" === e ? 1 : -1, "day"))
                                                    : ("up" !== e && "down" !== e) || (n = ns.add(t, "down" === e ? 1 : -1, "week")),
                                                i.yp(n) || (n = i.Ip(t, e)),
                                                n && i.selectDate(n, !0),
                                                "webix_cal_day"
                                            );
                                        },
                                    },
                                    1: {
                                        $p: function (t, e) {
                                            var i = !1,
                                                n = e.P.minDate,
                                                s = e.P.maxDate,
                                                r = e.P.date.getFullYear();
                                            if (n) {
                                                var o = n.getFullYear();
                                                i = r < o || (r == o && n.getMonth() > t);
                                            }
                                            if (s && !i) {
                                                var a = s.getFullYear();
                                                i = a < r || (r == a && s.getMonth() < t);
                                            }
                                            return i;
                                        },
                                        dl: function (t, e) {
                                            return (t = ns.monthStart(t)) < e.P.minDate ? (t = ns.copy(e.P.minDate)) : t > e.P.maxDate && (t = ns.copy(e.P.maxDate)), t;
                                        },
                                        Ap: function (t) {
                                            return t.getFullYear();
                                        },
                                        Tp: function (t) {
                                            return T.calendar.monthShort[t];
                                        },
                                        Dp: function (t, e) {
                                            e != t.getMonth() && t.setDate(1), t.setMonth(e);
                                        },
                                        Pd: 12,
                                        op: function (t, e, i) {
                                            var n = t;
                                            return (
                                                "pgup" === e || "pgdown" === e
                                                    ? (n = ns.add(t, "pgdown" === e ? 1 : -1, "year"))
                                                    : "bottom" === e
                                                    ? (n = new Date(t.setMonth(11)))
                                                    : "top" === e
                                                    ? (n = new Date(t.setMonth(0)))
                                                    : "left" === e || "right" === e
                                                    ? (n = ns.add(t, "right" === e ? 1 : -1, "month"))
                                                    : ("up" !== e && "down" !== e) || (n = ns.add(t, "down" === e ? 4 : -4, "month")),
                                                (n = i.dl(n)),
                                                i.yp(n) || (n = i.Ip(t, e)),
                                                n && (i.Cp(n), i.selectDate(n, !1)),
                                                "webix_cal_block"
                                            );
                                        },
                                    },
                                    2: {
                                        $p: function (t, e) {
                                            t += e.Fp;
                                            var i = e.P.minDate,
                                                n = e.P.maxDate;
                                            return !!((i && i.getFullYear() > t) || (n && n.getFullYear() < t));
                                        },
                                        dl: function (t, e) {
                                            return (t = ns.yearStart(t)) < e.P.minDate ? (t = ns.copy(e.P.minDate)) : t > e.P.maxDate && (t = ns.copy(e.P.maxDate)), t;
                                        },
                                        Ap: function (t, e) {
                                            var i = t.getFullYear();
                                            return (e.Fp = i = i - (i % 10) - 1), i + " - " + (i + 10 + 1);
                                        },
                                        Tp: function (t, e) {
                                            return e.Fp + t;
                                        },
                                        Dp: function (t, e, i) {
                                            t.setFullYear(i.Fp + e);
                                        },
                                        Pd: 120,
                                        op: function (t, e, i) {
                                            var n = t;
                                            return (
                                                "pgup" === e || "pgdown" === e
                                                    ? (n = ns.add(t, "pgdown" === e ? 10 : -10, "year"))
                                                    : "bottom" === e
                                                    ? (n = new Date(t.setYear(i.Fp + 10)))
                                                    : "top" === e
                                                    ? (n = new Date(t.setYear(i.Fp)))
                                                    : "left" === e || "right" === e
                                                    ? (n = ns.add(t, "right" === e ? 1 : -1, "year"))
                                                    : ("up" !== e && "down" !== e) || (n = ns.add(t, "down" === e ? 4 : -4, "year")),
                                                (n = i.dl(n)),
                                                i.yp(n) || (n = i.Ip(t, e)),
                                                n && (i.Cp(n), i.selectDate(n, !1)),
                                                "webix_cal_block"
                                            );
                                        },
                                    },
                                },
                                Vp: function () {
                                    var t;
                                    if (this.jd[-1].$p.call(this, this.P.date.getHours()))
                                        for (t = 0; t < 24; t++)
                                            if (!this.jd[-1].$p.call(this, t)) {
                                                this.P.date.setHours(t);
                                                break;
                                            }
                                    if (this.jd[-2].$p.call(this, this.P.date.getMinutes()))
                                        for (t = 0; t < 60; t += this.P.minuteStep)
                                            if (!this.jd[-2].$p.call(this, t)) {
                                                this.P.date.setMinutes(t);
                                                break;
                                            }
                                },
                                Cp: function (t) {
                                    var e,
                                        i,
                                        n,
                                        s,
                                        r,
                                        o,
                                        a,
                                        l,
                                        h,
                                        c,
                                        d,
                                        u,
                                        p = "",
                                        f = this.rp + "px";
                                    if (
                                        ((r = 2 - ((e = this.P).weekHeader ? 0 : 1) - (e.monthHeader ? 0 : 1)),
                                        (c = this.jd[this.gd]),
                                        (o = this.Wi.childNodes),
                                        t && (e.date = t),
                                        (l = e.type),
                                        this._p ||
                                            ((this.zp = this.Wi.offsetHeight - (e.monthHeader || this.ep ? e.headerHeight : 0) - 2 * (this.rp + Ve.borderWidth)),
                                            "year" != l && "month" != l && (this.zp -= e.timepickerHeight),
                                            (this.Bp = o[r].offsetWidth),
                                            (this._p = 1)),
                                        this.ep)
                                    ) {
                                        n = this.zp / 6;
                                        var m = 6,
                                            g = (this.K_ || T.timeFormat).match(/%([a,A])/);
                                        for (
                                            g && m++,
                                                h = parseInt((this.Bp - 3) / m, 10),
                                                u = Math.min(h, n),
                                                p += "<div class='webix_time_header' style='margin:0 " + f + "'>" + this.Hp(h, g) + "</div>",
                                                p += "<div  class='webix_cal_body' style='height:" + this.zp + "px; margin:0 " + f + ";'>",
                                                this.Vp(),
                                                p += "<div class='webix_hours'>",
                                                a = e.date.getHours(),
                                                d = ns.copy(e.date),
                                                s = 0;
                                            s < 24;
                                            s++
                                        ) {
                                            if (((i = ""), g && s % 4 == 0)) {
                                                var v = s ? (12 == s ? T.pm[0] : "") : T.am[0];
                                                p += "<div class='webix_cal_block_empty" + i + "' style='" + this.Sp(h, n) + "clear:both;'>" + v + "</div>";
                                            }
                                            this.jd[-1].$p.call(this, s) ? (i += " webix_cal_day_disabled") : a == s && (i += " webix_selected"),
                                                d.setHours(s),
                                                (p +=
                                                    "<div aria-label='" +
                                                    ns.dateToStr(T.aria.hourFormat)(d) +
                                                    "' role='gridcell' tabindex='" +
                                                    (a == s ? "0" : "-1") +
                                                    "' aria-selected='" +
                                                    (a == s ? "true" : "false") +
                                                    "' class='webix_cal_block" +
                                                    i +
                                                    "' data-value='" +
                                                    s +
                                                    "' style='" +
                                                    this.Sp(h, n) +
                                                    (s % 4 != 0 || g ? "" : "clear:both;") +
                                                    "'><span style='display:inline-block; " +
                                                    this.Sp(u, u) +
                                                    "'>" +
                                                    ns.toFixed(g ? (s && 12 != s ? s % 12 : 12) : s) +
                                                    "</span></div>");
                                        }
                                        for (p += "</div>", p += "<div class='webix_minutes'>", a = e.date.getMinutes(), d = ns.copy(e.date), s = 0; s < 60; s += e.minuteStep)
                                            (i = ""),
                                                this.jd[-2].$p.call(this, s) ? (i = " webix_cal_day_disabled") : a == s && (i = " webix_selected"),
                                                d.setMinutes(s),
                                                (p +=
                                                    "<div aria-label='" +
                                                    ns.dateToStr(T.aria.minuteFormat)(d) +
                                                    "' role='gridcell' tabindex='" +
                                                    (a == s ? "0" : "-1") +
                                                    "' aria-selected='" +
                                                    (a == s ? "true" : "false") +
                                                    "' class='webix_cal_block webix_cal_block_min" +
                                                    i +
                                                    "' data-value='" +
                                                    s +
                                                    "' style='" +
                                                    this.Sp(h, n) +
                                                    ((s / e.minuteStep) % 2 == 0 ? "clear:both;" : "") +
                                                    "'><span style='display:inline-block; " +
                                                    this.Sp(u, u) +
                                                    "'>" +
                                                    ns.toFixed(s) +
                                                    "</span></div>");
                                        (p += "</div>"), (p += "</div>"), (p += "<div class='webix_time_footer' style='margin:0 " + f + "'>" + this.Rp() + "</div>"), (this.Wi.innerHTML = p), (this.Wi.firstChild.style.marginTop = f);
                                    } else {
                                        if (e.monthHeader) {
                                            var b = o[0].childNodes,
                                                y = T.aria["nav" + (1 == this.gd ? "Year" : "Decade")];
                                            (b[0].innerHTML = c.Ap(e.date, this)), b[0].blur(), e.navigation && (b[1].setAttribute("aria-label", y[0]), b[2].setAttribute("aria-label", y[1]));
                                        } else c.Ap(e.date, this);
                                        for (n = Math.floor(this.zp / 3), h = Math.floor(this.Bp / 4), u = Math.min(n, h), this.yp(e.date) && (a = 1 == this.gd ? e.date.getMonth() : e.date.getFullYear()), s = 0; s < 12; s++) {
                                            (i = a == (1 == this.gd ? s : c.Tp(s, this)) ? " webix_selected" : ""), c.$p(s, this) && (i += " webix_cal_day_disabled");
                                            var w = T.aria[(1 == this.gd ? "month" : "year") + "Format"];
                                            p +=
                                                "<div role='gridcell' aria-label='" +
                                                ns.dateToStr(w)(e.date) +
                                                "' tabindex='" +
                                                (-1 !== i.indexOf("selected") ? "0" : "-1") +
                                                "' aria-selected='" +
                                                (-1 !== i.indexOf("selected") ? "true" : "false") +
                                                "' class='webix_cal_block" +
                                                i +
                                                "' data-value='" +
                                                s +
                                                "' style='" +
                                                this.Sp(h, n) +
                                                "'><span style='display:inline-block; " +
                                                this.Sp(u, u) +
                                                "'>" +
                                                c.Tp(s, this) +
                                                "</span></div>";
                                        }
                                        e.weekHeader && ((o[r - 1].style.display = "none"), 1 === r && (o[r].style.marginTop = f)),
                                            (o[r].innerHTML = p),
                                            "year" != l && "month" != l
                                                ? o[r + 1]
                                                    ? (o[r + 1].innerHTML = this.Rp())
                                                    : (this.Wi.innerHTML += "<div class='webix_time_footer' style='margin:0 " + f + "'>" + this.Rp() + "</div>")
                                                : o[r + 1] && (o[r + 1].style.display = "none"),
                                            (o[r].style.height = this.zp + "px");
                                    }
                                },
                                Sp: function (t, e) {
                                    return "width:" + t + "px; height:" + e + "px; line-height:" + e + "px;";
                                },
                                Rp: function () {
                                    return "<input type='button' style='width:100%' class='webix_cal_done' value='" + T.calendar.done + "'>";
                                },
                                Hp: function (t, e) {
                                    var i = 2 * t;
                                    return "<div class='webix_cal_hours' style='width:" + t * (e ? 5 : 4) + "px'>" + T.calendar.hours + "</div><div class='webix_cal_minutes' style='width:" + i + "px'>" + T.calendar.minutes + "</div>";
                                },
                                wp: function (t, e) {
                                    var i = this.gd;
                                    this.callEvent("onBeforeZoom", [t, i]) && ((this.gd = t) ? this.Cp(e) : this.showCalendar(e), this.callEvent("onAfterZoom", [t, i]));
                                },
                                dl: function (t) {
                                    return !this.yp(t) && this.jd[this.gd].dl && (t = this.jd[this.gd].dl(t, this)), t;
                                },
                                Ep: function (t) {
                                    var e = this.Q_(t),
                                        i = this.gd - (this.sp ? 0 : 1);
                                    if (((e = this.dl(e)), this.yp(e))) {
                                        this.wp(i, e);
                                        var n = this.P.type;
                                        ("month" != n && "year" != n) || this.Pp(e);
                                    }
                                },
                                Pp: function (t, e) {
                                    this.callEvent("onBeforeDateSelect", [t]) && (this.selectDate(t, !0, e), this.callEvent("onDateSelect", [t]), this.callEvent("onAfterDateSelect", [t]));
                                },
                                Z_: function (t) {
                                    var e = at(t) - (this.P.weekNumber ? 1 : 0),
                                        i = at(t.parentNode),
                                        n = ns.add(this.np().fp, e + 7 * i, "day", !0);
                                    return this.P.timepicker && (n.setHours(this.P.date.getHours()), n.setMinutes(this.P.date.getMinutes())), n;
                                },
                                Q_: function (t) {
                                    var e = 1 * t.getAttribute("data-value"),
                                        i = -1 != t.className.indexOf("webix_cal_block_min") ? this.gd - 1 : this.gd,
                                        n = this.P.date,
                                        s = ns.copy(n);
                                    return this.jd[i].Dp(s, e, this), s;
                                },
                                on_click: {
                                    webix_cal_prev_button: function () {
                                        this.Ld(-1);
                                    },
                                    webix_cal_next_button: function () {
                                        this.Ld(1);
                                    },
                                    webix_cal_day_disabled: function () {
                                        return !1;
                                    },
                                    webix_cal_outside: function () {
                                        if (!this.P.navigation) return !1;
                                    },
                                    webix_cal_day: function (t, e, i) {
                                        var n = this.Z_(i),
                                            s = "touch" === this.P.multiselect || t.ctrlKey || t.metaKey;
                                        this.Pp(n, s);
                                    },
                                    webix_cal_time: function () {
                                        if (this.jd[this.gd - 1]) {
                                            this.ep = !0;
                                            var t = this.gd - 1;
                                            this.wp(t);
                                        }
                                    },
                                    webix_range_time_start: function () {
                                        ae(this.P.master).Ed = "start";
                                    },
                                    webix_range_time_end: function () {
                                        ae(this.P.master).Ed = "end";
                                    },
                                    webix_cal_done: function () {
                                        var t = ns.copy(this.P.date);
                                        (t = this.dl(t)), this.Pp(t);
                                    },
                                    webix_cal_month_name: function () {
                                        if (this.P.navigation && ((this.ep = !1), 2 != this.gd && this.P.monthSelect)) {
                                            var t = Math.max(this.gd, 0) + 1;
                                            this.wp(t);
                                        }
                                    },
                                    webix_cal_block: function (t, e, i) {
                                        if (this.ep) {
                                            if (-1 !== i.className.indexOf("webix_cal_day_disabled")) return !1;
                                            var n = this.Q_(i);
                                            this.Cp(n);
                                        } else -1 == i.className.indexOf("webix_cal_day_disabled") && this.Ep(i);
                                    },
                                },
                                Id: function (t, e) {
                                    return t ? ("string" == typeof t && (t = e ? ns.strToDate(e)(t) : T.parseFormatDate(t)), t) : ns.datePart(new Date());
                                },
                                yp: function (t) {
                                    var e = this.P.blockDates && this.P.blockDates.call(this, t),
                                        i = this.P.minDate,
                                        n = this.P.maxDate;
                                    return !e && !(t < i || n < t);
                                },
                                Ip: function (t, e) {
                                    var i,
                                        n = "top" === e || "left" === e || "pgup" === e || "up" === e ? -1 : 1,
                                        s = ns.add(t, n, "day", !0);
                                    return this.yp(s)
                                        ? s
                                        : (0 === this.gd ? (i = t.getMonth() === s.getMonth()) : 1 === this.gd ? (i = t.getFullYear() === s.getFullYear()) : 2 === this.gd && (i = s.getFullYear() > this.Fp && s.getFullYear() < this.Fp + 10),
                                          i ? this.Ip(s, e) : void 0);
                                },
                                showCalendar: function (t) {
                                    (t = this.Id(t)), (this.P.date = t), this.render(), this.resize();
                                },
                                Mp: function (t) {
                                    return t && this.ip[t.valueOf()];
                                },
                                getSelectedDate: function () {
                                    var t = [];
                                    for (var e in this.ip) t.push(ns.copy(this.ip[e]));
                                    return this.config.multiselect ? t : t[0] || null;
                                },
                                getVisibleDate: function () {
                                    return ns.copy(this.P.date);
                                },
                                setValue: function (t) {
                                    this.selectDate(t, !0);
                                },
                                getValue: function (t) {
                                    var e = this.getSelectedDate();
                                    return t && (e = ns.dateToStr(t)(e)), e;
                                },
                                selectDate: function (t, e, i) {
                                    if (((t && i && this.config.multiselect) || (this.ip = {}), t)) {
                                        P(t) || (t = [t]);
                                        for (var n = 0; n < t.length; n++) {
                                            var s = this.Id(t[n]),
                                                r = ns.datePart(ns.copy(s)).valueOf();
                                            if ((this.ip[r] && i ? delete this.ip[r] : (this.ip[r] = s), !this.config.multiselect)) break;
                                        }
                                        t.length && e && this.showCalendar(t[0]);
                                    }
                                    !1 !== e && this.render(), this.callEvent("onChange", [t]);
                                },
                                locate: function () {
                                    return null;
                                },
                            }),
                        gr =
                            (t.protoUI(mr, Mi, Ni, Re.view, E),
                            {
                                name: "colorboard",
                                defaults: {
                                    template: function (t) {
                                        return '<div class="webix_color_item" style="background-color:'.concat(t.val, ';"></div>');
                                    },
                                    palette: null,
                                    height: 250,
                                    width: 260,
                                    cols: 11,
                                    rows: 10,
                                    minLightness: 0.15,
                                    maxLightness: 1,
                                    navigation: !0,
                                    grayScale: !0,
                                    type: "material",
                                },
                                $init: function () {
                                    Zt(
                                        this.Vt,
                                        "click",
                                        m(function (t) {
                                            var e = mt(t.target.parentNode, "webix_val");
                                            if (e) {
                                                var i = this.P.value;
                                                (e = this.setValue(e)), this.callEvent("onItemClick", [e, t]), e != i && this.callEvent("onSelect", [e]);
                                            }
                                        }, this)
                                    ),
                                        this.$view.setAttribute("role", "grid"),
                                        this.Vt.setAttribute("aria-readonly", "true");
                                },
                                jp: function () {
                                    return ["#F34336", "#FF9700", "#FFEA3B", "#4CB050", "#009788", "#00BCD4", "#2196F3", "#3F51B5", "#673BB7", "#9C28B1", "#EA1E63"];
                                },
                                wu: function () {
                                    this.getValue() || this.moveSelection("up");
                                },
                                Np: function (t) {
                                    var e = this.P.palette;
                                    t = (t || "").toUpperCase();
                                    for (var i = 0, n = e.length; i < n; i++) for (var s = 0, r = e[i].length; s < r; s++) if (e[i][s].toUpperCase() == t) return { row: i, col: s };
                                    return null;
                                },
                                $setSize: function (t, e) {
                                    Re.api.$setSize.call(this, t, e) && this.render();
                                },
                                getValue: function () {
                                    return this.P.value;
                                },
                                Lp: function () {
                                    return this.Vt.firstChild;
                                },
                                $prepareValue: function (t) {
                                    return (t = t ? t.toString(16) : "") && "#" != t.charAt(0) && /^[0-9a-fA-F]+$/.test(t) && (t = "#" + t), t;
                                },
                                value_setter: function (t) {
                                    return this.$prepareValue(t);
                                },
                                setValue: function (t) {
                                    t = this.$prepareValue(t);
                                    var e = this.P.value;
                                    return (this.P.value = t), this.$setValue(t, e), t;
                                },
                                $setValue: function (t, e) {
                                    if (this.isVisible(this.P.id)) {
                                        var i, n;
                                        e && (n = this.Np(e)), n || (n = { row: 0, col: 0 });
                                        var s = this.Op(n);
                                        this.Wp(s, !1), (n = this.Np(t)) && (i = this.Op(n)) && this.Wp(i, !0);
                                    }
                                },
                                Op: function (t) {
                                    return this.Vt.lastChild.childNodes[t.row].childNodes[t.col];
                                },
                                Wp: function (t, e) {
                                    e
                                        ? (t.setAttribute("tabindex", "0"), t.setAttribute("aria-selected", "true"), _t(t, "webix_color_selected"))
                                        : (t.setAttribute("tabindex", "-1"), t.removeAttribute("aria-selected"), kt(t, "webix_color_selected"));
                                },
                                Up: function (t) {
                                    return Hi.toHex(t, 2);
                                },
                                Yp: function (t, e, i) {
                                    return "#" + this.Up(Math.floor(t)) + this.Up(Math.floor(e)) + this.Up(Math.floor(i));
                                },
                                qp: function (t, e, i) {
                                    var n, s, r;
                                    if (e) {
                                        var o = i < 0.5 ? i * (1 + e) : i + e - i * e,
                                            a = 2 * i - o;
                                        (n = this.Gp(a, o, t + 1 / 3)), (s = this.Gp(a, o, t)), (r = this.Gp(a, o, t - 1 / 3));
                                    } else n = s = r = i;
                                    return { r: 255 * n, g: 255 * s, b: 255 * r };
                                },
                                Gp: function (t, e, i) {
                                    return i < 0 && (i += 1), 1 < i && (i -= 1), i < 1 / 6 ? t + 6 * (e - t) * i : i <= 0.5 ? e : i < 2 / 3 ? t + (e - t) * (2 / 3 - i) * 6 : t;
                                },
                                Xp: function (t, e) {
                                    return { r: t[0] * e + 255 * (1 - e), g: t[1] * e + 255 * (1 - e), b: t[2] * e + 255 * (1 - e) };
                                },
                                Kp: function (t) {
                                    for (var e = [], i = 255, n = i / t, s = 0; s < t; s++) (i = Math.round(0 < i ? i : 0)), e.push(this.Yp(i, i, i)), (i -= n);
                                    return (e[e.length - 1] = "#000000"), e;
                                },
                                Jp: function (t) {
                                    var e = this.jp();
                                    t.cols = e.length;
                                    var i = [],
                                        n = t.rows - 1,
                                        s = 1 / t.rows,
                                        r = null;
                                    if (this.P.grayScale) {
                                        var o = this.Kp(t.cols);
                                        i.push(o.reverse()), (s = 1 / n), (n -= 1);
                                    }
                                    i.push(e);
                                    for (var a = 0, l = t.maxLightness; a < n; a++) {
                                        (l -= s), (r = []);
                                        for (var h = 0; h < t.cols; h++) {
                                            var c = Hi.toRgb(e[h]),
                                                d = this.Xp(c, l);
                                            r.push(this.Yp(d.r, d.g, d.b));
                                        }
                                        i.push(r);
                                    }
                                    this.P.palette = i;
                                },
                                Zp: function (t) {
                                    var e = [],
                                        i = 1 / t.cols,
                                        n = t.rows,
                                        s = null;
                                    this.P.grayScale && (e.push(this.Kp(t.cols)), (n -= 1));
                                    for (var r = (t.maxLightness - t.minLightness) / n, o = 0, a = t.minLightness; o < n; o++) {
                                        s = [];
                                        for (var l = 0, h = 0; l < t.cols; l++) {
                                            var c = this.qp(h, 1, a);
                                            s.push(this.Yp(c.r, c.g, c.b)), (h += i);
                                        }
                                        e.push(s), (a += r);
                                    }
                                    this.P.palette = e;
                                },
                                moveSelection: function (t, e, i) {
                                    var n,
                                        s,
                                        r = this.getValue();
                                    if ((r && (n = this.Np(r)), n || (n = { row: 0, col: 0 }), n)) {
                                        if (
                                            ("up" == t || "down" == t
                                                ? (n.row = n.row + ("up" == t ? -1 : 1))
                                                : "right" == t || "left" == t
                                                ? (n.col = n.col + ("right" == t ? 1 : -1))
                                                : "top" == t
                                                ? (n.row = n.col = 0)
                                                : "bottom" == t && ((n.row = this.Vt.lastChild.querySelectorAll(".webix_color_row").length - 1), (n.col = this.Vt.lastChild.childNodes[n.row].childNodes.length - 1)),
                                            (n.row = Math.max(n.row, 0)),
                                            0 <= n.row)
                                        ) {
                                            var o = this.Vt.lastChild.childNodes[n.row];
                                            o && (s = o.childNodes[n.col]);
                                        }
                                        if (s && ((r = s.getAttribute("webix_val")), this.setValue(r), this.callEvent("onSelect", [this.P.value]), !1 !== i)) {
                                            var a = this.Vt.querySelector("div[tabindex='0']");
                                            a && a.focus();
                                        }
                                    }
                                },
                                Qp: function (t, e, i) {
                                    for (var n = { width: 0, height: 0, val: 0 }, s = '<div class="webix_color_row" role="row">', r = 0; r < t.length; r++) (n.width = e[r]), (n.height = i), (n.val = t[r]), (s += this.tb(n));
                                    return s + "</div>";
                                },
                                tb: function (t) {
                                    var e = Ut(this.P.template || "");
                                    return '<div role="gridcell" tabindex="-1" aria-label="'
                                        .concat(t.val, '" style="width:')
                                        .concat(t.width, "px;height:")
                                        .concat(t.height, 'px;" ', "webix_val", '="')
                                        .concat(t.val, '">')
                                        .concat(e(t), "</div>");
                                },
                                render: function () {
                                    if (this.isVisible(this.P.id)) {
                                        var t = this.P.type;
                                        this.P.palette || ("classic" === t ? this.Zp(this.P) : this.Jp(this.P));
                                        var i = this.P.palette;
                                        this.callEvent("onBeforeRender", []);
                                        for (
                                            var n = "classic" === t ? 0 : Ve.colorPadding,
                                                s = "object" == e(i[0]),
                                                r = s ? i[0] : i,
                                                o = 2 * n + n * (r.length - 1),
                                                a = 2 * n + n * (s ? i.length - 1 : 0),
                                                l = this.$width - o,
                                                h = this.$height - a,
                                                c = [],
                                                d = '<div class="webix_color_palette '.concat("webix_palette_" + t, '" role="rowgroup">'),
                                                u = 0;
                                            u < r.length;
                                            u++
                                        )
                                            (c[u] = Math.floor(l / (r.length - u))), (l -= c[u]);
                                        if ("object" == e(i[0]))
                                            for (var p = 0; p < i.length; p++) {
                                                var f = Math.floor(h / (i.length - p));
                                                h -= f;
                                                var m = i[p];
                                                d += this.Qp(m, c, f);
                                            }
                                        else d += this.Qp(i, c, h);
                                        (d += "</div>"),
                                            (this.Vt.innerHTML = d),
                                            this.P.value ? this.$setValue(this.P.value) : this.Vt.lastChild.childNodes[0].childNodes[0].setAttribute("tabindex", "0"),
                                            this.callEvent("onAfterRender", []);
                                    }
                                },
                                refresh: function () {
                                    this.render();
                                },
                            }),
                        vr =
                            (t.protoUI(gr, Mi, Re.view, E),
                            {
                                name: "colorselect",
                                defaults: { width: 260, height: 250, value: "#751FE0" },
                                $init: function (t) {
                                    (this.ib = this.eb = this.sb = 0),
                                        (this.nb = 10),
                                        (this.hb = 16),
                                        this.attachEvent("onAfterRender", function () {
                                            var e = this;
                                            (this.rb = this.Vt.querySelector(".webix_color_circle")),
                                                (this.ob = this.Vt.querySelector(".webix_color_line_circle")),
                                                (this.ab = this.Vt.querySelector(".webix_color_block")),
                                                (this.ub = this.Vt.querySelector(".webix_color_line")),
                                                (this.cb = this.Vt.querySelector(".webix_color_out_text")),
                                                (this.fb = this.Vt.querySelector(".webix_color_out_block")),
                                                (this.lb = gt(this.ab)),
                                                G.touch
                                                    ? this.attachEvent("onTouchStart", function (t, i) {
                                                          var n = t.target.className,
                                                              s = t.target.parentNode.className;
                                                          "webix_color_block" == n || "webix_color_block" == s ? e.db(i || t) : 0 == n.indexOf("webix_color_line") && e.db(i || t, !0);
                                                      })
                                                    : (Zt(this.ab, "mousedown", function (t) {
                                                          return e.db(t);
                                                      }),
                                                      Zt(this.ub, "mousedown", function (t) {
                                                          return e.db(t, !0);
                                                      })),
                                                Zt(this.$view, "keydown", function (t) {
                                                    return e.vb(t);
                                                }),
                                                Zt(this.cb, "change", function () {
                                                    return e.setValue(e.cb.value);
                                                }),
                                                t.button &&
                                                    Zt(this.Vt.querySelector(".webix_button"), "click", function () {
                                                        e.callEvent("onColorSelect", [e.getValue()]);
                                                    });
                                        });
                                },
                                $skin: function () {
                                    this._b = "compact" == Le || "mini" == Le ? 24 : 32;
                                },
                                $setSize: function (t, e) {
                                    Re.api.$setSize.call(this, t, e) && this.render();
                                },
                                getValue: function () {
                                    return this.P.value;
                                },
                                $prepareValue: function (t) {
                                    return (t = t ? t.toString(16) : "") && "#" != t.charAt(0) && /^[0-9a-fA-F]+$/.test(t) && (t = "#" + t), t;
                                },
                                value_setter: function (t) {
                                    return this.$prepareValue(t);
                                },
                                setValue: function (t) {
                                    t = this.$prepareValue(t);
                                    var e = this.P.value;
                                    e != t && ((this.P.value = t), this.$setValue(t), this.callEvent("onChange", [t, e]));
                                },
                                $setValue: function (t) {
                                    if (this.isVisible(this.P.id)) {
                                        var e = Hi.toRgb(t);
                                        if (t !== this.pb) {
                                            var n = Hi.rgbToHsv.apply(Hi, i(e));
                                            (this.ib = n[0]), (this.eb = n[1]), (this.sb = n[2]);
                                        }
                                        var s = (this.ib * this.lb.width) / 359;
                                        this.ob.style.left = s - this.hb / 2 + "px";
                                        var r = this.nb / 2,
                                            o = this.eb * this.lb.width - r,
                                            a = Math.abs(this.lb.height * (this.sb - 1)) - r;
                                        (this.rb.style.left = Math.max(Math.min(o, this.lb.width - this.nb), 0) + "px"),
                                            (this.rb.style.top = Math.max(Math.min(a, this.lb.height - this.nb), 0) + "px"),
                                            this.bb(),
                                            this.rb.setAttribute("aria-valuetext", t),
                                            this.ob.setAttribute("aria-valuetext", t),
                                            this.mb(e, t),
                                            this.gb();
                                    }
                                },
                                mb: function (t, e) {
                                    t || (t = Hi.hsvToRgb(this.ib, this.eb, this.sb)),
                                        e || (e = "#" + Hi.rgbToHex(t)),
                                        (this.fb.style.backgroundColor = "rgb(".concat(t[0], ", ").concat(t[1], ", ").concat(t[2], ")")),
                                        (this.cb.value = e.toUpperCase()),
                                        (this.pb = e);
                                },
                                gb: function () {
                                    var t = Hi.hsvToRgb(this.ib, 1, 1),
                                        e = "rgb(".concat(t[0], ", ").concat(t[1], ", ").concat(t[2], ")");
                                    (this.ob.style.backgroundColor = e), (this.ab.style.backgroundColor = e);
                                },
                                wb: function (t) {
                                    if ("webix_color_circle" != t.target.className || G.touch) {
                                        var e = G.touch ? { x: t.x, y: t.y } : bt(t),
                                            i = this.nb / 2,
                                            n = e.x - this.lb.x,
                                            s = e.y - this.lb.y;
                                        (n = Math.max(Math.min(n, this.lb.width - i), 0 + i)), (s = Math.max(Math.min(s, this.lb.height - i), 0 + i)), (this.rb.style.left = n - i + "px"), (this.rb.style.top = s - i + "px");
                                        var r = this.lb.width / 100,
                                            o = this.lb.height / 100,
                                            a = Math.ceil(n / r) / 100,
                                            l = Math.ceil(Math.abs(s / o - 100)) / 100;
                                        (this.eb = a), (this.sb = l), this.bb(), this.mb();
                                    }
                                },
                                bb: function () {
                                    0.7 < this.sb && this.eb < 0.3 ? (this.rb.style.borderColor = "#475466") : (this.rb.style.borderColor = "#fff");
                                },
                                xb: function (t, e) {
                                    if ("webix_color_line_circle" != t.target.className || e) {
                                        var i = (G.touch ? t.x : bt(t).x) - this.lb.x;
                                        i = Math.max(Math.min(i, this.lb.width), 0);
                                        var n = Math.round((359 * i) / this.lb.width);
                                        (this.ib = Math.min(Math.max(n, 0), 359)), (this.ob.style.left = i - this.hb / 2 + "px"), this.mb(), this.gb();
                                    }
                                },
                                db: function (t, e) {
                                    var i = this;
                                    (this.lb = gt(this.ab)),
                                        e ? (_t(this.ub, "webix_color_area_active"), this.xb(t)) : (_t(this.ab, "webix_color_area_active"), this.wb(t)),
                                        G.touch
                                            ? (this.yb = [
                                                  this.attachEvent("onTouchMove", function (t, n) {
                                                      return i.Mb(n || t, e);
                                                  }),
                                                  this.attachEvent("onTouchEnd", function () {
                                                      return i.Sb(e);
                                                  }),
                                              ])
                                            : (this.yb = [
                                                  Jt(document.body, "mousemove", function (t) {
                                                      return i.Mb(t, e);
                                                  }),
                                                  Jt(window, "mouseup", function () {
                                                      return i.Sb(e);
                                                  }),
                                              ]),
                                        _t(document.body, "webix_noselect");
                                },
                                Mb: function (t, e) {
                                    e ? this.xb(t, !0) : this.wb(t);
                                },
                                Sb: function (t) {
                                    this.yb &&
                                        (G.touch ? (this.detachEvent(this.yb[0]), this.detachEvent(this.yb[1])) : (Qt(this.yb[0]), Qt(this.yb[1])),
                                        (this.yb = null),
                                        this.setValue(this.pb),
                                        t ? (kt(this.ub, "webix_color_area_active"), this.ob.focus()) : (kt(this.ab, "webix_color_area_active"), this.rb.focus())),
                                        kt(document.body, "webix_noselect");
                                },
                                kb: function (t, e) {
                                    return Math.min(Math.max(t + e / 100, 0), 1);
                                },
                                Cb: function (t, e) {
                                    return Math.min(Math.max(t + e, 0), 359);
                                },
                                vb: function (t) {
                                    var e = t.keyCode;
                                    if (32 < e && e < 41) {
                                        var i = /webix_color_(\w*)circle/.exec(t.target.className);
                                        if (!i) return;
                                        if ((yt(t), i[1].length)) {
                                            if (36 === e) this.ib = 0;
                                            else if (35 === e) this.ib = 359;
                                            else {
                                                var n = 37 === e || 40 === e || 34 === e ? -1 : 1;
                                                this.ib = this.Cb(this.ib, n);
                                            }
                                            this.gb();
                                        } else if (36 === e) (this.eb = 0), (this.sb = 1);
                                        else if (35 === e) this.eb = this.sb = 1;
                                        else if (39 === e || 37 === e) {
                                            var s = 39 === e ? 1 : -1;
                                            this.eb = this.kb(this.eb, s);
                                        } else {
                                            var r = 33 === e || 38 === e ? 1 : -1;
                                            this.sb = this.kb(this.sb, r);
                                        }
                                        this.mb(), this.P.value == this.pb ? this.$setValue(this.pb) : this.setValue(this.pb);
                                    }
                                },
                                moveSelection: function (t) {
                                    if ("pgup" == t || "pgdown" == t) {
                                        var e = "pgup" === t ? -1 : 1;
                                        (this.ib = this.Cb(this.ib, e)), this.gb();
                                    } else if ("top" != t && "bottom" !== t) {
                                        var i = "up" == t || "right" == t ? 1 : -1;
                                        "down" == t || "up" == t ? (this.sb = this.kb(this.sb, i)) : (this.eb = this.kb(this.eb, i));
                                    }
                                    this.mb(), this.setValue(this.pb);
                                },
                                render: function () {
                                    if (this.isVisible(this.P.id)) {
                                        this.callEvent("onBeforeRender", []);
                                        var t = (this.$width - 3 * Ve.dataPadding) / 2,
                                            e = this.$height - 24 - 32 - this._b - (this.P.button ? this._b + 12 : 0),
                                            i = '<div class="webix_color_area">';
                                        (i += "\n\t\t\t<div "
                                            .concat(
                                                "webix_disable_drag",
                                                '="true" class="webix_color_block" style="height:',
                                                e,
                                                'px;">\n\t\t\t\t<div class="webix_color_circle" tabindex="0" role="slider"></div>\n\t\t\t</div>\n\t\t\t<div ',
                                                "webix_disable_drag",
                                                '="true" class="webix_color_line">\n\t\t\t\t<div class="webix_color_line_circle" tabindex="0" role="slider"></div>\n\t\t\t</div>\n\t\t\t<div class="webix_color_out">\n\t\t\t\t<div style="width:'
                                            )
                                            .concat(t, 'px" class="webix_color_out_block"></div>\n\t\t\t\t<input type="text" style="width:')
                                            .concat(t, 'px" class="webix_color_out_text"></input>\n\t\t\t</div>\n\t\t')),
                                            this.P.button && (i += "<div class='webix_secondary'><button class=\"webix_button webix_secondary\">".concat(T.combo.select, "</button></div>")),
                                            (i += "</div>"),
                                            (this.Vt.innerHTML = i),
                                            this.callEvent("onAfterRender", []),
                                            this.$setValue(this.P.value, !0);
                                    }
                                },
                                refresh: function () {
                                    this.render();
                                },
                            }),
                        br =
                            (t.protoUI(vr, Re.view, E),
                            {
                                name: "button",
                                touchable: !0,
                                $skin: function () {
                                    this.defaults.height = Ve.buttonHeight || Ve.inputHeight;
                                },
                                defaults: {
                                    template: function (t, e) {
                                        var i = e.$renderInput(t, e);
                                        return (
                                            (t.badge || 0 === t.badge) && (i = i.replace("</button>", "<span class='webix_badge'>" + t.badge + "</span></button>")),
                                            "<div class='webix_el_box' style='width:" + t.awidth + "px; height:" + t.aheight + "px'>" + i + "</div>"
                                        );
                                    },
                                    label: "",
                                    value: "",
                                    borderless: !0,
                                },
                                $renderInput: function (t) {
                                    return "<button type='button' " + (t.popup ? "aria-haspopup='true'" : "") + " class='webix_button'>" + (t.label || t.value) + "</button>";
                                },
                                $init: function (t) {
                                    (this.Vt.className += " webix_control webix_el_" + (this.$cssName || this.name)),
                                        (this.Bt = []),
                                        this.$b(t),
                                        (this.data = this.P),
                                        (this.tt = this.Vt),
                                        this.$ready.push(function () {
                                            this.Db(this.config);
                                        });
                                },
                                hotkey_setter: function (t) {
                                    var e = this;
                                    this.Ib(t, function (t, i) {
                                        e.isVisible() && (xt(e.$view.firstChild, "MouseEvents", "click"), yt(i));
                                    });
                                },
                                $b: function (t) {
                                    (t.css && this.Ab(t.css) && (!this.defaults.css || this.Ab(this.defaults.css))) || (this.Vt.className += " webix_secondary");
                                },
                                Ab: function (t) {
                                    if ("string" == typeof t) for (var e in { webix_danger: 1, webix_transparent: 1, webix_primary: 1 }) if (-1 !== t.indexOf(e)) return !0;
                                    return !1;
                                },
                                Ib: function (t, e, i) {
                                    var n = ke.addHotKey(t, e, i);
                                    this.attachEvent("onDestruct", function () {
                                        ke.removeHotKey(n, e, i);
                                    });
                                },
                                type_setter: function (t) {
                                    return this.wd[t] && (this.$renderInput = Ut(this.wd[t])), t;
                                },
                                Tb: !1,
                                wd: {
                                    image:
                                        "<button type='button' class='webix_button webix_img_btn' style='line-height:#cheight#px;'><img class='webix_image' style='max-width:#cheight#px; max-height:#cheight#px;' src = '#image#'>#label#</button>",
                                    imageTop:
                                        "<button type='button' class='webix_button webix_img_btn_top'><img class='webix_image' style='max-width:#cheight#px; max-height:#cheight#px;' src = '#image#'><div class='webix_img_btn_text'>#label#</div></button>",
                                    icon: "<button type='button' class='webix_button webix_img_btn' style='line-height:#cheight#px;'><span class='webix_icon_btn #icon#' style='max-width:#cheight#px;'></span>#label#</button>",
                                    iconTop: "<button type='button' class='webix_button webix_img_btn_top' style='width:100%;text-align:center;'><span class='webix_icon #icon#'></span><div class='webix_img_btn_text'>#label#</div></button>",
                                },
                                Fb: function () {
                                    for (var t = [], e = ["input", "select", "textarea", "button"], i = 0; i < e.length; i++) for (var n = this.$view.getElementsByTagName(e[i]), s = 0; s < n.length; s++) t.push(n[s]);
                                    return t;
                                },
                                disable: function () {
                                    var t,
                                        e,
                                        i = this.Lp();
                                    if ((Ae.api.disable.apply(this, arguments), i && -1 == i.className.indexOf(" webix_disabled_box"))) {
                                        i.className += " webix_disabled_box";
                                        var n = this.Fb();
                                        for (t = 0; t < n.length; t++) n[t].setAttribute("disabled", !0);
                                        if (((e = this.getInputNode()) && "div" == e.tagName.toLowerCase() && ((this.Vb = e.getAttribute("tabIndex")), e.removeAttribute("tabIndex")), "top" == this.P.labelPosition)) {
                                            var s = this.tt.firstChild;
                                            s && (s.className += " webix_disabled_top_label");
                                        }
                                    }
                                },
                                enable: function () {
                                    Ae.api.enable.apply(this, arguments);
                                    var t,
                                        e = this.Lp();
                                    if (e) {
                                        e.className = e.className.replace(" webix_disabled_box", "");
                                        for (var i = this.Fb(), n = 0; n < i.length; n++) i[n].removeAttribute("disabled");
                                        if (((t = this.getInputNode()) && !v(this.Vb) && t.setAttribute("tabIndex", this.Vb), "top" == this.P.labelPosition)) {
                                            var s = this.tt.firstChild;
                                            s && (s.className = s.className.replace(" webix_disabled_top_label", ""));
                                        }
                                    }
                                },
                                $setSize: function (t, e) {
                                    Re.api.$setSize.call(this, t, e) && this.render();
                                },
                                setValue: function (t) {
                                    t = this.$prepareValue(t);
                                    var e = this.P.value;
                                    this.$compareValue(e, t) ? this.zb && t != this.$getValue() && this.$setValue(t) : ((this.P.value = t), this.zb && this.$setValue(t), this.callEvent("onChange", [t, e]));
                                },
                                $compareValue: function (t, e) {
                                    return "number" == typeof e && (e = e.toString()), "number" == typeof t && (t = t.toString()), t == e;
                                },
                                $prepareValue: function (t) {
                                    return 0 === t ? "0" : (t || "").toString();
                                },
                                value_setter: function (t) {
                                    return this.$prepareValue(t);
                                },
                                $setValue: function (t) {
                                    var e = this.getInputNode();
                                    e && !this.wd[this.P.type] && ((t = this.P.label || t), "BUTTON" == e.tagName ? (e.innerHTML = t) : (e.value = t));
                                },
                                getValue: function () {
                                    var t = this.zb ? this.$getValue() : this.P.value;
                                    return void 0 === t ? "" : t;
                                },
                                $getValue: function () {
                                    return this.P.value || "";
                                },
                                focus: function () {
                                    if (!ke.canFocus(this)) return !1;
                                    var t = this.getInputNode();
                                    t && t.focus && t.focus();
                                },
                                blur: function () {
                                    var t = this.getInputNode();
                                    t && t.blur && t.blur();
                                },
                                getInputNode: function () {
                                    return this.tt.getElementsByTagName("input")[0] || this.tt.getElementsByTagName("button")[0];
                                },
                                Lp: function () {
                                    for (var t = 0; t < this.tt.childNodes.length; t++) if (0 <= this.tt.childNodes[t].className.indexOf("webix_el_box")) return this.tt.childNodes[t];
                                    return null;
                                },
                                Te: function (t, e) {
                                    var i = e.target,
                                        n = this.Lp();
                                    return ("top" == this.P.labelPosition && this.tt.firstChild.contains(i)) || (n && n.contains(i)) ? this.P : null;
                                },
                                Bb: Math.sqrt(2),
                                Db: function (t) {
                                    if ((t = t || this.P).autowidth) {
                                        var e =
                                            Pt(t.value || t.label || "", "webixbutton").width +
                                            (t.badge || 0 === t.badge ? 2 * Pt(t.badge, "webix_badge").width - 32 : 0) +
                                            ("icon" === t.type ? 24 : 0) +
                                            ("image" === t.type ? t.height - Ve.inputPadding : 0);
                                        (e = Math.max(t.minWidth || 0, e)), (t.width = Math.min(t.maxWidth || 1 / 0, e));
                                    }
                                },
                                Hb: function () {
                                    (this.Rb = this.P.inputWidth || (2 < this.me - this.P.width ? this.P.width : 0) || this.me), (this.Eb = this.P.inputHeight || this.Pb || 0);
                                },
                                resize: function () {
                                    return this.Db(), Re.api.resize.apply(this, arguments);
                                },
                                render: function () {
                                    if (
                                        (this.Hb(),
                                        (this.P.awidth = this.Rb || this.me),
                                        (this.P.aheight = this.Eb || this.we),
                                        (this.P.bheight = this.P.aheight + 2),
                                        (this.P.cheight = this.P.aheight - 2 * Ve.inputPadding),
                                        (this.P.dheight = this.P.cheight - 2),
                                        Gt.render.call(this))
                                    ) {
                                        if (((this.zb = !0), this.Tb && this.Tb(), this.P.align)) {
                                            var t = this.tt.firstChild;
                                            switch (("top" == this.P.labelPosition && t.nextSibling && (t = t.nextSibling), this.P.align)) {
                                                case "right":
                                                    t.style.cssFloat = "right";
                                                    break;
                                                case "center":
                                                    (t.style.display = "inline-block"), (t.parentNode.style.textAlign = "center");
                                                    break;
                                                case "middle":
                                                    t.style.marginTop = Math.round((this.we - this.Eb) / 2) + "px";
                                                    break;
                                                case "bottom":
                                                    t.style.marginTop = this.we - this.Eb + "px";
                                                    break;
                                                case "left":
                                                    t.style.cssFloat = "left";
                                                    break;
                                                default:
                                                    this.P.align;
                                            }
                                        }
                                        this.$render && this.$render(this.data), this.P.disabled && this.disable(), this.ah && (this.ah(this.data), (this.ah = 0));
                                    }
                                },
                                refresh: function () {
                                    this.render();
                                },
                                on_click: {
                                    jb: function (t) {
                                        var e = mt(t, "button_id"),
                                            i = this.getOption(e);
                                        i && !i.disabled && this.callEvent("onBeforeTabClick", [e, t]) && (this.setValue(e), this.focus(), this.callEvent("onAfterTabClick", [e, t]));
                                    },
                                    webix_all_segments: function (t, e) {
                                        this.on_click.jb.call(this, t, e);
                                    },
                                    webix_all_tabs: function (t, e) {
                                        this.on_click.jb.call(this, t, e);
                                    },
                                    webix_inp_counter_next: function () {
                                        this.P.readonly || this.next();
                                    },
                                    webix_inp_counter_prev: function () {
                                        this.P.readonly || this.prev();
                                    },
                                    webix_input_icon: function () {
                                        this.getInputNode().focus();
                                    },
                                    webix_inp_checkbox_border: function (t) {
                                        this.P.disabled || "DIV" == t.target.tagName || this.P.readonly || this.toggle();
                                    },
                                    webix_inp_checkbox_label: function () {
                                        this.P.readonly || this.toggle();
                                    },
                                    webix_inp_radio_border: function (t) {
                                        var e = mt(t, "radio_id"),
                                            i = this.getOption(e);
                                        i && !i.disabled && (this.setValue(e), this.focus());
                                    },
                                    webix_tab_more_icon: function (t, e, i) {
                                        var n = this.getPopup();
                                        n.isVisible() ? n.hide() : (n.resize(), n.show(i, null, !0));
                                    },
                                    webix_tab_close: function (t) {
                                        var e = mt(t, "button_id"),
                                            i = this.getOption(e);
                                        return i && !i.disabled && this.callEvent("onBeforeTabClose", [e, t]) && this.removeOption(e), !1;
                                    },
                                },
                                Nb: function (t) {
                                    this.name, P(t), this.name;
                                    for (var e = 0; e < t.length; e++) t[e].text, t[e].label, "string" == typeof t[e] ? (t[e] = { id: t[e], value: t[e] }) : (v(t[e].id) && (t[e].id = t[e].value), v(t[e].value) && (t[e].value = t[e].id));
                                    return t;
                                },
                                Lb: function (t) {
                                    var e = t ? t.placeholder : this.P.placeholder;
                                    return e ? "<span class='webix_placeholder'>" + e + "</span>" : "";
                                },
                            }),
                        yr = { api: br, view: t.protoUI(br, Re.view, ze, Gt, Pe, E) },
                        wr = {
                            name: "label",
                            defaults: { template: "<div class='webix_el_box' style='width:#awidth#px;height:#aheight#px;line-height:#cheight#px'>#label#</div>" },
                            $skin: function () {
                                yr.api.$skin.call(this), (this.defaults.height = Ve.inputHeight);
                            },
                            focus: function () {
                                return !1;
                            },
                            Lp: function () {
                                return this.tt.firstChild;
                            },
                            setHTML: function (t) {
                                (this.P.label = t), this.refresh();
                            },
                            setValue: function (t) {
                                (this.P.label = t), yr.api.setValue.apply(this, arguments);
                            },
                            $setValue: function (t) {
                                this.tt.firstChild.innerHTML = t;
                            },
                            $render: function (t) {
                                "right" === t.align && (this.tt.firstChild.style.textAlign = "right");
                            },
                            Tb: !1,
                            $b: function () {},
                            Db: function (t) {
                                var e = "webix_el_box webixlabel" + (this.queryView("toolbar", "parent") ? " webixtoolbarlabel" : "");
                                (t = t || this.P).autowidth && (t.width = Pt(t.label, e).width);
                            },
                        },
                        xr = (t.protoUI(wr, yr.view), { 9: "tab", 38: "up", 40: "down", 37: "left", 39: "right" }),
                        _r = {
                            $init: function (t) {
                                var i = this.defaults.pattern || t.pattern,
                                    n = this.defaults.format || t.format;
                                (t.value = v(t.value) ? "" : t.value),
                                    (i || (n && !this.format_setter)) &&
                                        (this.attachEvent("onKeyPress", function (t, e) {
                                            e.ctrlKey || e.altKey || this.P.readonly || this.Ob || (105 < t && t < 112 && (t -= 64), (xr[t] && 8 !== t && 46 !== t) || (yt(e), this.Wb(e, t)));
                                        }),
                                        this.attachEvent("onAfterRender", this.Ub),
                                        (this.getText = function () {
                                            return this.getInputNode().value;
                                        }),
                                        (this.$prepareValue = function (t) {
                                            return this.Yb(t, !1);
                                        }),
                                        (this.Yb = function (t, e) {
                                            return !1 === e ? this.qb(t) : this.Gb(t);
                                        }),
                                        n &&
                                            ("object" === e(n)
                                                ? (this.Ob = n)
                                                : ((n = ss.getConfig(n)),
                                                  (this.Ob = {
                                                      parse: function (t) {
                                                          return ss.parse(t, n);
                                                      },
                                                      edit: function (t) {
                                                          return ss.format(t, n);
                                                      },
                                                  })))),
                                    i && ((this.P.pattern = this.pattern_setter(i)), delete t.pattern);
                            },
                            pattern_setter: function (t) {
                                var e = ps[t] || t;
                                return "string" == typeof e && (e = { mask: e }), (e.allow = e.allow || /[A-Za-z0-9]/g), this.Xb(e), e;
                            },
                            Kb: function () {
                                this.config.validate =
                                    this.config.validate ||
                                    m(function () {
                                        var t = this.getText(),
                                            e = t.replace(this.Jb, "");
                                        return (t.toString().match(this.Zb) || []).join("").length == e.length && t.length == this.P.pattern.mask.length;
                                    }, this);
                            },
                            Ub: function () {
                                var t = G.isIE8 ? "propertychange" : "input";
                                this.Ob ||
                                    Zt(
                                        this.getInputNode(),
                                        t,
                                        function () {
                                            var t = new Date().valueOf();
                                            this.$view.offsetWidth, (!this.Qb || 100 < t - this.Qb) && ((this.Qb = t), this.$setValue(this.getText()));
                                        },
                                        { bind: this }
                                    ),
                                    Zt(
                                        this.getInputNode(),
                                        "blur",
                                        function () {
                                            this.gi();
                                        },
                                        { bind: this }
                                    );
                            },
                            Xb: function (t) {
                                for (var e = t.mask, i = {}, n = "", s = 0, r = 0; r < e.length; r++) "#" === e[r] ? ((i[r] = s), s++) : ((i[r] = !1), -1 === n.indexOf(e[r]) && (n += "\\" + e[r]));
                                (this.Zb = t.allow), (this.Jb = new RegExp("[" + n + "]", "g")), (this.tm = i), this.Kb();
                            },
                            Wb: function (t, e) {
                                var i = this.getInputNode(),
                                    n = i.value,
                                    s = Tt(i),
                                    r = "";
                                if (8 == e || 46 == e) s.start == s.end && (8 == e ? s.start-- : s.end++);
                                else {
                                    r = String.fromCharCode(e);
                                    var o = t.getModifierState("CapsLock");
                                    ((!t.shiftKey && !o) || (t.shiftKey && o)) && (r = r.toLowerCase());
                                }
                                (n = n.substr(0, s.start) + r + n.substr(s.end)), (s = this.im(r, n.length, s.start, e)), (this.em = e), this.$setValue(n), It(i, s);
                            },
                            im: function (t, e, i, n) {
                                if ((t && t.match(this.Zb)) || 8 == n || 46 == n) (i = t ? i + 1 : i), (i = this.sm(i, n));
                                else if (e - 1 == i && 8 !== n && 46 !== n) {
                                    var s = this.P.pattern.mask.indexOf("#", i);
                                    0 < s && (i += s);
                                }
                                return i;
                            },
                            sm: function (t, e) {
                                var i = t - 1 * (46 !== e);
                                return !1 === this.tm[i] ? ((t += 8 == e ? -1 : 1), this.sm(t, e)) : !1 === this.tm[t] && 8 !== e ? this.sm(t + 1, e) - 1 : t;
                            },
                            qb: function (t) {
                                return this.Ob ? this.Ob.parse(t) : ((t = t || 0 === t ? t : "").toString().match(this.Zb) || []).join("").replace(this.Jb, "");
                            },
                            Gb: function (t) {
                                if (this.Ob) return this.Ob.edit(this.Ob.parse(t));
                                var e = this.qb(t),
                                    i = this.P.pattern.mask,
                                    n = this.P.pattern.mask,
                                    s = this.tm,
                                    r = !1,
                                    o = 0,
                                    a = 0,
                                    l = 0;
                                for (var h in s)
                                    if (!1 !== s[h]) {
                                        if (!r) {
                                            o = 1 * h;
                                            var c = e[(a = s[h])] || "",
                                                d = e[a + 1];
                                            (i = (c ? i.substr(0, o) : "") + c + (c && d ? i.substr(o + 1) : "")), d || (r = !0);
                                        }
                                        l++;
                                    }
                                var u = this.em;
                                if ((u && 8 !== u) || (!u && l - 1 === a && i.length < n.length))
                                    if (e) {
                                        var p = o + 1;
                                        if ("#" !== n.charAt(p) && i.length < n.length) {
                                            var f = n.indexOf("#", p);
                                            f < 0 && (f = n.length), (i += n.substr(p, f - p));
                                        }
                                    } else 46 !== u && (i += n.substr(0, n.indexOf("#")));
                                return (this.em = null), i;
                            },
                        },
                        kr = {
                            name: "text",
                            $allowsClear: !0,
                            nm: function () {
                                this.$allowsClear && (this.hm || Zt(this.getInputNode(), "change", this.gi, { bind: this }), this.P.suggest && ae(this.P.suggest).linkInput(this));
                            },
                            gi: function () {
                                var t = this.getValue(),
                                    e = this.setValue(t, !0);
                                this.Ob && !1 === e && this.$setValue(t);
                            },
                            $skin: function () {
                                yr.api.$skin.call(this), (this.defaults.height = Ve.inputHeight), (this.defaults.inputPadding = Ve.inputPadding), (this.j_ = Ve.inputSpacing), (this.N_ = Ve.labelTopHeight);
                            },
                            $init: function (t) {
                                "top" == t.labelPosition && v(t.height) && this.defaults.height && (t.height = this.defaults.height + (t.label ? this.N_ : 0)),
                                    this.hm &&
                                        this.attachEvent("onBlur", function () {
                                            this.zb && this.hm();
                                        }),
                                    this.attachEvent("onAfterRender", this.nm);
                            },
                            $renderIcon: function () {
                                var t = this.P;
                                if (t.icon) {
                                    var e = t.aheight - 2 * t.inputPadding,
                                        i = (e - 18) / 2 - 1,
                                        n = this.addSection ? "role='button' tabindex='0' aria-label='" + T.aria["multitext" + (t.mode || "") + "Section"] + "'" : "";
                                    return "<span style='height:" + (e - i) + "px;padding-top:" + i + "px;' class='webix_input_icon " + t.icon + "' " + n + "></span>";
                                }
                                return "";
                            },
                            relatedView_setter: function (t) {
                                return (
                                    this.attachEvent("onChange", function () {
                                        var t = this.getValue(),
                                            e = this.P.relatedAction,
                                            i = this.P.relatedView,
                                            n = ae(i);
                                        if (!n) {
                                            var s = this.getTopParentView();
                                            s && s.$$ && (n = s.$$(i));
                                        }
                                        "enable" == e ? (t ? n.enable() : n.disable()) : t ? n.show() : n.hide();
                                    }),
                                    t
                                );
                            },
                            validateEvent_setter: function (t) {
                                return "blur" == t && this.attachEvent("onBlur", this.validate), "key" == t && this.attachEvent("onTimedKeyPress", this.validate), t;
                            },
                            validate: function () {
                                var t = this.P.validate;
                                !t && this.P.required && (t = hi.isNotEmpty);
                                var e = this.getFormView(),
                                    i = this.P.name,
                                    n = this.getValue(),
                                    s = {};
                                return (s[i] = n), !(t && !e.sr(t, n, s, i));
                            },
                            bottomLabel_setter: function (t) {
                                return this.P.bottomPadding || (this.P.bottomPadding = 18), t;
                            },
                            rm: function () {
                                var t = this.P.invalidMessage;
                                return "function" == typeof t && t.call(this), t;
                            },
                            setBottomText: function (t, e) {
                                var i = this.P;
                                if (void 0 !== t) {
                                    if (i.bottomLabel == t) return;
                                    i.bottomLabel = t;
                                }
                                var n = (i.invalid ? i.invalidMessage : "") || i.bottomLabel;
                                n || i.bottomPadding || (i.inputHeight = 0),
                                    n && !i.bottomPadding
                                        ? ((this.om = 1), (i.bottomPadding = i.bottomPadding || e || 18), this.render(), this.adjust(), this.resize())
                                        : !n && this.om
                                        ? ((i.bottomPadding = this.om = 0), i.height || this.render(), this.adjust(), this.resize())
                                        : this.render();
                            },
                            $getSize: function () {
                                var t = Re.api.$getSize.apply(this, arguments),
                                    e = this.config.bottomPadding;
                                return e && ((t[2] += e), (t[3] += e)), t;
                            },
                            $setSize: function (t, e) {
                                var i = this.P;
                                if (Re.api.$setSize.call(this, t, e)) {
                                    if (!t || !e) return;
                                    "top" == i.labelPosition
                                        ? (i.inputHeight || (this.Pb = this.we - (i.label ? this.N_ : 0) - (this.config.bottomPadding || 0)), (i.labelWidth = 0))
                                        : i.bottomPadding && (i.inputHeight = this.we - this.config.bottomPadding),
                                        this.render();
                                }
                            },
                            um: function (t) {
                                var e = (this.Rb || 0) - (t.label ? t.labelWidth : 0) - this.j_ - (t.iconWidth || 0);
                                return e < 0 ? 0 : e;
                            },
                            cm: function (t, e) {
                                var i = "x" + x(),
                                    n = e.um(t),
                                    s = t.inputAlign || "left",
                                    r = this.P.aheight - 2 * Ve.inputPadding - 2 * Ve.borderWidth,
                                    o = t.text || t.value || this.Lb(t),
                                    a =
                                        "<div class='webix_inp_static' role='combobox' aria-label='" +
                                        Ut.escape(t.label) +
                                        "' tabindex='0'" +
                                        (t.readonly ? " aria-readonly='true'" : "") +
                                        (t.invalid ? "aria-invalid='true'" : "") +
                                        " onclick='' style='line-height:" +
                                        r +
                                        "px;width: " +
                                        n +
                                        "px; text-align: " +
                                        s +
                                        ";' >" +
                                        o +
                                        "</div>";
                                return e.$renderInput(t, a, i);
                            },
                            fm: function (t) {
                                var e = "<" + t + (this.P.placeholder ? " placeholder='" + Ut.escape(this.P.placeholder) + "' " : " ");
                                this.P.readonly && (e += "readonly='true' aria-readonly=''"), this.P.required && (e += "aria-required='true'"), this.P.invalid && (e += "aria-invalid='true'");
                                var i = this.P.attributes;
                                if (i) for (var n in i) e += n + "='" + i[n] + "' ";
                                return e;
                            },
                            $renderLabel: function (t, e) {
                                var i = "";
                                if (t.label) {
                                    var n = "top" == this.P.labelPosition,
                                        s = "text-align:".concat(t.labelAlign || "left", "; line-height:").concat(this.lm(n), "px; ");
                                    i =
                                        "<label style='" +
                                        (s += n ? "display:block;" : t.labelWidth ? "width:".concat(t.labelWidth, "px;") : "display:none;") +
                                        "' onclick='' for='" +
                                        e +
                                        "' class='webix_inp_" +
                                        (n ? "top_" : "") +
                                        "label " +
                                        (t.required ? "webix_required" : "") +
                                        "'>" +
                                        (t.label || "") +
                                        "</label>";
                                }
                                return i;
                            },
                            lm: function (t) {
                                return t ? this.N_ - this.P.inputPadding : this.P.aheight - 2 * this.P.inputPadding;
                            },
                            $renderInput: function (t, e, i) {
                                var n = t.inputAlign || "left",
                                    s = "top" == t.labelPosition,
                                    r = this.um(t);
                                i = i || x();
                                var o = this.$renderLabel(t, i),
                                    a = "";
                                if (e) a += e;
                                else {
                                    var l = Ut.escape(t.text || this.Yb(t.value));
                                    a += this.fm("input") + "id='" + i + "' type='" + (t.type || this.name) + "'" + (t.editable ? " role='combobox'" : "") + " value='" + l + "' style='width: " + r + "px; text-align: " + n + ";'";
                                    var h = t.attributes;
                                    if (h) for (var c in h) a += " " + c + "='" + h[c] + "'";
                                    a += " />";
                                }
                                a += this.$renderIcon ? this.$renderIcon(t) : "";
                                var d = "";
                                d = s
                                    ? o + "<div class='webix_el_box' style='width:" + t.awidth + "px; height:" + t.aheight + "px'>" + a + "</div>"
                                    : "<div class='webix_el_box' style='width:" + t.awidth + "px; height:" + t.aheight + "px'>" + o + a + "</div>";
                                var u = t.awidth - r - 2 * Ve.inputPadding,
                                    p = (t.invalid ? t.invalidMessage : "") || t.bottomLabel;
                                return (
                                    p &&
                                        (d +=
                                            "<div class='webix_inp_bottom_label'" +
                                            (t.invalid ? "role='alert' aria-relevant='all'" : "") +
                                            " style='width:" +
                                            (r || t.awidth) +
                                            "px;margin-left:" +
                                            Math.max(u, Ve.inputPadding) +
                                            "px;'>" +
                                            p +
                                            "</div>"),
                                    d
                                );
                            },
                            defaults: {
                                template: function (t, e) {
                                    return e.$renderInput(t);
                                },
                                label: "",
                                labelWidth: 80,
                            },
                            labelWidth_setter: function (t) {
                                return t ? Math.max(t, Ve.dataPadding) : 0;
                            },
                            type_setter: function (t) {
                                return t;
                            },
                            Tb: !1,
                            $b: function () {},
                            Yb: function (t) {
                                return t;
                            },
                            $setValue: function (t) {
                                this.getInputNode().value = this.Yb(t);
                            },
                            $getValue: function () {
                                return this.Yb(this.getInputNode().value, !1);
                            },
                            setValueHere: function (t, e, i) {
                                if (i && i.symbol) {
                                    var n = i.symbol,
                                        s = this.getValue(),
                                        r = s.substring(i.pos);
                                    (s = (s = s.substring(0, i.pos)).substring(0, s.lastIndexOf(n) + n.length) + t), this.setValue(s + r), It(this.getInputNode(), s.length);
                                } else this.setValue(t);
                            },
                            suggest_setter: function (e) {
                                if (e) {
                                    if ("string" == typeof e) {
                                        if (ae(e)) return ae(e).P.id;
                                        e = { body: { url: e, dataFeed: e } };
                                    } else e.getItem ? (e = { body: { data: e } }) : P(e) ? (e = { body: { data: this.Nb(e) } }) : e.body || (e.body = {});
                                    t.extend(e, { view: "suggest" });
                                    var i = ne(e);
                                    return this.Bt.push(i), i.P.id;
                                }
                                return !1;
                            },
                        },
                        Pr = { api: kr, view: t.protoUI(kr, _r, yr.view) },
                        Sr = t.proto(
                            {
                                name: "DataCollection",
                                isVisible: function () {
                                    return !!(this.data.order.length || this.data.Ir || this.P.dataFeed);
                                },
                                $init: function (t) {
                                    this.data.provideApi(this, !0);
                                    var e = t && t.id ? t.id : x();
                                    (this.P.id = e),
                                        (ne.views[e] = this).data.attachEvent(
                                            "onStoreLoad",
                                            m(function () {
                                                this.callEvent("onBindRequest", []);
                                            }, this)
                                        );
                                },
                                refresh: function () {
                                    this.callEvent("onBindRequest", []);
                                },
                            },
                            li,
                            Ce,
                            $e,
                            vn,
                            mi,
                            Ai,
                            E,
                            Ee,
                            Se,
                            Pe
                        );
                    c("DataCollection", Sr);
                    var Cr = {
                            name: "select",
                            defaults: {
                                template: function (t, e) {
                                    var i = "x" + x(),
                                        n = e.fm("select") + "id='" + i + "' style='width:" + e.um(t) + "px;'>",
                                        s = ae(t.options);
                                    if (s && s.data && s.data.each)
                                        s.data.each(function (e) {
                                            n += "<option" + (e.id == t.value ? " selected='true'" : "") + " value='" + e.id + "'>" + e.value + "</option>";
                                        });
                                    else for (var r = e.Nb(t.options), o = 0; o < r.length; o++) n += "<option" + (r[o].id == t.value ? " selected='true'" : "") + " value='" + r[o].id + "'>" + r[o].value + "</option>";
                                    return (n += "</select>"), e.$renderInput(t, n, i);
                                },
                            },
                            options_setter: function (t) {
                                if (t) {
                                    if ("string" != typeof t) return t;
                                    var e = new Sr({ url: t });
                                    return e.data.attachEvent("onStoreLoad", m(this.refresh, this)), e;
                                }
                            },
                            getInputNode: function () {
                                return this.tt.getElementsByTagName("select")[0];
                            },
                        },
                        Ir =
                            (t.protoUI(Cr, Pr.view),
                            {
                                name: "checkbox",
                                defaults: {
                                    checkValue: 1,
                                    uncheckValue: 0,
                                    template: function (t, e) {
                                        var i = "x" + x(),
                                            n = "";
                                        t.labelRight && ((n = "<label class='webix_label_right'>" + t.labelRight + "</label>"), t.labelWidth && (t.label = t.label || "&nbsp;"));
                                        var s = t.checkValue == t.value,
                                            r = Math.floor((e.P.aheight - 16) / 2),
                                            o =
                                                e.fm("input") +
                                                "style='margin-top:" +
                                                r +
                                                "px;" +
                                                (t.customCheckbox ? "display:none" : "") +
                                                "' id='" +
                                                i +
                                                "' type='checkbox' " +
                                                (s ? "checked='1'" : "") +
                                                (t.labelRight ? " aria-label='" + Ut.escape(t.labelRight) + "'" : "") +
                                                "/>",
                                            a = "webix_inp_checkbox_border webix_el_group webix_checkbox_" + (s ? "1" : "0"),
                                            l = t.customCheckbox || "";
                                        l &&
                                            (l = (l = (l = l.replace(/(aria-checked=')\w*(?=')/, "$1" + (t.value == t.checkValue ? "true" : "false"))).replace(/(aria-label=')\w*(?=')/, "$1" + Ut.escape(t.labelRight || t.label))).replace(
                                                /(aria-invalid=')\w*(?=')/,
                                                "$1" + (t.invalid ? "true" : "false")
                                            ));
                                        var h = "<div style='line-height:" + e.P.cheight + "px' class='" + a + "'>" + o + l + n + "</div>";
                                        return e.$renderInput(t, h, i);
                                    },
                                },
                                customCheckbox_setter: function (t) {
                                    return (
                                        !0 === t &&
                                            Ve.customCheckbox &&
                                            (t = "<a role='presentation' onclick='javascript:void(0)'><button role='checkbox' aria-checked='false' aria-label='' type='button' aria-invalid='' class='webix_custom_checkbox'></button></a>"),
                                        t
                                    );
                                },
                                blur: function () {
                                    var t = this.getInputNode();
                                    t && t.blur();
                                },
                                $prepareValue: function (t) {
                                    return t;
                                },
                                nm: function () {},
                                $setValue: function (t) {
                                    var e = t == this.P.checkValue,
                                        i = this.$view.getElementsByTagName("input")[0],
                                        n = i ? i.parentNode : null;
                                    if (n && this.P.customCheckbox) {
                                        var s = n.getElementsByTagName("BUTTON");
                                        s[0] && s[0].setAttribute("aria-checked", e ? "true" : "false");
                                    }
                                    n && (n.className = n.className.replace(/(webix_checkbox_)\d/, "$1" + (e ? 1 : 0))), (i.checked = e);
                                },
                                toggle: function () {
                                    var t = this.getValue() != this.P.checkValue ? this.P.checkValue : this.P.uncheckValue;
                                    this.setValue(t);
                                },
                                getValue: function () {
                                    return this.P.value == this.P.checkValue ? this.P.checkValue : this.P.uncheckValue;
                                },
                                getInputNode: function () {
                                    return this.$view.getElementsByTagName(this.P.customCheckbox ? "button" : "input")[0];
                                },
                                $skin: function () {
                                    Pr.api.$skin.call(this), (this.defaults.customCheckbox = !!Ve.customCheckbox);
                                },
                            }),
                        Tr = { api: Ir, view: t.protoUI(Ir, Pr.view) },
                        $r = {
                            name: "radio",
                            defaults: {
                                template: function (t, e) {
                                    e.Nb(t.options);
                                    for (var i, n, s, r, o, a, l, h, c, d, u, p = e.cu(t.options), f = e.uu(), m = [], g = 0; g < p.length; g++)
                                        (n = "x" + x()),
                                            (i = i || n),
                                            g && (p[g].newline || t.vertical) && m.push("<div class='webix_line_break'></div>"),
                                            (u = (s = p[g].id == t.value) || (!t.value && p[g].id === f)),
                                            (r = !!p[g].disabled),
                                            (o = p[g].value || ""),
                                            (a = t.tooltip ? " webix_t_id='" + p[g].id + "'" : ""),
                                            (l = t.customRadio || "") &&
                                                ((h = (0 === g ? t.label + " " : "") + o),
                                                (l = (l = (l = (l = (l = l.replace(/(aria-label=')\w*(?=')/, "$1" + Ut.escape(h))).replace(/(aria-checked=')\w*(?=')/, "$1" + (s ? "true" : "false"))).replace(
                                                    /(tabindex=')\w*(?=')/,
                                                    "$1" + (!r && u ? "0" : "-1")
                                                )).replace(/(aria-invalid=')\w*(?=')/, "$1" + (t.invalid ? "true" : "false"))).replace(/(button_id=')\w*(?=')/, "$1" + p[g].id)),
                                                r && (l = l.replace("role='radio'", "role='radio' webix_disabled='true'"))),
                                            (c =
                                                e.fm("input") +
                                                " name='" +
                                                (t.name || t.id) +
                                                "' type='radio' " +
                                                (s ? "checked='1'" : "") +
                                                "tabindex=" +
                                                (!r && u ? "0" : "-1") +
                                                " value='" +
                                                p[g].id +
                                                "' id='" +
                                                n +
                                                "'" +
                                                (r ? " disabled='true'" : "") +
                                                " style='" +
                                                (l ? "display:none" : "") +
                                                "' />"),
                                            (d = "<div radio_id='" + p[g].id + "' class='webix_inp_radio_border webix_radio_" + (s ? "1" : "0") + "' role='presentation'>" + c + l + "</div>"),
                                            o && (o = "<label for='" + n + "' class='webix_label_right'>" + o + "</label>"),
                                            m.push("<div class='webix_radio_option" + (r ? " webix_disabled" : "") + "' role='presentation'" + a + ">" + d + o + "</div>");
                                    return (m = "<div class='webix_el_group' role='radiogroup' style='margin-left:" + (t.label ? t.labelWidth : 0) + "px;'>" + m.join("") + "</div>"), e.$renderInput(t, m, i);
                                },
                            },
                            refresh: function () {
                                this.render(), this.be && this.$getSize(0, 0)[2] != this.be[1] && this.resize();
                            },
                            $getSize: function (t, e) {
                                var i = yr.api.$getSize.call(this, t, e),
                                    n = this.cu(this.P.options);
                                if (n) {
                                    for (var s = this.P.vertical ? 0 : 1, r = 0; r < n.length; r++) (this.P.vertical || n[r].newline) && s++;
                                    i[3] = i[2] = Math.max(i[2], (this.P.optionHeight || 25) * s + 2 * this.P.inputPadding + ("top" == this.P.labelPosition ? this.N_ : 0));
                                }
                                var o = this.config.bottomPadding;
                                return o && ((i[2] += o), (i[3] += o)), i;
                            },
                            ru: function () {
                                return this.tt.getElementsByTagName(this.P.customRadio ? "button" : "input");
                            },
                            $setValue: function (t) {
                                for (var e, i, n, s, r, o = this.tt.getElementsByTagName("input"), a = this.uu(), l = 0; l < o.length; l++)
                                    (e = o[l].parentNode.getAttribute("radio_id")),
                                        (i = this.getOption(e)),
                                        (o[l].checked = e == t),
                                        (n = i && !i.disabled && (o[l].checked || (!t && i.id == a))),
                                        o[l].setAttribute("tabindex", n ? "0" : "-1"),
                                        (s = o[l] ? o[l].parentNode : null) &&
                                            ((s.className = s.className.replace(/(webix_radio_)\d/, "$1" + (o[l].checked ? 1 : 0))),
                                            this.P.customRadio && (r = s.getElementsByTagName("BUTTON"))[0] && (r[0].setAttribute("aria-checked", o[l].checked ? "true" : "false"), r[0].setAttribute("tabindex", n ? "0" : "-1")));
                            },
                            getValue: function () {
                                return this.P.value;
                            },
                            focus: function () {
                                return this.wi();
                            },
                            blur: function () {
                                this.ou();
                            },
                            customRadio_setter: function (t) {
                                return (
                                    !0 === t &&
                                        Ve.customRadio &&
                                        (t =
                                            "<a role='presentation' onclick='javascript:void(0)'><button type='button' class='webix_custom_radio' button_id='' role='radio' aria-checked='false' aria-label='' aria-invalid='' tabindex=''></button></a>"),
                                    t
                                );
                            },
                            $skin: function () {
                                Pr.api.$skin.call(this), (this.defaults.customRadio = !!Ve.customRadio), Ve.optionHeight && (this.defaults.optionHeight = Ve.optionHeight);
                            },
                        },
                        Er =
                            (t.protoUI($r, Pr.view, $i),
                            {
                                name: "datepicker",
                                dm: !0,
                                $init: function (t) {
                                    t.multiselect && (this.P.multiselect = t.multiselect), t.type && (this.P.type = t.type), this.$ready.push(this.vm);
                                },
                                defaults: {
                                    template: function (t, e) {
                                        "time" == e.P.type && (e.P.icon = e.P.timeIcon);
                                        var i = t.type;
                                        t.type = "";
                                        var n = t.editable ? e.$renderInput(t) : e.cm(t, e);
                                        return (t.type = i), n;
                                    },
                                    stringResult: !1,
                                    timepicker: !1,
                                    icon: "wxi-calendar",
                                    icons: !0,
                                    timeIcon: "wxi-clock",
                                    separator: ", ",
                                },
                                hm: function () {
                                    var t = this.getText();
                                    if (this.P.text != t && (!v(this.P.text) || t)) {
                                        var e = this.P.editable ? this.getValue() : this.getPopup().getValue();
                                        this.setValue(e || "");
                                    }
                                },
                                $skin: function () {
                                    Pr.api.$skin.call(this), (this.defaults.inputPadding = Ve.inputPadding), (this.defaults.point = !Ve.popupNoPoint);
                                },
                                getPopup: function () {
                                    return ae(this.P.popup);
                                },
                                vm: function () {
                                    var t = this.P;
                                    if (t.suggest) t.popup = t.suggest;
                                    else if (!t.popup) {
                                        var e = this.P.timepicker;
                                        t.popup = t.suggest = this.suggest_setter({
                                            type: "calendar",
                                            point: !1 !== this.P.point,
                                            padding: 0,
                                            body: { height: 240 + (e || this.P.icons ? 30 : 0), width: 250, multiselect: this.P.multiselect, timepicker: e, type: this.P.type, icons: this.P.icons, timeIcon: this.P.timeIcon },
                                        });
                                    }
                                    this.ah = function () {};
                                },
                                $render: function (t) {
                                    this.$setValue(t.value);
                                },
                                $prepareValue: function (t) {
                                    if (this.P.multiselect) {
                                        "string" == typeof t ? (t = t.split(this.P.separator)) : t instanceof Date ? (t = [t]) : t || (t = []);
                                        for (var e = 0; e < t.length; e++) t[e] = this._m(t[e]);
                                        return t;
                                    }
                                    return this._m(t);
                                },
                                _m: function (t) {
                                    var e = this.P.type,
                                        i = "time" == e;
                                    if ((isNaN(parseFloat(t)) || (t = "" + t), "string" == typeof t && t && (t = (("month" != e && "year" != e) || !this.bm ? (i ? T.parseTimeFormatDate : T.parseFormatDate) : this.bm)(t)), t)) {
                                        if (i && P(t)) {
                                            var n = new Date();
                                            n.setHours(t[0]), n.setMinutes(t[1]), (t = n);
                                        }
                                        isNaN(t.getTime()) && (t = "");
                                    }
                                    return t;
                                },
                                mm: function (t) {
                                    var e = this;
                                    return this.P.multiselect
                                        ? []
                                              .concat(t)
                                              .map(function (t) {
                                                  return e.gm(t);
                                              })
                                              .join(this.config.separator)
                                        : this.gm(t);
                                },
                                gm: function (t) {
                                    var e = this.wm;
                                    return e || (e = "time" == this.P.type ? T.timeFormatStr : this.config.timepicker ? T.fullDateFormatStr : T.dateFormatStr), e(t);
                                },
                                xm: function () {
                                    var t = this.getInputNode();
                                    v(t.value) ? (t.innerHTML = this.P.text || this.Lb()) : (t.value = this.P.text || "");
                                },
                                $compareValue: function (t, e) {
                                    return (!t && !e) || ns.equal(t, e);
                                },
                                $setValue: function (t) {
                                    (this.P.text = t ? this.mm(t) : ""), this.xm();
                                },
                                format_setter: function (t) {
                                    return t ? ("function" == typeof t ? (this.wm = t) : ((this.wm = ns.dateToStr(t)), (this.bm = ns.strToDate(t)))) : (this.wm = this.bm = null), t;
                                },
                                getInputNode: function () {
                                    return this.P.editable ? this.tt.getElementsByTagName("input")[0] : this.tt.getElementsByTagName("DIV")[1];
                                },
                                getValue: function () {
                                    var t = this;
                                    if (this.P.multiselect) {
                                        var e = this.P.value;
                                        if (!e) return [];
                                        var i = [].concat(e).map(function (e) {
                                            return t.ym(e);
                                        });
                                        return this.P.stringResult ? i.join(this.P.separator) : i;
                                    }
                                    return this.ym(this.P.value);
                                },
                                ym: function (t) {
                                    var e = this.P.type,
                                        i = "time" == e;
                                    if (this.zb) {
                                        if (this.P.editable) {
                                            var n = this.bm;
                                            n || (n = i ? T.timeFormatDate : this.config.timepicker ? T.fullDateFormatDate : T.dateFormatDate), (t = n(this.getInputNode().value));
                                        }
                                    } else t = this.$prepareValue(t) || null;
                                    if (this.P.stringResult) {
                                        var s = T.parseFormatStr;
                                        return (
                                            i && (s = T.parseTimeFormatStr),
                                            !this.wm || ("month" != e && "year" != e) || (s = this.wm),
                                            this.P.multiselect
                                                ? [].concat(t).map(function (t) {
                                                      return t ? s(t) : "";
                                                  })
                                                : t
                                                ? s(t)
                                                : ""
                                        );
                                    }
                                    return t || null;
                                },
                                getText: function () {
                                    var t = this.getInputNode(),
                                        e = "";
                                    return t && (e = v(t.value) ? t.innerHTML : t.value), e;
                                },
                            }),
                        Dr = { api: Er, view: t.protoUI(Er, Pr.view) },
                        Mr = {
                            name: "colorpicker",
                            $init: function () {
                                this.$ready.push(this.vm);
                            },
                            defaults: { icon: !0 },
                            vm: function () {
                                var t = this.P;
                                t.suggest ? (t.popup = t.suggest) : t.popup || (t.popup = t.suggest = this.suggest_setter({ type: "colorboard" })), (this.ah = function () {});
                            },
                            getValue: function () {
                                return this.zb && this.P.editable ? this.getInputNode().value : this.P.value;
                            },
                            $prepareValue: function (t) {
                                return (t = t ? t.toString(16) : "") && "#" != t.charAt(0) && /^[0-9a-fA-F]+$/.test(t) && (t = "#" + t), t;
                            },
                            Mm: function () {
                                return this.$view.getElementsByTagName("DIV")[this.P.editable ? 1 : 2];
                            },
                            mm: function (t) {
                                return t;
                            },
                            $compareValue: function (t, e) {
                                return t == e;
                            },
                            $setValue: function (t) {
                                (this.Mm().style.backgroundColor = t), (this.P.text = t);
                                var e = this.getInputNode();
                                null == e.value ? (e.innerHTML = t) : (e.value = t);
                            },
                            $renderIcon: function () {
                                return '<div class="webix_input_icon" style="background-color:' + this.config.value + ';"> </div>';
                            },
                        },
                        Ar =
                            (t.protoUI(Mr, Dr.view),
                            {
                                name: "richselect",
                                defaults: {
                                    template: function (t, e) {
                                        return e.cm(t, e);
                                    },
                                    popupWidth: 200,
                                    icon: "wxi-menu-down",
                                },
                                hm: function () {
                                    var t = this.getText();
                                    if (this.P.text != t && (!v(this.P.text) || t)) {
                                        var e = this.getPopup(),
                                            i = this.getInputNode().value,
                                            n = e.getSuggestion(i),
                                            s = this.getValue();
                                        !n || n == s || ("" === i && "" !== e.getItemText(n)) ? ("" === i ? this.setValue("") : this.Sm && this.Sm()) : this.setValue(n);
                                    }
                                },
                                suggest_setter: function (t) {
                                    return this.options_setter(t);
                                },
                                options_setter: function (t) {
                                    t = this.km ? this.km(t) : t;
                                    var e = (this.P.popup = this.P.suggest = Pr.api.suggest_setter.call(this, t)),
                                        i = ae(e).getList();
                                    return i && i.attachEvent("onAfterLoad", m(this.Cm, this)), e;
                                },
                                getList: function () {
                                    return ae(this.P.suggest).getList();
                                },
                                Cm: function () {
                                    var t = this.P.value,
                                        e = this.P.text;
                                    v(t) || this.getPopup().isVisible() || e || !this.getInputNode() || this.$setValue(t);
                                },
                                $skin: function () {
                                    Pr.api.$skin.call(this), (this.defaults.inputPadding = Ve.inputPadding);
                                },
                                $render: function (t) {
                                    this.$setValue(t.value);
                                },
                                getInputNode: function () {
                                    return this.tt.getElementsByTagName("DIV")[1];
                                },
                                getPopup: function () {
                                    return ae(this.P.popup);
                                },
                                getText: function () {
                                    var t = this.P.value,
                                        e = this.getInputNode();
                                    return e ? (void 0 === e.value ? (e.firstChild && "webix_placeholder" === e.firstChild.className ? "" : e.innerHTML) : e.value) : t ? this.getPopup().getItemText(t) : "";
                                },
                                $prepareValue: function (t) {
                                    return t && t.id ? t : Pr.api.$prepareValue.call(this, t);
                                },
                                $setValue: function (t) {
                                    var e = t,
                                        i = this.getPopup();
                                    if ((i && (e = i.getItemText(t)), t && t.id)) {
                                        var n = i.getList(),
                                            s = n.exists(t.id);
                                        s || n.add(t), (e = i.getItemText(t.id)), n.P.dynamic && !s && n.remove(t.id), (this.P.value = this.$prepareValue(t.id));
                                    }
                                    var r = this.getInputNode();
                                    v(r.value) ? (r.innerHTML = e || this.Lb()) : (r.value = e = e.replace(/<[^>]*>/g, "")), (this.P.text = e);
                                },
                                getValue: function () {
                                    return this.P.value || "";
                                },
                                $m: function (t) {
                                    this.focus(), yt(t);
                                },
                            }),
                        Nr = { api: Ar, view: t.protoUI(Ar, Pr.view) },
                        Or = {
                            name: "combo",
                            getInputNode: function () {
                                return this.tt.getElementsByTagName("input")[0];
                            },
                            Sm: function () {
                                var t = this.getValue();
                                this.$setValue(v(t) ? "" : t);
                            },
                            gi: function () {
                                var t = this.getInputNode(),
                                    e = "",
                                    i = this.getPopup();
                                t.value && ((e = this.P.value), i.getItemText(e) != this.getText() && (e = i.getSuggestion() || e)), e != this.P.value ? this.setValue(e, !0) : this.$setValue(e);
                            },
                            defaults: {
                                template: function (t, e) {
                                    return e.$renderInput(t).replace(/(<input)\s*(?=\w)/, "$1 role='combobox'");
                                },
                                icon: "wxi-menu-down",
                            },
                            on_click: {
                                webix_inp_label: function (t) {
                                    this.$m(t);
                                },
                                webix_inp_top_label: function (t) {
                                    this.$m(t);
                                },
                            },
                        },
                        Rr =
                            (t.protoUI(Or, Nr.view),
                            {
                                name: "counter",
                                defaults: {
                                    template: function (t, e) {
                                        var i = t.value,
                                            n = "x" + x(),
                                            s =
                                                "<div role='spinbutton' aria-label='" +
                                                Ut.escape(t.label) +
                                                "' aria-valuemin='" +
                                                t.min +
                                                "' aria-valuemax='" +
                                                t.max +
                                                "' aria-valuenow='" +
                                                t.value +
                                                "' class='webix_el_group' style='width:" +
                                                e.um(t) +
                                                "px'>";
                                        return (
                                            (s += "<button type='button' class='webix_inp_counter_prev' tabindex='-1' aria-label='" + T.aria.decreaseValue + "'>-</button>"),
                                            (s += e.fm("input") + " id='" + n + "' type='text' class='webix_inp_counter_value' aria-live='assertive' value='" + i + "'></input>"),
                                            (s += "<button type='button' class='webix_inp_counter_next' tabindex='-1' aria-label='" + T.aria.increaseValue + "'>+</button></div>"),
                                            e.$renderInput(t, s, n)
                                        );
                                    },
                                    min: 0,
                                    max: 1 / 0,
                                    value: 0,
                                    step: 1,
                                },
                                $init: function () {
                                    Zt(this.$view, "keydown", this.op, { bind: this });
                                },
                                op: function (t) {
                                    var e = t.which || t.keyCode,
                                        i = this.P,
                                        n = this.getValue();
                                    32 < e &&
                                        e < 41 &&
                                        (36 === e ? (n = i.min) : 35 === e ? (n = i.max === 1 / 0 ? 1e6 : i.max) : 33 === e ? this.next() : 34 === e ? this.prev() : (n += 37 === e || 40 === e ? -1 : 1),
                                        34 < e && n >= i.min && n <= i.max && this.setValue(n));
                                },
                                $setValue: function (t) {
                                    this.getInputNode().value = t;
                                },
                                $prepareValue: function (t) {
                                    t = parseFloat(t);
                                    var e = this.P.min,
                                        i = this.P.max;
                                    return isNaN(t) && (t = isFinite(e) ? e : 0), Math.min(Math.max(t, e), i);
                                },
                                getInputNode: function () {
                                    return this.tt.getElementsByTagName("input")[0];
                                },
                                getValue: function () {
                                    return 1 * yr.api.getValue.apply(this, arguments);
                                },
                                next: function (t) {
                                    (t = 1 * (t || this.P.step)), this.shift(t);
                                },
                                prev: function (t) {
                                    (t = -1 * (t || this.P.step)), this.shift(t);
                                },
                                shift: function (t) {
                                    var e = Math.round(1e5 * (this.getValue() + t)) / 1e5;
                                    this.setValue(e);
                                },
                            }),
                        Vr =
                            (t.protoUI(Rr, Pr.view),
                            {
                                name: "icon",
                                $skin: function () {
                                    yr.api.$skin.call(this), (this.defaults.height = Ve.inputHeight), (this.defaults.width = Ve.inputHeight);
                                },
                                defaults: {
                                    template: function (t, e) {
                                        var i = Math.min(t.awidth, t.aheight),
                                            n = Math.round((e.we - t.aheight) / 2),
                                            s = "<button type='button' style='height:" + i + "px;width:" + i + "px;' class='webix_icon_button'><span class='webix_icon " + t.icon + "'></span></button>";
                                        return (
                                            "<div class='webix_el_box' style='width:" +
                                            t.awidth +
                                            "px;height:" +
                                            t.aheight +
                                            "px;line-height:" +
                                            t.aheight +
                                            "px;margin-top:" +
                                            n +
                                            "px'>" +
                                            s +
                                            (t.badge || 0 === t.badge ? "<span class='webix_badge'>" + t.badge + "</span>" : "") +
                                            "</div>"
                                        );
                                    },
                                },
                                Tb: !1,
                                $b: function () {},
                                $setValue: function () {},
                            }),
                        Lr =
                            (t.protoUI(Vr, yr.view),
                            {
                                name: "search",
                                on_click: {
                                    webix_input_icon: function (t) {
                                        this.getInputNode().focus(), this.callEvent("onSearchIconClick", [t]);
                                    },
                                },
                                $skin: function () {
                                    Pr.api.$skin.call(this), (this.defaults.inputPadding = Ve.inputPadding);
                                },
                                defaults: { type: "text", icon: "wxi-search" },
                            }),
                        jr =
                            (t.protoUI(Lr, Pr.view),
                            {
                                name: "segmented",
                                $allowsClear: !1,
                                $init: function () {
                                    this.attachEvent("onChange", function (t) {
                                        this.P.multiview && this.Dm(t);
                                    }),
                                        this.attachEvent(
                                            "onAfterRender",
                                            y(function () {
                                                this.P.multiview && this.P.value && this.Dm(this.P.value);
                                            })
                                        );
                                },
                                Dm: function (t) {
                                    var e = this.getTopParentView(),
                                        i = null;
                                    e && e.$$ && (i = e.$$(t)), i || (i = ae(t)), i && i.show && i.show();
                                },
                                defaults: {
                                    template: function (t, e) {
                                        e.Nb(t.options);
                                        var i,
                                            n,
                                            s = e.cu(t.options),
                                            r = e.um(t),
                                            o = "contrast" == Le ? 0 : s.length - 1,
                                            a = t.optionWidth || Math.floor((r - o) / s.length),
                                            l = "<div style='width:" + r + "px' class='webix_all_segments' role='tablist' aria-label='" + Ut.escape(t.label) + "'>";
                                        t.value || (t.value = e.uu(!0));
                                        for (var h = 0; h < s.length; h++)
                                            (n = !!s[h].disabled),
                                                (i = t.tooltip ? " webix_t_id='" + s[h].id + "'" : ""),
                                                (l +=
                                                    "<button type='button' style='width:" +
                                                    (s[h].width || a) +
                                                    "px' role='tab' aria-selected='" +
                                                    (t.value == s[h].id ? "true" : "false") +
                                                    "' tabindex='" +
                                                    (n || t.value != s[h].id ? "-1" : "0") +
                                                    "' class='webix_segment_" +
                                                    (h == s.length - 1 ? "N" : 0 < h ? 1 : 0) +
                                                    (t.value == s[h].id ? " webix_selected" : "") +
                                                    (n ? " webix_disabled" : "") +
                                                    "' " +
                                                    (n ? "webix_disabled='true' " : "") +
                                                    "button_id='" +
                                                    s[h].id +
                                                    "'" +
                                                    i +
                                                    ">" +
                                                    s[h].value +
                                                    "</button>");
                                        return e.$renderInput(t, l + "</div>", x());
                                    },
                                },
                                ru: function () {
                                    return this.$view.getElementsByTagName("BUTTON");
                                },
                                focus: function () {
                                    return this.wi();
                                },
                                blur: function () {
                                    this.ou();
                                },
                                $setValue: function (t) {
                                    var e = this.config.tabbarPopup;
                                    if (e && ae(e) && ae(e).getBody().exists(t)) return this.refresh();
                                    for (var i, n, s = this.ru(), r = 0; r < s.length; r++)
                                        (i = s[r].getAttribute("button_id")),
                                            (n = this.getOption(i)),
                                            s[r].setAttribute("aria-selected", t == i ? "true" : "false"),
                                            s[r].setAttribute("tabindex", n && !n.disabled && t == i ? "0" : "-1"),
                                            t == i ? _t(s[r], "webix_selected") : kt(s[r], "webix_selected");
                                },
                                $getValue: function () {
                                    return this.P.value || "";
                                },
                                getValue: function () {
                                    return this.P.value;
                                },
                                getInputNode: function () {
                                    return null;
                                },
                                Tb: !1,
                            }),
                        Fr = { api: jr, view: t.protoUI(jr, Pr.view, $i) },
                        zr = {
                            name: "textarea",
                            defaults: {
                                template: function (t, e) {
                                    var i = t.name || t.id,
                                        n = "x" + x(),
                                        s = e.fm("textarea") + "style='width:" + e.um(t) + "px;'";
                                    return (s += " id='" + n + "' name='" + i + "' class='webix_inp_textarea'>" + e.Yb(t.value) + "</textarea>"), e.$renderInput(t, s, n);
                                },
                                minHeight: 60,
                            },
                            $skin: function () {
                                Pr.api.$skin.call(this), (this.defaults.height = 0);
                            },
                            zi: !0,
                            lm: function (t) {
                                return t ? this.N_ - this.P.inputPadding : "";
                            },
                            getInputNode: function () {
                                return this.tt.getElementsByTagName("textarea")[0];
                            },
                        },
                        Hr =
                            (t.protoUI(zr, Pr.view),
                            {
                                name: "toggle",
                                $allowsClear: !0,
                                $init: function () {
                                    this.attachEvent("onItemClick", function () {
                                        this.toggle();
                                    });
                                },
                                $renderInput: function (t) {
                                    return "<button type='button' " + (t.popup ? "aria-haspopup='true'" : "") + " class='webix_button'>" + t.label + "</button>";
                                },
                                $setValue: function (t) {
                                    var e = this.getInputNode(),
                                        i = this.P,
                                        n = t && "0" != t,
                                        s = (n ? i.onLabel : i.offLabel) || i.label,
                                        r = e.children;
                                    if (this.wd[i.type]) {
                                        var o = r[0];
                                        "SPAN" == o.nodeName && i.onIcon && i.offIcon && i.onIcon != i.offIcon && (o.className = o.className.replace(n ? i.offIcon : i.onIcon, n ? i.onIcon : i.offIcon)),
                                            "imageTop" == i.type || "iconTop" == i.type ? (r[1].innerHTML = s) : ((e.innerHTML = s), e.insertBefore(o, e.firstChild));
                                    } else e.innerHTML = s;
                                    e.setAttribute("aria-pressed", n ? "true" : "false"), (n ? _t : kt)(e.parentNode, "webix_pressed");
                                },
                                toggle: function () {
                                    this.setValue(!this.getValue());
                                },
                                getValue: function () {
                                    var t = this.P.value;
                                    return t && "0" != t ? 1 : 0;
                                },
                                defaults: {
                                    template: function (t, e) {
                                        var i = t.value && "0" != t.value,
                                            n = i ? " webix_pressed" : "";
                                        (t.label = (i ? t.onLabel : t.offLabel) || t.label), (t.icon = (i ? t.onIcon : t.offIcon) || t.icon);
                                        var s = "<div class='webix_el_box" + n + "' style='width:" + t.awidth + "px; height:" + t.aheight + "px'>" + e.$renderInput(t, e) + "</div>";
                                        return (
                                            (s = s.replace(/(button)\s*(?=\w)/, "$1 aria-pressed='" + (i ? "true" : "false") + "' ")),
                                            (t.badge || 0 === t.badge) && (s = s.replace(/<\/div>$/, "<span class='webix_badge'>" + t.badge + "</span></div>")),
                                            s
                                        );
                                    },
                                },
                                Tb: !1,
                            }),
                        Wr =
                            (t.protoUI(Hr, yr.view),
                            {
                                name: "multitext",
                                $cssName: "text",
                                defaults: { icon: "wxi-plus-circle", iconWidth: 25, separator: ", " },
                                getValueHere: function () {
                                    return Pr.api.getValue.call(this);
                                },
                                setValueHere: function (t) {
                                    return Pr.api.$setValue.call(this, t);
                                },
                                getValue: function () {
                                    if ("extra" == this.config.mode) return this.getValueHere();
                                    if (this.Im) return this.Im;
                                    for (var t = [this.getValueHere(this)], e = 0; e < this.Am.length; e++) {
                                        var i = ae(this.Am[e]).getValueHere();
                                        i && t.push(i);
                                    }
                                    return t.join(this.config.separator);
                                },
                                $setValue: function (t) {
                                    if (((t = t || ""), "extra" == this.config.mode)) return this.setValueHere(t);
                                    var e = (this.Im = t).split(this.config.separator);
                                    if (e.length != this.Am.length + 1) {
                                        this.removeSection(), this.setValueHere.call(this, e[0]);
                                        for (var i = 1; i < e.length; i++) this.addSection(e[i]);
                                        this.Im = "";
                                    } else {
                                        this.setValueHere(e[0]);
                                        for (var n = 0; n < this.Am.length; n++) ae(this.Am[n]).setValueHere(e[n + 1]);
                                        this.Im = "";
                                    }
                                },
                                Tm: function () {
                                    var t = this.config.master ? ae(this.config.master) : this,
                                        e = t.getValue(),
                                        i = t.P.value;
                                    e !== i && ((t.P.value = e), t.callEvent("onChange", [e, i]));
                                },
                                addSection: function (e) {
                                    var i = this.config,
                                        n = {
                                            labelWidth: i.labelWidth,
                                            inputWidth: i.inputWidth,
                                            width: i.width,
                                            label: i.label ? "&nbsp;" : "",
                                            view: this.name,
                                            mode: "extra",
                                            value: e || "",
                                            icon: "wxi-minus-circle",
                                            tooltip: i.tooltip,
                                            suggest: i.suggest || null,
                                            master: i.id,
                                        };
                                    t.extend(n, i.subConfig || {}, !0);
                                    var s = this.getParentView().addView(n);
                                    return ae(s).attachEvent("onChange", this.Tm), this.Am.push(s), this.callEvent("onSectionAdd", [s, this.Am.length]), s;
                                },
                                removeSection: function (t) {
                                    for (var e = this.config.master ? ae(this.config.master) : this, i = e.Am.length - 1; 0 <= i; i--) {
                                        var n = e.Am[i];
                                        (t && n != t) || (e.Am.removeAt(i), this.getParentView().removeView(n), e.callEvent("onSectionRemove", [n, i + 1]));
                                    }
                                },
                                on_click: {
                                    webix_input_icon: function () {
                                        if ("extra" == this.config.mode) {
                                            var t = this.getParentView();
                                            this.removeSection(this.config.id);
                                            var e = t.getChildViews();
                                            e[e.length - 1].focus(), this.Tm();
                                        } else ae(this.addSection()).focus();
                                        return !1;
                                    },
                                },
                                $init: function () {
                                    (this.Am = C([])), this.attachEvent("onKeyPress", this.ke);
                                },
                                $render: function (t) {
                                    this.$setValue(t.value);
                                },
                            }),
                        Br =
                            (t.protoUI(Wr, Pr.view),
                            {
                                name: "proto",
                                $init: function () {
                                    this.data.provideApi(this, !0),
                                        (this.tt = this.tt || this.Wi),
                                        this.data.attachEvent(
                                            "onStoreUpdated",
                                            m(function () {
                                                this.render.apply(this, arguments);
                                            }, this)
                                        );
                                },
                                $setSize: function () {
                                    Re.api.$setSize.apply(this, arguments) && this.render();
                                },
                                Qo: "webix_item",
                                on_mouse_move: {},
                                type: {},
                            }),
                        Yr = { api: Br, view: t.protoUI(Br, Vi, ai, ze, vn, ji, mi, Re.view, E, Pe) },
                        Ur = {
                            name: "list",
                            Fm: "webix_list",
                            oh: "webix_list_item",
                            $init: function (t) {
                                _t(this.Vt, this.Fm + ("x" == (t.layout || this.defaults.layout) ? "-x" : "")),
                                    this.data.provideApi(this, !0),
                                    (this.Vm = m(this.Vm, this)),
                                    this.data.attachEvent("onStoreUpdated", this.Vm),
                                    this.data.attachEvent("onSyncApply", this.Vm),
                                    this.Vt.setAttribute("role", "listbox");
                            },
                            dynamic_setter: function (e) {
                                return e && t.extend(this, wn, !0), e;
                            },
                            $dragHTML: function (t, e, i) {
                                var n;
                                return (
                                    "y" == this.P.layout && "auto" == this.type.width ? ((this.type.width = this.me), (n = this.Q(t)), (this.type.width = "auto")) : (n = this.Q(t)),
                                    P(i.source) && 1 < i.source.length && (n = this.No(n, i.source.length)),
                                    n
                                );
                            },
                            defaults: { select: !1, scroll: !0, layout: "y", navigation: !0, datafetch: 50 },
                            Qo: "webix_l_id",
                            on_click: {
                                webix_list_item: function (t, e) {
                                    this.P.select &&
                                        ((this.zm = !0), "multiselect" == this.P.select || this.P.multiselect ? this.select(e, !1, t.ctrlKey || t.metaKey || "touch" == this.P.multiselect, t.shiftKey) : this.select(e), (this.zm = !1));
                                },
                            },
                            on_dblclick: {},
                            getVisibleCount: function () {
                                return Math.floor(this.we / this.Bm());
                            },
                            Vm: function () {
                                var t = this.P;
                                if (t.autoheight || t.autowidth) return this.resize();
                                "y" == t.layout ? t.yCount && this.Hm(t.yCount) : t.xCount && this.Rm(t.xCount);
                            },
                            Hm: function (t) {
                                var e = this.data.$pagesize || this.count();
                                this.Mc(t && t < e, "y"), this.P.autoheight && e < (t || 1 / 0) && (t = e);
                                var i = this.Bm() * t + (this.type.margin || 0);
                                return this.getUnits && (i += this.getUnits().length * this.type.headerHeight), Math.max(i, this.P.minHeight || 0);
                            },
                            Bm: function () {
                                return this.type.height + (this.type.margin || 0);
                            },
                            Rm: function (t) {
                                var e = this.data.$pagesize || this.count();
                                return this.Mc(t && t < e, "x"), this.P.autowidth && e < (t || 1 / 0) && (t = e), this.type.width * t;
                            },
                            $getSize: function (t, e) {
                                return (
                                    "y" == this.P.layout
                                        ? ("auto" != this.type.width && (this.P.width = this.type.width + (this.ge ? G.scrollSize : 0)), (this.P.yCount || this.P.autoheight) && (this.P.height = this.Hm(this.P.yCount) || 1))
                                        : ("auto" != this.type.height && (this.P.height = this.Bm() + (this.xe ? G.scrollSize : 0)), (this.P.xCount || this.P.autowidth) && (this.P.width = this.Rm(this.P.xCount) || 1)),
                                    Re.api.$getSize.call(this, t, e)
                                );
                            },
                            $setSize: function () {
                                Re.api.$setSize.apply(this, arguments);
                            },
                            type: {
                                css: "",
                                widthSize: function (t, e) {
                                    return e.width + (-1 < e.width ? "px" : "");
                                },
                                heightSize: function (t, e) {
                                    return e.height + (-1 < e.height ? "px" : "");
                                },
                                classname: function (t, i, n) {
                                    var s = "webix_list_item";
                                    return i.css && (s += " " + i.css), t.disabled && (s += " webix_disabled"), t.$css && ("object" == e(t.$css) && (t.$css = lt(t.$css)), (s += " " + t.$css)), n && n.$css && (s += " " + n.$css), s;
                                },
                                aria: function (t, e, i) {
                                    return (
                                        'role="option"' +
                                        (i && i.webix_selected ? ' aria-selected="true" tabindex="0"' : ' tabindex="-1"') +
                                        (t.$count && t.$template ? 'aria-expanded="true"' : "") +
                                        (t.disabled ? ' aria-disabled="true" webix_disabled="true"' : "")
                                    );
                                },
                                template: function (t) {
                                    return (t.icon ? "<span class='webix_list_icon webix_icon " + t.icon + "'></span>" : "") + t.value + (t.badge || 0 === t.badge ? "<div class='webix_badge'>" + t.badge + "</div>" : "");
                                },
                                width: "auto",
                                templateStart: Ut('<div webix_l_id="#id#" class="{common.classname()}" style="width:{common.widthSize()}; height:{common.heightSize()}; overflow:hidden;" {common.aria()}>'),
                                templateEnd: Ut("</div>"),
                            },
                            $skin: function () {
                                this.type.height = Ve.listItemHeight;
                            },
                            disableItem: function (t) {
                                this.Em(t, !0);
                            },
                            enableItem: function (t) {
                                this.Em(t, !1);
                            },
                            Em: function (t, e) {
                                var i = this.getItem(t);
                                i && ((i.disabled = e), this.refresh(t));
                            },
                            isItemEnabled: function (t) {
                                var e = this.getItem(t);
                                return e && !e.disabled;
                            },
                            Su: function (t, e, i) {
                                return this.isItemEnabled(t) ? t : (t = this.getNextId(t, i) || null) && t != e ? this.Su(t, e, i) : e;
                            },
                        },
                        Gr = { api: Ur, view: t.protoUI(Ur, ri, Mi, li, vi, Ni, zi, Fi, Yr.view, si) },
                        qr = {
                            name: "multiselect",
                            $cssName: "richselect",
                            defaults: { separator: ",", stringResult: !0 },
                            km: function (i) {
                                var n = !P(i) && "object" == e(i) && !i.name,
                                    s = { view: "checksuggest", separator: this.config.separator, buttonText: this.config.buttonText, button: this.config.button };
                                this.P.optionWidth ? (s.width = this.P.optionWidth) : (s.fitMaster = !0), n && t.extend(s, i, !0);
                                var r = ne(s),
                                    o = r.getList();
                                return (
                                    "string" == typeof i ? o.load(i) : n || o.parse(i),
                                    r.attachEvent("onShow", function () {
                                        r.setValue(ae(r.P.master).config.value);
                                    }),
                                    r
                                );
                            },
                            $compareValue: function (t, e) {
                                return t.toString() == e.toString();
                            },
                            $prepareValue: function (t) {
                                return "string" == typeof (t = t || []) ? t.split(this.P.separator) : P(t) ? t : [yr.api.$prepareValue.call(this, t)];
                            },
                            $setValue: function (t) {
                                if (this.zb) {
                                    var i = this.getPopup(),
                                        n = "";
                                    i && "object" == e((n = i.setValue(t))) && (n = n.join(this.config.separator + " ")), (this.P.text = n), (this.getInputNode().innerHTML = n || this.Lb());
                                }
                            },
                            getValue: function () {
                                var t = this.P.value || [];
                                return this.P.stringResult ? t.join(this.P.separator) : t;
                            },
                        };
                    (ki.multiselect = t.extend(
                        {
                            popupType: "multiselect",
                            popupInit: function (t) {
                                (t.ba = function () {}), t.linkInput(document.body);
                            },
                        },
                        ki.richselect
                    )),
                        te(Gr.view, { name: "multilist", templateStart: Ut('<div webix_l_id="#!id#" class="{common.classname()}" style="width:{common.widthSize()}; height:{common.heightSize()}; overflow:hidden;" {common.aria()}>') }),
                        te(Gr.view, {
                            name: "checklist",
                            templateStart: Ut(
                                '<div webix_l_id="#!id#" {common.aria()} class="{common.classname()}" style="width:{common.widthSize()}; height:{common.heightSize()}; overflow:hidden; white-space:nowrap;">{common.checkbox()}'
                            ),
                            checkbox: function (t) {
                                var e = t.$checked ? "wxi-checkbox-marked" : "wxi-checkbox-blank";
                                return "<span role='checkbox' tabindex='-1' aria-checked='" + (t.$checked ? "true" : "false") + "' class='webix_icon " + e + "'></span>";
                            },
                            aria: function (t) {
                                return "role='option' tabindex='-1' " + (t.$checked ? "aria-selected='true'" : "");
                            },
                            template: Ut("#value#"),
                        }),
                        t.protoUI(qr, Nr.view);
                    var Xr = {
                            name: "multicombo",
                            $cssName: "text",
                            defaults: {
                                keepText: !1,
                                separator: ",",
                                stringResult: !0,
                                icon: !1,
                                iconWidth: 0,
                                tagMode: !0,
                                tagTemplate: function (t) {
                                    return t.length ? t.length + " item(s)" : "";
                                },
                                template: function (t, e) {
                                    return e.Pm(t, e);
                                },
                            },
                            $init: function () {
                                var t = this;
                                (this.$view.className += " webix_multicombo"),
                                    this.attachEvent("onBeforeRender", function () {
                                        return this.Pb || (this.Pb = Ve.inputHeight), !0;
                                    }),
                                    this.attachEvent("onAfterRender", function () {
                                        this.be = null;
                                    }),
                                    Zt(this.$view, "scroll", function () {
                                        t.$view.scrollTop = 0;
                                    });
                            },
                            on_click: {
                                webix_multicombo_delete: function (t, e, i) {
                                    var n;
                                    return !this.P.readonly && i && (n = i.parentNode.getAttribute("optvalue")) && this.jm(n), !1;
                                },
                                webix_inp_label: function (t) {
                                    this.$m(t);
                                },
                                webix_inp_top_label: function (t) {
                                    this.$m(t);
                                },
                            },
                            hm: function () {
                                var t = this.getInputNode(),
                                    e = t.value;
                                e && this.P.newValues && 100 < new Date() - (this.getPopup().Nm || 0) && ((e = e.trim()), this.Lm(e)), (this.Om = t.value = this.P.keepText ? e : ""), this.$setValue();
                            },
                            jm: function (t) {
                                var e = this.P.value || [],
                                    i = ae(this.config.suggest);
                                (e = C(f(e))).remove(t), this.setValue(e), i && i.P.selectAll && i.getBody().ri[0].setValue(0);
                            },
                            Wm: function (t) {
                                var e = ae(this.config.suggest);
                                if (e.getList().getItem(t)) {
                                    var i = e.getValue();
                                    i && "string" == typeof i && (i = i.split(e.config.separator)), (i = C(i || [])).find(t) < 0 && (i.push(t), e.setValue(i), this.setValue(e.getValue()));
                                }
                            },
                            Lm: function (t) {
                                var e,
                                    i = ae(this.config.suggest),
                                    n = i.getList();
                                if ((t = Ut.escape(t.trim()))) {
                                    for (var s in n.data.pull) i.getItemText(s) == t && (e = s);
                                    e || (e = n.add({ value: t })), this.Wm(e);
                                }
                            },
                            km: function (i) {
                                var n = !P(i) && "object" == e(i) && !i.name,
                                    s = { view: "checksuggest", separator: this.config.separator, buttonText: this.config.buttonText, button: this.config.button },
                                    r = this;
                                n && t.extend(s, i, !0), !s.width && this.P.optionWidth && t.extend(s, { width: this.P.optionWidth, fitMaster: !1 }, !0), (s.width = s.fitMaster || v(s.fitMaster) ? 0 : s.width);
                                var o = ne(s);
                                s.width ||
                                    (o.$customWidth = function () {
                                        this.config.width = r.um(r.P);
                                    }),
                                    o.attachEvent("onBeforeShow", function (t, e, i) {
                                        if (
                                            this.P.master &&
                                            (this.setValue(ae(this.P.master).config.value),
                                            ae(this.P.master).getInputNode().value || this.isVisible() ? (this.getList().refresh(), (this.Um = !0)) : this.getList().filter(),
                                            t.tagName && "input" == t.tagName.toLowerCase())
                                        )
                                            return tr.api.show.apply(this, [t.parentNode, e, i]), !1;
                                    });
                                var a = o.getList();
                                return (
                                    "string" == typeof i ? a.load(i) : n || a.parse(i),
                                    (o.Ym = function () {
                                        if (!this.qm) return !0;
                                        (this.qm = !1), this.show(r.Gm());
                                    }),
                                    o
                                );
                            },
                            Pm: function (t, e) {
                                var i,
                                    n,
                                    s,
                                    r,
                                    o,
                                    a,
                                    l,
                                    h,
                                    c,
                                    d,
                                    u,
                                    p,
                                    f = "",
                                    m = "top" == this.P.labelPosition;
                                return (
                                    (i = "x" + x()),
                                    (p = e.um(t)),
                                    (n = t.inputAlign || "left"),
                                    (o = this.Pb - 2 * Ve.inputPadding - 2),
                                    (r = this.Om || ""),
                                    (h = "<ul class='webix_multicombo_listbox' style='line-height:" + o + "px'></ul>"),
                                    (s = "width: " + Math.min(p, e.Xm || 7) + "px;height:" + o + "px;max-width:" + (p - 20) + "px"),
                                    (u = t.readonly ? " readonly " : ""),
                                    (a =
                                        "<div class='webix_inp_static' onclick='' style='line-height:" +
                                        o +
                                        "px;width: " +
                                        p +
                                        "px;  text-align: " +
                                        n +
                                        ";height:auto' >" +
                                        h +
                                        "<input id='" +
                                        i +
                                        "' role='combobox' aria-multiline='true' aria-label='" +
                                        Ut.escape(t.label) +
                                        "' tabindex='0' type='text' class='webix_multicombo_input' " +
                                        u +
                                        " style='" +
                                        s +
                                        "' value='" +
                                        r +
                                        "'/></div>"),
                                    (l = e.$renderLabel(t, i)),
                                    (d = this.P.awidth - p - 2 * Ve.inputPadding),
                                    (c = (t.invalid ? t.invalidMessage : "") || t.bottomLabel) && (f = "<div class='webix_inp_bottom_label' style='width:" + p + "px;margin-left:" + Math.max(d, Ve.inputPadding) + "px;'>" + c + "</div>"),
                                    m
                                        ? l + "<div class='webix_el_box' style='width:" + this.P.awidth + "px; height:auto;'>" + a + f + "</div>"
                                        : "<div class='webix_el_box' style='width:" + this.P.awidth + "px; height:auto; min-height:" + this.P.aheight + "px;'>" + l + a + f + "</div>"
                                );
                            },
                            Km: function () {
                                return this.Lp().getElementsByTagName("UL")[0];
                            },
                            Tb: function () {
                                var t = this.getPopup();
                                if (t) {
                                    var e = t ? t.setValue(this.P.value) : null;
                                    t.Jm && (this.P.value = t.Jm(this.P.value));
                                    var i = "",
                                        n = this.Km(),
                                        s = e && e.length;
                                    if (s) {
                                        var r = this.Pb - 2 * Ve.inputPadding - 8,
                                            o = this.P.value || [];
                                        if (this.P.tagMode) for (var a = 0; a < e.length; a++) i += this.$renderTag(e[a], r, o[a]);
                                        else i += "<li class='webix_multicombo_tag' style='line-height:" + r + "px;'><span>" + this.P.tagTemplate(o) + "</span></li>";
                                    }
                                    n.innerHTML = i;
                                    var l = this.getInputNode();
                                    this.P.placeholder &&
                                        (s ? ((l.placeholder = ""), !l.value && 20 < l.offsetWidth && (l.style.width = "20px")) : l.value || ((l.placeholder = this.P.placeholder), (l.style.width = this.um(this.P) + "px"))),
                                        !this.P.tagMode && n.firstChild && (l.style.width = this.Zm() + "px");
                                }
                                this.Qm();
                            },
                            $renderTag: function (t, e, i) {
                                var n = "<span>" + t + "</span><span class='webix_multicombo_delete' role='button' aria-label='" + T.aria.removeItem + "'></span>";
                                return "<li class='webix_multicombo_value' style='line-height:" + e + "px;' optvalue='" + Ut.escape(i) + "'>" + n + "</li>";
                            },
                            tg: function (t) {
                                if ((t = t || this.getInputNode())) {
                                    var e = t.value.length;
                                    (t.selectionStart = e), (t.selectionEnd = e), t.focus();
                                }
                            },
                            Qm: function (t) {
                                var e = "top" == this.P.labelPosition,
                                    i = this.Gm(),
                                    n = Math.max(i.offsetHeight + 2 * Ve.inputPadding, this.Pb);
                                if ((e && (n += this.N_), (n += this.P.bottomPadding || 0) != this.$getSize(0, 0)[2])) {
                                    var s = i.offsetHeight + (e ? this.N_ : 0) + 2 * Ve.inputPadding,
                                        r = this.getTopParentView();
                                    clearTimeout(r.Zd),
                                        (r.Zd = b(function () {
                                            this.config.height != s && ((this.config.height = s), this.resize()), ke.getFocus() === this && (t ? this.getInputNode().select() : this.tg(this.getInputNode()));
                                            var e = this.getPopup();
                                            e.isVisible() && e.show(this.Gm());
                                        }, this));
                                }
                                t && this.getInputNode().select();
                            },
                            Gm: function () {
                                for (var t = this.Lp(), e = t.childNodes, i = 0; i < e.length; i++) if (e[i].className && -1 != e[i].className.indexOf("webix_inp_static")) return e[i];
                                return t;
                            },
                            getInputNode: function () {
                                return this.tt.getElementsByTagName("INPUT")[0];
                            },
                            $compareValue: function (t, e) {
                                return t.toString() == e.toString();
                            },
                            $prepareValue: function (t) {
                                return "string" == typeof (t = t || []) ? t.split(this.P.separator) : P(t) ? t : [yr.api.$prepareValue.call(this, t)];
                            },
                            $setValue: function () {
                                this.zb && this.Tb();
                            },
                            getValue: function (t) {
                                if ("object" == e(t) && t.options) return this.ig();
                                var i = this.P.value || [];
                                return this.P.stringResult ? i.join(this.P.separator) : i;
                            },
                            getText: function () {
                                var t = this.P.value || [];
                                if (!t.length) return "";
                                for (var e = [], i = 0; i < t.length; i++) e.push(this.getPopup().getItemText(t[i]));
                                return e.join(this.P.separator);
                            },
                            ig: function () {
                                var t,
                                    e,
                                    i,
                                    n = [],
                                    s = this.P.value || [];
                                if (!s.length) return s;
                                for (i = this.getPopup(), t = 0; t < s.length; t++) (e = i.getList().getItem(s[t]) || (i.eg ? i.eg[s[t]] : null)) && n.push(e);
                                return n;
                            },
                            $setSize: function (t, e) {
                                var i = this.P;
                                if (Re.api.$setSize.call(this, t, e)) {
                                    if (!t || !e) return;
                                    "top" == i.labelPosition && (i.labelWidth = 0), this.render();
                                }
                            },
                            $render: function () {},
                            sg: function (t) {
                                var e = dt("span", { type: "text", style: "visibility:visible; white-space:pre-wrap; position:absolute; top:-9999px;" });
                                (e.className = "webix_el_text"),
                                    (e.innerHTML = '<span class="webix_multicombo_input" style="margin:0;">'.concat(t.replace(/&/g, "&amp;").replace(/</g, "&lt;").replace(/>/g, "&gt;"), "</span>")),
                                    document.body.appendChild(e);
                                var i = e.offsetWidth + 1;
                                return document.body.removeChild(e), i;
                            },
                            Zm: function () {
                                var t = this.Km(),
                                    e = t.offsetWidth - (t.firstChild.offsetWidth + 1);
                                return e <= 25 ? t.offsetWidth - 12 : e - 15;
                            },
                            ng: function (t) {
                                for (var e = t.split(this.P.separator), i = this.getPopup(), n = "", s = 0; s < e.length; s++) {
                                    var r = e[s].trim();
                                    if (r)
                                        if (((n = r), this.P.newValues)) this.Lm(r);
                                        else {
                                            var o = i.getItemId(r);
                                            o && this.Wm(o);
                                        }
                                }
                                return n;
                            },
                            nm: function () {
                                Zt(
                                    this.Lp(),
                                    "click",
                                    function (t) {
                                        var e = this.getInputNode();
                                        e.contains(t.target) ? e.focus() : this.tg(e);
                                    },
                                    { bind: this }
                                ),
                                    Zt(
                                        this.getInputNode(),
                                        "focus",
                                        function () {
                                            -1 == this.Lp().className.indexOf("webix_focused") && (this.Lp().className += " webix_focused");
                                        },
                                        { bind: this }
                                    ),
                                    Zt(
                                        this.getInputNode(),
                                        "blur",
                                        function () {
                                            this.Lp().className = this.Lp().className.replace(" webix_focused", "");
                                        },
                                        { bind: this }
                                    ),
                                    Zt(
                                        this.getInputNode(),
                                        "input",
                                        function () {
                                            var t,
                                                e,
                                                i = this.getInputNode(),
                                                n = !1;
                                            if (this.P.tagMode && -1 < i.value.indexOf(this.P.separator)) {
                                                var s = this.ng(i.value);
                                                (this.Om = i.value = this.P.keepText ? s : ""), (n = this.P.keepText);
                                            }
                                            var r = this.P.value || [];
                                            !this.P.placeholder || i.value || r.length ? ((e = t = this.sg(i.value)), !this.P.tagMode && this.Km().firstChild && (e = this.Zm())) : (e = this.um(this.P)),
                                                (i.style.width = e + "px"),
                                                (n || t != this.Xm) && ((this.Xm = t || e), (this.Om = i.value), this.Qm(n));
                                        },
                                        { bind: this }
                                    ),
                                    Zt(
                                        this.getInputNode(),
                                        "keydown",
                                        function (t) {
                                            var e = this.getInputNode(),
                                                i = this.getPopup();
                                            t = t || event;
                                            var n = this.Km().lastChild;
                                            if (
                                                (8 == t.keyCode && n && (!e.value && 100 < new Date().valueOf() - (this.hg || 0) ? this.jm(n.getAttribute("optvalue")) : (this.hg = new Date().valueOf())), 13 == t.keyCode || 9 == t.keyCode)
                                            ) {
                                                var s = e.value;
                                                i.getList().getSelectedId() || (s = this.ng(e.value)), (this.Om = e.value = this.P.keepText ? s : "");
                                                var r = this.P.value || [];
                                                13 != t.keyCode || e.value || r.length || (i.getList().filter(), this.P.placeholder && (e.style.width = this.um(this.P) + "px")), this.Qm(13 == t.keyCode);
                                            }
                                        },
                                        { bind: this }
                                    ),
                                    ae(this.P.suggest).linkInput(this);
                            },
                        },
                        Kr =
                            (t.protoUI(Xr, Nr.view),
                            {
                                name: "slider",
                                $touchCapture: !0,
                                defaults: {
                                    min: 0,
                                    max: 100,
                                    value: 50,
                                    step: 1,
                                    title: !1,
                                    moveTitle: !0,
                                    template: function (t, e) {
                                        var i = (e.rg = "x" + x()),
                                            n = "",
                                            s =
                                                "<div class='webix_slider_title" +
                                                (t.moveTitle ? " webix_slider_move" : "") +
                                                "'" +
                                                (!t.moveTitle && t.vertical ? " style='line-height:" + (t.aheight - 2 * t.inputPadding) + "px;'" : "") +
                                                ">&nbsp;</div>",
                                            r = "<div class='webix_slider_left'>&nbsp;</div>",
                                            o = "<div class='webix_slider_right'></div>",
                                            a =
                                                "<div class='webix_slider_handle' webix_disable_drag='true' role='slider' aria-label='" +
                                                t.label +
                                                (t.title ? " " + t.title(t) : "") +
                                                "' aria-valuemax='" +
                                                t.max +
                                                "' aria-valuemin='" +
                                                t.min +
                                                "' aria-valuenow='" +
                                                t.value +
                                                "' tabindex='0' id='" +
                                                i +
                                                "'>&nbsp;</div>";
                                        return (n = t.vertical ? "<div class='webix_slider_box'>" + o + r + a + "</div>" + s : s + "<div class='webix_slider_box'>" + r + o + a + "</div>"), e.$renderInput(t, n, i);
                                    },
                                },
                                type_setter: function (t) {
                                    this.Vt.className += " webix_slider_" + t;
                                },
                                title_setter: function (t) {
                                    return "string" == typeof t ? Ut(t) : t;
                                },
                                og: function () {
                                    return this.$view.querySelector(".webix_slider_handle");
                                },
                                Tb: function () {
                                    var t = this.og(),
                                        e = this.P;
                                    if (t) {
                                        var i = e.vertical ? this.we : this.um(e),
                                            n = e.value % e.step ? Math.round(e.value / e.step) * e.step : e.value,
                                            s = e.max - e.min;
                                        (n = Math.max(Math.min(n, e.max), e.min)), (n = e.vertical ? s - (n - e.min) : n - e.min);
                                        var r = Math.ceil(((i - 2 * this.ag) * n) / s),
                                            o = i - 2 * this.ag - r,
                                            a = e.vertical ? "top" : "left",
                                            l = e.vertical ? "height" : "width";
                                        (t.style[a] = this.ag + r - this.ug / 2 + "px"),
                                            (t.parentNode.style[l] = i + "px"),
                                            (o = Math.min(Math.max(o, 2 * this.cg), i - 2 * this.ag - 2 * this.cg)),
                                            (r = Math.min(Math.max(r, 2 * this.cg), i - 2 * this.ag - 2 * this.cg));
                                        var h = t.previousSibling;
                                        (h.style[l] = o + "px"), (h.previousSibling.style[l] = r + "px"), this.fg(t, r, o, a);
                                    }
                                },
                                fg: function (t, e, i, n) {
                                    var s = this.P;
                                    if (this.P.title) {
                                        var r = t.parentNode[s.vertical ? "nextSibling" : "previousSibling"];
                                        if (((r.innerHTML = this.P.title(this.P, this)), this.P.moveTitle)) {
                                            var o = 0;
                                            if (s.vertical) o = e + 2 * this.cg - this.ug / 2;
                                            else {
                                                var a = r.clientWidth / 2,
                                                    l = e < a ? a - e - 2 * this.cg : 0,
                                                    h = i < a ? a - i - 2 * this.cg - this.ug / 2 : 0;
                                                o = this.ag + e - a + l - h;
                                            }
                                            r.style[n] = o + "px";
                                        }
                                    }
                                },
                                lg: function () {
                                    this.og().setAttribute("aria-valuenow", this.P.value);
                                },
                                refresh: function () {
                                    var t = this.og();
                                    t && (this.lg(), this.P.title && t.setAttribute("aria-label", this.P.label + " " + this.P.title(this.P, this)), this.Tb());
                                },
                                $setValue: function () {
                                    this.refresh();
                                },
                                $getValue: function () {
                                    return this.P.value;
                                },
                                $prepareValue: function (t) {
                                    return (t = parseFloat(t)), isNaN(t) ? 0 : t;
                                },
                                $init: function (t) {
                                    G.touch ? this.attachEvent("onTouchStart", m(this.dg, this)) : Zt(this.Vt, "mousedown", m(this.dg, this)),
                                        Zt(this.$view, "keydown", m(this.vb, this)),
                                        t.vertical && ((t.height = t.height || Ve.vSliderHeight), (this.Vt.className += " webix_slider_vertical"), (this.ag = Ve.vSliderPadding));
                                },
                                $skin: function () {
                                    Pr.api.$skin.call(this), (this.ug = Ve.sliderHandleWidth), (this.ag = Ve.sliderPadding), (this.cg = Ve.sliderBorder);
                                },
                                vb: function (t) {
                                    var e = t.keyCode,
                                        i = this.P,
                                        n = i.value;
                                    if (32 < e && e < 41) {
                                        yt(t);
                                        var s = t.target,
                                            r = /webix_slider_handle_(\d)/.exec(s.className);
                                        if (((this.vg = r ? parseInt(r[1], 10) : -1), r && (n = i.value[this.vg]), (n = n < i.min ? i.min : n > i.max ? i.max : n), 36 === e)) n = i.min;
                                        else if (35 === e) n = i.max;
                                        else {
                                            var o = 37 === e || 40 === e || 34 === e ? -1 : 1;
                                            (33 === e || 34 === e || 1 < i.step) && (o *= i.step), (n = 1 * n + o);
                                        }
                                        if (r) {
                                            var a = i.value[this.vg ? 0 : 1];
                                            n = (this.vg && n <= a) || (!this.vg && a <= n) ? a : n;
                                        }
                                        if (n >= i.min && n <= i.max) {
                                            if (r) {
                                                for (var l = [], h = 0; h < i.value.length; h++) l[h] = h === this.vg ? n : i.value[h];
                                                n = l;
                                            }
                                            this.setValue(n), (this.vg = -1);
                                        }
                                    }
                                },
                                dg: function (t) {
                                    if (!this.yb) {
                                        var e = t.target;
                                        this._g && this._g(t);
                                        var i = this.P.value;
                                        if ((P(i) && (i = f(i)), -1 != e.className.indexOf("webix_slider_handle"))) return (this.pg = i), this.mg.apply(this, arguments);
                                        -1 != e.className.indexOf("webix_slider") && ((this.pg = i), (this.P.value = this.gg.apply(this, arguments)), this.mg(t));
                                    }
                                },
                                mg: function () {
                                    G.touch
                                        ? (this.yb = [this.attachEvent("onTouchMove", m(this.Mb, this)), this.attachEvent("onTouchEnd", m(this.Sb, this))])
                                        : (this.yb = [Jt(document.body, "mousemove", m(this.Mb, this)), Jt(window, "mouseup", m(this.Sb, this))]),
                                        _t(document.body, "webix_noselect");
                                },
                                Sb: function () {
                                    this.yb && (G.touch ? (this.detachEvent(this.yb[0]), this.detachEvent(this.yb[1])) : (Qt(this.yb[0]), Qt(this.yb[1])), (this.yb = null)), kt(document.body, "webix_noselect");
                                    var t = this.P.value;
                                    P(t) && (t = f(t)), (this.P.value = this.pg), this.setValue(t), this.og(this.vg).focus(), (this.vg = -1);
                                },
                                Mb: function () {
                                    (this.P.value = this.gg.apply(this, arguments)), this.refresh(), this.callEvent("onSliderDrag", []);
                                },
                                gg: function (t, e) {
                                    var i = 0,
                                        n = this.P.vertical ? "y" : "x";
                                    return (i = G.touch ? (e ? e[n] : t[n]) : bt(t)[n]), this.wg(i);
                                },
                                wg: function (t) {
                                    var e = this.P,
                                        i = e.max - e.min,
                                        n = e.vertical ? "y" : "x",
                                        s = gt(this.og().parentNode)[n] + this.ag,
                                        r = (e.vertical ? this.we : this.um(e)) - 2 * this.ag,
                                        o = r ? ((t - s) * i) / r : 0;
                                    return e.vertical && (o = i - o), (o = Math.round((o + 1 * e.min) / e.step) * e.step), Math.max(Math.min(o, e.max), e.min);
                                },
                                nm: function () {},
                            }),
                        Zr = { api: Kr, view: t.protoUI(Kr, Pr.view) },
                        Jr = {
                            name: "rangeslider",
                            $cssName: "slider webix_rangeslider",
                            defaults: {
                                separator: ",",
                                value: [20, 80],
                                template: function (t, e) {
                                    var i = "x" + x();
                                    e.rg = [i + "_0", i + "_1"];
                                    var n = "role='slider' aria-label='" + t.label + (t.title ? " " + t.title(t) : "") + "' aria-valuemax='" + t.max + "' aria-valuemin='" + t.min + "' tabindex='0'",
                                        s = "<div class='webix_slider_handle webix_slider_handle_0' webix_disable_drag='true' id='" + e.rg[0] + "' " + n + " aria-valuenow='" + t.value[0] + "'>&nbsp;</div>";
                                    s += "<div class='webix_slider_handle webix_slider_handle_1' webix_disable_drag='true' id='" + e.rg[1] + "' " + n + " aria-valuenow='" + t.value[1] + "'>&nbsp;</div>";
                                    var r =
                                        "<div class='webix_slider_title" +
                                        (t.moveTitle ? " webix_slider_move" : "") +
                                        "'" +
                                        (!t.moveTitle && t.vertical ? " style='line-height:" + (t.aheight - e.ag - 2 * t.inputPadding) + "px;'" : "") +
                                        ">&nbsp;</div>";
                                    t.moveTitle && (r = "<div class='webix_slider_title_box'>" + (r + r) + "</div>");
                                    var o = "<div class='webix_slider_right'>&nbsp;</div><div class='webix_slider_left'></div>",
                                        a = "";
                                    return (a = t.vertical ? "<div class='webix_slider_box'>" + o + s + "</div>" + r : r + "<div class='webix_slider_box'>" + o + s + "</div>"), e.$renderInput(t, a, i);
                                },
                            },
                            $prepareValue: function (t) {
                                if (
                                    (P(t) || (t = (t || "").toString().split(this.P.separator)),
                                    (t[0] = parseFloat(t[0])),
                                    (t[0] = isNaN(t[0]) ? 0 : t[0]),
                                    t.length < 2 ? (t[1] = t[0]) : ((t[1] = parseFloat(t[1])), (t[1] = isNaN(t[1]) ? 0 : t[1])),
                                    t[0] > t[1])
                                ) {
                                    var e = [t[1], t[0]];
                                    (t[0] = e[0]), (t[1] = e[1]);
                                }
                                return t;
                            },
                            og: function (t) {
                                return (t = t && 0 <= t ? t : 0), this.$view.querySelector(".webix_slider_handle_" + (t || 0));
                            },
                            xg: function (t, e) {
                                var i, n, s;
                                return (
                                    (n = (i = this.P).max - i.min),
                                    (s = i.value[e] % i.step ? Math.round(i.value[e] / i.step) * i.step : i.value[e]),
                                    (s = Math.max(Math.min(s, i.max), i.min)),
                                    Math.ceil(((t - 2 * this.ag) * (s - i.min)) / n)
                                );
                            },
                            yg: function (t, e, i) {
                                var n = this.ag + e - (this.ug / 2) * (i ? -1 : 1);
                                return (n = i ? t - n : n) + "px";
                            },
                            Mg: function (t, e, i, n) {
                                var s = e + this.ag + 2 * this.cg;
                                return n && (s = t - s - i), s + "px";
                            },
                            Tb: function () {
                                var t, e, i, n, s, r, o, a, l, h, c;
                                (e = this.og(0)),
                                    (i = this.og(1)),
                                    P((t = this.P).value) || this.define("value", t.value),
                                    e &&
                                        ((l = t.vertical ? "height" : "width"),
                                        (c = t.vertical ? "top" : "left"),
                                        (r = (h = t.vertical ? this.we : this.um(t)) - 2 * this.ag - 2 * this.cg),
                                        (n = this.xg(h, 0)),
                                        (o = (s = this.xg(h, 1)) - n),
                                        (e.style[c] = this.yg(h, n, t.vertical)),
                                        (i.style[c] = this.yg(h, s, t.vertical)),
                                        ((a = e.parentNode).style[l] = h + "px"),
                                        (a.firstChild.style[l] = r + "px"),
                                        (a.childNodes[1].style[l] = o + "px"),
                                        (a.childNodes[1].style[c] = this.Mg(h, n, o, t.vertical)),
                                        this.fg(e, [n, s], r, c));
                            },
                            Sg: 0,
                            kg: function (t, e) {
                                v(this.Sg) || (t[this.Sg].style.visibility = "visible"), v(e) || ((t[e].style.visibility = "hidden"), (this.Sg = e));
                            },
                            fg: function (t, e, i, n) {
                                var s = this.P;
                                if (this.P.title) {
                                    var r = t.parentNode,
                                        o = s.vertical ? "nextSibling" : "previousSibling";
                                    if (s.moveTitle) {
                                        for (var a = r[o].childNodes, l = [], h = 0; h < 2; h++) l.push(this.Cg(a[h], s.value[h], e[h], i, n, h));
                                        var c = s.vertical ? l[0] - l[1] - this.ug : l[1] - l[0],
                                            d = s.vertical ? "clientHeight" : "clientWidth";
                                        a[0][d] / 2 + a[1][d] / 2 > c ? this.kg(a, v(this.vg) || this.vg ? 0 : 1) : this.kg(a);
                                        for (var u = 0; u < 2; u++) a[u].style[n] = l[u] + "px";
                                    } else r[o].innerHTML = this.P.title(this.P, this);
                                }
                            },
                            Cg: function (t, e, i, n, s, r) {
                                t.innerHTML = this.P.title({ value: e }, this);
                                var o = t.clientWidth / 2,
                                    a = 0;
                                return this.P.vertical ? n - i - this.ug / 2 - (r ? this.ag : 0) + 2 * this.cg : ((a = i + this.ug / 2 + 2 * this.cg - o), (a = i < o ? o - i + a : a), r && n < o + i ? a - o + (n - i) : a);
                            },
                            lg: function () {
                                for (var t = 0; t < 2; t++) this.og(t).setAttribute("aria-valuenow", this.P.value[t]);
                            },
                            _g: function (t) {
                                var e = t.target,
                                    i = /webix_slider_handle_(\d)/.exec(e.className);
                                (this.vg = i ? parseInt(i[1], 10) : -1), i && this.$g(this.vg);
                            },
                            $compareValue: function (t, e) {
                                return (e = this.$prepareValue(e)), t[0] === e[0] && t[1] === e[1];
                            },
                            $getValue: function () {
                                var t = this.P.value;
                                return this.P.stringResult ? t.join(this.P.separator) : t;
                            },
                            $g: function (t) {
                                var e = this.og(t),
                                    i = this.og(1 - t);
                                -1 == e.className.indexOf("webix_slider_active") && (e.className += " webix_slider_active"), (i.className = i.className.replace(" webix_slider_active", "")), e.focus();
                            },
                            wg: function (t) {
                                var e = this.P,
                                    i = e.value,
                                    n = e.max - e.min,
                                    s = e.vertical ? "y" : "x",
                                    r = gt(this.og().parentNode)[s],
                                    o = Math.ceil(((t - r) * n) / (e.vertical ? this.we : this.um(e)));
                                (o = Math.round((o + 1 * e.min) / e.step) * e.step), e.vertical && (o = n - o);
                                var a = null,
                                    l = gt(this.og(0))[s],
                                    h = gt(this.og(1))[s];
                                return (
                                    l != h || (e.value[0] != e.min && e.value[0] != e.max)
                                        ? 0 <= this.vg
                                            ? (a = this.vg)
                                            : l == h
                                            ? (a = t < l ? 0 : 1)
                                            : ((a = Math.abs(l - t) < Math.abs(h - t) ? 0 : 1), (this.vg = a))
                                        : ((this.vg = a = e.value[0] == e.min ? 1 : 0), this.$g(a)),
                                    (i[a] = a ? Math.max(Math.min(o, e.max), i[0]) : Math.max(Math.min(o, i[1]), e.min)),
                                    i
                                );
                            },
                        },
                        Qr =
                            (t.protoUI(Jr, Zr.view),
                            {
                                name: "switch",
                                defaults: {
                                    template: function (t, e) {
                                        e.Dg();
                                        var i = t.name || "x" + x(),
                                            n = "";
                                        t.labelRight && ((n = "<label class='webix_label_right'>" + t.labelRight + "</label>"), t.labelWidth && (t.label = t.label || "&nbsp;"));
                                        var s = t.checkValue == t.value,
                                            r = 'aria-label="' + (t.label || t.labelRight || "") + '" role="checkbox" tabindex="0" aria-checked="' + (s ? "true" : "false") + '" ' + (t.readonly ? "aria-readonly='true'" : "") + '"',
                                            o =
                                                '<div class="webix_switch_box ' +
                                                (s ? " webix_switch_on" : "") +
                                                '" style="width:' +
                                                e.Ig +
                                                'px"><span class="webix_switch_text">' +
                                                ((s ? t.onLabel : t.offLabel) || "") +
                                                '</span><button class="webix_switch_handle" ' +
                                                r +
                                                ' style="left:' +
                                                (s ? e.Ig - e.Ag : 0) +
                                                'px;"><input  id="' +
                                                i +
                                                '" class="webix_switch_toggle" type="checkbox" ' +
                                                (s ? "checked" : "") +
                                                "></button></div>" +
                                                n;
                                        return e.$renderInput(t, o, i);
                                    },
                                },
                                $skin: function () {
                                    Tr.api.$skin.call(this), (this.Ag = Ve.switchHeight), (this.Ig = Ve.switchWidth);
                                },
                                $setValue: function (t) {
                                    var e = this.P,
                                        i = t == e.checkValue,
                                        n = this.$view.querySelector(".webix_switch_box");
                                    if (n) {
                                        var s = n.childNodes[1],
                                            r = (i ? e.onLabel : e.offLabel) || "";
                                        i ? _t(n, "webix_switch_on") : kt(n, "webix_switch_on"),
                                            (s.style.left = (i ? this.Ig - this.Ag : 0) + "px"),
                                            (s.firstChild.checked = i),
                                            s.setAttribute("aria-checked", i ? "true" : "false"),
                                            r && (n.childNodes[0].innerHTML = r);
                                    }
                                },
                                Dg: function () {
                                    var t = this.P;
                                    if (t.onLabel || t.offLabel) {
                                        var e = t.onLabel ? Pt(t.onLabel, "webix_switch_text").width : 0,
                                            i = t.onLabel ? Pt(t.offLabel, "webix_switch_text").width : 0;
                                        this.Ig = Math.max(e, i) + this.Ag;
                                    }
                                },
                                on_click: {
                                    webix_switch_box: function () {
                                        this.P.readonly || this.toggle();
                                    },
                                    webix_label_right: function () {
                                        this.P.readonly || this.toggle();
                                    },
                                },
                            }),
                        to =
                            (t.protoUI(Qr, Tr.view),
                            {
                                name: "tabbar",
                                $init: function () {
                                    this.attachEvent("onKeyPress", this.ke);
                                },
                                $skin: function () {
                                    var t = Ve,
                                        e = this.defaults;
                                    (e.topOffset = t.tabTopOffset || 0),
                                        (e.tabOffset = void 0 !== t.tabOffset ? t.tabOffset : 10),
                                        (e.bottomOffset = t.tabBottomOffset || 0),
                                        (e.height = t.tabbarHeight),
                                        (e.tabMargin = t.tabMargin),
                                        (e.inputPadding = t.inputPadding),
                                        (e.tabMinWidth = t.tabMinWidth || 100),
                                        (e.tabMoreWidth = t.tabMoreWidth || 40),
                                        (e.borderless = !t.tabBorder);
                                },
                                Tg: function () {
                                    var t,
                                        e,
                                        i = this.P,
                                        n = this.cu(i.options),
                                        s = this.Rb - 2 * i.tabOffset,
                                        r = i.optionWidth || i.tabMinWidth;
                                    if (((e = n.length), i.tabMinWidth && s / e < r)) return { max: parseInt(s / r, 10) || 1 };
                                    if (!i.optionWidth) for (t = 0; t < e; t++) n[t].width && ((s -= n[t].width + (t || i.type ? 0 : i.tabMargin)), e--);
                                    return { width: e ? s / e : i.tabMinWidth };
                                },
                                vm: function () {
                                    var t = this,
                                        e = this.P;
                                    if (!e.tabbarPopup) {
                                        var i = ne({
                                                view: "popup",
                                                autofocus: !1,
                                                width: e.popupWidth || 200,
                                                body: { view: "list", borderless: !0, select: !0, navigation: !0, css: "webix_tab_list", autoheight: !0, yCount: e.yCount, type: { template: e.popupTemplate } },
                                            }),
                                            n = i.getBody();
                                        i.attachEvent("onShow", function () {
                                            n.unselect(), ke.setFocus(n);
                                            var t = n.getItemNode(n.getFirstId());
                                            t && t.focus();
                                        }),
                                            n.attachEvent("onItemClick", function (e) {
                                                return t.Fg(e);
                                            }),
                                            n.attachEvent("onEnter", function () {
                                                return t.Fg();
                                            }),
                                            (e.tabbarPopup = i.P.id),
                                            this.Bt.push(i);
                                    }
                                    this.vm = function () {};
                                },
                                Fg: function (t) {
                                    var e = ae(this.P.tabbarPopup);
                                    return (t = t || e.getBody().getSelectedId()) && this.callEvent("onBeforeTabClick", [t]) && (this.setValue(t), e.hide(), this.callEvent("onAfterTabClick", [t]), this.refresh(), this.focus()), !1;
                                },
                                getPopup: function () {
                                    return this.vm(), ae(this.P.tabbarPopup);
                                },
                                moreTemplate_setter: Ut,
                                popupTemplate_setter: Ut,
                                defaults: {
                                    popupWidth: 200,
                                    popupTemplate: "#value#",
                                    yCount: 7,
                                    moreTemplate: '<span class="webix_icon wxi-dots"></span>',
                                    template: function (t, e) {
                                        e.Nb(t.options);
                                        var i,
                                            n,
                                            s,
                                            r,
                                            o,
                                            a,
                                            l,
                                            h = e.cu(t.options);
                                        if (h.length) {
                                            t.value || (t.value = e.uu(!0)),
                                                (i = ""),
                                                t.tabOffset && (i += "<div class='webix_tab_filler' style='width:" + t.tabOffset + "px;'>&nbsp;</div>"),
                                                e.Rb,
                                                t.tabOffset,
                                                t.type || (t.tabMargin, h.length),
                                                (a = t.topOffset + t.bottomOffset);
                                            var c = e.Tg();
                                            if (c.max && c.max < h.length) {
                                                var d = e.getPopup();
                                                d.hide();
                                                var u = d.getBody() || null;
                                                if (u)
                                                    if (c.max) {
                                                        for (var p = 0, f = !1; p < h.length && !f; p++)
                                                            if (h[p].id == t.value && ((f = !0), p + 1 > c.max)) {
                                                                var m = h.splice(p, 1);
                                                                h = h
                                                                    .splice(0, c.max - 1)
                                                                    .concat(m)
                                                                    .concat(h);
                                                            }
                                                        u.clearAll(), u.parse(h.slice(c.max));
                                                    } else u.clearAll();
                                            } else e.P.tabbarPopup && ae(e.P.tabbarPopup).hide();
                                            o = t.tabOffset;
                                            for (var g = 0, v = !1; g < h.length && !v; g++)
                                                (l = c && c.max ? (c.max == g + 1 && (v = !0), (e.Rb - 2 * t.tabOffset - (!t.type && 1 < c.max ? t.tabMargin * (c.max - 1) : 0) - t.tabMoreWidth) / c.max) : c.width),
                                                    (o += (l = h[g].width || t.optionWidth || l) + (g && !t.type ? t.tabMargin : 0)),
                                                    0 < t.tabMargin && g && !t.type && (i += "<div class='webix_tab_filler' style='width:" + t.tabMargin + "px;'></div>"),
                                                    (i += e.Vg(h[g], l)),
                                                    v &&
                                                        ((i += '<div role="button" tabindex="0" aria-label="' + T.aria.showTabs + '" class="webix_tab_more_icon" style="width:' + t.tabMoreWidth + 'px;">' + t.moreTemplate(t, e) + "</div>"),
                                                        (o += t.tabMoreWidth));
                                            0 < (n = e.me - o) && !t.type && (i += "<div class='webix_tab_filler' style='width:" + n + "px;'>&nbsp;</div>");
                                        } else i = "<div class='webix_tab_filler' style='width:" + e.Rb + "px; border-right:0px;'></div>";
                                        return (
                                            (s = ""),
                                            (r = a && !t.type ? "height:" + (e.we - a) + "px" : ""),
                                            t.topOffset && !t.type && (s += "<div class='webix_before_all_tabs' style='width:100%;height:" + t.topOffset + "px'></div>"),
                                            (s += "<div style='" + r + "' role='tablist' class='webix_all_tabs " + (t.type ? "webixtype_" + t.type : "") + "'>" + i + "</div>"),
                                            t.bottomOffset && !t.type && (s += "<div class='webix_after_all_tabs' style='width:100%;height:" + t.bottomOffset + "px'></div>"),
                                            s
                                        );
                                    },
                                },
                                ru: function () {
                                    return this.$view.querySelectorAll(".webix_item_tab");
                                },
                                Vg: function (e, i) {
                                    var n,
                                        s = "",
                                        r = "",
                                        o = !!e.disabled,
                                        a = this.config;
                                    if (
                                        (e.id == a.value && (s += " webix_selected"),
                                        o && (s += " webix_disabled"),
                                        e.css && (s += " " + e.css),
                                        a.tooltip && (r = " webix_t_id='" + e.id + "'"),
                                        (i = e.width || i),
                                        (n =
                                            '<div class="webix_item_tab' +
                                            s +
                                            '" button_id="' +
                                            e.id +
                                            '" role="tab" aria-selected="' +
                                            (e.id == a.value ? "true" : "false") +
                                            '" tabindex="' +
                                            (o || e.id != a.value ? "-1" : "0") +
                                            '" style="width:' +
                                            i +
                                            'px;"' +
                                            (o ? ' webix_disabled="true"' : "") +
                                            r +
                                            ">"),
                                        this.zg)
                                    ) {
                                        var l = this.we - 2 * a.inputPadding - 2,
                                            h = this.we - 2,
                                            c = t.extend({ cheight: l, aheight: h }, e);
                                        n += this.zg(c);
                                    } else n += (e.icon ? "<span class='webix_icon " + e.icon + "'></span> " : "") + e.value;
                                    return o || (!e.close && !a.close) || (n += "<span role='button' tabindex='0' aria-label='" + T.aria.closeTab + "' class='webix_tab_close webix_icon wxi-close'></span>"), n + "</div>";
                                },
                                Lp: function () {
                                    return this.tt.firstChild;
                                },
                                wd: {
                                    image: "<div class='webix_img_btn_top' style='height:#cheight#px;background-image:url(#image#);'><div class='webix_img_btn_text'>#value#</div></div>",
                                    icon: "<div class='webix_img_btn' style='line-height:#cheight#px;height:#cheight#px;'><span class='webix_icon_btn #icon#' style='max-width:#cheight#px;max-height:#cheight#px;'></span>#value#</div>",
                                    iconTop: "<div class='webix_img_btn_top' style='height:#cheight#px;width:100%;top:0px;text-align:center;'><span class='webix_icon #icon#'></span><div class='webix_img_btn_text'>#value#</div></div>",
                                },
                                type_setter: function (t) {
                                    return (this.P.tabOffset = 0), this.wd[t] && (this.zg = Ut(this.wd[t])), t;
                                },
                            }),
                        eo =
                            (t.protoUI(to, Fr.view),
                            {
                                name: "richtext",
                                defaults: { label: "", labelWidth: 80, labelPosition: "left" },
                                $init: function () {
                                    (this.Vt.className += " webix_richtext"), this.$ready.unshift(this.Bg);
                                },
                                $skin: function () {
                                    Ss.api.$skin.call(this), (this.defaults.paddingX = Ve.inputSpacing / 2), (this.defaults.paddingY = Ve.inputPadding);
                                },
                                getInputNode: function () {
                                    return this.$view.querySelector(".webix_richtext_editor");
                                },
                                Hg: function (t) {
                                    return { view: "toggle", type: "icon", icon: "wxi-" + t, name: t, id: t, label: T.richtext[t], autowidth: !0, action: t, click: this.Rg };
                                },
                                Bg: function () {
                                    var t = this,
                                        e = {
                                            view: "template",
                                            css: "webix_richtext_container",
                                            borderless: !0,
                                            template: "<div class='webix_richtext_editor' contenteditable='true'>" + this.getValue() + "</div>",
                                            on: {
                                                onAfterRender: function () {
                                                    (t.zb = !0),
                                                        t.refresh(),
                                                        Zt(t.getInputNode(), "blur", function () {
                                                            t.Eg(this.innerHTML);
                                                        }),
                                                        Zt(t.getInputNode(), "keyup", function () {
                                                            t.Pg();
                                                        });
                                                },
                                            },
                                            onClick: {
                                                webix_richtext_editor: function () {
                                                    t.Pg();
                                                },
                                            },
                                        },
                                        i = [this.Hg("underline"), this.Hg("bold"), this.Hg("italic"), {}],
                                        n = { view: "toolbar", id: "toolbar", elements: i },
                                        s = [n, e];
                                    "top" === this.config.labelPosition
                                        ? ((n.elements = i.concat([{ view: "label", label: this.config.label, align: "right" }, { width: 4 }])), this.rows_setter(s))
                                        : this.config.labelWidth
                                        ? ((this.config.margin = 0),
                                          this.cols_setter([
                                              { template: this.config.label || " ", css: "webix_richtext_inp_label" + (this.config.required ? " webix_required" : ""), borderless: !0, width: this.config.labelWidth },
                                              { rows: s },
                                          ]))
                                        : this.rows_setter(s);
                                },
                                labelWidth_setter: function (t) {
                                    return t ? Math.max(t, Ve.dataPadding) : 0;
                                },
                                Pg: function () {
                                    var t;
                                    this.$$("toolbar").setValues({ italic: !1, underline: !1, bold: !1 }), (t = window.getSelection ? window.getSelection() : document.selection.createRange());
                                    for (var e = 0; e < t.rangeCount; ++e)
                                        this.$view.contains(this.getInputNode()) &&
                                            (document.queryCommandState("bold") && this.$$("bold").setValue(!0),
                                            document.queryCommandState("underline") && this.$$("underline").setValue(!0),
                                            document.queryCommandState("italic") && this.$$("italic").setValue(!0));
                                },
                                refresh: function () {
                                    this.zb && (this.getInputNode().innerHTML = this.config.value || "");
                                },
                                jg: function (t) {
                                    var e, i;
                                    if (window.getSelection) {
                                        i = (e = window.getSelection()).toString().length;
                                        var n = this.getInputNode();
                                        if (n.contains(e.anchorNode) && n.contains(e.focusNode) && 0 < i)
                                            for (var s = 0; s < e.rangeCount; ++s) {
                                                var r = e.getRangeAt(s);
                                                if (e.isCollapsed) {
                                                    var o = e.focusNode.textContent,
                                                        a = e.focusNode,
                                                        l = e.anchorOffset,
                                                        h = o.substring(0, l).match(/[A-Za-z]*$/)[0],
                                                        c = o.substring(l).match(/^[A-Za-z]*/)[0],
                                                        d = l - h.length,
                                                        u = l + c.length;
                                                    r.setStart(a, d), r.setEnd(a, u), e.removeAllRanges(), e.addRange(r), document.execCommand(t, !1, "");
                                                } else document.execCommand(t, !1, "");
                                            }
                                    }
                                },
                                Rg: function () {
                                    this.getTopParentView().jg(this.config.action);
                                },
                                focus: function () {
                                    if (!ke.canFocus(this)) return !1;
                                    this.getInputNode().focus();
                                },
                                Eg: function (t) {
                                    var e = this.config.value;
                                    (this.config.value = t || ""), e !== t && this.callEvent("onChange", [t, e]);
                                },
                                setValue: function (t) {
                                    this.Eg(t), this.refresh();
                                },
                                getValue: function () {
                                    this.getInputNode() && (this.config.value = this.getInputNode().innerHTML);
                                    var t = this.config.value;
                                    return t || (0 === t ? "0" : "");
                                },
                            });
                    t.protoUI(eo, Di, Ss.view),
                        te(Gr.view, {
                            name: "uploader",
                            template: "{common.removeIcon()}{common.percent()}<div style='float:right'>#sizetext#</div>{common.fileName()}",
                            percent: function (t) {
                                return "transfer" == t.status
                                    ? "<div style='width:60px; text-align:center; float:right'>" + t.percent + "%</div>"
                                    : "<div class='webix_upload_" + t.status + "'><span class='" + ("error" == t.status ? "error_icon" : "webix_icon wxi-check") + "'></span></div>";
                            },
                            removeIcon: function () {
                                return "<div class='webix_remove_upload'><span class='cancel_icon'></span></div>";
                            },
                            fileName: function (t) {
                                return "<div style='text-overflow:ellipsis; white-space:nowrap; overflow:hidden; padding-right:8px;'>" + t.name + "</div>";
                            },
                            on_click: {
                                webix_remove_upload: function (t, e) {
                                    ae(this.config.uploader).files.remove(e);
                                },
                            },
                        });
                    var io = {
                            name: "uploader",
                            defaults: { autosend: !0, multiple: !0, inputName: "upload" },
                            $cssName: "button webix_uploader",
                            $allowsClear: !0,
                            on_click: {
                                webix_hidden_upload: function () {
                                    return !1;
                                },
                            },
                            send: function () {},
                            fileDialog: function () {},
                            stopUpload: function () {},
                            $skin: function () {
                                yr.api.$skin.call(this), ("material" != Le && "mini" != Le) || (this.defaults.css = "webix_primary");
                            },
                            $init: function () {
                                (this.files = new Sr()), (this.Bt = [this.files]), t.extend(this, gn, !0);
                            },
                            $setSize: function (t, e) {
                                Re.api.$setSize.call(this, t, e) && this.render();
                            },
                            apiOnly_setter: function (t) {
                                return b(this.render, this), (this.$apiOnly = t);
                            },
                            Vf: function (t) {
                                for (var e = 0; e < t.length; e++) this.addFile(t[e]);
                            },
                            link_setter: function (t) {
                                return (
                                    t &&
                                        b(function () {
                                            var t = ae(this.P.link);
                                            if (!t) {
                                                var e = this.getTopParentView();
                                                e.$$ && (t = e.$$(this.P.link));
                                            }
                                            t.sync && t.filter
                                                ? t.sync(this.files)
                                                : t.setValues &&
                                                  this.files.data.attachEvent("onStoreUpdated", function () {
                                                      t.setValues(this);
                                                  }),
                                                (t.P.uploader = this.P.id);
                                        }, this),
                                    t
                                );
                            },
                            addFile: function (i, n, s, r) {
                                var o = null;
                                "object" == e(i) && ((i = (o = i).name), (n = o.size));
                                var a = this.Ng(n);
                                s = s || i.split(".").pop();
                                var l = { file: o, name: i, id: x(), size: n, sizetext: a, type: s, context: this.Rf, status: "client" };
                                if ((o && o.webkitRelativePath && (l.name = o.webkitRelativePath), r && t.extend(l, r, !0), this.callEvent("onBeforeFileAdd", [l]))) {
                                    this.P.multiple || this.files.clearAll();
                                    var h = this.files.add(l);
                                    this.callEvent("onAfterFileAdd", [l]), h && this.P.autosend && this.send(h);
                                }
                                return l;
                            },
                            Pf: function (e) {
                                var i = this.P.upload,
                                    n = t.extend(e.urlData || {}, this.P.urlData || {});
                                if (i && n) {
                                    var s = [];
                                    for (var r in n) s.push(encodeURIComponent(r) + "=" + encodeURIComponent(n[r]));
                                    s.length && (i += (-1 == i.indexOf("?") ? "?" : "&") + s.join("&"));
                                }
                                return i;
                            },
                            addDropZone: function (t, e) {
                                var i = _(t),
                                    n = "";
                                e && (n = " " + lt({ content: '"' + e + '"' }, ":before"));
                                var s = "webix_drop_file" + n,
                                    r = null;
                                Zt(i, "dragover", yt),
                                    Zt(i, "dragover", function () {
                                        _t(i, s, !0), r && (clearTimeout(r), (r = null));
                                    }),
                                    Zt(i, "dragleave", function () {
                                        r = setTimeout(function () {
                                            kt(i, s);
                                        }, 150);
                                    }),
                                    Zt(
                                        i,
                                        "drop",
                                        m(function (t) {
                                            return kt(i, s), this.$drop(t), yt(t);
                                        }, this)
                                    );
                            },
                            Ng: function (t) {
                                for (var e = 0; 1024 < t; ) e++, (t /= 1024);
                                return Math.round(100 * t) / 100 + " " + T.fileSize[e];
                            },
                            Lf: function (e, i) {
                                var n = this.files.getItem(e);
                                t.extend(n, i, !0), (n.status = "server"), (n.progress = 100), this.callEvent("onFileUpload", [n, i]), this.callEvent("onChange", []), this.files.updateItem(e), this.isUploaded() && this.Nf(i);
                            },
                            Nf: function (t) {
                                this.callEvent("onUploadComplete", [t]), this.Ef && (this.Ef.call(this, t), (this.Ef = 0));
                            },
                            isUploaded: function () {
                                for (var t = this.files.data.order, e = 0; e < t.length; e++) if ("server" != this.files.getItem(t[e]).status) return !1;
                                return !0;
                            },
                            $onUploadComplete: function () {},
                            $updateProgress: function (t, e) {
                                (this.files.getItem(t).percent = Math.round(e)), this.files.updateItem(t);
                            },
                            setValue: function (t) {
                                "string" == typeof t && t && (t = { value: t, status: "server" }), this.files.clearAll(), t && this.files.parse(t), this.callEvent("onChange", []);
                            },
                            getValue: function () {
                                var t = [];
                                return (
                                    this.files.data.each(function (e) {
                                        "server" == e.status && t.push(e.value || e.name);
                                    }),
                                    t.join(",")
                                );
                            },
                        },
                        no =
                            (t.protoUI(io, yr.view),
                            {
                                name: "texthighlight",
                                defaults: {
                                    template: function (t, e) {
                                        var i = t.name || t.id,
                                            n = "x" + x(),
                                            s = e.um(t),
                                            r = '<div class="webix_text_highlight" style="width:'.concat(s, 'px;"><div class="webix_text_highlight_value"');
                                        return (
                                            "textarea" == t.type && G.mobile && G.isSafari && (r += ' style="margin-left:'.concat(Ve.dataPadding + 3, "px; margin-right:").concat(Ve.dataPadding + 3, 'px;"')),
                                            (r += "></div></div>"),
                                            "textarea" == t.type
                                                ? ((r += "".concat(e.fm("textarea"), ' style="width:').concat(s, 'px;" id="').concat(n, '" name="').concat(i, '" class="webix_inp_textarea">').concat(e.Yb(t.value), "</textarea>")),
                                                  e.$renderInput(t, r, n))
                                                : r + e.$renderInput(t)
                                        );
                                    },
                                    highlight: function (t) {
                                        return Ut.escape(t);
                                    },
                                    type: "text",
                                },
                                $init: function (t) {
                                    var e = this,
                                        i = t.type || this.defaults.type;
                                    (this.Vt.className += " webix_el_" + i),
                                        "textarea" == i
                                            ? ((t.height = t.height || 0), (t.minHeight = t.minHeight || 60), (this.zi = !0))
                                            : ((this.scrollEv = Jt(document, "selectionchange", function () {
                                                  e.$view.contains(document.getSelection().focusNode) && e.Lg();
                                              })),
                                              this.attachEvent("onDestruct", function () {
                                                  Qt(e.scrollEv);
                                              })),
                                        this.attachEvent("onChange", function () {
                                            return e.Lg();
                                        }),
                                        this.attachEvent("onAfterRender", function () {
                                            e.Og(),
                                                ["scroll", "focus", "blur", "paste", "cut", "keyup", "input"].forEach(function (t) {
                                                    return Zt(e.getInputNode(), t, function () {
                                                        return e.Lg();
                                                    });
                                                }),
                                                e.Wg(!0);
                                        });
                                },
                                $setSize: function () {
                                    Pr.api.$setSize.apply(this, arguments), this.Og();
                                },
                                lm: function (t) {
                                    return "textarea" == this.P.type ? (t ? this.N_ - this.P.inputPadding : "") : Pr.api.lm.apply(this, arguments);
                                },
                                getInputNode: function () {
                                    return this.tt.querySelector("text" == this.P.type ? "input" : "textarea");
                                },
                                Ug: function () {
                                    return this.tt.querySelector(".webix_text_highlight");
                                },
                                Wg: function (t) {
                                    var e = this.Ug().firstElementChild,
                                        i = this.getValue();
                                    (t || i != (this.Yg || "")) && ((this.Yg = i), (e.innerHTML = this.P.highlight.apply(this, [i]) + "&nbsp;"));
                                },
                                qg: function () {
                                    var t = this.Ug();
                                    "text" == this.P.type && (t = t.firstElementChild);
                                    var e = this.getInputNode();
                                    (t.scrollTop = e.scrollTop), (t.scrollLeft = e.scrollLeft);
                                },
                                Og: function () {
                                    if (this.zb && this.isVisible()) {
                                        var t = this.getInputNode(),
                                            e = this.Ug().style;
                                        (e.left = t.offsetLeft + "px"), (e.top = t.offsetTop + "px"), (e.height = t.getBoundingClientRect().height + "px");
                                    }
                                },
                                Lg: function () {
                                    b(function () {
                                        this.$destructed || (this.Wg(), this.qg());
                                    }, this);
                                },
                            }),
                        so =
                            (t.protoUI(no, Pr.view),
                            {
                                name: "timeboard",
                                defaults: { width: 270, padding: Ve.layoutPadding.space, margin: Ve.layoutMargin.form, hours: !0, seconds: !1, twelve: /%([a,A])/.test(T.timeFormat) },
                                $init: function (t) {
                                    var e = this;
                                    this.$view.className += " webix_timeboard";
                                    var n = [],
                                        s = v(t.twelve) ? this.defaults.twelve : t.twelve,
                                        r = v(t.hours) ? this.defaults.hours : t.hours,
                                        o = t.seconds || this.defaults.seconds;
                                    if (v(t.height)) {
                                        var a = 1 + 1 * r + 1 + 1 * o + 1 * !!t.button;
                                        t.height = Ve.inputHeight * a + (t.margin || this.defaults.margin) * (a - 1) + 2 * (t.padding || this.defaults.padding);
                                    }
                                    n.push(this.Gg(r, o, s)),
                                        n.push.apply(n, i(this.Xg(r, o, s))),
                                        t.button && n.push(this.Kg()),
                                        (t.rows = [
                                            {
                                                view: "form",
                                                elements: n,
                                                padding: 0,
                                                borderless: !0,
                                                on: {
                                                    onChange: function () {
                                                        return e.Jg();
                                                    },
                                                },
                                            },
                                        ]),
                                        this.$ready.push(function () {
                                            this.Zg = this.queryView("form");
                                            var t = this.P.value;
                                            t && this.setValue(t);
                                        });
                                },
                                setValue: function (t) {
                                    var e = this.P.value;
                                    (t = this.$prepareValue(t)), ns.equal(t, e) || ((this.P.value = t), this.callEvent("onChange", [t, e])), t && this.$setValue(t);
                                },
                                $prepareValue: function (t) {
                                    return "string" == typeof t && (t = T.parseTimeFormatDate(t)), t;
                                },
                                $setValue: function (t) {
                                    var e = {};
                                    (e.minutes = e.sminutes = t.getMinutes()),
                                        this.P.hours && (e.shours = e.hours = t.getHours()),
                                        this.P.seconds && (e.sseconds = e.seconds = t.getSeconds()),
                                        this.P.twelve && (v(e.hours) || ((e.day_part = 11 < e.hours ? T.pm[1] : T.am[1]), (e.hours = e.hours && 12 != e.hours ? e.hours % 12 : 12), (e.shours = 12 == e.hours ? 0 : e.hours))),
                                        this.Zg.setValues(e);
                                },
                                Jg: function () {
                                    var t = this.$getValue(),
                                        e = this.P.value ? ns.copy(this.P.value) : new Date();
                                    e.setHours(t.hours || 0), e.setMinutes(t.minutes), this.P.seconds && e.setSeconds(t.seconds), this.setValue(e);
                                },
                                $getValue: function () {
                                    var t = this.Zg.getValues();
                                    return this.P.twelve && this.P.hours && (t.day_part == T.pm[1] && t.hours < 12 ? (t.hours = (1 * t.hours + 12).toString()) : t.day_part == T.am[1] && 12 == t.hours && (t.hours = 0)), t;
                                },
                                getValue: function () {
                                    if (this.P.stringResult) {
                                        var t = this.$getValue(),
                                            e = [];
                                        return t.hours && e.push(t.hours), t.minutes && e.push(t.minutes), t.seconds && e.push(t.seconds), e.join(":");
                                    }
                                    return this.P.value;
                                },
                                Gg: function (t, e, i) {
                                    var n = [{}, this.Qg("minutes"), {}],
                                        s = { css: "colon_template", template: '<span class="colon">:</span>', borderless: !0, width: 18 };
                                    if ((t && n.splice(1, 0, this.Qg("hours", i), f(s)), e && n.splice(-1, 0, f(s), this.Qg("seconds")), i && t)) {
                                        var r = T.am[1],
                                            o = T.pm[1],
                                            a = {
                                                view: "label",
                                                name: "day_part",
                                                css: "day_part",
                                                template: "<div tabindex='0' role='button' class='webix_el_box' style='width:#awidth#px;height:#aheight#px;line-height:#cheight#px'>#label#</div>",
                                                inputWidth: 25,
                                                on: {
                                                    onItemClick: function () {
                                                        this.setValue(this.getValue() == r ? o : r);
                                                    },
                                                    onKeyPress: function (t, e) {
                                                        this.ke(t, e);
                                                    },
                                                },
                                            };
                                        n.splice(-1, 1, a);
                                    }
                                    return { type: "clean", cols: n };
                                },
                                Qg: function (t, e) {
                                    var i = this,
                                        n = "hours" === t ? (e ? 11 : 23) : 59;
                                    return {
                                        view: "text",
                                        width: 46,
                                        name: t,
                                        format: {
                                            parse: function (e) {
                                                return 12 == e && "hours" === t && (e = "00"), 1 < e.length ? e.replace(/^0/, "") : e || 0;
                                            },
                                            edit: function (i) {
                                                return i <= 0 && "hours" === t && e ? (i = 12) : i < 0 ? (i = 0) : n < i && (i = n), 1 === (i + "").length ? "0" + i : i + "" || "00";
                                            },
                                        },
                                        on: {
                                            onChange: function (n) {
                                                i.Zg.elements["s" + t].setValue(1 * (!e || "hours" !== t || (n && 12 != n) ? n : 0));
                                            },
                                        },
                                    };
                                },
                                Xg: function (t, e, i) {
                                    var n = [this.tw("minutes", T.calendar.minutes, 59)];
                                    return t && n.unshift(this.tw("hours", T.calendar.hours, i ? 11 : 23)), e && n.push(this.tw("seconds", T.timeboard.seconds, 59, i)), n;
                                },
                                tw: function (t, e, i, n) {
                                    var s = this,
                                        r = "hours" === t && n;
                                    return {
                                        view: "slider",
                                        name: "s" + t,
                                        title: e,
                                        moveTitle: !1,
                                        min: 0,
                                        max: i,
                                        on: {
                                            onChange: function (e) {
                                                s.Zg.elements[t].setValue((r ? (e && 12 != e ? e % 12 : 12) : e) + "");
                                            },
                                            onSliderDrag: function () {
                                                var e = this.getValue(),
                                                    i = this.getFormView();
                                                i.blockEvent(), i.elements[t].setValue((r ? (e && 12 != e ? e % 12 : 12) : e) + ""), i.unblockEvent();
                                            },
                                        },
                                    };
                                },
                                Kg: function () {
                                    var t = this;
                                    return {
                                        view: "button",
                                        value: T.calendar.done,
                                        css: "webix_primary",
                                        click: function () {
                                            t.callEvent("onTimeSelect", [t.P.value]);
                                        },
                                    };
                                },
                            }),
                        ro =
                            (t.protoUI(so, Ss.view),
                            {
                                name: "suggest",
                                defaults: {
                                    autofocus: !1,
                                    type: "list",
                                    keyPressTimeout: 1,
                                    body: { yCount: 10, autoheight: !0, body: !0, select: !0, borderless: !0, navigation: !0 },
                                    filter: function (t, e) {
                                        return 0 === t.value.toString().toLowerCase().indexOf(e.toLowerCase());
                                    },
                                },
                                template_setter: Ut,
                                filter_setter: function (t) {
                                    return k(t, this.$scope);
                                },
                                iw: !0,
                                $init: function (e) {
                                    var i = {};
                                    t.extend(i, f(this.defaults.body)), (i.view = e.type || this.defaults.type);
                                    var n = this.ew(i);
                                    e.body && t.extend(n, e.body, !0),
                                        e.data && (n.data = e.data),
                                        e.url && (n.url = e.url),
                                        e.datatype && (n.datatype = e.datatype),
                                        e.id && (i.id = i.id || e.id + "_" + i.view),
                                        (e.body = i),
                                        this.$ready.push(this.sw),
                                        this.attachEvent("onShow", function () {
                                            if (this.P.master) {
                                                var t = ae(this.P.master);
                                                t && (t.Gm ? t.Gm() : t.getInputNode()).setAttribute("aria-expanded", "true");
                                            }
                                            this.ba();
                                        }),
                                        this.attachEvent("onHide", function () {
                                            if (this.P.master) {
                                                var t = ae(this.P.master);
                                                t && (t.Gm ? t.Gm() : t.getInputNode()).setAttribute("aria-expanded", "false");
                                            }
                                        }),
                                        (this.nw = {});
                                },
                                ew: function (t) {
                                    return t;
                                },
                                hw: function () {
                                    return null;
                                },
                                rw: function (t) {
                                    this.pa.value = t;
                                },
                                ow: function (t) {
                                    var e,
                                        i = t.id ? this.getItemText(t.id) : t.text || t.value;
                                    if (this.P.master) {
                                        var n = ae(this.P.master);
                                        if ((e = n.getInputNode())) {
                                            var s = n.P.text;
                                            n.options_setter ? n.$setValue(t.$empty ? "" : t.id) : n.$setValueHere ? n.$setValueHere(i, t, this.hw()) : n.$setValue(i), (n.P.text = s);
                                        }
                                    } else this.pa && this.rw(i);
                                    (e = e || this.pa) && e.focus();
                                },
                                setMasterValue: function (t, e) {
                                    var i = t.id ? this.getItemText(t.id) : t.text || t.value;
                                    if (this.P.master) {
                                        var n = ae(this.P.master);
                                        e && t.id ? n.refresh() : n.options_setter ? n.setValue(t.$empty ? "" : t.id) : n.setValueHere ? n.setValueHere(i, t, this.hw()) : n.setValue(i);
                                    } else this.pa && this.rw(i);
                                    e || (this.hide(), this.pa && this.pa.focus()), this.callEvent("onValueSuggest", [t, i]);
                                },
                                getMasterValue: function () {
                                    return this.P.master ? ae(this.P.master).getValue() : null;
                                },
                                getItemId: function (t) {
                                    var e = this.getList();
                                    for (var i in e.data.pull) {
                                        var n = e.getItem(i);
                                        if (this.P.filter.call(this, n, t)) return n.id;
                                    }
                                },
                                getItemText: function (t) {
                                    var e = this.getList().getItem(t);
                                    if (!e) return this.nw[t] || "";
                                    if (this.P.template) return this.P.template.call(this, e, this.type);
                                    if (this.P.textValue) return "" + e[this.P.textValue];
                                    var i = this.getList().type,
                                        n = i.template.call(i, e, i);
                                    return (this.nw[t] = n);
                                },
                                getSuggestion: function (t) {
                                    var i,
                                        n = this.getList(),
                                        s = n.data.order;
                                    return (
                                        n.getSelectedId && (i = n.getSelectedId()),
                                        (t && s.length && (!i || s.find(i) < 0) && ((i = s[0]), !n.config.dataFeed && !this.config.filter.call(this, n.data.pull[i], t))) || (i && ("object" == e(i) && (i += ""), n.getItem(i).$empty))
                                            ? null
                                            : i
                                    );
                                },
                                getList: function () {
                                    return this.$t;
                                },
                                sw: function () {
                                    var t = this.getList(),
                                        e = this.P.type;
                                    t.count
                                        ? (t.attachEvent(
                                              "onItemClick",
                                              m(function (e) {
                                                  this.setMasterValue(t.getItem(e));
                                              }, this)
                                          ),
                                          t.data.attachEvent(
                                              "onstoreupdated",
                                              m(function (t, e, i) {
                                                  "delete" == i && t == this.getMasterValue() ? this.setMasterValue({ id: "", text: "" }, 1) : "update" == i && t == this.getMasterValue() && this.setMasterValue(e, 1);
                                              }, this)
                                          ),
                                          t.data.attachEvent("onAfterFilter", m(this.Ym, this)),
                                          v(this.P.fitMaster) && (this.P.fitMaster = !0))
                                        : "calendar" == e
                                        ? (t.attachEvent("onDateSelect", function () {
                                              this.getParentView().setMasterValue({ value: t.getSelectedDate() }, t.config.multiselect);
                                          }),
                                          t.attachEvent("onTodaySet", function (t) {
                                              this.getParentView().setMasterValue({ value: t });
                                          }),
                                          t.attachEvent("onDateClear", function (t) {
                                              this.getParentView().setMasterValue({ value: t });
                                          }))
                                        : "colorboard" == e
                                        ? t.attachEvent("onItemClick", function (t) {
                                              this.getParentView().setMasterValue({ value: t });
                                          })
                                        : "timeboard" == e
                                        ? t.attachEvent("onTimeSelect", function (t) {
                                              this.getParentView().setMasterValue({ value: t });
                                          })
                                        : "colorselect" == e &&
                                          t.attachEvent("onColorSelect", function (t) {
                                              this.getParentView().setMasterValue({ value: t });
                                          });
                                },
                                input_setter: function (t) {
                                    return this.linkInput(t), 0;
                                },
                                linkInput: function (t) {
                                    var e;
                                    t.getInputNode ? ((e = t.getInputNode()).webix_master_id = t.P.id) : (e = _(t)),
                                        Zt(
                                            e,
                                            "keydown",
                                            function (i) {
                                                (e == document.body && !this.isVisible()) || (t.config ? t.config.readonly : e.getAttribute("readonly")) || this.aw(i);
                                            },
                                            { bind: this }
                                        ),
                                        t.Gm && (e = t.Gm()),
                                        e.setAttribute("aria-autocomplete", "list"),
                                        e.setAttribute("aria-expanded", "false"),
                                        "DIV" === e.tagName && (e.setAttribute("aria-live", "assertive"), e.setAttribute("aria-atomic", "true")),
                                        (this.uw = !0);
                                },
                                aw: function (t) {
                                    this.cw && (this.cw = clearTimeout(this.cw)), (t = t || event);
                                    var e = this.getList(),
                                        i = t.target;
                                    if ((i != document.body || this.isVisible()) && "webix_clipbuffer" != i.className) {
                                        (this.pa = i), (this.P.master = i.webix_master_id);
                                        var n = t.keyCode;
                                        if (16 != n && 17 != n) {
                                            if (9 == n) return this.lw(t, e);
                                            if (27 == n) return this.dw(t, e);
                                            if (13 == n) return this.$enterKey(t, e);
                                            if (this.vw(t) && this.isVisible()) return yt(t), !1;
                                            var s = "true" == i.getAttribute("contentEditable");
                                            (v(i.value) && !s) ||
                                                (this.cw = b(
                                                    function () {
                                                        if (this.uw || ke.getFocus() == ae(this.P.master)) {
                                                            this.qm = !0;
                                                            var t = s ? i.innerText : i.value;
                                                            this._w && this._w(),
                                                                e.config.dataFeed
                                                                    ? e.filter("value", t)
                                                                    : e.filter &&
                                                                      e.filter(
                                                                          m(function (e) {
                                                                              return this.P.filter.call(this, e, t);
                                                                          }, this)
                                                                      );
                                                        }
                                                    },
                                                    this,
                                                    [],
                                                    this.P.keyPressTimeout
                                                ));
                                        }
                                    }
                                },
                                Ym: function () {
                                    if (!this.qm) return !0;
                                    (this.qm = !1), 0 < this.getList().count() ? (this.adjust(), this.isVisible() || (this.Um = !0), this.show(this.pa, null, !0), (this.Um = !1)) : (this.hide(), (this.pa = null));
                                },
                                show: function (t) {
                                    var e = !t || ("INPUT" != t.tagName && "TEXTAREA" != t.tagName) ? null : t;
                                    if (!this.isVisible() || (e && e != this.pa)) {
                                        var i = this.getList();
                                        i.filter && !this.Um && i.filter(""),
                                            this.$customWidth ? this.$customWidth(t) : t && t.tagName && this.P.fitMaster && (this.P.width = t.offsetWidth - 2),
                                            i.gd && i.render(),
                                            this.adjust(),
                                            e && (this.pa = e);
                                    }
                                    tr.api.show.apply(this, arguments);
                                },
                                ba: function (t) {
                                    t = t || this.getList();
                                    var e = this.getMasterValue();
                                    t.select && t.showItem
                                        ? e && t.exists && t.exists(e)
                                            ? (t.select(e), t.showItem(e))
                                            : (t.unselect(), t.showItem(t.getFirstId()))
                                        : t.setValue && (this.P.master && (e = ae(this.P.master).$prepareValue(e)), t.setValue(e));
                                },
                                $enterKey: function (t, e) {
                                    var i,
                                        n,
                                        s = this.isVisible();
                                    this.P.master && (n = ae(this.P.master)),
                                        n && n.dm && n.P.editable
                                            ? n.gi()
                                            : s &&
                                              (e.count
                                                  ? ((i = e.getSelectedId(!1, !0)), 1 == e.count() && e.getFirstId() != i && (i = e.getFirstId()), i && (i = e.getItem(i)))
                                                  : (e.getSelectedDate ? (i = e.getSelectedDate()) : e.getValue && (i = e.getValue()), i && (i = { value: i })),
                                              i && this.setMasterValue(i)),
                                        s ? this.hide() : this.iw && this.show(this.pa);
                                },
                                dw: function () {
                                    return this.hide();
                                },
                                lw: function () {
                                    return this.hide();
                                },
                                vw: function (t) {
                                    var e,
                                        i = this.getList(),
                                        n = t.keyCode;
                                    if (!(i.moveSelection && n < 41 && 32 < n) || t.ctrlKey || t.metaKey || t.shiftKey || t.altKey) return !1;
                                    if (40 === n || 38 === n) {
                                        this.iw && !this.isVisible() && this.show(this.pa);
                                        var s = 38 === n ? "up" : "down";
                                        i.moveSelection(s, !1, !1);
                                    } else {
                                        if (i.count || (!i.count && !i.isVisible())) return !1;
                                        var r;
                                        33 == n && (r = "pgup"), 34 == n && (r = "pgdown"), 35 == n && (r = "bottom"), 36 == n && (r = "top"), 37 == n && (r = "left"), 39 == n && (r = "right"), i.moveSelection(r, !1, !1);
                                    }
                                    return i.count ? (e = i.getSelectedItem(!1)) : (i.getSelectedDate ? (e = i.getSelectedDate()) : i.getValue && (e = i.getValue()), e && (e = { value: e })), e && this.isVisible() && this.ow(e), !0;
                                },
                                getValue: function () {
                                    var t = this.getList(),
                                        e = (t.getValue ? t.getValue() : t.getSelectedId()) || "";
                                    if (((e = e.id || e), t.getItem)) {
                                        var i = t.getItem(e);
                                        if (i && i.$empty) return "";
                                    }
                                    return e;
                                },
                                setValue: function (t) {
                                    var e = this.getList();
                                    t ? e.exists(t) && (e.select(t), e.showItem(t)) : (e.unselect(), e.showItem(e.getFirstId()));
                                },
                            }),
                        oo = { api: ro, view: t.protoUI(ro, tr.view) },
                        ao = {
                            name: "multisuggest",
                            defaults: {
                                separator: ",",
                                type: "layout",
                                button: !0,
                                width: 0,
                                filter: function (t, e) {
                                    return -1 < this.getItemText(t.id).toString().toLowerCase().indexOf(e.toLowerCase());
                                },
                                body: {
                                    rows: [
                                        {
                                            view: "list",
                                            type: "multilist",
                                            borderless: !0,
                                            autoheight: !0,
                                            yCount: 5,
                                            multiselect: "touch",
                                            select: !0,
                                            on: {
                                                onItemClick: function (t) {
                                                    var e = this.getParentView().getParentView();
                                                    b(function () {
                                                        e.pw(t);
                                                    });
                                                },
                                            },
                                        },
                                        {
                                            view: "button",
                                            click: function () {
                                                this.getParentView().getParentView().hide(),
                                                    b(function () {
                                                        M("onEditEnd", []);
                                                    });
                                            },
                                        },
                                    ],
                                },
                            },
                            pw: function (t, e, i) {
                                var n = this.getValue(),
                                    s = i || C(n ? this.getValue().split(this.P.separator) : []),
                                    r = ae(this.P.master);
                                i || (s.find(t) < 0 ? s.push(t) : s.remove(t));
                                var o = s.join(this.P.separator),
                                    a = this.setValue(s).join(this.P.separator);
                                if ((r ? r.setValue(o) : this.pa && (this.pa.value = a), this.callEvent("onValueSuggest", [{ id: o, text: a }]), e)) {
                                    var l = this.getList().getItemNode(t).getElementsByTagName("SPAN");
                                    l && l.length && l[0].focus();
                                }
                            },
                            ew: function (t) {
                                return t.rows[0];
                            },
                            sw: function () {
                                var t = this.getButton(),
                                    e = this.P.button ? this.P.buttonText || T.combo.select : 0;
                                if ((t && (e ? ((t.P.value = e), t.refresh()) : t.hide()), this.P.selectAll)) return this.getBody().getChildViews()[0].show();
                                this.getList().data.attachEvent(
                                    "onAfterFilter",
                                    m(function () {
                                        return this.Ym();
                                    }, this)
                                );
                            },
                            ba: function () {
                                var t = this.getList(),
                                    e = this.getMasterValue();
                                if (e && (e = e.toString().split(this.config.separator))[0]) for (var i = 0; i < e.length; i++) t.exists(e[i]) && t.select(e[i], !0);
                            },
                            getButton: function () {
                                return this.getBody().getChildViews()[1];
                            },
                            getList: function () {
                                return this.getBody().getChildViews()[0];
                            },
                            setValue: function (t) {
                                var e = [],
                                    i = this.getList();
                                if ((i.unselect(), t && (P(t) || (t = t.toString().split(this.config.separator)), t[0])))
                                    for (var n = 0; n < t.length; n++) i.getItem(t[n]) && (i.exists(t[n]) && i.select(t[n], !0), e.push(this.getItemText(t[n])));
                                return (this.P.value = t ? t.join(this.config.separator) : ""), e;
                            },
                            getValue: function () {
                                return this.P.value;
                            },
                        },
                        lo = { api: ao, view: t.protoUI(ao, oo.view) },
                        ho = {
                            name: "checksuggest",
                            defaults: {
                                button: !1,
                                selectAll: !1,
                                body: {
                                    rows: [
                                        {
                                            view: "checkbox",
                                            hidden: !0,
                                            customCheckbox: !1,
                                            borderless: !1,
                                            css: "webix_checksuggest_select_all",
                                            labelRight: T.combo.selectAll,
                                            labelWidth: 0,
                                            height: 28,
                                            inputHeight: 20,
                                            on: {
                                                onItemClick: function (t) {
                                                    for (var e = this.getParentView().getParentView(), i = e.getList(), n = i.data.order, s = 0; s < n.length; s++) i.getItem(n[s]).$checked = this.getValue();
                                                    var r = this.getValue() ? [].concat(n) : [];
                                                    e.pw(n[0], t, r), i.refresh();
                                                },
                                                onChange: function () {
                                                    var t = this.$view.querySelector("label"),
                                                        e = T.combo;
                                                    t.textContent = this.getValue() ? e.unselectAll : e.selectAll;
                                                },
                                                onAfterRender: function () {
                                                    var t = this.getParentView().getParentView();
                                                    this.setValue(1 * t.bw());
                                                },
                                            },
                                        },
                                        {
                                            view: "list",
                                            css: "webix_multilist",
                                            borderless: !0,
                                            autoheight: !0,
                                            yCount: 5,
                                            type: "checklist",
                                            on: {
                                                onItemClick: function (t, e) {
                                                    var i = this.getItem(t);
                                                    (i.$checked = i.$checked ? 0 : 1), this.refresh(t);
                                                    var n = this.getParentView().getParentView();
                                                    (n.Nm = new Date()), n.pw(t, e), n.config.selectAll && (i.$checked ? n.bw() && n.getBody().ri[0].setValue(1) : n.getBody().ri[0].setValue(0));
                                                },
                                            },
                                        },
                                        {
                                            view: "button",
                                            click: function () {
                                                this.getParentView().getParentView().hide(),
                                                    b(function () {
                                                        M("onEditEnd", []);
                                                    });
                                            },
                                        },
                                    ],
                                },
                            },
                            bw: function () {
                                return (this.getValue() || "").split(this.config.separator).length === this.getList().count();
                            },
                            ew: function (t) {
                                return t.rows[1];
                            },
                            getButton: function () {
                                return this.getBody().getChildViews()[2];
                            },
                            getList: function () {
                                return this.getBody().getChildViews()[1];
                            },
                            $init: function () {
                                (this.eg = {}), (this.ua = !0), this.$ready.push(this.mw);
                            },
                            mw: function () {
                                var t = this.getList();
                                if (t.config.dataFeed) {
                                    var e = this;
                                    t.attachEvent("onAfterLoad", function () {
                                        e.setValue(e.P.value);
                                    }),
                                        (t.getItem = function (t) {
                                            return this.data.pull[t] || e.eg[t];
                                        });
                                }
                                this.config.master && !this.config.selectAll && this.getBody().getChildViews()[0].hide();
                            },
                            $enterKey: function (t, e) {
                                if (e.count && e.count())
                                    if (this.isVisible()) {
                                        var i = e.getSelectedId(!1, !0);
                                        i && this.pw(i), this.hide();
                                    } else this.show(this.pa);
                                else this.isVisible() && this.hide();
                            },
                            ba: function () {
                                var t = this.getList();
                                t.select && t.unselect();
                            },
                            setValue: function (t) {
                                var e,
                                    i = this.getList(),
                                    n = [],
                                    s = {},
                                    r = [];
                                for (P((t = t || [])) ? i.config.dataFeed && (t = this.Jm(t)) : (t = t.toString().split(this.config.separator)), e = 0; e < t.length; e++)
                                    (s[t[e]] = 1), i.getItem(t[e]) && (this.eg && (this.eg[t[e]] = f(i.getItem(t[e]))), n.push(this.getItemText(t[e])));
                                for (
                                    i.data.each(
                                        function (t) {
                                            t.$checked ? s[t.id] || ((t.$checked = 0), r.push(t.id)) : s[t.id] && ((t.$checked = 1), r.push(t.id));
                                        },
                                        this,
                                        !0
                                    ),
                                        e = 0;
                                    e < r.length;
                                    e++
                                )
                                    i.refresh(r[e]);
                                return (this.P.value = t.length ? t.join(this.config.separator) : ""), n;
                            },
                            getValue: function () {
                                return this.P.value;
                            },
                            ow: function () {
                                var t;
                                this.P.master && (t = ae(this.P.master).getInputNode()), (t = t || this.pa) && t.focus();
                            },
                            Jm: function (t) {
                                if (t && P(t)) {
                                    for (var e = [], i = 0; i < t.length; i++) t[i].id ? ((this.eg[t[i].id] = f(t[i])), e.push(t[i].id)) : e.push(t[i]);
                                    t = e;
                                }
                                return t;
                            },
                        },
                        co =
                            (t.protoUI(ho, lo.view),
                            t.protoUI({ name: "datasuggest", defaults: { type: "dataview", fitMaster: !1, width: 0, body: { xCount: 3, autoheight: !0, select: !0 } } }, oo.view),
                            {
                                name: "gridsuggest",
                                defaults: {
                                    type: "datatable",
                                    fitMaster: !1,
                                    width: 0,
                                    body: { navigation: !0, autoheight: !0, autowidth: !0, select: !0 },
                                    filter: function (t, e) {
                                        return 0 === this.config.template(t).toString().toLowerCase().indexOf(e.toLowerCase());
                                    },
                                },
                                $init: function (t) {
                                    t.body.columns || (t.body.autoConfig = !0), t.template || (t.template = m(this.Qg, this));
                                },
                                Qg: function (t) {
                                    var e = this.getBody(),
                                        i = this.config.textValue || e.config.columns[0].id;
                                    return e.getText(t.id, i);
                                },
                            }),
                        uo =
                            (t.protoUI(co, oo.view),
                            {
                                name: "mentionsuggest",
                                defaults: {
                                    symbol: "@",
                                    filter: function (t, e) {
                                        var i = this.P.symbol;
                                        return (
                                            -1 !== (e = e.substring(0, this.gw)).indexOf(i) &&
                                            !!(e = e.substring(e.lastIndexOf(i) + i.length)).length &&
                                            -1 !== (t.id ? this.getItemText(t.id) : t.text || t.value).toString().toLowerCase().indexOf(e.toLowerCase())
                                        );
                                    },
                                },
                                $init: function () {
                                    this.attachEvent("onValueSuggest", this._w);
                                },
                                $enterKey: function (t) {
                                    var e;
                                    return this.isVisible() && (yt(t), this.P.master && (e = ae(this.P.master)), e && e.callEvent && e.callEvent("onEnter")), oo.api.$enterKey.apply(this, arguments);
                                },
                                _w: function () {
                                    this.pa && (this.gw = Tt(this.pa).start);
                                },
                                hw: function () {
                                    return { pos: this.gw, symbol: this.P.symbol };
                                },
                                ow: function () {},
                                rw: function (t) {
                                    var e = this.P.symbol,
                                        i = this.pa.value,
                                        n = i.substring(this.gw);
                                    (i = (i = i.substring(0, this.gw)).substring(0, i.lastIndexOf(e) + e.length) + t), (this.pa.value = i + n), It(this.pa, i.length);
                                },
                                iw: !1,
                            }),
                        po =
                            (t.protoUI(uo, oo.view),
                            {
                                name: "daterangesuggest",
                                defaults: { type: "daterange", body: { view: "daterange", icons: !0, button: !0, borderless: !0 } },
                                getValue: function () {
                                    return this.getRange().getValue();
                                },
                                setValue: function (t) {
                                    this.getRange().setValue(f(t));
                                },
                                getRange: function () {
                                    return this.getBody();
                                },
                                getButton: function () {
                                    return this.getBody().getChildViews()[1].getChildViews()[1];
                                },
                                ww: function (t, e) {
                                    var i = ae(this.P.master);
                                    i ? (i.setValue(t), e && this.hide()) : this.setValue(t);
                                },
                                sw: function () {
                                    var t = this.getRange();
                                    t.attachEvent(
                                        "onAfterDateSelect",
                                        m(function (t) {
                                            this.ww(t);
                                        }, this)
                                    ),
                                        t.attachEvent(
                                            "onDateClear",
                                            m(function (t) {
                                                this.ww(t);
                                            }, this)
                                        ),
                                        t.attachEvent(
                                            "onTodaySet",
                                            m(function (t) {
                                                this.ww(t);
                                            }, this)
                                        );
                                },
                            }),
                        fo =
                            (t.protoUI(po, oo.view),
                            {
                                $cssName: "datepicker",
                                name: "daterangepicker",
                                $init: function (t) {
                                    delete t.type, delete t.multiselect, delete this.P.multiselect;
                                },
                                defaults: { value: {}, separator: " - " },
                                vm: function () {
                                    var t = this.P;
                                    t.suggest
                                        ? (t.popup = t.suggest)
                                        : t.popup ||
                                          (t.popup = t.suggest = this.suggest_setter({ view: "daterangesuggest", body: { timepicker: t.timepicker, calendarCount: t.calendarCount, height: 250 + (t.button || t.icons ? 30 : 0) } })),
                                        (this.ah = function () {});
                                },
                                $prepareValue: function () {
                                    return Is.api.$prepareValue.apply(this, arguments);
                                },
                                Id: function (t) {
                                    return "string" == typeof t && (t = T.parseFormatDate(t)), isNaN(1 * t) ? null : t;
                                },
                                $compareValue: function (t, e) {
                                    var i = Dr.api.$compareValue,
                                        n = i.call(this, t.start, e.start),
                                        s = i.call(this, t.end, e.end);
                                    return n && s;
                                },
                                $setValue: function (t) {
                                    (t = t || {}), (this.P.text = (t.start ? this.mm(t.start) : "") + (t.end ? this.P.separator + this.mm(t.end) : "")), this.xm();
                                },
                                getValue: function () {
                                    var t = this.P.value;
                                    if (this.zb) {
                                        if (this.P.editable) {
                                            var e = this.bm || T.dateFormatDate,
                                                i = (this.getInputNode().value || "").split(this.P.separator);
                                            t = this.xw(e, { start: i[0], end: i[1] });
                                        }
                                    } else t = this.$prepareValue(t) || null;
                                    if (this.P.stringResult) {
                                        var n = T.parseFormatStr;
                                        return this.xw(n, t);
                                    }
                                    return t || null;
                                },
                                xw: function (t, e) {
                                    return e.start && (e.start = t(e.start)), e.end && (e.end = t(e.end)), e;
                                },
                            }),
                        mo =
                            (t.protoUI(fo, Dr.view),
                            t.protoUI(
                                {
                                    name: "excelbar",
                                    defaults: { padding: 0, type: "line" },
                                    $init: function (t) {
                                        t.cols = [
                                            {
                                                view: "tabbar",
                                                options: [""],
                                                optionWidth: 200,
                                                borderless: !0,
                                                on: {
                                                    onaftertabclick: function () {
                                                        this.getParentView().callEvent("onExcelSheetSelect", [this.getValue()]);
                                                    },
                                                },
                                            },
                                        ];
                                    },
                                    getValue: function () {
                                        return this.getInput().getValue();
                                    },
                                    setValue: function (t) {
                                        return this.getInput().setValue(t);
                                    },
                                    getInput: function () {
                                        return this.getChildViews()[0];
                                    },
                                    setSheets: function (t) {
                                        var e = this.getInput();
                                        (e.config.options = t), e.refresh();
                                    },
                                },
                                ir.view
                            ),
                            {
                                name: "vscroll",
                                $apiOnly: !0,
                                defaults: { scroll: "x", scrollPos: 0, scrollSize: 18, scrollVisible: 1, zoom: 1 },
                                $init: function (t) {
                                    var e = t.scroll || "x",
                                        i = (this.Vt = _(t.container));
                                    (i.className += " webix_vscroll_" + e), (i.innerHTML = "<div class='webix_vscroll_body'></div>"), Zt(i, "scroll", this.yw, { bind: this }), (this.Lh = 0);
                                },
                                $skin: function () {
                                    this.defaults.scrollStep = Ve.rowHeight;
                                },
                                reset: function () {
                                    (this.config.scrollPos = 0), (this.Vt["x" == this.config.scroll ? "scrollLeft" : "scrollTop"] = 0);
                                },
                                Mw: function (t) {
                                    return 15e5 < t ? ((this.P.zoom = t / 1e6), (t = 1e6)) : (this.P.zoom = 1), t;
                                },
                                scrollWidth_setter: function (t) {
                                    return (t = this.Mw(t)), (this.Vt.firstChild.style.width = t + "px"), t;
                                },
                                scrollHeight_setter: function (t) {
                                    return (t = this.Mw(t)), (this.Vt.firstChild.style.height = t + "px"), t;
                                },
                                sizeTo: function (t, e, i) {
                                    t = t - (e || 0) - (i || 0);
                                    var n = this.P.scrollSize;
                                    G.isIE && n && (n += 1),
                                        n || !this.P.scrollVisible || G.$customScroll || ((this.Vt.style.pointerEvents = "none"), (n = 14)),
                                        n
                                            ? ((this.Vt.style.display = "block"),
                                              e && (this.Vt.style.marginTop = e + "px"),
                                              (this.Vt.style["x" == this.P.scroll ? "width" : "height"] = Math.max(0, t) + "px"),
                                              (this.Vt.style["x" == this.P.scroll ? "height" : "width"] = n + "px"))
                                            : (this.Vt.style.display = "none"),
                                        (this.Lh = t);
                                },
                                getScroll: function () {
                                    return Math.round(this.P.scrollPos * this.P.zoom);
                                },
                                getSize: function () {
                                    return Math.round((this.P.scrollWidth || this.P.scrollHeight) * this.P.zoom);
                                },
                                Sw: function () {
                                    var t = this.getScroll(),
                                        e = Math.max(this.getSize() - this.Lh, 0);
                                    e < t && this.scrollTo(e);
                                },
                                scrollTo: function (t) {
                                    t < 0 && (t = 0);
                                    var e = this.P;
                                    if (((t /= e.zoom) < 0 && (t = 0), t != this.P.scrollPos)) return (this.Vt["x" == e.scroll ? "scrollLeft" : "scrollTop"] = t), this.kw(t, !0), !0;
                                },
                                yw: function () {
                                    var t = this.Vt["x" == this.P.scroll ? "scrollLeft" : "scrollTop"];
                                    Math.floor(t) != Math.floor(this.P.scrollPos) && this.kw(t, !1);
                                },
                                kw: function (t, e) {
                                    var i = this.P.scrollWidth || this.P.scrollHeight;
                                    t >= i - this.Lh / (e ? this.P.zoom : 1) && (t = Math.max(0, i - this.Lh / this.P.zoom)), (this.P.scrollPos = t || 0), this.callEvent("onScroll", [this.getScroll()]);
                                },
                                activeArea: function (t, e) {
                                    (this.Cw = e), Zt(t, "wheel", this.$w, { bind: this, passive: !1 }), this.Dw(t);
                                },
                                Dw: function (t) {
                                    !G.touch &&
                                        window.navigator.pointerEnabled &&
                                        (_t(t, "webix_scroll_touch_ie", !0),
                                        Zt(
                                            t,
                                            "pointerdown",
                                            function (t) {
                                                ("touch" != t.pointerType && "pen" != t.pointerType) || ((this.Ge = Ue.js(t)), (this.Iw = this.getScroll()));
                                            },
                                            { bind: this }
                                        ),
                                        Jt(
                                            document.body,
                                            "pointermove",
                                            function (t) {
                                                var e;
                                                this.Ge && ((this.Xe = Ue.js(t)), "x" == this.P.scroll ? (e = this.Xe.x - this.Ge.x) : "y" == this.P.scroll && (e = this.Xe.y - this.Ge.y), e && 5 < Math.abs(e) && this.scrollTo(this.Iw - e));
                                            },
                                            { bind: this }
                                        ),
                                        Jt(
                                            window,
                                            "pointerup",
                                            function () {
                                                this.Ge && (this.Ge = this.Xe = null);
                                            },
                                            { bind: this }
                                        ));
                                },
                                $w: function (t) {
                                    var e = 0,
                                        i = 0 === t.deltaMode ? 30 : 1;
                                    return (
                                        !t.ctrlKey &&
                                        (t.deltaX && Math.abs(t.deltaX) > Math.abs(t.deltaY) ? this.Cw && this.P.scrollVisible && (e = t.deltaX / i) : !this.Cw && this.P.scrollVisible && (e = v(t.deltaY) ? t.detail : t.deltaY / i),
                                        G.isSafari && (this.Aw = t.target),
                                        e && this.scrollTo(this.getScroll() + e * this.P.scrollStep) ? yt(t) : void 0)
                                    );
                                },
                            }),
                        go =
                            (t.protoUI(mo, E, Pe),
                            {
                                Tw: function () {
                                    (this.Fw = !0),
                                        (this.Vw = {}),
                                        this.define("select", "area"),
                                        this.attachEvent("onAfterScroll", function () {
                                            this.refreshSelectArea();
                                        }),
                                        this.attachEvent("onAfterRender", function () {
                                            this.refreshSelectArea(), this.zw();
                                        }),
                                        this.attachEvent("onColumnResize", function () {
                                            this.refreshSelectArea();
                                        }),
                                        this.attachEvent("onBeforeColumnHide", function (t) {
                                            this.Bw = this.getColumnIndex(t);
                                        }),
                                        this.attachEvent("onAfterColumnHide", function () {
                                            this.Hw(this.Bw);
                                        }),
                                        this.attachEvent("onSyncScroll", this.Rw),
                                        (this.Ew = function (t, e, i, n) {
                                            if (t.row && e.row) {
                                                if (i) return this.addSelectArea(t, e, !0), !(this.Fw = !0);
                                                if (!this.callEvent("onAreaDrag", [t, e, n])) return !1;
                                                this.Pw || !this.Fw || (this.P.multiselect && n && n.ctrlKey) || (this.removeSelectArea(), (this.Fw = !1));
                                            }
                                        }),
                                        this.attachEvent("onBeforeAreaAdd", this.jw),
                                        Zt(this.st, G.mouse.down, this.Nw, { bind: this });
                                },
                                Rw: function (t, e, i) {
                                    Ue.ms(this.Lw, t, e, i), Ue.ms(this.Ow, t, e, i), Ue.ms(this.Ww, t, e, i);
                                },
                                Uw: !0,
                                Hw: function (t) {
                                    var e = this.Vw;
                                    for (var i in e) {
                                        var n = e[i];
                                        if (this.getColumnIndex(n.start.column) < 0)
                                            if (n.start.column == n.end.column) this.removeSelectArea(n.name);
                                            else {
                                                var s = this.columnId(t);
                                                s && this.Yw(n.name, { row: n.start.row, column: s }, null);
                                            }
                                        else if (this.getColumnIndex(n.end.column) < 0) {
                                            var r = this.columnId(t - 1);
                                            r && this.Yw(n.name, null, { row: n.end.row, column: r });
                                        }
                                    }
                                },
                                qw: function (t, e, i, n) {
                                    var s, r, o, a, l, h, c, d;
                                    if (e) {
                                        (s = this.getColumnIndex(e.start.column)),
                                            (r = this.getColumnIndex(e.end.column)),
                                            (o = this.getIndexById(e.start.row)),
                                            (a = this.getIndexById(e.end.row)),
                                            (l = this.getColumnIndex(t.column)),
                                            (h = this.getIndexById(t.row)),
                                            (c = this.getIndexById(e.init.row)),
                                            (d = this.getColumnIndex(e.init.column)),
                                            l < s || "left" == i
                                                ? "left" === i && n.ctrl
                                                    ? ((s = this.Gw(c, s, i)), (r = d))
                                                    : "left" === i && d < r
                                                    ? r--
                                                    : (s = l)
                                                : (r <= l || "right" == i) && ("right" == i && n.ctrl ? ((r = this.Gw(c, r, i)), (s = d)) : "right" == i && s < d ? s++ : (r = l)),
                                            h < o || "up" == i
                                                ? "up" == i && n.ctrl
                                                    ? ((o = this.Gw(o, d, i)), (a = c))
                                                    : "up" == i && c < a
                                                    ? a--
                                                    : (o = h)
                                                : (a < h || "down" == i) && ("down" == i && n.ctrl ? ((a = this.Gw(a, d, i)), (o = c)) : "down" == i && o < c ? o++ : (a = h));
                                        var u = { row: this.getIdByIndex(o), column: this.columnId(s) },
                                            p = { row: this.getIdByIndex(a), column: this.columnId(r) };
                                        this.callEvent("onBeforeBlockSelect", [u, p, !0]) && (this.Yw(e.name, u, p), this.callEvent("onSelectChange", []), this.callEvent("onAfterBlockSelect", [u, p]));
                                    }
                                },
                                Gw: function (t, e, i) {
                                    var n = this.config.columns,
                                        s = this.data.order,
                                        r = this.data.pull[s[t]],
                                        o = n[e].id,
                                        a = 0;
                                    if ("right" == i)
                                        for (var l = e + 1; l < n.length; l++) {
                                            if (r[n[l].id]) {
                                                a = l;
                                                break;
                                            }
                                            a = l;
                                        }
                                    else if ("left" == i) {
                                        for (var h = e - 1; 0 <= h; h--)
                                            if (r[n[h].id]) {
                                                a = h;
                                                break;
                                            }
                                    } else if ("down" == i)
                                        for (var c = t + 1; c < s.length; c++) {
                                            if (this.getItem(s[c])[o]) {
                                                a = c;
                                                break;
                                            }
                                            a = c;
                                        }
                                    else if ("up" == i)
                                        for (var d = t - 1; 0 <= d; d--)
                                            if (this.getItem(s[d])[o]) {
                                                a = d;
                                                break;
                                            }
                                    return a;
                                },
                                Yw: function (e, i, n, s) {
                                    var r = this.Vw[e];
                                    if (!r) return !1;
                                    var o = f(r),
                                        a = { start: i || r.start, end: n || r.end };
                                    this.jw(a), t.extend(r, a, !0), this.refreshSelectArea(), this.zw(o), s && this.callEvent("onSelectChange", []);
                                },
                                areaselect_setter: function (t) {
                                    return t && (this.Tw(), (this.Tw = function () {})), this.define("blockselect", t), t;
                                },
                                addSelectArea: function (t, e, i, n, s, r) {
                                    var o, a, l, h, c;
                                    (o = this.getIndexById(t.row)),
                                        (a = this.getIndexById(e.row)),
                                        (l = this.getColumnIndex(t.column)),
                                        a < o && ((c = o), (o = a), (a = c)),
                                        (h = this.getColumnIndex(e.column)) < l && ((c = l), (l = h), (h = c)),
                                        (n = n || this.Pw || x()),
                                        (this.Pw = null);
                                    var d = { start: { row: this.getIdByIndex(o), column: this.columnId(l) }, end: { row: this.getIdByIndex(a), column: this.columnId(h) } };
                                    if ((s && (d.css = s), (r || !1 === r) && (d.handle = r), this.Vw[n])) return this.Yw(n, d.start, d.end, !0);
                                    (d.handle = !0),
                                        (d.name = n),
                                        (d.init = d.start),
                                        this.callEvent("onBeforeAreaAdd", [d]) &&
                                            ((this.Xw = n),
                                            i || this.removeSelectArea(),
                                            (this.Vw[d.name] = d),
                                            this.Kw.push(d),
                                            this.refreshSelectArea(),
                                            this.zw(),
                                            this.callEvent("onAfterAreaAdd", [d]),
                                            this.callEvent("onSelectChange", []));
                                },
                                Jw: function () {
                                    var t = dt("DIV");
                                    return (t.className = "webix_area_selection_layer"), (t.style.top = this.Zw + "px"), t;
                                },
                                refreshSelectArea: function () {
                                    var t,
                                        e,
                                        i,
                                        n,
                                        s = null,
                                        r = null,
                                        o = null,
                                        a = this.P.prerender;
                                    if (this.Qw) {
                                        (t = this.tx(a)),
                                            (e = this.ix(!0 === a)),
                                            this.Lw ||
                                                ((this.Lw = this.Jw()),
                                                this.st.childNodes[1].appendChild(this.Lw),
                                                (this.Ow = this.Jw()),
                                                this.st.childNodes[0].appendChild(this.Ow),
                                                (this.Ww = this.Jw()),
                                                this.st.childNodes[2].appendChild(this.Ww)),
                                            (this.Lw.innerHTML = ""),
                                            (this.Ow.innerHTML = ""),
                                            (this.Ww.innerHTML = "");
                                        var l = this.P.leftSplit,
                                            h = this.P.rightSplit;
                                        for (i in this.Vw) {
                                            n = this.Vw[i];
                                            var c = this.nx(n, t, e);
                                            if (null !== c) {
                                                var d = this.getColumnIndex(n.start.column),
                                                    u = this.getColumnIndex(n.end.column);
                                                if (c.r0 <= c.r1) {
                                                    if (this.P.topSplit && this.P.topSplit <= void 0 && void 0 < this.hx) return !1;
                                                    d < l && (r = this.ox(c.r0, d, c.r1, Math.min(u, l - 1))),
                                                        c.c0 <= c.c1 && (s = this.ox(c.r0, c.c0, c.r1, c.c1)),
                                                        h && u >= this.ax && (o = this.ox(c.r0, Math.max(d, this.ax), c.r1, u)),
                                                        (r || s || o) && this.ux(r, s, o, i, n.css, n.handle);
                                                }
                                            } else this.removeSelectArea(i);
                                        }
                                    }
                                },
                                nx: function (t, e, i) {
                                    var n,
                                        s,
                                        r = this.getIndexById(t.start.row),
                                        o = this.getIndexById(t.end.row),
                                        a = this.getColumnIndex(t.start.column),
                                        l = this.getColumnIndex(t.end.column);
                                    if (-1 === a || -1 === l) return null;
                                    if (-1 === r || -1 === o) return null;
                                    if (((s = Math.min(i[1], o)), this.P.topSplit)) {
                                        if (((n = r) >= this.P.topSplit && (n = Math.max(i[0] - this.P.topSplit, r)), s >= this.P.topSplit)) {
                                            var h = this.at(this.getIdByIndex(o), t.end.column),
                                                c = this.at(this.getIdByIndex(this.P.topSplit - 1), t.end.column);
                                            c.top + c.height > h.top + h.height && (s = this.P.topSplit - 1);
                                        }
                                    } else n = Math.max(i[0], this.getIndexById(t.start.row));
                                    return { r0: n, r1: s, c0: Math.max(e[0], a), c1: Math.min(this.ax ? e[1] - 1 : e[1], l) };
                                },
                                ox: function (t, e, i, n) {
                                    return [this.at(this.getIdByIndex(t), this.columnId(e)), this.at(this.getIdByIndex(i), this.columnId(n))];
                                },
                                ux: function (t, e, i, n, s, r) {
                                    var o,
                                        a,
                                        l = this.Vw[n],
                                        h = 0;
                                    this.P.topSplit && (h = this.cx(l.start, !0));
                                    var c = function (t, e, i, r, o) {
                                        var a,
                                            l,
                                            c,
                                            d,
                                            u,
                                            p,
                                            f = { top: 1, right: 1, bottom: 1, left: 1 };
                                        for (a in (r && delete f.left, o && delete f.right, (l = i.top - e.top + i.height - 1), (c = i.left - e.left + i.width), f)) {
                                            (d = e.top + h),
                                                "bottom" == a && (d = i.top + i.height),
                                                (u = e.left),
                                                "right" == a && (u = i.left + i.width),
                                                (p = "top" == a || "bottom" == a),
                                                t.appendChild(
                                                    dt(
                                                        "DIV",
                                                        {
                                                            class: "webix_area_selection webix_area_selection_" + a + (s ? " " + s : ""),
                                                            style: "left:" + u + "px;top:" + d + "px;" + (p ? "width:" + c + "px;" : "height:" + (l - h) + "px;"),
                                                            webix_area_name: n,
                                                        },
                                                        ""
                                                    )
                                                );
                                            var m = t.lastChild;
                                            "right" == a && (m.style.left = u - m.offsetWidth + "px"),
                                                "bottom" == a && (m.style.top = d - m.offsetHeight + "px"),
                                                h && ("top" == a && (m.style.display = "none"), i.height == h && "bottom" == a && (m.style.display = "none"));
                                        }
                                    };
                                    i && c(this.Ww, i[0], i[1], !!e, !1),
                                        e && c(this.Lw, e[0], e[1], !!t, !!i),
                                        t && c(this.Ow, t[0], t[1], !1, !!e),
                                        r &&
                                            ((a = i ? i[1] : e ? e[1] : t[1]),
                                            (o = i ? this.Ww : e ? this.Lw : this.Ow).appendChild(
                                                dt("DIV", { class: "webix_area_selection_handle" + (s ? " " + s : ""), style: "left:" + (a.left + a.width) + "px;top:" + (a.top + a.height) + "px;", webix_area_name: n }, "")
                                            ),
                                            h && a.height == h && (o.lastChild.style.display = "none"));
                                },
                                vx: function (t) {
                                    if (t) {
                                        var e = function (e) {
                                            for (var i = e.childNodes, n = i.length - 1; 0 <= n; n--) i[n].getAttribute("webix_area_name") == t && e.removeChild(i[n]);
                                        };
                                        e(this.Lw), e(this.Ow), e(this.Ww);
                                    }
                                },
                                removeSelectArea: function (t) {
                                    if (t && this.Vw[t]) {
                                        if (this.callEvent("onBeforeAreaRemove", [t])) {
                                            for (var e in (this.zw(f(this.Vw[t]), !0), delete this.Vw[t], this.vx(t), (this.Kw = []), this.Vw)) this.Kw.push(this.Vw[e]);
                                            this.callEvent("onAfterAreaRemove", [t]);
                                        }
                                    } else for (var i in this.Vw) this.removeSelectArea(i);
                                },
                                Nw: function (t) {
                                    var e = t.target,
                                        i = Ct(e);
                                    if (i && -1 != i.indexOf("webix_area_selection_handle")) {
                                        var n = e.getAttribute("webix_area_name");
                                        this.Pw = n;
                                        var s = this.Vw[n],
                                            r = this.at(s.start.row, s.start.column),
                                            o = this.at(s.end.row, s.end.column),
                                            a = this.P.prerender,
                                            l = this.getColumnIndex(s.start.column) < this.P.leftSplit ? 0 : this._x,
                                            h = this.getColumnIndex(s.end.column) < this.P.leftSplit ? 0 : this._x;
                                        (this.bx = [r.left + 1 + l - this.bh, r.top + 1 - (a ? this._h : 0), { row: s.start.row, column: s.start.column }]),
                                            (this.gx = gt(this.st)),
                                            this.wx(t),
                                            (this.xx = [o.left + 1 + h - this.bh, o.top + 1 - (a ? this._h : 0)]),
                                            this.yx(!1, !1, t),
                                            yt(t),
                                            this.Mx();
                                    }
                                },
                                getSelectArea: function (t) {
                                    return this.Vw[t || this.Xw];
                                },
                                getAllSelectAreas: function () {
                                    return this.Vw;
                                },
                                jw: function (t, e) {
                                    var i,
                                        n,
                                        s,
                                        r,
                                        o,
                                        a,
                                        l,
                                        h,
                                        c,
                                        d,
                                        u,
                                        p,
                                        f,
                                        m = !1,
                                        g = t.start,
                                        v = t.end;
                                    for (d = o = this.getIndexById(g.row), u = s = this.getColumnIndex(g.column), p = a = this.getIndexById(v.row), f = r = this.getColumnIndex(v.column), i = o; i <= a; i++)
                                        if (this.getItem(this.getIdByIndex(i)).$row && !e) (m = !0), (f = this.rl.length - 1);
                                        else if (this.config.spans)
                                            for (n = s; n <= r; n++)
                                                (l = this.getSpan(this.getIdByIndex(i), this.columnId(n))) &&
                                                    ((h = this.getIndexById(l[0])) < d && ((d = h), (m = !0)),
                                                    (c = this.getColumnIndex(l[1])) < u && ((m = !0), (u = c)),
                                                    h + l[3] - 1 > p && ((m = !0), (p = h + l[3] - 1)),
                                                    c + l[2] - 1 > f && ((m = !0), (f = c + l[2] - 1)));
                                    m && ((t.start = { row: this.getIdByIndex(d), column: this.columnId(u) }), (t.end = { row: this.getIdByIndex(p), column: this.columnId(f) }), this.jw(t, !0));
                                },
                                zw: function (t, e) {
                                    var i;
                                    if ((t && (i = this.getItemNode({ row: t.start.row, column: t.start.column })) && i.removeAttribute("tabindex"), !e && this.Kw.length)) {
                                        var n = this.getSelectedId(!0)[0];
                                        (i = this.getItemNode(n)) && i.setAttribute("tabindex", "1");
                                    }
                                },
                            }),
                        vo = {
                            filterByAll: function () {
                                var t = !1;
                                this.data.silent(function () {
                                    this.filter();
                                    var e = !1;
                                    for (var i in this.So)
                                        if (this.isColumnVisible(i)) {
                                            var n = this.So[i],
                                                s = n[2].getValue(n[0]),
                                                r = s;
                                            n[1].prepare && (r = n[1].prepare.call(n[2], r, n[1], this)), (n[1].value = s);
                                            var o = n[1].compare;
                                            if (this.callEvent("onBeforeFilter", [i, r, n[1]]))
                                                if (n[2].$server || t) t = !0;
                                                else {
                                                    if ("" === r) continue;
                                                    o
                                                        ? ((o = this.Sx(i, o)),
                                                          this.filter(
                                                              m(function (t, e) {
                                                                  return !!t && o(t[i], e, t);
                                                              }, this),
                                                              r,
                                                              e
                                                          ))
                                                        : this.filter(i, r, e),
                                                        (e = !0);
                                                }
                                        }
                                    t && this.kx();
                                }, this),
                                    t || (this.refresh(), this.callEvent("onAfterFilter", []));
                            },
                            Sx: function (t, e) {
                                var i = this.getColumnConfig(t),
                                    n = i ? i.optionslist : null;
                                return n
                                    ? ("string" != typeof n && (n = ","),
                                      function (t, i, s) {
                                          if (!t) return !1;
                                          for (var r = t.toString().split(n), o = 0; o < r.length; o++) if (e(r[o], i, s)) return !0;
                                      })
                                    : e;
                            },
                            filterMode_setter: function (e) {
                                return t.extend(this.data.so, e, !0);
                            },
                            getFilter: function (t) {
                                var e = this.So[t];
                                return e && e[2].Wd ? e[2].Wd(e[0]) : e && e[2].getInputNode ? e[2].getInputNode(e[0]) : null;
                            },
                            registerFilter: function (t, e, i) {
                                this.So[e.columnId] = [t, e, i];
                            },
                            collectValues: function (t, e) {
                                var i = this.getColumnConfig(t),
                                    n = e && e.visible ? null : i.collection,
                                    s = { values: n ? this.Vl.call(n, "id", "value") : this.Vl(i.id, i.id) };
                                return this.callEvent("onCollectValues", [t, s]), s.values;
                            },
                            Vl: function (t, i) {
                                var n = { "": !0 },
                                    s = [];
                                if (
                                    (this.data.each(
                                        function (r) {
                                            var o = r ? r[t] : "";
                                            0 === o && (o = "0"), "object" == e(o) && (o = String(o)), void 0 === o || n[o] || ((n[o] = !0), s.push({ id: o, value: r[i] }));
                                        },
                                        this,
                                        !0
                                    ),
                                    s.length)
                                ) {
                                    var r = "string" == typeof s[0].value ? "string" : "raw";
                                    s.sort(this.data.sorting.create({ as: r, by: "value", dir: "asc" }));
                                }
                                return s;
                            },
                            kx: function () {
                                var t = this;
                                this.loadNext(0, 0, 0, 0, 1).then(function (e) {
                                    t.editStop && t.editStop(), t.clearAll(!0), t.parse(e), t.callEvent("onAfterFilter", []);
                                });
                            },
                        },
                        bo = {
                            hover_setter: function (t) {
                                var e = this;
                                return (
                                    t &&
                                        !this.Cx &&
                                        (this.Wu(),
                                        (this.config.experimental = !0),
                                        this.attachEvent("onMouseMoving", function (t) {
                                            var i = e.locate(t);
                                            !i && G.isEdge && t.relatedTarget && (i = e.locate(t.relatedTarget));
                                            var n = i ? i.row : null;
                                            e.$x != n && (e.$x && e.removeRowCss(e.$x, e.P.hover), (e.$x = n), e.$x && e.addRowCss(e.$x, e.P.hover));
                                        }),
                                        Zt(this.$view, "mouseout", function (t) {
                                            var i = t.target;
                                            e.$x && document.body.contains(i) && ((t.relatedTarget && e.locate(t.relatedTarget)) || (e.removeRowCss(e.$x, e.P.hover), (e.$x = null)));
                                        }),
                                        (this.Cx = 1)),
                                    t
                                );
                            },
                            select_setter: function (e) {
                                return !this.select && e && (t.extend(this, this.Ix.Dx, !0), !0 === e ? (e = "row") : "multiselect" == e && ((e = "row"), (this.P.multiselect = !0)), this.Ix[e], t.extend(this, this.Ix[e], !0)), e;
                            },
                            getSelectedId: function (t) {
                                return t ? [] : "";
                            },
                            getSelectedItem: function (t) {
                                return zi.getSelectedItem.call(this, t);
                            },
                            Ix: {
                                Dx: {
                                    Ax: " webix_cell_select",
                                    $init: function () {
                                        this.Tx(),
                                            (this.on_click.webix_cell = m(this.Fx, this)),
                                            (this.Vx = this.Cc = function () {
                                                this.unselect();
                                            }),
                                            this.data.attachEvent("onStoreUpdated", m(this.Sc, this)),
                                            this.data.attachEvent("onSyncApply", m(this.zx, this)),
                                            this.data.attachEvent("onClearAll", m(this.Vx, this)),
                                            this.data.attachEvent("onAfterFilter", m(this.Cc, this)),
                                            this.data.attachEvent("onIdChange", m(this.Ic, this)),
                                            this.$ready.push(zi.Ac);
                                    },
                                    Ic: function (t, e) {
                                        for (var i = 0; i < this.Bx.length; i++) this.Bx[i] == t && (this.Bx[i] = e);
                                        for (var n = 0; n < this.Kw.length; n++) {
                                            var s = this.Kw[n];
                                            s.row == t && ((t = this.Hx(s)), (s.row = e), (e = this.Hx(s)), (s.id = e), delete this.Rx[t], (this.Rx[e] = !0));
                                        }
                                    },
                                    Sc: function (t, e, i) {
                                        "delete" == i && this.unselect(t);
                                    },
                                    zx: function () {
                                        for (var t = this.Kw.length - 1; 0 <= t; t--) {
                                            var e = this.Kw[t].row;
                                            this.exists(e) || (this.Kw.splice(t, 1), delete this.Rx[e]);
                                        }
                                    },
                                    Tx: function () {
                                        (this.Kw = []), (this.Rx = {}), (this.Bx = []);
                                    },
                                    isSelected: function (t, i) {
                                        var n;
                                        return (n = v(i) ? ("object" === e(t) ? this.Hx(t) : t) : this.Hx({ row: t, column: i })), this.Rx[n];
                                    },
                                    getSelectedId: function (t, e) {
                                        var i;
                                        if (1 < this.Kw.length || t) {
                                            if (((i = [].concat(this.Kw)), e)) for (var n = 0; n < i.length; n++) i[n] = i[n].id;
                                        } else if (((i = this.Kw[0]), e && i)) return i.id;
                                        return i;
                                    },
                                    Ex: function () {
                                        return this.row;
                                    },
                                    Fo: function (t, e) {
                                        var i = this.Hx(t);
                                        if (null !== i) {
                                            if (-1 === e) return this.Px(t);
                                            if (((t.id = i), (t.toString = this.Ex), !this.callEvent("onBeforeSelect", [t, e]))) return !1;
                                            if (!this.Rx[i] || (!e && 1 != this.Kw.length)) return e || this.jx(), this.Kw.push(t), (this.Rx[i] = !0), this.callEvent("onAfterSelect", [t, e]), this.Nx(this.Lx(t)), !0;
                                        }
                                    },
                                    jx: function () {
                                        if (!this.Kw.length) return !1;
                                        for (var t = 0; t < this.Kw.length; t++) if (!this.callEvent("onBeforeUnSelect", [this.Kw[t]])) return !1;
                                        for (var e = 0; e < this.Bx.length; e++) this.data.removeMark(this.Bx[e], "webix_selected");
                                        var i = this.P.columns;
                                        if (i) for (var n = 0; n < i.length; n++) i[n].$selected = null;
                                        var s = this.Kw;
                                        this.Tx();
                                        for (var r = 0; r < s.length; r++) this.callEvent("onAfterUnSelect", [s[r]]);
                                        return !0;
                                    },
                                    unselectAll: function () {
                                        this.clearSelection();
                                    },
                                    selectAll: function () {
                                        this.selectRange();
                                    },
                                    clearSelection: function () {
                                        this.jx() && (this.callEvent("onSelectChange", []), this.render());
                                    },
                                    Px: function (t) {
                                        var e = this.Hx(t);
                                        if ((!e && this.Kw.length && (this.clearSelection(), this.callEvent("onSelectChange", [])), this.Rx[e])) {
                                            if (!this.callEvent("onBeforeUnSelect", [t])) return !1;
                                            for (var i = 0; i < this.Kw.length; i++)
                                                if (this.Kw[i].id == e) {
                                                    this.Kw.splice(i, 1);
                                                    break;
                                                }
                                            delete this.Rx[e], this.callEvent("onAfterUnSelect", [t]), this.Nx(0, this.Ox(t));
                                        }
                                    },
                                    Wx: function (t) {
                                        var e = this.getItem(t);
                                        return this.data.addMark(e.id, "webix_selected", 0, { $count: 0 }, !0);
                                    },
                                    Nx: function (t) {
                                        t && this.Bx.push(t), this.Fc || (this.render(), this.callEvent("onSelectChange", []));
                                    },
                                    Fx: function (t, e) {
                                        var i = t.ctrlKey || t.metaKey || "touch" == this.P.multiselect,
                                            n = t.shiftKey;
                                        if ((this.P.multiselect || "multiselect" == this.P.select || "area" == this.P.select || (i = n = !1), n && this.Kw.length)) {
                                            var s = this.Kw[this.Kw.length - 1];
                                            this.Ux(e, s);
                                        } else i && this.Rx[this.Hx(e)] ? this.Px(e) : this.Fo({ row: e.row, column: e.column }, i);
                                    },
                                    Yx: function (t, e, i) {
                                        var n = this.P.columns;
                                        if (e) {
                                            for (var s = [], r = 0; r < n.length; r++) n[r].$selected && s.push(n[r]);
                                            n = s;
                                        }
                                        for (var o = this.data.order, a = 0, l = 0; l < o.length; l++) {
                                            var h = this.getItem(o[l]);
                                            if (h) {
                                                var c = this.data.getMark(h.id, "webix_selected");
                                                if (c || e) {
                                                    for (var d = 0, u = 0; u < n.length; u++) {
                                                        var p = n[u].id;
                                                        if (i || e || c[p]) {
                                                            if (!t) return { row: o[l], column: p };
                                                            (h[p] = t(h[p], o[l], p, a, d)), d++;
                                                        }
                                                    }
                                                    a++;
                                                }
                                            }
                                        }
                                    },
                                },
                                row: {
                                    Ax: " webix_row_select",
                                    Hx: function (t) {
                                        return t.row;
                                    },
                                    select: function (t, e) {
                                        t && (t = t.toString()), this.data.exists(t), this.Fo({ row: t }, e);
                                    },
                                    Lx: function (t) {
                                        return (this.Wx(t.row).$row = !0), t.row;
                                    },
                                    unselect: function (t) {
                                        this.Px({ row: t });
                                    },
                                    Ox: function (t) {
                                        return this.data.removeMark(t.row, "webix_selected", 0, 1), t.row;
                                    },
                                    mapSelection: function (t) {
                                        return this.Yx(t, !1, !0);
                                    },
                                    Ux: function (t, e) {
                                        return this.selectRange(t.row, e.row);
                                    },
                                    selectRange: function (t, e, i) {
                                        v(i) && (i = !0);
                                        var n = t ? this.getIndexById(t) : 0,
                                            s = e ? this.getIndexById(e) : this.data.order.length - 1;
                                        if (s < n) {
                                            var r = n;
                                            (n = s), (s = r);
                                        }
                                        this.Fc = !0;
                                        for (var o = n; o <= s; o++) {
                                            var a = this.getIdByIndex(o);
                                            if (!a) {
                                                t && this.select(t);
                                                break;
                                            }
                                            this.select(a, i);
                                        }
                                        (this.Fc = !1), this.Nx();
                                    },
                                },
                                cell: {
                                    Hx: function (t) {
                                        return t.column ? t.row + "_" + t.column : null;
                                    },
                                    select: function (t, e, i) {
                                        this.data.exists(t), this.Fo({ row: t, column: e }, i);
                                    },
                                    Lx: function (t) {
                                        var e = this.Wx(t.row);
                                        return e.$count++, (e[t.column] = !0), t.row;
                                    },
                                    unselect: function (t, e) {
                                        this.Px({ row: t, column: e });
                                    },
                                    Ox: function (t) {
                                        var e = this.Wx(t.row);
                                        return e.$count--, (e[t.column] = !1), e.$count <= 0 && this.data.removeMark(t.row, "webix_selected"), t.row;
                                    },
                                    mapSelection: function (t) {
                                        return this.Yx(t, !1, !1);
                                    },
                                    Ux: function (t, e) {
                                        return this.selectRange(t.row, t.column, e.row, e.column);
                                    },
                                    selectRange: function (t, e, i, n, s) {
                                        v(s) && (s = !0);
                                        var r = t ? this.getIndexById(t) : 0,
                                            o = i ? this.getIndexById(i) : this.data.order.length - 1,
                                            a = e ? this.getColumnIndex(e) : 0,
                                            l = n ? this.getColumnIndex(n) : this.rl.length - 1;
                                        if (o < r) {
                                            var h = r;
                                            (r = o), (o = h);
                                        }
                                        if (l < a) {
                                            var c = a;
                                            (a = l), (l = c);
                                        }
                                        this.Fc = !0;
                                        for (var d = r; d <= o; d++) for (var u = a; u <= l; u++) this.select(this.getIdByIndex(d), this.columnId(u), s);
                                        (this.Fc = !1), this.Nx();
                                    },
                                },
                                column: {
                                    Ax: " webix_column_select",
                                    Hx: function (t) {
                                        return t.column;
                                    },
                                    Ex: function () {
                                        return this.column;
                                    },
                                    select: function (t, e) {
                                        this.Fo({ column: t }, e);
                                    },
                                    Lx: function (t) {
                                        (this.P.columns[this.getColumnIndex(t.column)].$selected = !0), this.Fc || this.qx();
                                    },
                                    unselect: function (t) {
                                        this.Px({ column: t });
                                    },
                                    Ox: function (t) {
                                        (this.P.columns[this.getColumnIndex(t.column)].$selected = null), this.qx();
                                    },
                                    mapSelection: function (t) {
                                        return this.Yx(t, !0, !1);
                                    },
                                    Ux: function (t, e) {
                                        return this.selectRange(t.column, e.column);
                                    },
                                    selectRange: function (t, e, i) {
                                        v(i) && (i = !0);
                                        var n = t ? this.getColumnIndex(t) : 0,
                                            s = e ? this.getColumnIndex(e) : this.rl.length - 1;
                                        if (s < n) {
                                            var r = n;
                                            (n = s), (s = r);
                                        }
                                        this.Fc = !0;
                                        for (var o = n; o <= s; o++) this.select(this.columnId(o), i);
                                        (this.Fc = !1), this.qx(), this.Nx();
                                    },
                                    zx: function () {},
                                },
                                area: {
                                    Hx: function (t) {
                                        return t.row + "_" + t.column;
                                    },
                                    getSelectedId: function (t) {
                                        var e = this.getSelectArea(),
                                            i = [];
                                        if (e)
                                            if (!t || (e.start.row == e.end.row && e.start.column == e.end.column)) i.push(e.end);
                                            else {
                                                var n = this.getIndexById(e.start.row),
                                                    s = this.getIndexById(e.end.row);
                                                if (-1 == n || -1 == s) return i;
                                                for (var r = this.getColumnIndex(e.start.column), o = this.getColumnIndex(e.end.column), a = n; a <= s; a++)
                                                    for (var l = r; l <= o; l++) i.push({ row: this.getIdByIndex(a), column: this.columnId(l) });
                                            }
                                        return t ? i : i[0];
                                    },
                                    unselect: function () {
                                        this.Px();
                                    },
                                    Px: function () {
                                        this.removeSelectArea(), this.callEvent("onSelectChange", []);
                                    },
                                    mapSelection: function (t) {
                                        var e = this.getSelectArea();
                                        if (e)
                                            for (var i = this.getColumnIndex(e.start.column), n = this.getColumnIndex(e.end.column), s = this.getIndexById(e.start.row), r = this.getIndexById(e.end.row), o = s; o <= r; o++)
                                                for (var a = this.data.order[o], l = this.getItem(a), h = i; h <= n; h++) {
                                                    var c = this.rl[h].id;
                                                    if (!t) return { row: a, column: c };
                                                    l[c] = t(l[c], a, c, o - s, h - i);
                                                }
                                    },
                                    select: function (t, e, i) {
                                        this.data.exists(t), this.Fo({ row: t, column: e }, i);
                                    },
                                    Ux: function (t, e) {
                                        this.qw(t, e);
                                    },
                                    Fo: function (t) {
                                        return this.addSelectArea(t, t, !1), !0;
                                    },
                                    zx: function () {
                                        this.Kw.length && this.refreshSelectArea();
                                    },
                                },
                            },
                        },
                        yo = {
                            blockselect_setter: function (e) {
                                return (
                                    e &&
                                        this.Uw &&
                                        (G.touch ? this.attachEvent("onLongTouch", this.Gx) : Zt(this.Vt, G.mouse.down, this.Gx, { bind: this }),
                                        Zt(this.Vt, G.mouse.move, this.Xx, { bind: this }),
                                        (this.Uw = this.bx = this.xx = !1),
                                        this.attachEvent("onAfterScroll", this.Kx),
                                        t.extend(this, qt, !0),
                                        this.attachEvent("onBeforeAutoScroll", function () {
                                            return this.xx;
                                        })),
                                    e
                                );
                            },
                            Uw: !0,
                            Jx: function (t, e) {
                                for (var i = t.target; i; ) {
                                    if (i.getAttribute && i.getAttribute("webixignore")) return !1;
                                    if (i == e) return !0;
                                    i = i.parentNode;
                                }
                                return !1;
                            },
                            Gx: function (t) {
                                if ((!this.P.subview || this == ae(t.target)) && this.Jx(t, this.st)) {
                                    if ((t.target && "INPUT" == t.target.tagName) || this.Dv) return;
                                    this.gx = gt(this.st);
                                    var e = G.touch ? t : bt(t);
                                    (this.bx = [e.x - this.gx.x, e.y - this.gx.y]), yt(t), this.Mx();
                                }
                            },
                            Mx: function () {
                                var t = this,
                                    e = Jt(document.body, G.mouse.up, function (i) {
                                        return Qt(e), t.Zx(i);
                                    });
                            },
                            Zx: function (t) {
                                this.Qx && (this.yx("select", !0, t), (this.Qx = pt(this.Qx))), kt(document.body, "webix_noselect"), (this.bx = this.xx = !1), this.rt && (this.rt = window.clearTimeout(this.rt));
                            },
                            Kx: function () {
                                this.xx && b(this.yx, this, [!1, !1]);
                            },
                            yx: function (t, e, i) {
                                var n;
                                this.bx[2] || (this.bx[2] = this.ty.apply(this, this.bx)), (n = this.bx[2]);
                                var s = this.ty.apply(this, this.xx);
                                if (this.callEvent("onBeforeBlockSelect", [n, s, e, i])) {
                                    if ((!this.Ew || !1 !== this.Ew(n, s, e, i)) && n.row && s.row)
                                        if ("select" === t) this.jx(), this.Ux(n, s);
                                        else {
                                            var r, o, a, l;
                                            if ("box" === t) (r = Math.min(this.bx[0], this.xx[0])), (a = Math.max(this.bx[0], this.xx[0])), (o = Math.min(this.bx[1], this.xx[1])), (l = Math.max(this.bx[1], this.xx[1]));
                                            else {
                                                var h = this.at(n.row, n.column),
                                                    c = this.at(s.row, s.column),
                                                    d = this.getScrollState(),
                                                    u = h.width,
                                                    p = c.width;
                                                this.iy && this.bx[0] > this._x + this.ey
                                                    ? (h.left += this._x + this.ey)
                                                    : this._x
                                                    ? this.bx[0] > this._x && (h.left < d.x ? ((u -= d.x - h.left), (h.left = this._x)) : (h.left += this._x - d.x))
                                                    : (h.left -= d.x),
                                                    this.iy && this.xx[0] > this._x + this.ey
                                                        ? (c.left += this._x + this.ey)
                                                        : this._x
                                                        ? this.xx[0] > this._x && (c.left < d.x ? ((p -= d.x - c.left), (c.left = this._x)) : (c.left += this._x - d.x))
                                                        : (c.left -= d.x),
                                                    this.P.prerender && ((h.top -= this._h), (c.top -= this._h)),
                                                    (r = Math.min(h.left, c.left)),
                                                    (a = Math.max(h.left + u, c.left + p)),
                                                    (o = Math.min(h.top, c.top)),
                                                    (l = Math.max(h.top + h.height, c.top + c.height)),
                                                    this.P.topSplit && (o += this.cx(n)),
                                                    this.rt && (this.rt = window.clearTimeout(this.rt)),
                                                    !i || (G.touch && !this.P.prerender) || (this.rt = b(this.et, this, [bt(i)], 250));
                                            }
                                            var f = this.Qx.style;
                                            (f.left = r + "px"), (f.top = o + "px"), (f.width = a - r + "px"), (f.height = l - o + "px");
                                        }
                                    e && this.callEvent("onAfterBlockSelect", [n, s]);
                                }
                            },
                            wx: function () {
                                (this.Qx = dt("div", { class: "webix_block_selection" }, "")), this.st.appendChild(this.Qx);
                            },
                            Xx: function (t) {
                                if (!1 !== this.bx) {
                                    this.xx || _t(document.body, "webix_noselect");
                                    var e = G.touch ? G.mouse.context(t) : bt(t),
                                        i = [e.x - this.gx.x, e.y - this.gx.y];
                                    if (Math.abs(this.bx[0] - i[0]) < 5 && Math.abs(this.bx[1] - i[1]) < 5) return;
                                    !1 === this.xx && this.wx(t), (this.xx = i), this.yx(this.config.blockselect, !1, t), G.touch && yt(t);
                                }
                            },
                            ty: function (t, e) {
                                var i = !1,
                                    n = null,
                                    s = null;
                                if ((this.iy && t > this._x + this.ey ? (t += this.ph.getSize() - this.ey - this._x - this.iy) : (!this._x || t > this._x) && (t += this.ph.getScroll()), this.P.topSplit && this.hx > this.P.topSplit)) {
                                    var r = this.at(this.getIdByIndex(this.P.topSplit - 1), this.columnId(0));
                                    r.top + r.height > e && (i = !0);
                                }
                                i || (e += this.getScrollState().y), t < 0 && (t = 0), e < 0 && (e = 0);
                                for (var o = this.P.columns, a = this.data.order, l = 0, h = 0; h < o.length; h++)
                                    if (t <= (l += o[h].width)) {
                                        s = o[h].id;
                                        break;
                                    }
                                s || (s = o[o.length - 1].id), (l = 0);
                                var c = this.data.$min || 0;
                                if (this.P.fixedRowHeight) n = a[c + Math.floor(e / this.P.rowHeight)];
                                else
                                    for (var d = c; d < a.length; d++)
                                        if (e <= (l += this.ny(d))) {
                                            n = a[d];
                                            break;
                                        }
                                return n || (n = a[a.length - 1]), { row: n, column: s };
                            },
                            cx: function (t, e) {
                                var i = 0,
                                    n = this.getIndexById(t.row);
                                if (n >= this.P.topSplit) {
                                    var s = this.at(this.getIdByIndex(n), t.column),
                                        r = this.at(this.getIdByIndex(this.P.topSplit - 1), t.column);
                                    r.top + r.height > s.top && (i = r.top + r.height - (0 < s.top || !e ? s.top : 0));
                                }
                                return i;
                            },
                        },
                        wo = {
                            resizeRow_setter: function (t) {
                                return (this.P.scrollAlignY = !1), (this.P.fixedRowHeight = !1), this.resizeColumn_setter(t);
                            },
                            resizeColumn_setter: function (t) {
                                return t && this.hy && (Zt(this.Vt, "mousemove", this.oy, { bind: this }), Zt(this.Vt, "mousedown", this.ay, { bind: this }), Zt(this.Vt, "mouseup", this.uy, { bind: this }), (this.hy = !1)), t;
                            },
                            hy: !0,
                            ay: function (t) {
                                (this.P.subview && this != ae(t.target)) || (this.cy && ((this.Dv = [bt(t), this.cy[2]]), _t(document.body, "webix_noselect"), rt()));
                            },
                            uy: function () {
                                (this.Dv = !1), kt(document.body, "webix_noselect"), ot();
                            },
                            fy: function () {
                                if (!this.Fv) {
                                    var t = this.cy[0],
                                        e = this.Dv[1],
                                        i = this.Vs(e);
                                    if (i) {
                                        var n,
                                            s = this.Dv[0];
                                        "x" == t
                                            ? ((n = gt(e).x + this.cy[1] - gt(this.st).x), (s = s.x), this.cy[1] || (i.cind -= e.parentNode.colSpan || 1))
                                            : ((n = gt(e).y + this.cy[1] - gt(this.st).y + this.Zo), (s = s.y), this.cy[1] || i.rind--),
                                            0 <= i.cind &&
                                                0 <= i.rind &&
                                                ((this.Fv = [t, i, n]), new ne.resizearea({ container: this.Vt, dir: t, eventPos: s, start: n, cursor: ("x" == t ? "col" : "row") + "-resize" }).attachEvent("onResizeEnd", m(this.ly, this))),
                                            (this.ay = this.cy = !1);
                                    }
                                }
                            },
                            ly: function (t) {
                                if (this.Fv) {
                                    var e = this.Fv[0],
                                        i = this.Fv[1],
                                        n = t - this.Fv[2];
                                    if ("x" == e) {
                                        this.P.rightSplit && i.cind + 1 >= this.ax && i.cind !== this.rl.length - 1 && (i.cind++, (n *= -1));
                                        var s = this.rl[i.cind],
                                            r = s.width;
                                        delete s.fillspace, delete s.adjust, this.Do(i.cind, r + n, !0, !0), this.Io();
                                    } else {
                                        var o = this.getIdByIndex(i.rind),
                                            a = this.vy(this.getItem(o));
                                        this.setRowHeight(o, a + n);
                                    }
                                    this.uy();
                                }
                                this.Fv = null;
                            },
                            oy: function (t) {
                                var i = null,
                                    n = this.P;
                                if (this.cy && this.Dv) return this.fy(t);
                                var s = (t = t || event).target,
                                    r = !1,
                                    o = s.className || "",
                                    a = "string" == typeof o && -1 != o.indexOf("webix_cell");
                                if (!a || !n.drag) {
                                    var l = "string" == typeof o && -1 != o.indexOf("webix_hcell");
                                    if (((this.cy = !1), a || l)) {
                                        var h = s.offsetWidth,
                                            c = s.offsetHeight,
                                            d = vt(t),
                                            u = n.resizeRow;
                                        "object" == e(u) && u.headerOnly && 0 < (i = this.Vs(s)).cind && (u = !1),
                                            a &&
                                                u &&
                                                ((u = "object" == e(u) && u.size ? u.size : 3),
                                                d.y < u ? (i || (i = this.Vs(s)), i.rind && ((this.cy = ["y", 0, s]), (r = "row-resize"))) : c - d.y < u + 1 && ((this.cy = ["y", c, s]), (r = "row-resize")));
                                        var p = n.resizeColumn;
                                        "object" == e(p) && p.headerOnly && a && (p = !1),
                                            p && ((p = "object" == e(p) && p.size ? p.size : 3), d.x < p ? ((this.cy = ["x", 0, s]), (r = "col-resize")) : h - d.x < p + 1 && ((this.cy = ["x", h, s]), (r = "col-resize")));
                                    }
                                    this._y && window.clearTimeout(this._y), (this._y = b(this.gy, this, [r], r ? 100 : 0));
                                }
                            },
                            gy: function (t) {
                                this.wy != t && ((this.wy = t), (this.Vt.style.cursor = t || "default"));
                            },
                        };
                    A("onDataTable", function (t, e) {
                        G.touch && (Ue.$init(), (e.scrollSize = 0), Ue.De && Ue.limit(), t.$ready.push(t.$touch));
                    });
                    var xo = {
                            $touch: function () {
                                var e = this.P;
                                (e.scrollAlignY = !1), t.extend(this, !0 === e.prerender ? this.xy : this.yy);
                                var i = "";
                                e.autowidth || !1 === e.scrollX || (i += "x"),
                                    e.autoheight || !1 === e.scrollY || (i += "y"),
                                    this.st.setAttribute("touch_scroll", i),
                                    Ue.As(this.st.childNodes[1].firstChild),
                                    Ue.ms(this.st.childNodes[1].firstChild, 0, 0, "0ms"),
                                    this.ws(0, 0, "0ms");
                            },
                            xy: {
                                My: function (t, e) {
                                    Ue.ms(this.st.childNodes[1].firstChild, -t, -e, "0ms"), this.ws(-t, -e, "0ms"), this.callEvent("onAfterScroll", [{ e: -t, f: -e }]);
                                },
                                Sy: function () {
                                    var t = Ue._s(this.st.childNodes[1].firstChild);
                                    return { x: -t.e, y: -t.f };
                                },
                                $init: function () {
                                    this.attachEvent("onBeforeScroll", function () {
                                        (Ue.Qe = this.st.childNodes[1].firstChild), Ue.Es(Ue.Qe), (Ue.gs = this);
                                    }),
                                        this.attachEvent("onTouchEnd", function () {
                                            Ue.gs = null;
                                        }),
                                        this.attachEvent("onAfterScroll", function (t) {
                                            t && ((this.bh = -t.e), (this._h = -t.f), this.ph && (this.ph.P.scrollPos = this.bh), this.vh && (this.vh.P.scrollPos = this._h));
                                        });
                                },
                                ws: function (t, e, i) {
                                    Ue.ms(this.st.childNodes[1].firstChild, t, e, i),
                                        this.P.leftSplit && Ue.ms(this.st.childNodes[0].firstChild, 0, e, i),
                                        this.P.rightSplit && Ue.ms(this.st.childNodes[2].firstChild, 0, e, i),
                                        this.P.header && Ue.ms(this.k.childNodes[1].firstChild, t, 0, i),
                                        this.P.footer && Ue.ms(this.nl.childNodes[1].firstChild, t, 0, i),
                                        this.callEvent("onSyncScroll", [t, e, i]);
                                },
                                Is: function () {},
                            },
                            yy: {
                                My: function (t, e) {
                                    b(function () {
                                        this.callEvent("onAfterScroll", [{ e: -t, f: -e }]);
                                    }, this);
                                },
                                $scroll: { gravity: 0, elastic: !1 },
                                $hasYScroll: function () {
                                    return 2 < this.ky - this.Cy;
                                },
                                $init: function () {
                                    this.attachEvent("onAfterColumnHide", function () {
                                        this.My(0, 0);
                                    }),
                                        this.attachEvent("onBeforeScroll", function () {
                                            var t = Ue;
                                            (t.Qe = this.st.childNodes[1].firstChild), t.Es(t.Qe), (t.ts.left = this.bh), (t.ts.hidden = this.ph.P.scrollVisible || this.vh.P.scrollVisible), (t.ts.dy = this.ky), (t.gs = this);
                                        }),
                                        this.attachEvent("onAfterRender", function () {
                                            this.ph && this.P.scrollX && this.ph.Sw(), this.vh && this.P.scrollY && this.vh.Sw();
                                        }),
                                        this.attachEvent("onAfterScroll", function (t) {
                                            if (t) {
                                                var e = this.bh != -t.e,
                                                    i = this._h != -t.f;
                                                (Ue.gs = null), (Ue.$y = null), (this._h = 0), (this.bh = 0);
                                                var n = Ue.config.translate;
                                                return (
                                                    (Ue.config.translate = "translate"),
                                                    this.ws(this.ph ? 0 : t.e, 0, 0),
                                                    (Ue.config.translate = n),
                                                    (this.bh = -t.e),
                                                    (this._h = -t.f),
                                                    this.Dy(),
                                                    this.render(),
                                                    e && (this.ph && this.ph.scrollTo(this.bh), this.callEvent("onScrollX", [])),
                                                    i && (this.vh && this.vh.scrollTo(this._h), this.callEvent("onScrollY", [])),
                                                    !1
                                                );
                                            }
                                        });
                                },
                                ws: function (t, e, i) {
                                    (e += this._h),
                                        (t += this.bh),
                                        Ue.ms(this.st.childNodes[1].firstChild, t, e, i),
                                        this.P.leftSplit && Ue.ms(this.st.childNodes[0].firstChild, 0, e, i),
                                        this.P.rightSplit && Ue.ms(this.st.childNodes[2].firstChild, 0, e, i),
                                        this.P.header && Ue.ms(this.k.childNodes[1].firstChild, t, 0, i),
                                        this.P.footer && Ue.ms(this.nl.childNodes[1].firstChild, t, 0, i),
                                        this.callEvent("onSyncScroll", [t, e, i]);
                                },
                                Is: function (t) {
                                    (t.f -= this._h), (t.e -= this.bh);
                                },
                            },
                        },
                        _o = {
                            $init: function () {
                                this.data.attachEvent(
                                    "onStoreUpdated",
                                    m(function (t) {
                                        t || this.Iy();
                                    }, this)
                                ),
                                    this.attachEvent("onStructureLoad", this.Iy),
                                    this.attachEvent("onStructureUpdate", this.Ay),
                                    this.attachEvent("onColumnResize", function (t, e, i, n) {
                                        n && this.Ay();
                                    }),
                                    this.attachEvent("onResize", this.Ay);
                            },
                            Iy: function () {
                                for (var t = !1, e = this.rl, i = 0; i < e.length; i++) e[i].adjust && ("header" == e[i].adjust || this.count()) && (t = this.Ty(i, e[i].adjust, !0) || t);
                                t && (this.Io(!0), this.Ay());
                            },
                            Ay: function () {
                                var t = this.P.columns,
                                    e = [],
                                    i = 0;
                                if (t && !this.P.autowidth)
                                    for (var n = 0; n < t.length; n++) {
                                        var s = t[n].fillspace;
                                        s && (i += 1 * (e[n] = s) || 1);
                                    }
                                i && this.Fy(e, i);
                            },
                            Fy: function (t, e) {
                                var i = this.P.columns;
                                if (i) {
                                    var n = this.me - this.Vy,
                                        s = !1;
                                    if (0 < n) {
                                        for (var r = 0; r < i.length; r++) t[r] || (n -= i[r].width || this.P.columnWidth);
                                        for (var o = 0; o < t.length; o++)
                                            if (t[o]) {
                                                var a = Math.min(n, Math.round((n * t[o]) / e));
                                                (s = this.Do(o, a, !0) || s), (n -= i[o].width), (e -= t[o]);
                                            }
                                        s && this.Io(!0);
                                    }
                                }
                            },
                            zy: function (t, e) {
                                var i = this.P.columns[t],
                                    n = i.minWidth || this.P.minColumnWidth;
                                if ("header" != e) {
                                    var s = this.data.order.length;
                                    i.adjustBatch && i.adjustBatch < s && (s = i.adjustBatch);
                                    for (var r = this.data.order.slice(0, s), o = 0; o < s; o++) r[o] = r[o] ? this.By(this.getItem(r[o]), i, 0) : "";
                                    n = Math.max(n, Pt(r, "webix_table_cell webix_cell").width);
                                }
                                if ("data" != e) {
                                    for (var a = 0; a < i.header.length; a++) {
                                        var l = i.header[a];
                                        if (l) {
                                            var h = 0;
                                            if (l.rotate) for (var c = 0; c < (l.rowspan || 1); c++) h += this.al[c];
                                            var d = "webix_table_cell webix_cell " + (l.css || "") + (l.rotate ? "webix_measure_rotate" : ""),
                                                u = Pt([l.text], d, h);
                                            n = Math.max(n, l.rotate ? u.height : u.width);
                                        }
                                    }
                                    i.sort && (n += 10);
                                }
                                return (n += G.isIE ? Ve.layoutPadding.space : 0), Math.min(n, i.maxWidth || this.P.maxColumnWidth || 1e5);
                            },
                            Ty: function (t, e, i) {
                                if (0 <= t) {
                                    var n = this.zy(t, e);
                                    return this.Do(t, n, i);
                                }
                            },
                            adjustColumn: function (t, e) {
                                this.Ty(this.getColumnIndex(t), e);
                            },
                            adjustRowHeight: function (t, e) {
                                if (t) this.Hy(t);
                                else {
                                    for (var i = {}, n = this.P.columns, s = 0; s < n.length; s++) this.Hy(n[s].id, i);
                                    this.data.each(function (t) {
                                        t.$height = i[t.id];
                                    });
                                }
                                e || this.refresh();
                            },
                            Hy: function (t, e) {
                                var i,
                                    n = this.getColumnConfig(t),
                                    s = dt("DIV", { class: "webix_table_cell webix_measure_size webix_cell" }, "");
                                (s.style.cssText = "width:" + n.width + "px; height:1px; visibility:hidden; position:absolute; top:0px; left:0px; overflow:hidden;"),
                                    this.$view.appendChild(s),
                                    s.offsetHeight < 1 && ((i = this.$view.cloneNode(!0)), document.body.appendChild(i), i.appendChild(s)),
                                    this.data.each(function (t) {
                                        var i;
                                        (s.innerHTML = this.By(t, n, 0)),
                                            (i = Math.max(s.scrollHeight, this.P.rowHeight, this.P.minRowHeight || 0)),
                                            (i = Math.min(i, this.P.maxRowHeight || 1e5)),
                                            e ? (e[t.id] = Math.max(i, e[t.id] || 0)) : (t.$height = i);
                                    }, this),
                                    (s = pt(s)),
                                    i && pt(i);
                            },
                        },
                        ko = {
                            math_setter: function (t) {
                                return t && this.Ry(), t;
                            },
                            Ey: "$",
                            Ry: function () {
                                G.strict || (this.data.attachEvent("onStoreUpdated", m(this.Py, this)), this.data.attachEvent("onStoreLoad", m(this.jy, this)), this.attachEvent("onStructureLoad", this.jy));
                            },
                            Py: function (t, e, i) {
                                if (t && "paint" != i)
                                    if ("delete" == i) for (var n = 0; n < this.rl.length; n++) this.Ny(e, this.rl[n].id);
                                    else {
                                        "add" == i && this.Ly(e);
                                        for (var s = 0; s < this.rl.length; s++) (this.Oy = {}), this.Wy(t, this.rl[s].id);
                                        this.Oy = {};
                                    }
                            },
                            Wy: function (t, e) {
                                var i,
                                    n = this.getItem(t);
                                if (
                                    ((i = n[this.Ey + e] || n[e]) && 0 < i.length && "=" === i.toString().substr(0, 1)
                                        ? ((n[this.Ey + e] = i), (n[e] = this.Uy(i, t, e)))
                                        : (void 0 !== n[this.Ey + e] && delete n[this.Ey + e], this.Ny(n, e)),
                                    void 0 !== n.depends && void 0 !== n.depends[e])
                                )
                                    for (var s in n.depends[e]) {
                                        var r = n.depends[e][s][0] + "__" + n.depends[e][s][1];
                                        void 0 === this.Oy[r] && ((this.Oy[r] = !0), this.Wy(n.depends[e][s][0], n.depends[e][s][1]));
                                    }
                            },
                            Yy: function (t, e) {
                                var i = this.getItem(t);
                                void 0 !== i[this.Ey + e] && (i[e] = i[this.Ey + e]);
                            },
                            jy: function () {
                                if (this.rl && this.count()) {
                                    this.Ly();
                                    for (var t = 0; t < this.rl.length; t++) {
                                        var e = this.columnId(t);
                                        this.data.each(function (t) {
                                            (this.Oy = {}), this.Wy(t.id, e);
                                        }, this);
                                    }
                                    this.Oy = {};
                                }
                            },
                            Ly: function (t) {
                                for (var e = 0; e < this.rl.length; e++)
                                    if (this.rl[e].math) {
                                        var i = this.columnId(e),
                                            n = "=" + this.rl[e].math;
                                        (n = n.replace(/\$c/g, "#$c#")),
                                            t
                                                ? ((t[i] = this.qy(n, t.id, i)), delete t[this.Ey + i], this.Ny(t, i))
                                                : this.data.each(function (t) {
                                                      (t[i] = this.qy(n, t.id, i)), delete t[this.Ey + i], this.Ny(t, i);
                                                  }, this);
                                    }
                            },
                            qy: function (t, e, i) {
                                return Ut(t)({ $r: e, $c: i });
                            },
                            Gy: function (t, e) {
                                var i;
                                if (!this.exists(t)) return "#out_of_range";
                                var n = (i = this.getItem(t))[this.Ey + e] || i[e] || 0;
                                return "=" !== (n = n.toString()).substring(0, 1) ? n : (void 0 === i[this.Ey + e] && (i[this.Ey + e] = i[e]), (i[e] = this.Uy(n, t, e, !0)), i[e]);
                            },
                            Uy: function (t, e, i, n) {
                                if (!0 === n) {
                                    if (this.Xy(e, i)) return "#selfreference";
                                } else this.Ky();
                                this.Jy(e, i);
                                var s = this.getItem(e);
                                t = t.substring(1);
                                var r = this.Zy(t),
                                    o = this.Qy(t, e);
                                t = r ? ((t = this.tM(t, o)), this.iM(t, r)) : this.tM(t, o, !0);
                                var a = this.eM(t);
                                if (!1 !== a) return a;
                                this.sM(e, i), this.Ny(s, i);
                                for (var l = 0; l < o.length; l++) this.nM([e, i], o[l]);
                                return !1 !== (a = this.eM(t)) ? a : t ? ((t = this.hM(t.replace(/\$r/g, s.id))), !1 !== (a = this.eM(t)) ? a : t) : t;
                            },
                            Zy: function (t) {
                                return t.replace(/\[[^)]*?\]/g, "").match(/(\+|-|\*|\/)/g);
                            },
                            Qy: function (t, e) {
                                var i = t.match(/\[([^\]]+),([^\]]+)\]/g);
                                null === i && (i = []);
                                for (var n = 0; n < i.length; n++) {
                                    var s = i[n],
                                        r = s;
                                    ((s = (s = s.substr(1, s.length - 2)).split(","))[0] = this.rM(s[0])),
                                        (s[1] = this.rM(s[1])),
                                        ":" === s[0].substr(0, 1) && (s[0] = this.getIdByIndex(s[0].substr(1))),
                                        "$r" === s[0] && (s[0] = e),
                                        ":" === s[1].substr(0, 1) && (s[1] = this.columnId(s[1].substr(1))),
                                        (s[2] = r),
                                        (i[n] = s);
                                }
                                return i;
                            },
                            tM: function (t, e, i) {
                                var n = "(",
                                    s = ")";
                                i && (n = s = "");
                                for (var r = 0; r < e.length; r++) {
                                    var o = e[r],
                                        a = this.Gy(o[0], o[1]);
                                    isNaN(a) && (a = '"' + a + '"'), (t = t.replace(o[2], n + a + s));
                                }
                                return t;
                            },
                            iM: function (t, e) {
                                for (var i = [], n = 0; n < e.length; n++) {
                                    var s = e[n],
                                        r = this.oM(t, s);
                                    i.push(r[0]), (t = r[1]);
                                }
                                i.push(t);
                                for (var o = 0; o < i.length; o++) {
                                    var a = this.rM(i[o]);
                                    i[o] = a;
                                }
                                for (var l = "", h = 0; h < i.length - 1; h++) l += i[h] + e[h];
                                return l + i[i.length - 1];
                            },
                            hM: function (t) {
                                var e;
                                try {
                                    e = window.eval(t);
                                } catch (t) {
                                    e = "";
                                }
                                return e.toString();
                            },
                            oM: function (t, e) {
                                var i = t.indexOf(e);
                                return [t.substr(0, i), t.substr(i + 1)];
                            },
                            rM: function (t) {
                                return (t = t.replace(/^ */g, "")).replace(/ *$/g, "");
                            },
                            Ky: function () {
                                this.aM = [];
                            },
                            Jy: function (t, e) {
                                this.aM[t + "__" + e] = !0;
                            },
                            sM: function (t, e) {
                                void 0 !== this.aM[t + "__" + e] && delete this.aM[t + "__" + e];
                            },
                            Xy: function (t, e) {
                                return void 0 !== this.aM[t + "__" + e];
                            },
                            nM: function (t, e) {
                                var i = this.getItem(e[0]);
                                void 0 === i.depends && (i.depends = {}),
                                    void 0 === i.depends[e[1]] && (i.depends[e[1]] = {}),
                                    (i.depends[e[1]][t[0] + "__" + t[1]] = t),
                                    void 0 === (i = this.getItem(t[0])).triggers && (i.triggers = {}),
                                    void 0 === i.triggers[t[1]] && (i.triggers[t[1]] = {}),
                                    (i.triggers[t[1]][e[0] + "__" + e[1]] = e);
                            },
                            Ny: function (t, e) {
                                if (t && void 0 !== t.triggers)
                                    for (var i in t.triggers[e]) {
                                        var n = t.triggers[e][i],
                                            s = this.getItem(n[0]);
                                        s && delete s.depends[n[1]][t.id + "__" + e];
                                    }
                            },
                            eM: function (t) {
                                var e = t.match(/#\w+/);
                                return null !== e && 0 < e.length && e[0];
                            },
                        },
                        Po = {
                            headermenu_setter: function (t) {
                                return t && (t.data && (this.uM = !0), (t = this.cM(t))), t;
                            },
                            cM: function (i) {
                                var n = {
                                    view: "contextmenu",
                                    template: "<span class='webix_icon webix_list_icon {common.hidden()}'></span> &nbsp; #value#",
                                    type: {
                                        hidden: function (t) {
                                            return t.hidden ? "wxi-eye-slash" : "wxi-eye";
                                        },
                                    },
                                    on: {
                                        onMenuItemClick: m(function (t) {
                                            var n = ae(this.P.headermenu),
                                                s = n.getItem(t).hidden;
                                            (n.getItem(t).hidden = !s), n.refresh(t), (n.$blockRender = !0);
                                            var r = { spans: "object" == e(i) && i.spans };
                                            return s ? this.showColumn(t, r) : this.hideColumn(t, r), (n.$blockRender = !1);
                                        }, this),
                                    },
                                    data: [],
                                };
                                "object" == e(i) && t.extend(n, i, !0);
                                var s = ne(n);
                                return (
                                    s.attachTo(this.k),
                                    this.Bt.push(s),
                                    this.attachEvent("onStructureLoad", this.fM),
                                    this.attachEvent("onStructureUpdate", this.fM),
                                    (this.cM = function (t) {
                                        return t;
                                    }),
                                    s.P.id
                                );
                            },
                            fM: function () {
                                var t = ae(this.P.headermenu),
                                    e = this.Co;
                                if (!t.$blockRender) {
                                    if (this.uM)
                                        return (
                                            t.data.each(function (t) {
                                                t.hidden = !!e[t.id];
                                            }),
                                            void t.refresh()
                                        );
                                    var i = [],
                                        n = this.xo;
                                    n.length || (n = this.rl);
                                    for (var s = 0; s < n.length; s++) {
                                        var r = this.getColumnConfig(n[s].id || n[s]),
                                            o = r.header[0],
                                            a = !!e[r.id];
                                        !1 !== r.headermenu && o && i.push({ id: r.id, value: a ? o.text : o.groupText || o.text, hidden: a });
                                    }
                                    i.length && t.data.importData(i);
                                }
                            },
                        };
                    ws.headerMenu = {
                        getValue: function () {},
                        setValue: function () {},
                        refresh: function (t, e) {
                            t.P.headermenu || (t.define("headermenu", !0), t.fM()),
                                (e.onclick = function () {
                                    ae(t.config.headermenu).show(e);
                                });
                        },
                        render: function () {
                            return "<span class='webix_icon wxi-columns' role='button' tabindex='0' aria-label='" + T.aria.headermenu + "'>";
                        },
                    };
                    var So = {
                            Ia: function (t) {
                                return this.getColumnConfig(t.column).editor;
                            },
                            getEditor: function (t, e) {
                                return t ? (1 == arguments.length && ((e = t.column), (t = t.row)), (this.ma[t] || {})[e]) : this.Pi;
                            },
                            ja: function (t) {
                                for (var e in this.ma) {
                                    var i = this.ma[e];
                                    for (var n in i) "$count" != n && t.call(this, i[n]);
                                }
                            },
                            Aa: function (t, e, i) {
                                var n = t.row,
                                    s = t.column,
                                    r = (e.config = this.getColumnConfig(s));
                                !1 !== i && this.showCell(n, s);
                                var o = e.render();
                                e.$inline && (o = this.ya(t)), (e.node = o);
                                var a,
                                    l = this.getItem(n),
                                    h = r.editFormat;
                                return (
                                    this.P.editMath && (a = l["$" + s]),
                                    v((a = a || l[s])) && (a = ""),
                                    e.setValue(h ? h(a) : a, l),
                                    (e.value = l[s]),
                                    this.za(t, e),
                                    e.$inline || (e.lM = this.Ba(t, o, !0)),
                                    e.afterRender && e.afterRender(),
                                    this.P.liveValidation && (Zt(e.node, "keyup", this.dM(t, this)), this.validateEditor(t)),
                                    o
                                );
                            },
                            dM: function (t, e) {
                                return function () {
                                    e.validateEditor(t);
                                };
                            },
                            Na: function (t) {
                                var e = this.getColumnConfig(t.column).editParse,
                                    i = t.getValue();
                                return e ? e(i) : i;
                            },
                            $a: function (t, e, i) {
                                var n = i ? {} : this.getItem(t.row);
                                return (n[t.column] = e), this.P.editMath && (n["$" + t.column] = null), n;
                            },
                            za: function (t, e) {
                                var i = (this.ma[t.row] = this.ma[t.row] || {});
                                (i.$count = (i.$count || 0) + 1), (e.row = t.row), (e.column = t.column), (this.Pi = i[t.column] = e), this.Ai++, (this.vM = this.getScrollState());
                            },
                            Ra: function (t) {
                                this.Pi == t && (this.Pi = 0), t.destroy && t.destroy();
                                var e = this.ma[t.row];
                                delete e[t.column], e.$count--, e.$count || delete this.ma[t.row], this.Ai--;
                            },
                            Ma: function (t, e) {
                                var i = this.ma[t];
                                if (i) for (var n in ((this.ma[e] = i), delete this.ma[t], i)) "$count" != n && (i[n].row = e);
                            },
                            Ha: function (t) {
                                var e,
                                    i,
                                    n,
                                    s,
                                    r,
                                    o = this.getColumnConfig(t.column),
                                    a = 0;
                                if (o && o.node && o.attached) {
                                    if (((n = this.getIndexById(t.row)), this.ul && this.getSpan(t.row, t.column)))
                                        for (i = 0; i < 3; i++)
                                            for (e = this._M[i], s = 0; !a && s < e.childNodes.length; s++) (r = e.childNodes[s]).getAttribute("row") == n && r.getAttribute("column") == this.getColumnIndex(t.column) && (a = r);
                                    !a && n >= o.pM - this.P.topSplit && n < o.bM && (a = o.node.childNodes[n - o.pM + this.P.topSplit]);
                                }
                                return a;
                            },
                            editCell: function (t, e, i, n) {
                                return (e = e || this.P.columns[0].id), Pi.edit.call(this, { row: t, column: e }, i, n);
                            },
                            editRow: function (t) {
                                t && t.row && (t = t.row);
                                var e = !1;
                                this.eachColumn(function (i) {
                                    this.edit({ row: t, column: i }, e, !e), (e = !0);
                                });
                            },
                            editColumn: function (t) {
                                t && t.column && (t = t.column);
                                var e = !1;
                                this.eachRow(function (i) {
                                    this.edit({ row: i, column: t }, e, !e), (e = !0);
                                });
                            },
                            eachRow: function (t, e) {
                                var i = this.data.order;
                                e && (i = this.data.Ir || i);
                                for (var n = 0; n < i.length; n++) t.call(this, i[n]);
                            },
                            eachColumn: function (t, e) {
                                for (var i in this.ol) {
                                    var n = this.ol[i];
                                    t.call(this, n.id, n);
                                }
                                if (e)
                                    for (var s in this.Co) {
                                        var r = this.Co[s];
                                        t.call(this, r.id, r);
                                    }
                            },
                            Oa: function (t) {
                                if (this.getSelectedId && 1 == this.getSelectedId(!0).length) return this.Fo(t), !1;
                            },
                            Ii: function (t, e) {
                                if (this.P.editable && !this.Ai) {
                                    if (e.target && "INPUT" == e.target.tagName) return !0;
                                    var i = this.getSelectedId(!0);
                                    if (1 == i.length) {
                                        var n = i[0];
                                        return "row" == this.P.select && (n.column = this.P.columns[e.shiftKey ? 0 : this.P.columns.length - 1].id), this.editNext(t, n), !1;
                                    }
                                }
                                return !0;
                            },
                            La: function (t, e, i) {
                                var n = this.getIndexById(t.row),
                                    s = this.getColumnIndex(t.column),
                                    r = this.data.order,
                                    o = this.rl;
                                if (i)
                                    for (var a = n; a < r.length; a++) {
                                        for (var l = s + 1; l < o.length; l++) {
                                            var h = { row: r[a], column: o[l].id };
                                            if (e.call(this, h) && (!this.mM || !this.mM(t, h))) return h;
                                        }
                                        s = -1;
                                    }
                                else
                                    for (var c = n; 0 <= c; c--) {
                                        for (var d = s - 1; 0 <= d; d--) {
                                            var u = { row: r[c], column: o[d].id };
                                            if (e.call(this, u)) return u;
                                        }
                                        s = o.length;
                                    }
                                return null;
                            },
                            gM: function () {
                                this.Ai && (this.wM ? (this.wM = !1) : (this.vh.scrollTo(this.getScrollState().y + this.st.childNodes[1].firstChild.scrollTop), (this.st.childNodes[1].firstChild.scrollTop = 0), (this.wM = !0)));
                            },
                            xM: function () {
                                this.Ai && this.ph.scrollTo(this.st.childNodes[1].scrollLeft);
                            },
                            ka: function () {
                                this.attachEvent("onScrollY", this.yM),
                                    this.attachEvent("onScrollX", this.yM),
                                    this.attachEvent("onScrollY", this.ga),
                                    this.attachEvent("onColumnResize", function () {
                                        this.editStop();
                                    }),
                                    this.attachEvent("onAfterFilter", function () {
                                        this.editStop();
                                    }),
                                    this.attachEvent("onRowResize", function () {
                                        this.editStop();
                                    }),
                                    this.attachEvent("onAfterScroll", function () {
                                        this.P.topSplit && this.editStop();
                                    }),
                                    (this.st.childNodes[1].firstChild.onscroll = m(this.gM, this)),
                                    (this.st.childNodes[1].onscroll = m(this.xM, this));
                            },
                            yM: function () {
                                if (this.Ai) {
                                    var t = this.vM;
                                    this.vM = this.getScrollState();
                                    var e = this.vM.y - t.y;
                                    this.ja(function (t) {
                                        if (t.getPopup) {
                                            var i = this.getItemNode(t),
                                                n = !1;
                                            if (this.P.prerender) {
                                                var s = t.lM,
                                                    r = s.top - this._h,
                                                    o = s.left - this.bh;
                                                n = r < 0 || r + s.height > this.Cy || o < 0 || o + s.width > this.$width - this.MM;
                                            }
                                            !i || n ? t.getPopup().show({ x: -1e4, y: -1e4 }) : t.getPopup().show(i);
                                        }
                                        this.P.prerender || t.linkInput || t.$inline || ((t.node.top -= e), (t.node.style.top = t.node.top + "px"));
                                    });
                                }
                            },
                        },
                        Co = {
                            $init: function () {
                                this.SM(), this.attachEvent("onStructureLoad", this.kM);
                            },
                            SM: function () {
                                (this.Co = {}), (this.xo = C()), (this.$o = [0, 0]);
                            },
                            kM: function () {
                                for (var t = this.rl, e = 0; e < t.length; e++) t[e].header && this.CM(t, t[e].header), t[e].footer && this.CM(t, t[e].footer);
                                for (var i = t.length - 1; 0 <= i; i--) (t[i].hidden || (t[i].batch && this.config.visibleBatch && t[i].batch != this.config.visibleBatch)) && this.hideColumn(t[i].id, {}, !0, !0);
                            },
                            CM: function (t, e) {
                                for (var i = 0; i < e.length; i++) {
                                    var n = e[i];
                                    n && n.colspan && !n.$colspan && (n.$colspan = n.colspan);
                                }
                            },
                            moveColumn: function (t, e) {
                                var i = this.getColumnIndex(t);
                                if (i != e) {
                                    var n = this.P.columns,
                                        s = n.splice(i, 1),
                                        r = e - (i < e ? 1 : 0);
                                    I.insertAt.call(n, s[0], r);
                                    var o = this.xo;
                                    if (o.length) {
                                        var a = (o = C(o)).find(t);
                                        o.removeAt(a), 0 === r ? o.unshift(t) : o.insertAt(t, o.find(n[r - 1].id) + 1);
                                    }
                                    this.$M();
                                }
                            },
                            DM: function () {
                                var t = this.xo,
                                    e = this.P.columns;
                                if (!t.length) {
                                    for (var i = 0; i < e.length; i++) t[i] = e[i].id;
                                    this.$o = [this.P.leftSplit, this.ax];
                                }
                            },
                            isColumnVisible: function (t) {
                                return !this.Co[t];
                            },
                            hideColumn: function (t, e, i, n) {
                                var s,
                                    r = this.P.columns,
                                    o = this.xo,
                                    a = this.Co,
                                    l = 1;
                                if (((e = e || {}), !1 !== n)) {
                                    var h = this.getColumnIndex(t);
                                    if (-1 === h || !this.callEvent("onBeforeColumnHide", [t])) return;
                                    if (-1 == h) return;
                                    if ((this.DM(), e.spans)) for (var c = r[h].header, d = 0; d < c.length; d++) c[d] && ((c[d].$groupSpan = c[d].colspan || 1), (l = Math.max(l, c[d].$groupSpan)));
                                    h < this.P.leftSplit && (this.P.leftSplit -= l), h >= this.ax ? (this.P.rightSplit -= l) : (this.ax -= l);
                                    for (var u = h + l - 1; h <= u; u--) this.IM(h), ((a[(s = r.splice(h, 1)[0]).id] = s).pM = -1), delete this.ol[s.id];
                                    this.callEvent("onAfterColumnHide", [t]);
                                } else {
                                    if (!(s = a[t]) || !this.callEvent("onBeforeColumnShow", [t])) return;
                                    for (var p = null, f = 0, m = 0; f < o.length; f++) {
                                        if (o[f] == t) {
                                            m = f;
                                            break;
                                        }
                                        a[o[f]] || (p = o[f]);
                                    }
                                    var g = p ? this.getColumnIndex(p) + 1 : 0;
                                    if (e.spans) for (var v = s.header, b = 0; b < v.length; b++) v[b] && ((v[b].colspan = v[b].$groupSpan || v[b].colspan), delete v[b].$groupSpan, (l = Math.max(l, v[b].colspan || 1)));
                                    for (var y = m + l - 1; m <= y; y--) {
                                        var w = a[o[y]];
                                        w ? (I.insertAt.call(r, w, g), delete w.hidden, delete a[w.id], (this.ol[w.id] = w)) : l--;
                                    }
                                    m < this.$o[0] && (this.P.leftSplit += l), m >= this.$o[1] ? (this.P.rightSplit += l) : (this.ax += l), this.callEvent("onAfterColumnShow", [t]);
                                }
                                s.header && this.AM(s, !1 !== n ? 0 : 1, "header"), s.footer && this.AM(s, !1 !== n ? 0 : 1, "footer"), i || this.$M();
                            },
                            AM: function (t, e, i) {
                                for (var n = t[i].length - 1; 0 <= n; n--)
                                    for (var s, r = this.xo, o = !1, a = 0, l = 0; l < r.length; l++) {
                                        var h = this.getColumnConfig(r[l]),
                                            c = h[i][n];
                                        this.isColumnVisible(r[l])
                                            ? (o && 0 < a && s && 0 < s.colspan ? (s = c = h[i][n] = s) : c && c.$colspan && a <= 0 && ((a = c.colspan = c.$colspan), (s = c)), (o = null))
                                            : (c && c.$colspan && a <= 0 && ((a = c.colspan = c.$colspan), (o = s = c)), s && 0 < a && s.colspan--),
                                            a--;
                                    }
                            },
                            refreshColumns: function (t, e) {
                                (this.TM = !0), ((t && t != this.config.columns) || e) && (this.SM(), (this.So = {}), t && (this.ax = t.length - (this.config.rightSplit || 0))), (this.ol = {});
                                for (var i = 0; i < this.rl.length; i++) {
                                    var n = this.rl[i];
                                    (this.ol[n.id] = n).attached = n.node = null;
                                }
                                for (var s = 0; s < 3; s++) (this.k.childNodes[s].innerHTML = ""), (this.st.childNodes[s].firstChild.innerHTML = "");
                                (this.rl = this.config.columns = t || this.config.columns),
                                    (this.ax = this.rl.length - this.P.rightSplit),
                                    (this.ko = 0),
                                    this.FM(),
                                    this.Ph(),
                                    this.callEvent("onStructureUpdate"),
                                    this.render(),
                                    (this.TM = 0);
                            },
                            $M: function () {
                                (this.ko = 0), this.callEvent("onStructureUpdate"), this.VM(), this.render();
                            },
                            showColumn: function (t, e, i) {
                                return this.hideColumn(t, e, i, !1);
                            },
                            showColumnBatch: function (t, e) {
                                var i = void 0 !== e;
                                (e = !1 !== e),
                                    this.eachColumn(function (n, s) {
                                        if (s.batch) {
                                            var r = this.Co[s.id];
                                            e || (r = !r), s.batch == t && r ? this.hideColumn(s.id, { spans: !0 }, !0, !e) : i || s.batch == t || r || this.hideColumn(s.id, { spans: !0 }, !0, e);
                                        }
                                    }, !0),
                                    this.$M();
                            },
                        },
                        Io = {
                            $init: function () {
                                this.attachEvent("onAfterScroll", this.gu),
                                    this.attachEvent("onFocus", function () {
                                        _t(this.$view, "webix_dtable_focused");
                                    }),
                                    this.attachEvent("onBlur", function () {
                                        kt(this.$view, "webix_dtable_focused");
                                    });
                            },
                            gu: function () {
                                if (!this.zM()) {
                                    var t = this.tt.querySelector(".webix_cell");
                                    t && t.setAttribute("tabindex", "0");
                                }
                            },
                            zM: function () {
                                for (var t = this.getSelectedId(!0), e = 0; e < t.length; e++) if (this.isColumnVisible(t[e].column)) return this.getItemNode(t[e]);
                                return null;
                            },
                            moveSelection: function (e, i, n) {
                                if ((this.BM(), !this.P.disabled)) {
                                    i = i || {};
                                    var s = this.getSelectedId(!0),
                                        r = s.length - 1,
                                        o = !(!this.P.multiselect && !this.P.areaselect) && i.shift;
                                    if (
                                        (1 < s.length &&
                                            "cell" !== this.P.select &&
                                            ((s = s.sort(
                                                m(function (t, e) {
                                                    return this.getIndexById(t.row) > this.getIndexById(e.row) || this.getColumnIndex(t.column) > this.getColumnIndex(e.column) ? 1 : -1;
                                                }, this)
                                            )),
                                            ("up" != e && "left" != e && "top" != e && "pgup" != e) || (r = 0)),
                                        r < 0 && this.count())
                                    ) {
                                        if ("down" == e || "right" == e) e = "top";
                                        else {
                                            if ("up" != e && "left" != e) return;
                                            e = "bottom";
                                        }
                                        (r = 0), (s = [{ row: 1, column: 1 }]);
                                    }
                                    if (0 <= r) {
                                        var a = s[r].row,
                                            l = s[r].column;
                                        if ("top" == e || "bottom" == e)
                                            a && ("top" == e ? (a = this.data.getFirstId()) : "bottom" == e && (a = this.data.getLastId())), l && ((r = 0), "bottom" == e && (r = this.config.columns.length - 1), (l = this.columnId(r)));
                                        else if ("up" == e || "down" == e || "pgup" == e || "pgdown" == e) {
                                            if (a) {
                                                var h = this.getIndexById(a),
                                                    c = 1;
                                                ("pgup" != e && "pgdown" != e) || (c = this.dc ? this.dc.config.size : Math.round(this.Cy / this.P.rowHeight)),
                                                    "up" == e || "pgup" == e ? (h -= c) : ("down" != e && "pgdown" != e) || (h += c),
                                                    h < 0 && (h = 0),
                                                    h >= this.data.order.length && (h = this.data.order.length - 1),
                                                    !(a = this.getIdByIndex(h)) && this.P.pager && this.showItemByIndex(h);
                                            }
                                        } else {
                                            if ("right" != e && "left" != e) return;
                                            if (l && "row" != this.config.select) {
                                                var d = this.getColumnIndex(l);
                                                "right" == e ? d++ : "left" == e && d--, d < 0 && (d = 0), d >= this.config.columns.length && (d = this.config.columns.length - 1), (l = this.columnId(d));
                                            } else {
                                                if ((this.open || this.HM) && "right" == e) return this.open ? this.open(a) : this.openSub(a);
                                                if ((this.close || this.HM) && "left" == e) return this.close ? this.close(a) : this.closeSub(a);
                                            }
                                        }
                                        if (a) {
                                            this.showCell(a, l), this.select || (t.extend(this, this.Ix.Dx, !0), (this.P.select = this.open || this.HM ? "row" : "cell"), t.extend(this, this.Ix[this.P.select], !0));
                                            var u = { row: a, column: l };
                                            if (o && "area" == this.P.select) {
                                                var p = this.Kw[this.Kw.length - 1];
                                                this.qw(u, p, e, i);
                                            } else this.Fo(u, o);
                                            if (!this.P.clipboard && !1 !== n) {
                                                var f = this.getItemNode(u);
                                                f && f.focus();
                                            }
                                        }
                                    }
                                    return !1;
                                }
                            },
                        },
                        To = {
                            Uo: function (t) {
                                for (var e = 0; e < this.rl.length; e++) {
                                    var i = this.rl[e],
                                        n = this.getItemNode({ row: t, cind: e });
                                    n ? n.parentNode.insertBefore(Xe.dn[e], n) : i.node.appendChild(Xe.dn[e]);
                                }
                            },
                            Xo: function () {
                                var t = [],
                                    e = this.rl.length,
                                    i = document.createElement("div");
                                (i.className = "webix_drop_area"), (i.style.height = this.P.rowHeight + "px"), (i.innerHTML = this.$dropHTML());
                                for (var n = 0; n < e; n++) t.push(i.cloneNode(!0));
                                return t;
                            },
                        },
                        $o = {
                            drag_setter: function (e) {
                                return (
                                    this.attachEvent("onBeforeDrag", function (t) {
                                        return this.RM(t.source);
                                    }),
                                    this.attachEvent("onBeforeDragIn", function (t) {
                                        var e = this.RM(t.target);
                                        return !e && Xe.dn && (pt(Xe.dn), (this.Jo = Xe.dn = null)), e;
                                    }),
                                    vi.drag_setter.call(this, e),
                                    ("order" != e && "move" != e) || t.extend(this, To, !0),
                                    e
                                );
                            },
                            Wo: function (t, e, i) {
                                var n = Xe.Gs;
                                this.P.prerender || i || (t = [n.start]);
                                for (var s = 0; s < t.length; s++) {
                                    for (var r = 0; r < this.rl.length; r++) {
                                        var o = this.getItemNode({ row: t[s], cind: r });
                                        o && _t(o, e);
                                    }
                                    this.data.addMark(t[s], e, 1, 1, !0);
                                }
                            },
                            Oo: function (t, e, i) {
                                var n = Xe.Gs;
                                this.P.prerender || i || (t = [n.start]);
                                for (var s = 0; s < t.length; s++) {
                                    for (var r = 0; r < this.rl.length; r++) {
                                        var o = this.getItemNode({ row: t[s], cind: r });
                                        o && kt(o, e);
                                    }
                                    this.data.removeMark(t[s], e, 1, !0);
                                }
                            },
                            RM: function (t) {
                                var e,
                                    i,
                                    n = !1;
                                if (this.P.topSplit && t) for (P(t) || (t = [t]), e = 0; !n && e < t.length; e++) n = 0 <= (i = this.getIndexById(t[e])) && i < this.P.topSplit;
                                return !n;
                            },
                            Q: function (t) {
                                for (var e = "<div class='webix_dd_drag' style='width:" + (this.me - this.Vy) + "px;'>", i = this.P.columns, n = 0; n < i.length; n++) {
                                    var s = this.By(t, i[n]);
                                    e += "<div style='width:" + i[n].width + "px;'>" + s + "</div>";
                                }
                                return e + "</div>";
                            },
                            getHeaderNode: function (t, e) {
                                return this.EM(t, e, this.k);
                            },
                            getFooterNode: function (t, e) {
                                return this.EM(t, e, this.nl);
                            },
                            EM: function (t, e, i) {
                                if (this.isColumnVisible(t)) {
                                    var n = this.getColumnIndex(t),
                                        s = this.P.leftSplit > n ? 0 : this.ax <= n ? 2 : 1;
                                    return (e = e || 0), i.childNodes[s].querySelector("div[".concat("column", '="').concat(n, '"][').concat("row", '="').concat(e, '"]'));
                                }
                                return null;
                            },
                            getItemNode: function (t) {
                                if (t && !t.header) {
                                    var e = t.row || t,
                                        i = "number" == typeof t.rind ? t.rind : this.getIndexById(e),
                                        n = this.ix(),
                                        s = n[0] - this.P.topSplit;
                                    if (i < s && i > n[1]) return;
                                    var r = this.tx(),
                                        o = this.P.leftSplit ? 0 : r[0],
                                        a = "number" == typeof t.cind;
                                    if ((t.column || a) && (o = a ? t.cind : this.getColumnIndex(t.column)) < this.ax && o >= this.P.leftSplit && (o < r[0] || o > r[1])) return;
                                    var l = this.P.columns[o];
                                    if (l.attached && l.node) {
                                        if ("$webix-drop" === e) return Xe.dn[o];
                                        for (var h = i < this.P.topSplit || this.P.prerender ? i : i - s, c = l.node.childNodes, d = Math.min(c.length, h + 1), u = 0; u < d; u++) "webix_drop_area" === c[u].className && h++;
                                        return c[h];
                                    }
                                }
                            },
                            PM: function (t) {
                                var e = t.target.nodeName;
                                return "INPUT" != e && "TEXTAREA" != e;
                            },
                            dragColumn_setter: function (e) {
                                var i;
                                "order" == e
                                    ? (i = {
                                          $drag: m(function (t, e) {
                                              if (!this.PM(e) || this.Dv) return !1;
                                              var n = this.locate(e);
                                              if (!n || !this.callEvent("onBeforeColumnDrag", [n.column, e])) return !1;
                                              Xe.Gs = { from: i, start: n, custom: "column_dnd" };
                                              var s = this.getColumnConfig(n.column);
                                              return (this.jM = vt(e)), (this.NM = s.width), (this.zo = !0), "<div class='webix_dd_drag_column' style='width:" + s.width + "px'>" + (s.header[0].text || "&nbsp;") + "</div>";
                                          }, this),
                                          $dragPos: m(function (t, e, i) {
                                              var n = this,
                                                  s = Xe.getContext(),
                                                  r = gt(this.$view);
                                              i.style.display = "none";
                                              var o = document.elementFromPoint(t.x, r.y + this.P.headerRowHeight / 2),
                                                  a = o ? this.locate(o) : null,
                                                  l = Xe.getContext().start.column;
                                              if (a && a.column != l && (!this.LM || a.column != this.OM) && "column_dnd" == s.custom && ae(o) == this) {
                                                  if (!this.callEvent("onBeforeColumnDropOrder", [l, a.column, e])) return;
                                                  var h = this.getColumnIndex(l),
                                                      c = this.getColumnIndex(a.column);
                                                  e.touches && ((this.WM = e.target), (this.WM.style.display = "none"), this.$view.parentNode.appendChild(this.WM)),
                                                      this.moveColumn(l, c + (h < c ? 1 : 0)),
                                                      (this.OM = a.column),
                                                      (this.LM = !0);
                                              }
                                              if ((a && a.column == l && (this.LM = !1), (i.style.display = "block"), (t.x = t.x - this.jM.x), (t.y = r.y), t.x < r.x)) t.x = r.x;
                                              else {
                                                  var d = r.x + this.$view.offsetWidth - this.Vy - this.NM;
                                                  t.x > d && (t.x = d);
                                              }
                                              (Xe.hn = !0),
                                                  this.rt && (this.rt = window.clearTimeout(this.rt)),
                                                  !1 !== this.P.dragscroll &&
                                                      (this.rt = b(
                                                          function (t) {
                                                              return n.ot(t);
                                                          },
                                                          this,
                                                          [bt(e)],
                                                          250
                                                      ));
                                          }, this),
                                          $dragDestroy: m(function (t, e) {
                                              (this.zo = null), this.rt && (this.rt = window.clearTimeout(this.rt)), pt(e), this.WM && pt(this.WM);
                                              var i = Xe.getContext().start;
                                              this.callEvent("onAfterColumnDropOrder", [i.column, this.OM, t]);
                                          }, this),
                                          $drop: function () {},
                                      })
                                    : e &&
                                      (i = {
                                          Bo: !0,
                                          $drag: m(function (t, e) {
                                              if (!this.PM(e) || this.Dv) return !1;
                                              var n = this.locate(e);
                                              if (!n || !this.callEvent("onBeforeColumnDrag", [n.column, e])) return !1;
                                              Xe.Gs = { from: i, start: n, custom: "column_dnd" };
                                              for (var s = this.getColumnConfig(n.column).header, r = "&nbsp;", o = 0; o < s.length; o++)
                                                  if (s[o]) {
                                                      r = s[o].text;
                                                      break;
                                                  }
                                              return (this.zo = !0), "<div class='webix_dd_drag_column'>" + r + "</div>";
                                          }, this),
                                          $drop: m(function (t, e, i) {
                                              var n = i;
                                              i.touches && this.UM && (n = this.UM);
                                              var s = this.locate(n);
                                              if (!s) return !1;
                                              var r = Xe.getContext().start.column;
                                              if (r != s.column) {
                                                  if (!this.callEvent("onBeforeColumnDrop", [r, s.column, i])) return;
                                                  var o = this.getColumnIndex(r),
                                                      a = this.getColumnIndex(s.column);
                                                  this.moveColumn(r, a + (o < a ? 1 : 0)), this.callEvent("onAfterColumnDrop", [r, s.column, i]);
                                              }
                                          }, this),
                                          $dragIn: m(function (t, e, n) {
                                              var s = this,
                                                  r = Xe.getContext();
                                              if ("column_dnd" != r.custom || r.from != i) return !1;
                                              for (var o = n.target; -1 == (o.className || "").indexOf("webix_hcell"); ) if (!(o = o.parentNode)) return;
                                              return (
                                                  this.rt && (this.rt = window.clearTimeout(this.rt)),
                                                  !1 !== this.P.dragscroll &&
                                                      (this.rt = b(
                                                          function (t) {
                                                              return s.ot(t);
                                                          },
                                                          this,
                                                          [bt(n)],
                                                          250
                                                      )),
                                                  o != this.UM && (this.UM && kt(this.UM, "webix_dd_over_column"), _t(o, "webix_dd_over_column")),
                                                  (this.UM = o)
                                              );
                                          }, this),
                                          $dragDestroy: m(function (t, e) {
                                              (this.zo = null), this.rt && (this.rt = window.clearTimeout(this.rt)), this.UM && kt(this.UM, "webix_dd_over_column"), pt(e);
                                          }, this),
                                      }),
                                    e &&
                                        (Xe.addDrag(this.k, i),
                                        Xe.addDrop(this.k, i, !0),
                                        this.attachEvent("onDestruct", function () {
                                            return Xe.unlink(i);
                                        }),
                                        this.et || t.extend(this, qt, !0));
                            },
                        },
                        Eo = {
                            ih: function (t, e) {
                                if (t.scroll && !e) return !0;
                                (t.header = v(t.header) ? !!this.config.header : t.header), (t.footer = v(t.footer) ? !!this.config.footer : t.footer), (t.xCorrection = t.xCorrection || 0);
                            },
                            Np: function (t, e) {
                                for (var i = -1, n = 0; i < 0 && n < t.length; n++) e(t[n]) && (i = n);
                                return i;
                            },
                            YM: function (t, e, i) {
                                var n = {},
                                    s = 0;
                                return (
                                    t.forEach(
                                        m(function (r, o) {
                                            var a = r[0],
                                                l = [],
                                                h = a.length;
                                            a.forEach(
                                                m(function (t, r) {
                                                    for (var a = e[r + s], c = 0; c < a[i].length; c++) {
                                                        var d = a[i][c];
                                                        if (d || (n[o] && n[o][c])) {
                                                            if (((d = f(d || { text: "" })), n[o] && n[o][c] && 0 === r && ((d.colspan = n[o][c]), (n[o][c] = 0)), d.colspan)) {
                                                                var u = Math.min(d.colspan, h - r);
                                                                (n[o + 1] = n[o + 1] || {}), (n[o + 1][c] = d.colspan - u), (d.colspan = u);
                                                            }
                                                            d.rowspan && 1 === h && ((d.height = (d.height || this.config.headerRowHeight) * d.rowspan), (d.rowspan = null));
                                                            var p = {
                                                                txt: d.rotate ? this.getHeaderNode(a.id, c).innerHTML : d.text || (d.contentId ? this.getHeaderContent(d.contentId).getValue() : ""),
                                                                className: "webix_hcell webix_" + i + "_cell " + (d.css || ""),
                                                                style: { height: (d.height || this.config.headerRowHeight) + "px", width: d.colspan ? "auto" : a.width + "px" },
                                                                span: d.colspan || d.rowspan ? { colspan: d.colspan || 1, rowspan: d.rowspan || 1 } : null,
                                                            };
                                                            (l[c] = l[c] || []), (l[c][r] = p);
                                                        }
                                                    }
                                                }, this)
                                            ),
                                                (t[o] = "header" == i ? l.concat(r) : r.concat(l)),
                                                (s += h);
                                        }, this)
                                    ),
                                    t
                                );
                            },
                            eh: function (t, e, i) {
                                var n = this.config.columns,
                                    s = this.getSelectedId(!0),
                                    r = "page" == t.fit ? 1 / 0 : this.nh(t),
                                    o = 0,
                                    a = 0,
                                    l = [],
                                    h = 0,
                                    c = [];
                                return (
                                    (i = i || 0 + t.xCorrection),
                                    (e = e || []),
                                    this.eachRow(
                                        m(function (e) {
                                            for (var d = 0, u = this.getItem(e), p = this.getIndexById(e), f = [], m = !1, g = i; g < n.length; g++) {
                                                var v = n[g].id,
                                                    b = this.getColumnIndex(v) - i;
                                                if (n[g]) {
                                                    if (((d += n[g].width), 0 === p && c.push(n[g].width), r < d && i < g)) {
                                                        h = g;
                                                        break;
                                                    }
                                                    if (
                                                        "selection" !== t.data ||
                                                        ("selection" == t.data &&
                                                            -1 !==
                                                                this.Np(s, function (t) {
                                                                    return t.column == v && t.row == e;
                                                                }))
                                                    ) {
                                                        var y;
                                                        if ((this.getSpan && (y = this.getSpan(e, v)), y && this.getColumnIndex(v) === i)) {
                                                            var w = this.getColumnIndex(y[1]);
                                                            w < i && ((y[2] = y[2] - (i - w)), (y[4] = y[4] ? y[4] : u[y[1]] ? this.getText(e, y[1]) : null), (y[1] = v));
                                                        }
                                                        if (!y || (y && y[0] == e && y[1] == v)) {
                                                            var x = y && y[4] ? y[4] : this.ol[v] ? this.getText(e, v) : "",
                                                                _ = this.getCss(e, v) + " " + (n[g].css || "") + (y ? " webix_dtable_span " + (y[5] || "") : ""),
                                                                k = { height: y && 1 < y[3] ? "auto" : (u.$height || this.config.rowHeight) + "px", width: y && 1 < y[2] ? "auto" : n[g].width + "px" };
                                                            f.push({ txt: x, className: _, style: k, span: y ? { colspan: y[2], spanStart: this.getColumnIndex(y[1]), rowspan: y[3] } : null }),
                                                                (x || 0 === x) && ((o = Math.max(b + 1, o)), (a = Math.max(p + 1, a))),
                                                                (m = m || !!x);
                                                        } else y && (f.push({ $inspan: !0 }), (o = Math.max(b + 1, o)), (a = Math.max(p + 1, a)));
                                                    }
                                                }
                                            }
                                            (t.skiprows && !m) || l.push(f);
                                        }, this)
                                    ),
                                    a &&
                                        o &&
                                        (t.trim &&
                                            ((l.length = a),
                                            (l = l.map(function (t) {
                                                for (var e = t.length - 1; 0 <= e; e--)
                                                    if (t[e].span && t[e].span.colspan) {
                                                        t[e].span.colspan = Math.min(t[e].span.colspan, t.length - e);
                                                        break;
                                                    }
                                                return (t.length = o), t;
                                            }))),
                                        e.push(l)),
                                    h ? this.eh(t, e, h) : (t.footer && (e = this.YM(e, n, "footer")), t.header && (e = this.YM(e, n, "header")), "page" == t.fit && this.qM(e, c, o, t)),
                                    e
                                );
                            },
                            qM: function (t, e, i, n) {
                                i && n.trim && (e.length = i);
                                for (var s = 0, r = 0; r < e.length; r++) s += e[r];
                                s > this.nh(n) &&
                                    t[0].forEach(function (t) {
                                        for (var e = 0; e < t.length; e++) t[e] && t[e].style && t[e].style.width && (t[e].style.width = "auto");
                                    });
                            },
                            sh: function (t, e) {
                                var i = dt("div");
                                return (
                                    t.forEach(
                                        m(function (n, s) {
                                            var r = dt("table", { class: "webix_table_print " + this.$view.className + (e.borderless ? " borderless" : ""), style: "border-collapse:collapse", id: this.$view.getAttribute("id") });
                                            if (
                                                (n.forEach(function (t) {
                                                    var e = dt("tr");
                                                    t.forEach(function (t) {
                                                        if (!t.$inspan) {
                                                            var i = dt("td");
                                                            for (var n in ((i.innerHTML = t.txt), (i.className = t.className), t.style)) i.style[n] = t.style[n];
                                                            t.span && ((i.colSpan = t.span.colspan), (i.rowSpan = t.span.rowspan)), e.appendChild(i);
                                                        }
                                                    }),
                                                        r.appendChild(e);
                                                }),
                                                i.appendChild(r),
                                                s + 1 < t.length)
                                            ) {
                                                var o = dt("DIV", { class: "webix_print_pagebreak" });
                                                i.appendChild(o);
                                            }
                                        }, this)
                                    ),
                                    i
                                );
                            },
                        },
                        Do = {
                            $exportView: function (e) {
                                this.isBranchOpen && t.extend(e, { filterHTML: !0 });
                                var i = e.export_mode;
                                if (("pdf" != i && "excel" != i) || e.dataOnly || !e.styles) return this;
                                (e.dataOnly = !0), (e.heights = v(e.heights) ? "all" : e.heights);
                                var n = "pdf" == i ? Tn(this, e) : Rn(this, e);
                                return (n[0].styles = this.GM(e)), delete e.dataOnly, n;
                            },
                            GM: function (t) {
                                var e = t.export_mode,
                                    i = this.config.columns,
                                    n = [];
                                return (
                                    (this.XM = this.XM || {}),
                                    t.docHeader && "excel" == e && (n = [{ 0: this.KM(t.docHeader.css) }, { 0: {} }]),
                                    !1 !== t.header && (n = this.JM(t, "header", n, e)),
                                    this.data.each(function (t) {
                                        for (var s = {}, r = 0; r < i.length; r++) {
                                            var o = this.getCss(t.id, i[r].id),
                                                a = i[r].node.className,
                                                l = "",
                                                h = null,
                                                c = null;
                                            if (
                                                (this.ul && (h = this.getSpan(t.id, i[r].id))
                                                    ? ((c = this.getSpanNode({ row: h[0], column: h[1] })), (l = "webix_dtable_span " + (h[5] || "")))
                                                    : (c = this.getItemNode({ row: t.id, column: i[r].id })),
                                                !c)
                                            ) {
                                                c = dt("div", { class: o, style: "visibility:hidden" });
                                                var d = i[r].node;
                                                i[r].attached || ((d = dt("div", { class: a, style: "visibility:hidden" })), this.st.appendChild(d)), d.appendChild(c);
                                            }
                                            s[r] = this.ZM(c, [o, a, l].join(":"), e);
                                        }
                                        n[n.length] = s;
                                    }, this),
                                    !1 !== t.footer && this.config.footer && (n = this.JM(t, "footer", n, e)),
                                    t.docFooter && "excel" == e && (n = n.concat([{ 0: {} }, { 0: this.KM(t.docFooter.css) }])),
                                    n
                                );
                            },
                            JM: function (t, e, i, n) {
                                for (var s = this.config.columns, r = [], o = 0; o < s[0][e].length; o++) {
                                    for (var a = {}, l = 0; l < s.length; l++) {
                                        var h = s[l][e][o];
                                        if (h) {
                                            var c = h.colspan ? s[l + h.colspan - 1].id : s[l].id,
                                                d = "header" == e ? this.getHeaderNode(c, o) : this.getFooterNode(c, o);
                                            if (d) {
                                                var u = [d.className, h.css || "", e];
                                                (a[l] = this.ZM(d, u.join(":"), n)), (h.colspan || h.rowspan) && r.push([o, l, { colspan: h.colspan - 1 || 0, rowspan: h.rowspan - 1 || 0 }, a[l]]);
                                            }
                                        } else
                                            for (var p = 0; p < r.length; p++) {
                                                var f = r[p][2],
                                                    m = r[p][1],
                                                    g = r[p][0];
                                                m + f.colspan >= l && g + f.rowspan >= o && (a[l] = r[p][3]);
                                            }
                                    }
                                    i[i.length] = a;
                                }
                                return i;
                            },
                            QM: function (t, e, i) {
                                return "0px" == t["border-".concat(i, "-width")] ? null : Hi.rgbToHex(t["border-".concat(i, "-color")]) || e;
                            },
                            ZM: function (t, e, i) {
                                if (this.XM[e]) return this.XM[e];
                                var n = this.tS(t),
                                    s = Hi.rgbToHex(n["background-color"]) || "FFFFFF",
                                    r = {
                                        backgroundColor: s,
                                        fontSize: 0.75 * n["font-size"].replace("px", ""),
                                        color: Hi.rgbToHex(n.color),
                                        textAlign: n["text-align"],
                                        borderRightColor: this.QM(n, s, "right"),
                                        borderLeftColor: this.QM(n, s, "left"),
                                        borderBottomColor: this.QM(n, s, "bottom"),
                                        borderTopColor: this.QM(n, s, "top"),
                                    },
                                    o = "pdf" == i ? r : this.iS(n, t, r);
                                return (this.XM[e] = o);
                            },
                            KM: function (e) {
                                e = t.extend(e || {}, { visibility: "hidden", "white-space": "nowrap", "text-align": "left" });
                                var i = "";
                                for (var n in e) i += n + ":" + e[n] + ";";
                                var s = dt("div", { style: i });
                                this.st.appendChild(s);
                                var r = this.ZM(s, i);
                                return pt(s), r;
                            },
                            iS: function (t, e, i) {
                                var n = { font: {}, alignment: {}, border: {} };
                                return (
                                    (n.font.name = t["font-family"].replace(/,.*$/, "")),
                                    (n.font.sz = i.fontSize),
                                    (n.font.color = { rgb: i.color }),
                                    "normal" !== t["font-weight"] && 400 != t["font-weight"] && (n.font.bold = !0),
                                    "underline" === t["text-decoration-line"] && (n.font.underline = !0),
                                    "italic" === t["font-style"] && (n.font.italic = !0),
                                    "line-through" === t["text-decoration-line"] && (n.font.strike = !0),
                                    (n.alignment.horizontal = i.textAlign),
                                    (n.alignment.vertical = t.height == t["line-height"] ? "center" : "top"),
                                    "normal" == t["white-space"] && (n.alignment.wrapText = !0),
                                    e.firstChild && e.firstChild.className && -1 !== e.firstChild.className.indexOf("webix_rotate") && (n.alignment.textRotation = 90),
                                    (n.fill = { fgColor: { rgb: i.backgroundColor } }),
                                    i.borderRightColor && (n.border.right = { style: "thin", color: { rgb: i.borderRightColor } }),
                                    i.borderBottomColor && (n.border.bottom = { style: "thin", color: { rgb: i.borderBottomColor } }),
                                    i.borderLeftColor && (n.border.left = { style: "thin", color: { rgb: i.borderLeftColor } }),
                                    i.borderTopColor && (n.border.top = { style: "thin", color: { rgb: i.borderTopColor } }),
                                    n
                                );
                            },
                            tS: function (t) {
                                return window.getComputedStyle ? window.getComputedStyle(t) : t.currentStyle;
                            },
                        },
                        Mo = {
                            subrow_setter: function (t) {
                                return !!t && (this.eS(), (this.P.fixedRowHeight = !1), Ut(t));
                            },
                            subview_setter: function (t) {
                                return t && (this.P.subrow = this.subrow_setter("<div></div>")), t;
                            },
                            defaults: { subRowHeight: 35 },
                            sS: function () {
                                this.data.each(function (t) {
                                    t && (t.$sub = this.P.subrow(t, this.type));
                                }, this),
                                    this.nS();
                            },
                            nS: function (t) {
                                if (("auto" === this.P.subRowHeight && this.me && this.hS(), t && this.P.subview))
                                    for (var e in this.HM) {
                                        var i = ae(this.HM[e]);
                                        i.P.hidden || i.adjust();
                                    }
                            },
                            rS: function (t) {
                                var e = this.getItem(t);
                                (e.$sub = this.P.subrow(e, this.type)), "auto" === this.P.subRowHeight && this.hS(e.id, e.$sub);
                            },
                            $init: function () {
                                (this.eS = y(function () {
                                    var t = "#" + this.oS + " .webix_cell.webix_dtable_subview { line-height:normal;}";
                                    this.P.fixedRowHeight && (t += "#" + this.oS + " .webix_column .webix_cell { white-space: nowrap;}"),
                                        ht(t),
                                        (this.HM = {}),
                                        this.attachEvent("onSubViewRender", this.aS),
                                        this.data.attachEvent(
                                            "onStoreUpdated",
                                            m(function (t, e, i) {
                                                t ? ("update" == i || "add" == i ? this.rS(t) : "delete" == i && e.$subContent && (ae(e.$subContent).destructor(), delete this.HM[e.$subContent])) : this.sS();
                                            }, this)
                                        ),
                                        this.attachEvent("onResize", function (t, e, i) {
                                            i != t && this.nS(!0);
                                        });
                                })),
                                    (this.type.subrow = function (t) {
                                        return t.$sub ? (t.$subopen ? "<div class='webix_tree_open webix_sub_open'></div>" : "<div class='webix_tree_close webix_sub_close'></div>") : "<div class='webix_tree_none'></div>";
                                    }),
                                    (this.on_click.webix_sub_open = function (t, e) {
                                        return this.closeSub(e), !1;
                                    }),
                                    (this.on_click.webix_sub_close = function (t, e) {
                                        return this.openSub(e), !1;
                                    });
                            },
                            openSub: function (t) {
                                var e = this.getItem(t);
                                if (!e.$subopen) {
                                    (e.$row = this.P.subrow), (e.$subHeight = e.$subHeight || this.P.subRowHeight), (e.$subopen = !0);
                                    var i = this.HM[e.$subContent];
                                    i && (i.repaintMe = !0), this.refresh(t), this.callEvent("onSubViewOpen", [t]);
                                }
                            },
                            getSubView: function (t) {
                                var e = this.getItem(t);
                                if (e) {
                                    var i = this.HM[e.$subContent];
                                    if (i) return ae(i);
                                }
                                return null;
                            },
                            resizeSubView: function (t) {
                                var e = this.getSubView(t);
                                e && this.uS(this.getItem(t), e);
                            },
                            uS: function (t, e) {
                                var i = e.$getSize(0, 0)[2],
                                    n = t.$subHeight || this.P.subRowHeight;
                                2 < Math.abs(i - (n || 0)) && ((t.$subHeight = i), this.refresh(t.id));
                            },
                            cS: function (t) {
                                var e = t.$width;
                                if (t.Pl) {
                                    var i = t.ri.length - t.Ul;
                                    t.Nl ? (e -= t.qa.left + t.qa.right + 2) : (e -= t.Xa * (i - 1) + t.qa.left + t.qa.right + 2 * i);
                                }
                                return 0 < e;
                            },
                            aS: function (t, e) {
                                var i,
                                    n = this.HM[t.$subContent];
                                if (n) e.firstChild.appendChild(n), (i = ae(t.$subContent)), this.cS(i) || i.adjust(), n.repaintMe && (delete n.repaintMe, (i.config.hidden = !1), i.Me());
                                else {
                                    var s,
                                        r = this.P.subview;
                                    ((i = "function" == typeof r ? r.call(this, t, e.firstChild) : (((s = f(r)).$scope = this.$scope), ne(s, e.firstChild))).getMasterView = m(function () {
                                        return this;
                                    }, this)),
                                        (t.$subContent = i.config.id),
                                        (this.HM[t.$subContent] = i.$view),
                                        this.Bt.push(i),
                                        i.attachEvent(
                                            "onResize",
                                            m(function (e, i, n, s) {
                                                i && i != s && this.refresh(t.id);
                                            }, this)
                                        ),
                                        this.callEvent("onSubViewCreate", [i, t]);
                                }
                                this.uS(t, i || ae(n));
                            },
                            hS: function (t, e) {
                                var i,
                                    n = dt("DIV", { class: "webix_measure_size webix_cell webix_dtable_subrow" }, "");
                                (n.style.cssText = "width:" + this.me + "px; height:auto; visibility:hidden; position:absolute; top:0px; left:0px; overflow:hidden;"),
                                    this.$view.appendChild(n),
                                    n.offsetHeight < 1 && ((i = this.$view.cloneNode(!0)), document.body.appendChild(i), i.appendChild(n)),
                                    this.data.each(function (i) {
                                        ((i && !t) || (i.id == t && i.$sub)) && ((n.innerHTML = e || this.P.subrow(i, this.type)), (i.$subHeight = n.offsetHeight));
                                    }, this),
                                    (n = pt(n)),
                                    i && pt(i);
                            },
                            closeSub: function (t) {
                                var e = this.getItem(t);
                                if (e.$subopen) {
                                    (e.$row = !1), (e.$subopen = !1);
                                    var i = this.HM[e.$subContent];
                                    i && (ae(i).config.hidden = !0), this.refresh(t), this.callEvent("onSubViewClose", [t]);
                                }
                            },
                        },
                        Ao = {
                            spans_setter: function (t) {
                                return t && !this.ul && this.fS(), t;
                            },
                            fS: function () {
                                (this.ul = {}),
                                    (this._M = []),
                                    this.data.attachEvent(
                                        "onStoreLoad",
                                        m(function (t, e) {
                                            e && e.spans && this.addSpan(e.spans);
                                        }, this)
                                    ),
                                    this.data.attachEvent(
                                        "onClearAll",
                                        m(function () {
                                            this.ul = {};
                                        }, this)
                                    ),
                                    this.attachEvent("onSyncScroll", function (t, e, i) {
                                        for (var n = 0; n < 3; n++) Ue.ms(this._M[n], 1 == n ? t : 0, e, i);
                                    }),
                                    this.attachEvent("onScrollY", this.lS),
                                    this.attachEvent("onScrollX", this.lS),
                                    this.attachEvent("onAfterRender", this.dS),
                                    this.attachEvent("onColumnResize", this.dS),
                                    this.attachEvent("onSelectChange", this.vS);
                            },
                            addSpan: function (t, i, n, s, r, o) {
                                if ("object" != e(t)) (s = s || 1), (n = n || 1), this.ul[t] || (this.ul[t] = {}), (this.ul[t][i] = [n, s, r, o]);
                                else for (var a = 0; a < t.length; a++) this.addSpan.apply(this, t[a]);
                            },
                            removeSpan: function (t, e) {
                                arguments.length || (this.ul = {});
                                var i = this.ul[t];
                                i && delete i[e];
                            },
                            getSpan: function (t, e) {
                                if (!t) return this.ul;
                                var i,
                                    n,
                                    s,
                                    r,
                                    o,
                                    a = this.ul;
                                for (t in ((i = this.getIndexById(t)), (s = this.getColumnIndex(e)), a))
                                    for (e in a[t]) if (((o = a[t][e]), (n = this.getIndexById(t)), 0 <= (r = this.getColumnIndex(e)) && 0 <= n && !(i > n + o[1] - 1 || i < n || s > r + o[0] - 1 || s < r))) return [t, e].concat(o);
                                return null;
                            },
                            dS: function () {
                                var t,
                                    e,
                                    i = this.rl.length - this.P.rightSplit;
                                for (pt(this._M), e = 0; e < 3; e++) (t = this._M[e] = dt("DIV", { class: "webix_span_layer" })), this.st.childNodes[e].appendChild(t);
                                this.lS(),
                                    this.P.leftSplit && this._S(this._M[0], 0, this.P.leftSplit),
                                    this.P.rightSplit && this._S(this._M[2], i, this.rl.length),
                                    this._S(this._M[1], this.P.leftSplit, i),
                                    this.P.topSplit && !G.touch && this.pS();
                            },
                            bS: function () {
                                for (var t, e = 0, i = 0, n = 0, s = 0; e < this.P.leftSplit; ) (i += this.rl[e].width), e++;
                                for (t = (e = this.rl.length - 1) - this.P.rightSplit; t <= e; ) (s += this.rl[e].width), e--;
                                for (e = this.P.leftSplit; e < this.rl.length - this.P.rightSplit; e++) n += this.rl[e].width;
                                return [i, n, s];
                            },
                            pS: function () {
                                var t,
                                    e,
                                    i,
                                    n = this.rl.length - this.P.rightSplit;
                                for (e = 3; e < 6; e++) (t = this._M[e] = dt("DIV", { class: "webix_span_layer_top" })), this.st.childNodes[e - 3].appendChild(t);
                                (i = this.bS()),
                                    this.P.leftSplit && ((this._M[3].style.width = i[0] + "px"), this._S(this._M[3], 0, this.P.leftSplit, !0)),
                                    this.P.rightSplit && ((this._M[5].style.width = i[2] + "px"), this._S(this._M[5], n, this.rl.length, !0)),
                                    (this._M[4].style.width = i[1] + "px"),
                                    this._S(this._M[4], this.P.leftSplit, n, !0);
                            },
                            _S: function (t, e, i, n) {
                                for (var s = 0, r = this.data.$min || 0, o = this.data.$max || this.data.order.length, a = r; a < o; a++) {
                                    var l = this.data.order[a];
                                    if (l) {
                                        var h = this.ul[l];
                                        if (h && (!n || a < this.P.topSplit))
                                            for (var c = e; c < i; c++) {
                                                var d = this.rl[c].id;
                                                h[d] && this.mS(t, a, c, h, s, e, l, d);
                                            }
                                        s += this.vy(this.getItem(l));
                                    }
                                }
                            },
                            vS: function () {
                                for (var t = this.config.select, e = "cell" == t || "column" == t, i = this.getSelectedId(!0), n = [], s = this.gS || [], r = x() + "", o = !1, a = 0; a < i.length; a++) {
                                    var l = this.ul[i[a]];
                                    !l || (e && !l[i[a].column]) || ((l.$selected && l.$selected.id == i[a].id) || (o = !0), (l.$selected = i[a]), (l.$time = r), n.push(i[a].id));
                                }
                                for (var h = 0; h < s.length; h++) {
                                    var c = this.ul[s[h]];
                                    c && c.$time !== r && (delete c.$selected, (o = !0));
                                }
                                (this.gS = [].concat(i)), o && this.dS();
                            },
                            wS: function (t, e) {
                                for (var i = 0, n = t; n < e; n++) {
                                    var s = this.rl[n];
                                    i += s ? s.width : 0;
                                }
                                return i;
                            },
                            xS: function (t, e) {
                                for (var i = 0, n = t; n < e; n++) {
                                    var s = this.getItem(this.data.order[n]);
                                    i += s ? this.vy(s) : this.P.rowHeight;
                                }
                                return i;
                            },
                            mS: function (t, e, i, n, s, r, o, a) {
                                var l = n[a],
                                    h = l[2] || this.getText(o, a),
                                    c = "";
                                !n.$selected || ("row" !== this.P.select && n.$selected.column !== a) || (c = "webix_selected ");
                                var d = { column: i, row: e, class: c + "webix_cell webix_table_cell webix_dtable_span " + (l[3] || ""), "aria-colindex": i + 1, "aria-rowindex": e + 1 };
                                1 < l[0] && (d["aria-colspan"] = l[0]), 1 < l[1] && (d["aria-rowspan"] = l[1]);
                                var u = dt("DIV", d, "" + h);
                                (u.style.top = s + "px"), (u.style.left = this.wS(r, i) + "px"), (u.style.width = this.wS(i, i + l[0]) + "px"), (u.style.height = this.xS(e, e + l[1]) + "px"), t.appendChild(u);
                            },
                            lS: function () {
                                if (!this.P.prerender) for (var t = this.getScrollState(), e = 0; e < 3; e++) this._M[e].style.top = "-" + (t.y || 0) + "px";
                            },
                            mM: function (t, e) {
                                var i,
                                    n,
                                    s = !1;
                                return this.ul && ((i = this.getSpan(t.row, t.column)), (n = this.getSpan(e.row, e.column)), i && n && i[0] == n[0] && i[1] == n[1] && (s = !0)), s;
                            },
                            getSpanNode: function (t) {
                                for (var e = this._M, i = this.getIndexById(t.row), n = this.getColumnIndex(t.column), s = 0; s < e.length; s++)
                                    for (var r = e[s].childNodes, o = 0; o < r.length; o++) if (r[o].getAttribute("row") == i && r[o].getAttribute("column") == n) return r[o];
                                return null;
                            },
                        },
                        No = {
                            name: "datatable",
                            defaults: {
                                leftSplit: 0,
                                rightSplit: 0,
                                topSplit: 0,
                                columnWidth: 100,
                                sort: !0,
                                prerender: !1,
                                autoheight: !1,
                                autowidth: !1,
                                header: !0,
                                fixedRowHeight: !0,
                                scrollAlignY: !0,
                                scrollX: !0,
                                scrollY: !0,
                                datafetch: 50,
                                navigation: !0,
                            },
                            $skin: function () {
                                (this.defaults.rowHeight = Ve.rowHeight),
                                    (this.defaults.minRowHeight = Ve.rowHeight - 6),
                                    (this.defaults.headerRowHeight = Ve.barHeight - 2 * Ve.borderWidth),
                                    (this.defaults.minColumnWidth = 2 * Ve.dataPadding + Ve.borderWidth);
                            },
                            on_click: {
                                webix_excel_filter: function () {
                                    return !1;
                                },
                                webix_richfilter: function () {
                                    return !1;
                                },
                                webix_table_checkbox: function (t, e) {
                                    e = this.locate(t);
                                    var i = this.getItem(e.row),
                                        n = this.getColumnConfig(e.column),
                                        s = t.target,
                                        r = ("checkbox" == s.type ? s.checked : i[e.column] != n.checkValue) ? n.checkValue : n.uncheckValue,
                                        o = {};
                                    return (o[e.column] = r), this.updateItem(e.row, o, this.P.checkboxRefresh ? "update" : "save"), this.callEvent("onCheck", [e.row, e.column, r]), !1;
                                },
                                webix_table_radio: function (t) {
                                    var e = this.locate(t),
                                        i = this.getItem(e.row),
                                        n = this.getColumnConfig(e.column);
                                    return (
                                        this.eachRow(function (t) {
                                            var i = this.data.pull[t];
                                            i && i[e.column] == n.checkValue && (i[e.column] = n.uncheckValue);
                                        }),
                                        (i[e.column] = n.checkValue),
                                        this.callEvent("onCheck", [e.row, e.column, !0]),
                                        this.refresh(),
                                        !1
                                    );
                                },
                            },
                            on_dblclick: {
                                webix_table_checkbox: function () {
                                    return this.on_click.webix_table_checkbox.apply(this, arguments);
                                },
                            },
                            on_context: {},
                            $init: function (e) {
                                (this.on_click = t.extend({}, this.on_click)),
                                    (this.Wi.innerHTML =
                                        "<div class='webix_ss_header' section='header'><div class='webix_hs_left'></div><div class='webix_hs_center'></div><div class='webix_hs_right'></div></div><div class='webix_ss_body'><div class='webix_ss_left'><div class='webix_ss_center_scroll'></div></div><div class='webix_ss_center'><div class='webix_ss_center_scroll' role='rowgroup'></div></div><div class='webix_ss_right'><div class='webix_ss_center_scroll'></div></div></div><div class='webix_ss_hscroll' role='scrollbar' aria-orientation='horizontal'></div><div class='webix_ss_footer' section='footer'><div class='webix_hs_left'></div><div class='webix_hs_center'></div><div class='webix_hs_right'></div></div><div class='webix_ss_vscroll_header'></div><div class='webix_ss_vscroll' role='scrollbar' aria-orientation='vertical'></div><div class='webix_ss_vscroll_footer'></div>"),
                                    (this.oS = this.Wi.id = this.name + x()),
                                    (this.Wi.className += " webix_dtable"),
                                    (this.tt = this.Wi),
                                    (this.k = this.Wi.firstChild),
                                    (this.st = this.k.nextSibling),
                                    (this.nl = this.st.nextSibling.nextSibling),
                                    this.Vt.setAttribute("role", "grid"),
                                    e.editable || this.Vt.setAttribute("aria-readonly", "true"),
                                    this.data.provideApi(this, !0),
                                    this.data.attachEvent("onParse", m(this.yS, this)),
                                    this.$ready.push(this.MS),
                                    (this.rl = []),
                                    (this.xo = []),
                                    (this.al = []),
                                    (this.cl = []),
                                    (this.SS = []),
                                    (this.To = {}),
                                    (this.So = {}),
                                    (this.kS = {}),
                                    (this.CS = []),
                                    (this.Zo = this.$S = 0),
                                    (this.Bt = []),
                                    this.data.attachEvent("onServerConfig", m(this.DS, this)),
                                    this.data.attachEvent("onServerOptions", m(this.IS, this)),
                                    this.attachEvent("onViewShow", function () {
                                        this.n_(), this.AS();
                                    }),
                                    this.data.attachEvent(
                                        "onClearAll",
                                        m(function (t) {
                                            t || ((this.bh = this._h = 0), this.ph && this.ph.reset(), this.vh && this.vh.reset(), this.TS(0));
                                        }, this)
                                    ),
                                    this.attachEvent("onDestruct", this.FS),
                                    this.attachEvent("onKeyPress", this.ke),
                                    this.attachEvent("onScrollY", this.VS),
                                    M("onDataTable", [this, e]);
                            },
                            zS: function () {
                                this.MM = this.Vy = G.scrollSize;
                                var t = this.P.headerRowHeight + 1;
                                ht("#" + this.oS + " .webix_cell { height:" + this.P.rowHeight + "px; line-height:" + (this.P.rowLineHeight || this.P.rowHeight) + "px;" + (this.P.fixedRowHeight ? "" : "white-space:normal;") + " }"),
                                    ht("#" + this.oS + " .webix_hcell { height:" + t + "px; line-height:" + t + "px;}"),
                                    (this.zS = function () {});
                            },
                            MS: function () {
                                this.data.attachEvent("onStoreLoad", m(this.AS, this)),
                                    this.data.attachEvent("onSyncApply", m(this.AS, this)),
                                    this.data.attachEvent(
                                        "onStoreUpdated",
                                        m(function () {
                                            return this.render.apply(this, arguments);
                                        }, this)
                                    ),
                                    this.data.attachEvent("onStoreUpdated", m(this.BS, this)),
                                    this.render();
                            },
                            refresh: function () {
                                this.render();
                            },
                            BM: function () {
                                var t = this;
                                clearTimeout(this.HS),
                                    (this.HS = b(function () {
                                        (t.HS = 0), v(t.RS) || (t.TS(t.RS), delete t.RS), t.render();
                                    }));
                            },
                            render: function (t, e, i) {
                                if ("save" != i && !this.HS) {
                                    if (!this.rl.length) {
                                        var n = this.P.columns;
                                        if (!n || !n.length) {
                                            if (!this.P.autoConfig || !this.data.order.length || this.xo.length) return;
                                            (this.ko = 0), this.ES();
                                        }
                                        this.FM();
                                    }
                                    if (!this.isVisible(this.P.id) || this.$blockRender) return this.zS();
                                    var s = this.config.experimental && !this.P.subview;
                                    return !t || -1 == e || ("paint" != i && "update" != i) || s
                                        ? (this.PS && (clearTimeout(this.PS), (this.PS = 0)),
                                          this.callEvent("onBeforeRender", [this.data])
                                              ? (this.zS(),
                                                this.ko || this.VM(),
                                                (t && "update" == i) || ((this.ky = this.jS()), this.NS()),
                                                this.me && (s && ("paint" == i || "update" == i) && t ? this.LS(t) : this.OS(!0, !0)),
                                                this.Vt.setAttribute("aria-colcount", Math.max(this.xo.length, this.rl.length)),
                                                this.Vt.setAttribute("aria-rowcount", this.data.count()),
                                                this.callEvent("onAfterRender", [this.data]),
                                                !0)
                                              : void 0)
                                        : (this.PS && clearTimeout(this.PS),
                                          void (this.PS && this.WS != t
                                              ? ((this.WS = null),
                                                (this.PS = b(function () {
                                                    this.render();
                                                }, this)))
                                              : ((this.WS = t),
                                                (this.PS = b(function () {
                                                    this.render(t, -1, i);
                                                }, this)))));
                                }
                            },
                            getColumnConfig: function (t) {
                                return this.ol[t] || this.Co[t];
                            },
                            IS: function (t) {
                                for (var e in t) {
                                    var i = this.getColumnConfig(e),
                                        n = new Sr({ data: t[e] });
                                    this.Bt.push(n), this.zu(n, i);
                                }
                            },
                            DS: function (t) {
                                this.$u(), t.columns && this.ko && this.refreshColumns(null, !0);
                            },
                            FM: function () {
                                if (this.P.columns) {
                                    (this.rl = this.P.columns), (this.ol = {});
                                    for (var t = 0; t < this.rl.length; t++) {
                                        var i = this.rl[t],
                                            n = (this.ol[i.id] = i).cssFormat;
                                        if ((n && (i.cssFormat = k(n, this.$scope)), (i.width = this.US(i.width || this.P.columnWidth, i)), "string" == typeof i.format && (i.format = T[i.format] || window[i.format]), i.numberFormat)) {
                                            var s = i.numberFormat;
                                            "string" == typeof s && (i.numberFormat = s = ss.getConfig(s)),
                                                (i.format = ss.numToStr(s)),
                                                (i.editFormat =
                                                    i.editFormat ||
                                                    function (t) {
                                                        return ss.format(t, s);
                                                    }),
                                                (i.editParse =
                                                    i.editParse ||
                                                    function (t) {
                                                        return ss.parse(t, s);
                                                    });
                                        }
                                        v(i.checkValue) && (i.checkValue = 1), v(i.uncheckValue) && (i.uncheckValue = 0), i.css && "object" == e(i.css) && (i.css = lt(i.css));
                                        var r = i.template;
                                        r && ("string" == typeof r && (r = r.replace(/#\$value#/g, "#" + i.id + "#")), (i.template = Ut(r)));
                                    }
                                    this.YS("header", this.al), this.YS("footer", this.cl), this.callEvent("onStructureLoad", []);
                                }
                            },
                            qS: function () {
                                this.VM();
                            },
                            FS: function () {
                                for (var t = 0; t < this.rl.length; t++) delete this.rl[t].attached, delete this.rl[t].node;
                            },
                            VM: function () {
                                this.ax = this.rl.length - this.P.rightSplit;
                                for (var t = (this.GS = 0); t < this.rl.length; t++) {
                                    if (!this.rl[t].node) {
                                        var e = dt("DIV");
                                        (e.style.width = this.rl[t].width + "px"), (this.rl[t].node = e);
                                    }
                                    t >= this.P.leftSplit && t < this.ax && (this.GS += this.rl[t].width);
                                }
                                var i = [];
                                if (this.P.rightSplit) {
                                    var n = this.rl.length - this.P.rightSplit;
                                    (i[n] = " webix_first"), (i[n - 1] = " webix_last");
                                }
                                if (this.P.leftSplit) {
                                    var s = this.P.leftSplit;
                                    (i[s] = " webix_first"), (i[s - 1] = " webix_last");
                                }
                                i[0] = (i[0] || "") + " webix_first webix_select_mark";
                                var r = this.rl.length - 1;
                                i[r] = (i[r] || "") + " webix_last";
                                for (var o = 0; o < this.rl.length; o++) {
                                    var a = this.rl[o].node;
                                    a.setAttribute("column", o), (a.className = "webix_column " + (this.rl[o].css || "") + (i[o] || ""));
                                }
                                this.XS(), this.KS(), this.JS(), this.qx(), (this.ko = !0);
                            },
                            KS: function () {
                                for (var t = 0, e = 0; e < this.rl.length; e++) {
                                    var i = this.rl[e];
                                    (e != this.P.leftSplit && e != this.ax) || (t = 0), i.node && ((i.node.style.left = t + "px"), (this.P.leftSplit || this.P.rightSplit) && (pt(i.node), (i.attached = !1))), (t += i.width);
                                }
                            },
                            qx: function () {
                                this.ZS || (this.ZS = 0),
                                    (this.Zo = this.$S = 0),
                                    this.P.header && (this.QS(this.k, 0, 1), this.YS("header", this.al), (this.Zo = this.al.tk), this.ik(this.k, "header", this.al)),
                                    this.P.footer && (this.QS(this.nl, 0, 1), this.YS("footer", this.cl), (this.$S = this.cl.tk), this.ik(this.nl, "footer", this.cl)),
                                    this.refreshHeaderContent(!1, !1),
                                    this.ek();
                                for (var t = 0; t < this.CS.length; t++) {
                                    var e = this.CS[t];
                                    this.sk(e, this.kS[e]);
                                }
                            },
                            nk: function (t, e, i) {
                                var n = 0,
                                    s = t.colspan || 1,
                                    r = "webix_hcell " + (t.css || "");
                                if (t.rotate) r += " webix_measure_rotate";
                                else for (var o = 0; o < s; o++) n += this.rl[i + o] ? this.rl[i + o].width : this.config.columnWidth;
                                var a = Pt([t.text], r, n);
                                return (t.rotate ? a.width : a.height) + 1;
                            },
                            YS: function (t, i) {
                                for (var n = 0, s = (i.length = 0); s < this.rl.length; s++) {
                                    var r = this.rl[s][t];
                                    (r && "object" == e(r) && r.length) || (v(r) && (r = "header" == t ? this.rl[s].id : ""), (r = [r]));
                                    for (var o = 0; o < r.length; o++)
                                        "object" != e(r[o]) && (r[o] = { text: r[o] }),
                                            r[o] && r[o].height && (i[o] = Math.max(i[o] || 0, r[o].height)),
                                            r[o] && r[o].autoheight && (i[o] = Math.max(i[o] || 0, this.nk(r[o], this.rl[s], s))),
                                            r[o] && r[o].css && "object" === e(r[o].css) && (r[o].css = lt(r[o].css));
                                    (n = Math.max(n, r.length)), (this.rl[s][t] = r);
                                }
                                for (var a = (i.tk = n) - 1; 0 <= a; a--) (i[a] = i[a] || this.P.headerRowHeight), (i.tk += 1 * i[a]);
                                for (var l = 0; l < this.rl.length; l++)
                                    for (var h = this.rl[l][t], c = 0; c < h.length; c++) {
                                        if (h[c] && h[c].rowspan) for (var d = 1; d < h[c].rowspan; d++) h[c + d] = null;
                                        if (h[c] && h[c].colspan) for (var u = 1; u < h[c].colspan; u++) this.rl[l + u][t][c] = null;
                                    }
                                for (var p = 0; p < this.rl.length; p++) {
                                    var f = this.rl[p][t];
                                    if (f.length < n) {
                                        var m = f.length - 1;
                                        f[m].rowspan = n - f.length + 1;
                                        for (var g = m + 1; g < n; g++) f[g] = null;
                                    }
                                }
                                return n;
                            },
                            hk: function (t, e) {
                                return t.querySelector("DIV[".concat("active_id", '="').concat(e, '"]'));
                            },
                            getHeaderContent: function (e) {
                                var i = this.hk(this.k, e);
                                if ((i || (i = this.hk(this.nl, e)), i)) {
                                    var n = this.To[e],
                                        s = ws[n.content],
                                        r = {
                                            type: s,
                                            getValue: function (t) {
                                                return s.getValue(i, t);
                                            },
                                            setValue: function (t) {
                                                return s.setValue(i, t);
                                            },
                                        };
                                    return s.getHelper && t.extend(r, s.getHelper(i, n)), r;
                                }
                            },
                            rk: function (t, e, i, n, s) {
                                if (t == e) return "";
                                for (var r = "", o = "", a = this.rl[0][n].length, l = 0, h = t; h < e; h++) {
                                    var c = this.rl[h].width,
                                        d = 0,
                                        u = h == t ? "position:static;" : "position:absolute; top:".concat(d, "px; left:").concat(l, "px;");
                                    r += '<div class="webix_hcolumn" style="'.concat(u, "width:").concat(c, 'px;overflow:hidden;">');
                                    for (var p = 0; p < a; p++) {
                                        var f = !1,
                                            m = this.rl[h][n][p],
                                            g = s[p];
                                        if (m) {
                                            m.content &&
                                                ((m.contentId = m.contentId || x()),
                                                (m.columnId = this.rl[h].id),
                                                (m.format = this.rl[h].format),
                                                ws[m.content],
                                                m.content,
                                                (m.text = ws[m.content].render(this, m)),
                                                (this.To[m.contentId] = m),
                                                (this.ak = !0));
                                            var v = "<div row='" + p + "'column='" + (m.colspan ? m.colspan - 1 + h : h) + "'",
                                                b = "webix_hcell";
                                            m.css && (b += " " + m.css),
                                                this.rl[h].$selected && (b += " webix_sel_hcell"),
                                                h == t && (b += " webix_first"),
                                                e - 1 <= h + (m.colspan ? m.colspan - 1 : 0) && (b += " webix_last"),
                                                ((m.rowspan && p + m.rowspan === a) || p === a - 1) && (b += " webix_last_row");
                                            var y = "";
                                            m.contentId && (v += " active_id='" + m.contentId + "'");
                                            var w = g;
                                            if (m.colspan || m.rowspan) {
                                                var _ = this.uk(this.rl, h, m.colspan) || c;
                                                (w = this.ck(s, p, m.rowspan)) <= 0 && (w = g),
                                                    (b += " webix_span"),
                                                    (y = " colspan='"
                                                        .concat(m.colspan || 1, "' style='position:absolute; top:")
                                                        .concat(d, "px; left:")
                                                        .concat(l, "px; line-height:")
                                                        .concat(w + 1, "px; width:")
                                                        .concat(_, "px; height:")
                                                        .concat(w + 1, "px;'")),
                                                    (r += "<div class='webix_hcell' style='border-bottom-color:transparent;border-right-color:transparent;height:".concat(g + 1, "px;'></div>")),
                                                    (f = !0);
                                            } else g != this.P.headerRowHeight && (y = " style='line-height:".concat(g + 1, "px; height:").concat(g + 1, "px;'"));
                                            b && (v += ' class="' + b + '"'), (d += g + 1), (v += " " + y + ">");
                                            var k = "" === m.text ? "&nbsp;" : m.text;
                                            m.rotate &&
                                                (k = "<div class='webix_rotate' style='width:" + (w - 10) + "px; transform-origin:center " + (w - 15) / 2 + "px;-webkit-transform-origin:center " + (w - 15) / 2 + "px;'>" + k + "</div>"),
                                                (v += k + "</div>"),
                                                f ? (o += v) : (r += v);
                                        } else (r += "<div class='webix_hcell' style='border-bottom-color:transparent;border-right-color:transparent;height:".concat(g + 1, "px;'></div>")), (d += g + 1);
                                    }
                                    (l += c), (r += "</div>");
                                }
                                return r + o;
                            },
                            ck: function (t, e, i) {
                                var n = -1;
                                for (i += e; e < i; e++) n += t[e] + 1;
                                return n;
                            },
                            uk: function (t, e, i) {
                                var n = 0;
                                for (i += e; e < i; e++) n += t[e].width;
                                return n;
                            },
                            showItemByIndex: function (t, e) {
                                var i = this.P.pager;
                                if (i && t >= this.P.topSplit) {
                                    var n = Math.floor(t / i.size);
                                    n != i.page && ae(i.id).select(n);
                                }
                                var s = this.getScrollState();
                                if (t >= this.P.topSplit || (this.P.prerender && -1 != t)) {
                                    var r = this.ix();
                                    if (t < r[0] + 1 || t >= r[1] - 1) {
                                        var o = this.fk(i ? this.data.$min : 0, t),
                                            a = this.Cy + 1,
                                            l = this.ny(t);
                                        if (t < r[0] + 1) o = Math.max(0, o) - (this.lk || 0);
                                        else if (a < o + l) {
                                            o += l - a;
                                            for (var h = t; 0 < h && 0 < a; h--) a -= this.ny(h);
                                            0 < t && a && (o += this.ny(t + 1));
                                        } else o = s.y;
                                        s.y = o;
                                    }
                                }
                                if (-1 != e) {
                                    if (e < this.P.leftSplit || e >= this.ax) return this.scrollTo(s.x, s.y);
                                    var c = this.tx();
                                    if (e < c[0] + 1 || e >= c[1] - 1) {
                                        for (var d = 0, u = this.P.leftSplit; u < e; u++) d += this.rl[u].width;
                                        var p = this.rl[e].width;
                                        e < c[0] + 1 || (d + p > this.ey ? (d += p - this.ey) : (d = s.x)), (s.x = d);
                                    }
                                }
                                this.scrollTo(s.x, s.y);
                            },
                            showCell: function (t, e) {
                                if (!e || !t) {
                                    var i = this.getSelectedId(!0);
                                    1 == i.length && ((e = e || i[0].column), (t = t || i[0].row));
                                }
                                (e = e ? this.getColumnIndex(e) : -1), (t = t ? this.getIndexById(t) : -1), this.showItemByIndex(t, e);
                            },
                            scrollTo: function (t, e) {
                                if (this.ph) {
                                    if (this.My) return this.My(t, e);
                                    null !== t && this.ph.scrollTo(t), null !== e && this.vh.scrollTo(e);
                                }
                            },
                            jo: "touch",
                            getScrollState: function () {
                                if (this.Sy) return this.Sy();
                                var t = this.Zw ? 0 : this.dk || 0;
                                return { x: this.bh || 0, y: this._h + t };
                            },
                            showItem: function (t) {
                                this.showItemByIndex(this.getIndexById(t), -1);
                            },
                            ik: function (t, e, i) {
                                var n = t.childNodes;
                                (n[0].innerHTML = this.rk(0, this.P.leftSplit, this._x, e, i)),
                                    (n[1].innerHTML = this.rk(this.P.leftSplit, this.ax, this.GS, e, i)),
                                    (n[2].innerHTML = this.rk(this.ax, this.rl.length, this.iy, e, i)),
                                    this.TM && (n[1].scrollLeft = this.getScrollState().x),
                                    (n[1].onscroll = m(this.vk, this));
                            },
                            vk: function () {
                                var t = this.getScrollState().x,
                                    e = this.k.childNodes[1].scrollLeft;
                                Math.ceil(e) != Math.ceil(t) && this.scrollTo(e, null);
                            },
                            BS: function () {
                                this.refreshHeaderContent(!0, !0);
                            },
                            AS: function () {
                                this.refreshHeaderContent(!1, !0);
                            },
                            refreshHeaderContent: function (t, e, i) {
                                this.P.header && (e && this.QS(this.k, t, 1, i), this.QS(this.k, t, 0, i)), this.P.footer && (e && this.QS(this.nl, t, 1, i), this.QS(this.nl, t, 0, i));
                            },
                            refreshFilter: function (t) {
                                this.refreshHeaderContent(!1, !0, t);
                            },
                            QS: function (t, e, i, n) {
                                if (this.ak && t)
                                    for (var s = t.querySelectorAll("".concat("DIV", "[").concat("active_id", "]")), r = 0; r < s.length; r++) {
                                        var o = s[r].getAttribute("active_id");
                                        if (o) {
                                            var a = this.To[o];
                                            if (n && n != a.columnId) continue;
                                            var l = ws[a.content];
                                            i ? l.getValue && (a.value = l.getValue(s[r])) : (e && !l.trackCells) || l.refresh(this, s[r], a);
                                        }
                                    }
                            },
                            headerContent: [],
                            _k: function (t, e, i) {
                                this.Vy ? ((t.style.height = Math.max(e, 1) - 1 + "px"), (t.style.width = (this.ax ? 0 : i) + this.Vy - 1 + "px"), G.isWebKit && t.offsetWidth) : (t.style.display = "none");
                            },
                            ek: function () {
                                this.P.header && this._k(this.pk, this.Zo, this.ZS), this.P.footer && this._k(this.bk, this.$S, this.ZS);
                            },
                            Ph: function () {
                                var t = !(this.P.autowidth || !1 === this.P.scrollX);
                                this.MM = t ? G.scrollSize : 0;
                                var e = !(this.P.autoheight || !1 === this.P.scrollY);
                                (this.Vy = e ? G.scrollSize : 0),
                                    G.touch && (t = e = !1),
                                    this.ph && ((this.ph.P.scrollSize = this.MM), (this.ph.P.scrollVisible = t)),
                                    this.vh && ((this.vh.P.scrollSize = this.Vy), (this.vh.P.scrollVisible = e));
                            },
                            XS: function () {
                                var t, e;
                                if (
                                    ((this._h = 0),
                                    (this.bh = 0),
                                    (t = e = 1),
                                    (this.P.autoheight || !1 === this.P.scrollY) && (e = this.Vy = 0),
                                    (this.P.autowidth || !1 === this.P.scrollX) && (t = this.MM = 0),
                                    G.touch && (t = e = 0),
                                    this.ph ||
                                        ((this.ph = ne({ view: "vscroll", container: this.nl.previousSibling, scrollWidth: this.GS, scrollSize: this.MM, scrollVisible: t })),
                                        !t || this.MM || G.$customScroll || (this.ph.Vt.style.position = "absolute"),
                                        this.ph.attachEvent("onScroll", m(this.mk, this))),
                                    !this.vh)
                                ) {
                                    this.pk = this.nl.nextSibling;
                                    var i = this.pk.nextSibling;
                                    (this.bk = i.nextSibling),
                                        (this.vh = ne({ view: "vscroll", container: i, scrollHeight: 100, scroll: "y", scrollSize: this.Vy, scrollVisible: e })),
                                        this.vh.activeArea(this.st),
                                        this.ph.activeArea(this.st, !0),
                                        this.vh.attachEvent("onScroll", m(this.gk, this));
                                }
                                this.me && this.callEvent("onResize", [this.me, this.we]), G.$customScroll && oi.enable(this), (this.XS = function () {});
                            },
                            columnId: function (t) {
                                return this.rl[t].id;
                            },
                            getColumnIndex: function (t) {
                                for (var e = 0; e < this.rl.length; e++) if (this.rl[e].id == t) return e;
                                return -1;
                            },
                            wk: function (t, e) {
                                var i,
                                    n = 0,
                                    s = 0,
                                    r = 0,
                                    o = 0,
                                    a = 0;
                                for (i = 0; i < this.rl.length && ((this.ax != i && this.P.leftSplit != i) || ((n = 0), a++), this.rl[i].id != e); i++) n += this.rl[i].width;
                                for (s += this.rl[i].width, i = 0; i < this.data.order.length && this.data.order[i] != t; i++) o += this.ny(i);
                                return (r += this.ny(i)), [n, s, o - this._h, r, this.st.childNodes[a]];
                            },
                            Ex: function () {
                                return this.row;
                            },
                            locate: function (t, e) {
                                if (this != ae(t)) return null;
                                for (t = t.target || t; t && t.getAttribute && t !== this.$view; ) {
                                    var i = Ct(t).toString(),
                                        n = null;
                                    if (
                                        (-1 != i.indexOf("webix_cell") && (n = this.Vs(t)) && (n.row = this.data.order[n.rind]),
                                        -1 != i.indexOf("webix_hcell") && (n = this.Vs(t)) && (n.header = !0),
                                        -1 != i.indexOf("webix_drop_area") && (n = this.Vs(t)) && (n.row = n.rind = "$webix-drop"),
                                        n)
                                    )
                                        return e ? (n.header ? null : n.row) : ((n.column = this.rl[n.cind].id), (n.toString = this.Ex), n);
                                    t = t.parentNode;
                                }
                                return null;
                            },
                            Vs: function (t) {
                                var e = t.parentNode;
                                if (!e) return null;
                                var i = 1 * (t.getAttribute("column") || e.getAttribute("column")),
                                    n = t.getAttribute("aria-rowindex");
                                return { rind: t.getAttribute("row") || (n ? n - 1 : 0), cind: i, span: 1 * (t.getAttribute("colspan") || e.getAttribute("colspan")) };
                            },
                            Dy: function () {
                                for (var t = -this.ey, e = 0; e < this.rl.length; e++) t += this.rl[e].width;
                                this.bh = Math.min(this.bh, Math.max(0, t));
                            },
                            Io: function (t) {
                                this.ko && (this.Dy(), this.KS(), this.JS(), this.qx(), this.NS(), t || this.OS(!1, !1));
                            },
                            setColumnWidth: function (t, e, i) {
                                return this.Do(this.getColumnIndex(t), e, i);
                            },
                            Do: function (t, e, i, n) {
                                if (!(isNaN(e) || t < 0)) {
                                    var s = this.rl[t];
                                    e = this.US(e, s);
                                    var r = s.width;
                                    return (
                                        r != e &&
                                        (t >= this.P.leftSplit && t < this.ax && (this.GS += e - r), (s.width = e), !!s.node && ((s.node.style.width = e + "px"), i || this.Io(), this.callEvent("onColumnResize", [s.id, e, r, !!n]), !0))
                                    );
                                }
                            },
                            US: function (t, e) {
                                return (t = Math.max(t, e.minWidth || this.P.minColumnWidth || 0)), Math.min(t, e.maxWidth || this.P.maxColumnWidth || 1e5);
                            },
                            vy: function (t) {
                                return (t.$height || this.P.rowHeight) + (t.$subopen ? t.$subHeight : 0);
                            },
                            ny: function (t) {
                                var e = this.data.order[t];
                                return e ? this.vy(this.data.pull[e]) : this.P.rowHeight;
                            },
                            fk: function (t, e) {
                                if (this.P.fixedRowHeight) return Math.max(e - t, 0) * this.P.rowHeight;
                                for (var i = 0; t < e; t++) i += this.ny(t);
                                return i;
                            },
                            at: function (t, e, i) {
                                t.row && ((e = t.column), (t = t.row));
                                var n = this.getColumnConfig(e).width,
                                    s = this.getItem(t).$height || this.P.rowHeight;
                                if (this.config.spans && i) {
                                    var r = this.getSpan(t, e);
                                    if (r) {
                                        var o = this.getSpanNode({ row: r[0], column: r[1] });
                                        (n = o.offsetWidth), (s = o.offsetHeight);
                                    }
                                }
                                for (var a = 0, l = 0, h = 0; h < this.rl.length; h++) {
                                    (h != this.P.leftSplit && h != this.ax) || (a = 0);
                                    var c = this.rl[h];
                                    if (c.id == e) {
                                        var d = h < this.P.leftSplit ? 0 : h >= this.ax ? 2 : 1;
                                        l = this.st.childNodes[d].firstChild;
                                        break;
                                    }
                                    a += c.width;
                                }
                                var u,
                                    p = this.getIndexById(t);
                                if (p < this.P.topSplit) u = this.fk(0, p);
                                else {
                                    var f = this.hx || 0;
                                    u = this.fk(f, p) + (this.Zw || 0) + ((f <= p && this.lk) || 0);
                                }
                                return { parent: l, top: u, left: a, width: n, height: s };
                            },
                            jS: function () {
                                var t = this.P.pager,
                                    e = 0,
                                    i = this.data.order.length;
                                return t && ((e = t.size * t.page), (i = Math.min(i, e + t.size)), t.level && ((e = this.data.$min), (i = this.data.$max))), this.fk(e, i);
                            },
                            setRowHeight: function (t, e) {
                                if (!isNaN(e)) {
                                    (e = Math.max(e, this.P.minRowHeight || 0)), (e = Math.min(e, this.P.maxRowHeight || 1e5));
                                    var i = this.getItem(t),
                                        n = i.$height || this.P.rowHeight;
                                    n != e && ((i.$height = e), (this.config.fixedRowHeight = !1), this.render(), this.callEvent("onRowResize", [t, e, n]));
                                }
                            },
                            gk: function (t) {
                                var e = this._h !== t;
                                if (((this._h = t), this.P.prerender)) for (var i = this.st.childNodes, n = 0; n < i.length; n++) i[n].scrollTop = t;
                                else this.OS();
                                G.$customScroll && oi.Ph(this.st), e && (this.callEvent("onScrollY", []), this.callEvent("onAfterScroll", []));
                            },
                            TS: function (t) {
                                (this.st.childNodes[1].scrollLeft = this.bh = t), this.P.header && (this.k.childNodes[1].scrollLeft = t), this.P.footer && (this.nl.childNodes[1].scrollLeft = t);
                            },
                            mk: function (t) {
                                var e = this.bh !== t;
                                this.HS ? (this.RS = t) : this.TS(t), !1 === this.P.prerender && this.OS(!this.xk), G.$customScroll && oi.Ph(this.st), e && (this.callEvent("onScrollX", []), this.callEvent("onAfterScroll", []));
                            },
                            tx: function (t) {
                                if (t) return [0, this.rl.length];
                                for (var e = this.bh, i = this.P.leftSplit; 0 < e && this.rl.length - 1 > i; ) (e -= this.rl[i].width), i++;
                                var n = i;
                                for (e && 0 < i && i--, e += this.ey; 0 < e && n < this.ax; ) (e -= this.rl[n].width), n++;
                                return [i, n];
                            },
                            getVisibleCount: function () {
                                return Math.floor(this.Cy / this.config.rowHeight);
                            },
                            ix: function (t) {
                                var e = this._h,
                                    i = 0,
                                    n = this.count(),
                                    s = this.P.pager;
                                s && ((i = s.page * s.size), (n = Math.min(n, i + s.size)), s.level && ((i = this.data.$min), (n = this.data.$max)));
                                var r = i + this.P.topSplit;
                                if (t || this.P.autoheight) return [r, n, 0];
                                var o = this.P.fixedRowHeight ? this.P.rowHeight : 0;
                                if (o) {
                                    var a = Math.ceil(e / o);
                                    (e -= a * o), (r += a);
                                } else for (; 0 < e; ) (e -= this.ny(r)), r++;
                                var l = 0 < r && e ? -(this.ny(r - 1) + e) : 0,
                                    h = r;
                                if ((e && r--, (e += (this.Cy || this.we) - (this.lk || 0)), o)) {
                                    var c = Math.ceil(e / o);
                                    (e -= c * o), (h += c);
                                } else for (; 0 < e && h < n; ) (e -= this.ny(h)), h++;
                                return n < h && (h = n), [r, h, l];
                            },
                            LS: function (t) {
                                var e = this.getItem(t),
                                    i = this.getIndexById(t),
                                    n = this.ix(),
                                    s = this.P.topSplit,
                                    r = "";
                                if (s <= i) {
                                    if (i < n[0] || i >= n[1]) return;
                                    i -= n[0] - s;
                                } else r = i == s - 1 ? " webix_topcell webix_last_topcell" : " webix_topcell";
                                for (var o = this.tx(), a = 0; a < this.rl.length; a++) {
                                    var l = this.rl[a];
                                    if ((a < this.ax && a >= this.P.leftSplit && (a < o[0] || a > o[1]) && (l.pM = -999), l.attached && l.node)) {
                                        var h = l.node.childNodes[i];
                                        if (!h) continue;
                                        var c = this.By(e, this.rl[a], 0);
                                        (h.innerHTML = c), (h.className = this.yk(this.rl[a], c, e, t) + r);
                                    }
                                }
                            },
                            OS: function (t, e) {
                                if (this.rl.length && !this.HS) {
                                    e && this.Mk();
                                    var i = this.tx(this.P.prerender),
                                        n = this.ix(!0 === this.P.prerender);
                                    if (t) {
                                        for (var s = this.P.leftSplit; s < i[0]; s++) this.IM(s, e);
                                        for (var r = i[1]; r < this.ax; r++) this.IM(r, e);
                                    }
                                    this.Qw = [];
                                    for (var o = 0; o < this.P.leftSplit; o++) this.Sk(o, n, e);
                                    for (var a = i[0]; a < i[1]; a++) this.Sk(a, n, e, a == i[0]);
                                    for (var l = this.ax; l < this.rl.length; l++) this.Sk(l, n, e);
                                    this.kk(n[0], n[1], e), this.Ck(n);
                                }
                            },
                            $k: function (t, e) {
                                (this.Dk = t), (this.Ik = e), pt(this.SS), (this.SS = []);
                            },
                            VS: function () {
                                if (this.P.prerender && this.Ak) {
                                    var t = this.getScrollState();
                                    this.Ak.style.top = "-" + (t.y || 0) + "px";
                                }
                            },
                            kk: function (t, e, i) {
                                if ((this.Ak && (this.Ak.style.top = this.Zw + "px"), i || t != this.Dk || e != this.Ik)) {
                                    if ((this.$k(t, e), this.Tk)) {
                                        this.Tk = !1;
                                        for (var n = 0; n < this.Qw.length; n++) {
                                            var s,
                                                r = this.Qw[n],
                                                o = this.getItem(r.id);
                                            s = "function" == typeof o.$row ? o.$row.call(this, o, this.type) : this.By(o, this.getColumnConfig(o.$row), n);
                                            var a = (this.SS[n] = dt("DIV", null, s));
                                            (a.className =
                                                "webix_cell " +
                                                (o.$sub
                                                    ? "webix_dtable_sub" + (this.P.subview ? "view" : "row")
                                                    : "webix_dtable_colrow" + (o.$row ? " webix_topcell" + (this.data.getMark(o.id, "webix_selected") ? " webix_selected" : "") : ""))),
                                                a.setAttribute("column", 0),
                                                a.setAttribute("row", r.index);
                                            var l = o.$height || this.P.rowHeight;
                                            o.$subopen ? (a.style.height = o.$subHeight + "px") : (a.style.height = l + "px"), (a.style.paddingRight = G.scrollSize + "px");
                                            var h = this.Qw[n].index < this.config.topSplit ? -this.Zw : 0;
                                            (a.style.top = h + r.top + (o.$subopen ? l - 1 : 0) + "px"),
                                                this.Ak || ((this.Ak = dt("DIV")), (this.Ak.style.position = "relative"), (this.Ak.style.top = this.Zw + "px"), this.st.appendChild(this.Ak)),
                                                this.Ak.appendChild(a),
                                                this.attachEvent("onSyncScroll", function (t, e, i) {
                                                    Ue.ms(this.Ak, 0, e, i);
                                                }),
                                                this.P.subview && this.callEvent("onSubViewRender", [o, a]);
                                        }
                                    }
                                } else if (this.config.topSplit)
                                    for (var c = 0; c < this.Qw.length; c++) {
                                        var d = this.SS[c];
                                        this.Qw[c].index < this.config.topSplit && (d.style.top = this.Qw[c].top - this.Zw + "px");
                                    }
                            },
                            Ck: function (t) {
                                var e = this.P.pager,
                                    i = this.P.datafetch,
                                    n = !this.Fk || t[0] >= this.Fk;
                                if (((this.Fk = t[0]), this.Vk)) {
                                    if (e && (!i || i >= e.size) && this.zk([0, e.size * e.page], Math.max(i, e.size), !0)) return (this.Vk = null);
                                    this.hl(this.Vk, n), (this.Vk = null);
                                } else this.P.loadahead && this.zk(t, this.P.loadahead, n);
                            },
                            zk: function (t, e, i) {
                                var n = t[1],
                                    s = n + e;
                                i || ((n = t[0] - e), (s = t[0])), n < 0 && (n = 0), (s = Math.min(s, this.data.order.length - 1));
                                for (var r = !1, o = n; o < s; o++) this.data.order[o] || (r ? ((r.last = o), (r.count = o - n)) : (r = { start: o, count: s - n }));
                                if (r) return this.hl(r, i), !0;
                            },
                            hl: function (t, e) {
                                var i = Math.max(t.count, this.P.datafetch || this.P.loadahead || 0),
                                    n = e ? t.start : t.last - i + 1;
                                this.mo(t.count, t.start) || this.loadNext(i, n);
                            },
                            Bk: function (t) {
                                if (G.isSafari) {
                                    var e,
                                        i,
                                        n,
                                        s,
                                        r = [this.ph, this.vh];
                                    for (e = 0; e < 2; e++) (s = r[e]) && s.Aw && s.Aw.parentNode == t && (i = s.Aw);
                                    i && (this.Hk && pt(this.Hk), (n = (this.Hk = i).cloneNode(!0)), i.parentNode.insertBefore(n, i), (this.Hk.style.display = "none"), this.st.appendChild(this.Hk));
                                }
                            },
                            IM: function (t) {
                                var e = this.rl[t];
                                this.Bk(e.node), pt(e.node), (e.attached = !1);
                            },
                            Mk: function () {
                                for (var t = 0; t < this.rl.length; t++) this.rl[t].pM = -1;
                                this.SS.length && (pt(this.SS), (this.SS = []));
                            },
                            getText: function (t, e) {
                                return this.By(this.getItem(t), this.getColumnConfig(e), 0);
                            },
                            getCss: function (t, e) {
                                var i = this.getItem(t);
                                return this.yk(this.getColumnConfig(e), i[e], i, t);
                            },
                            yk: function (t, i, n, s) {
                                var r = "webix_cell";
                                if (t.cssFormat) {
                                    var o = t.cssFormat(i, n, s, t.id);
                                    o && ("object" == e(o) ? (r += " " + lt(o)) : (r += " " + o));
                                }
                                var a = n.$css;
                                a && ("object" == e(a) && (n.$css = a = lt(a)), (r += " " + a));
                                var l = this.data.Dr[s];
                                if (l && (l.$css && (r += " " + l.$css), l.$cellCss)) {
                                    var h = l.$cellCss[t.id];
                                    h && (r += " " + h);
                                }
                                if (n.$cellCss) {
                                    var c = n.$cellCss[t.id];
                                    c && ("object" == e(c) && (c = lt(c)), (r += " " + c));
                                }
                                var d = this.data.getMark(n.id, "webix_selected");
                                return ((d && (d.$row || d[t.id])) || t.$selected) && (r += this.Ax), r;
                            },
                            By: function (t, e, i) {
                                return t ? ((void 0 !== (n = t[e.id]) && null !== n) || (n = ""), e.format && (n = e.format(n)), e.template && (n = e.template(t, this.type, n, e, i)), n) : "";
                                var n;
                            },
                            type: {
                                checkbox: function (t, e, i, n) {
                                    return "<input class='webix_table_checkbox' type='checkbox' " + (i == n.checkValue ? 'checked="true"' : "") + ">";
                                },
                                radio: function (t, e, i, n) {
                                    return "<input class='webix_table_radio' type='radio' " + (i == n.checkValue ? 'checked="true"' : "") + ">";
                                },
                                editIcon: function () {
                                    return "<span class='webix_icon wxi-pencil'></span>";
                                },
                                trashIcon: function () {
                                    return "<span class='webix_icon wxi-trash'></span>";
                                },
                            },
                            type_setter: function (e) {
                                return (
                                    this.types && this.types[e] ? ((this.type = p(this.types[e])), this.type.css && (this.Wi.className += " " + this.type.css)) : te(this, e),
                                    this.type.on_click && t.extend(this.on_click, this.type.on_click),
                                    e
                                );
                            },
                            Sk: function (t, e, i, n) {
                                var s = this.rl[t];
                                if (!s.attached) {
                                    var r = t < this.P.leftSplit ? 0 : t >= this.ax ? 2 : 1;
                                    this.st.childNodes[r].firstChild.appendChild(s.node), (s.attached = !0), (s.split = r);
                                }
                                if (
                                    ((this.hx = e[0]),
                                    (this.Zw = 0),
                                    (this.dk = e[2]),
                                    this.P.scrollAlignY
                                        ? e[1] == this.data.order.length || (this.data.$pagesize && e[1] % this.data.$pagesize == 0)
                                            ? (s.node.style.top = (this.Zw = e[2]) + "px")
                                            : s.Rk && (s.node.style.top = "0px")
                                        : ((this.Zw = e[2]), (s.node.style.top = e[2] + "px")),
                                    !(i || s.pM != e[0] || s.bM != e[1] || (this.P.topSplit && s.Zw != this.Zw)))
                                )
                                    return 0;
                                for (var o = "", a = this.P.columns[t], l = { row: this.P.rowHeight, total: 0, single: n }, h = 0; h < this.P.topSplit; h++) o += this.Ek(h, a, e, l, -this.Zw, t);
                                this.Vk = null;
                                for (var c = Math.max(e[0], this.P.topSplit); c < e[1]; c++) o += this.Ek(c, a, e, l, -1, t);
                                return this.Bk(s.node), (s.node.innerHTML = o), (s.pM = e[0]), (s.bM = e[1]), (s.Rk = e[2]), (s.Zw = this.Zw), 1;
                            },
                            Ek: function (t, e, i, n, s, r) {
                                var o = this.data.order[t],
                                    a = this.data.getItem(o),
                                    l = "";
                                if (a) {
                                    var h =
                                        " role='gridcell' aria-rowindex='" +
                                        (t + 1) +
                                        "' aria-colindex='" +
                                        (this.getColumnIndex(e.id) + 1) +
                                        "'" +
                                        (a.$count || a.$sub ? " aria-expanded='" + (a.open || a.$subopen ? "true" : "false") + "'" : "") +
                                        (a.$level ? " aria-level='" + a.$level + "'" : "");
                                    if (n.single && a.$row && ((this.Tk = !0), this.Qw.push({ top: n.total, id: a.id, index: t }), !a.$sub)) {
                                        var c = a.$height || n.row;
                                        return (n.total += c), "<div" + h + " class='webix_cell' style='height:" + c + "px;'></div>";
                                    }
                                    var d = this.By(a, e, t),
                                        u = this.yk(e, d, a, o),
                                        p = " aria-selected='true' tabindex='0'";
                                    -1 !== u.indexOf("select") && (-1 !== u.indexOf("row") ? this.tx()[0] === r && (h += p) : -1 !== u.indexOf("col") ? t === i[0] && (h += p) : (h += p));
                                    var f = !!a.$subopen,
                                        m = f ? "margin-bottom:" + a.$subHeight + "px;" : "";
                                    0 <= s && (0 < s && (m += "top:" + s + "px;'"), (u = "webix_topcell " + u), t == this.P.topSplit - 1 && (u = "webix_last_topcell " + u)),
                                        a.$height
                                            ? ((l = "<div" + h + " class='" + u + "' style='height:" + a.$height + "px;" + m + "'>" + d + "</div>"), (n.total += a.$height - n.row))
                                            : (l = "<div" + h + " class='" + u + "'" + (m ? " style='" + m + "'" : "") + ">" + d + "</div>"),
                                        f && (n.total += a.$subHeight);
                                } else (l = "<div role='gridcell' class='webix_cell'></div>"), this.Vk ? (this.Vk.last = t) : (this.Vk = { start: t, count: i[1] - t });
                                return (n.total += n.row), l;
                            },
                            NS: function () {
                                if (this.rl.length && !isNaN(1 * this.we)) {
                                    var t = this.ky + (this.MM ? this.MM : 0);
                                    if ((!this.P.autoheight && !this.P.yCount) || !this.resize()) {
                                        this.vh.sizeTo(this.we, this.Zo, this.$S),
                                            this.vh.define("scrollHeight", t),
                                            (this.lk = this.P.topSplit ? this.fk(0, this.P.topSplit) : 0),
                                            (this.Cy = Math.max(0, this.we - this.MM - this.Zo - this.$S));
                                        for (var e = 0; e < 3; e++)
                                            (this.st.childNodes[e].style.height = this.Cy + "px"),
                                                this.P.prerender ? (this.st.childNodes[e].firstChild.style.height = this.ky + "px") : (this.st.childNodes[e].firstChild.style.height = this.Cy + "px");
                                        this.k.style.height = this.Zo + "px";
                                    }
                                }
                            },
                            JS: function () {
                                if (this.rl.length) {
                                    var t = 0;
                                    for (this._x = 0, this.iy = 0, this.ey = 0; t < this.P.leftSplit; ) (this._x += this.rl[t].width), t++;
                                    for (t = this.rl.length - 1; t >= this.ax; ) (this.iy += this.rl[t].width), t--;
                                    if (this.me && (!this.P.autowidth || !this.resize())) {
                                        (this.ey = this.me - this.iy - this._x - this.Vy),
                                            (this.st.childNodes[1].firstChild.style.width = this.GS + "px"),
                                            (this.st.childNodes[0].style.width = this._x + "px"),
                                            (this.st.childNodes[1].style.width = this.ey + "px"),
                                            (this.st.childNodes[2].style.width = this.iy + "px"),
                                            (this.k.childNodes[0].style.width = this._x + "px"),
                                            (this.k.childNodes[1].style.width = this.ey + "px"),
                                            (this.k.childNodes[2].style.width = this.iy + "px"),
                                            (this.nl.childNodes[0].style.width = this._x + "px"),
                                            (this.nl.childNodes[1].style.width = this.ey + "px"),
                                            (this.nl.childNodes[2].style.width = this.iy + "px");
                                        var e = this.ey - this.GS;
                                        e < 0 && (e = 0),
                                            e != this.ZS && ((this.ZS = e), this.ek()),
                                            G.isWebKit && (this.st.childNodes[0].offsetWidth, this.st.childNodes[1].offsetWidth, this.st.childNodes[1].firstChild.offsetWidth, this.st.childNodes[2].offsetWidth),
                                            this.ph.sizeTo(this.me - this.Vy),
                                            this.ph.define("scrollWidth", this.GS + this._x + this.iy);
                                    }
                                }
                            },
                            $getSize: function (t, e) {
                                if ((this.P.autoheight || this.P.yCount) && this.P.columns) {
                                    var i = (this.P.yCount || 0) * this.P.rowHeight;
                                    i || (i = this.isVisible() ? this.ky : this.count() * this.P.rowHeight), (this.P.height = Math.max(i + (this.MM ? this.MM : 0) - 1, this.P.minHeight || 0) + this.Zo + this.$S);
                                }
                                this.P.autowidth && this.P.columns && (this.P.width = Math.max(this.GS + this._x + this.iy + this.Vy, this.P.minWidth || 0));
                                var n = this._x + this.iy + this.Vy,
                                    s = Re.api.$getSize.call(this, t, e);
                                return (s[0] = Math.max(s[0] || n)), s;
                            },
                            n_: function () {
                                if (this.ph && !G.touch) {
                                    var t = this.getScrollState();
                                    (this.ph.config.scrollPos = this.vh.config.scrollPos = 0), this.scrollTo(t.x, t.y);
                                }
                            },
                            $setSize: function () {
                                var t = this.me,
                                    e = this.we;
                                Re.api.$setSize.apply(this, arguments) && (this.ko && (this.callEvent("onResize", [this.me, this.we, t, e]), this.JS(), this.NS()), this.render());
                            },
                            Pk: function (t, e) {
                                var i = this.getColumnConfig(t);
                                if (this.P.sort && i.sort) {
                                    var n = "asc";
                                    this.Mo[i.id] && (n = "asc" == this.Mo[i.id].dir ? "desc" : "asc"), this.Ao(i.id, n, i.sort, e.ctrlKey || e.metaKey);
                                }
                            },
                            markSorting: function (t, e, i) {
                                if (((e = e || "asc"), !i))
                                    for (var n in ((this.CS = []), this.kS))
                                        if (n !== t) {
                                            var s = this.kS[n].parentNode;
                                            s && (s.removeAttribute("aria-sort"), s.removeAttribute("tabindex")), pt(this.kS[n]), delete this.kS[n];
                                        } else this.CS.push(n), (this.kS[n].firstChild.innerHTML = "1");
                                if (t) {
                                    if (this.kS[t]) this.kS[t].className = "webix_ss_sort_".concat(e);
                                    else {
                                        var r = dt("div", { webix_sort_dir: e, class: "webix_ss_sort_".concat(e) }, '<div class="webix_ss_sort_num">'.concat(this.CS.length + 1, "</div>"));
                                        this.sk(t, r, e), (this.kS[t] = r), this.CS.push(t);
                                    }
                                    var o = this.kS[this.CS[0]];
                                    switch (this.CS.length) {
                                        case 1:
                                            _t(o, "webix_ss_sort_single");
                                            break;
                                        case 2:
                                            kt(o, "webix_ss_sort_single");
                                    }
                                }
                            },
                            sk: function (t, e, i) {
                                i = i || e.getAttribute("webix_sort_dir");
                                var n = this.jk(this.getColumnIndex(t));
                                n && ("absolute" != n.style.position && (n.style.position = "relative"), n.appendChild(e), n.setAttribute("aria-sort", i + "ending"), n.setAttribute("tabindex", "0"));
                            },
                            scroll_setter: function (t) {
                                return "string" == typeof t ? ((this.P.scrollX = -1 != t.indexOf("x")), (this.P.scrollY = -1 != t.indexOf("y")), t) : (this.P.scrollX = this.P.scrollY = t);
                            },
                            jk: function (t) {
                                for (var e = this.k.querySelectorAll("div[".concat("column", '="').concat(t, '"]')), i = null, n = 0; n < e.length; n++) {
                                    var s = e[n].getAttribute("active_id");
                                    if (s && !ws[this.To[s].content].$icon) return null;
                                    if (e[n].innerHTML && ((i = e[n]), (e[n].colSpan || 0) < 2)) return i;
                                }
                                return i;
                            },
                            yo: [],
                            Mo: {},
                            Ao: function (t, e, i, n) {
                                var s = this;
                                (e = e || "asc"), (n = "multi" === this.P.sort && n) || ((this.yo = []), (this.Mo = {}));
                                var r = this.getColumnConfig(t),
                                    o = "function" == typeof r.sort ? { as: r.sort, dir: e } : { by: r.id, dir: e, as: r.sort };
                                if ((this.Mo[r.id] || this.yo.push(r.id), (this.Mo[r.id] = o), "server" == i)) {
                                    var a = [r.id, e, i];
                                    1 < this.yo.length &&
                                        (a = [
                                            this.yo.map(function (t) {
                                                return s.Mo[t];
                                            }),
                                        ]),
                                        this.callEvent("onBeforeSort", a),
                                        this.loadNext(0, 0, 0, 0, 1).then(function (t) {
                                            s.clearAll(!0), s.parse(t), s.callEvent("onAfterSort", a);
                                        });
                                } else {
                                    if ("text" == i) {
                                        var l = "$text_" + r.id;
                                        this.data.each(function (t) {
                                            t[l] = this.getText(t.id, r.id);
                                        }, this),
                                            (o.as = "string"),
                                            (o.by = l);
                                    }
                                    1 < this.yo.length
                                        ? this.data.sort(
                                              this.yo.map(function (t) {
                                                  return s.Mo[t];
                                              })
                                          )
                                        : this.data.sort(o);
                                }
                                this.markSorting(r.id, o.dir, n);
                            },
                            Nk: function (t, e, i, n) {
                                var s;
                                if (t.length) for (s = 0; s < t.length; s++) if (!1 === k(t[s], this.$scope).call(this, e, i, n)) return !1;
                            },
                            Gu: function (t, e, i, n) {
                                var s = (t = t || event).target;
                                if (!this.P.subview || this == ae(s)) {
                                    for (var r = "", o = [], a = !1, l = null; s && s.parentNode && s != this.Vt.parentNode; ) {
                                        if ((r = Ct(s))) for (var h = (r = r.toString().split(" ")).length - 1; 0 <= h; h--) e[r[h]] && o.push(e[r[h]]);
                                        if (s.parentNode.getAttribute && !l) {
                                            var c = s.parentNode.getAttribute("column") || s.getAttribute("column");
                                            if (c) {
                                                var d = this.st.contains(s);
                                                if (!this.rl[c]) return;
                                                if (((a = !0), d)) {
                                                    var u = s.parentNode.getAttribute("row") || s.getAttribute("row");
                                                    if (!u) {
                                                        if (s.getAttribute("column")) return;
                                                        (u = at(s)) >= this.P.topSplit && (this.P.pager || (!this.P.prerender && !this.P.autoheight)) && (u += this.rl[c].pM - this.P.topSplit);
                                                    }
                                                    (this.Pu = l = { row: this.data.order[u], column: this.rl[c].id }), (l.toString = this.Ex);
                                                } else this.Pu = l = { column: this.rl[c].id };
                                                if (!1 === this.Nk(o, t, l, s)) return;
                                                d
                                                    ? this.callEvent("on" + i, [l, t, s]) && n && this.callEvent("on" + n, [l, t, s])
                                                    : "ItemClick" == i && this.k.contains(s) && this.callEvent("onHeaderClick", [l, t, s]) && this.Pk(l.column, t),
                                                    (o = []);
                                            }
                                        }
                                        s = s.parentNode;
                                    }
                                    return this.Nk(o, t, l, this.$view), a;
                                }
                            },
                            Te: function (t, e) {
                                var i = this.locate(e);
                                if (!i) return null;
                                var n,
                                    s = le.Nt;
                                if (i.header) {
                                    for (var r, o = e.target, a = o, l = i.cind - (i.span ? i.span - 1 : 0), h = -1; a && !r; ) r = (a = a.parentNode).getAttribute("section");
                                    for (; o && h < 0; ) {
                                        var c = o.getAttribute("row");
                                        c && (h = c), (o = o.parentNode);
                                    }
                                    var d = this.rl[l][r][h];
                                    if (!d.tooltip) return null;
                                    (s.type.template = Ut(!0 === d.tooltip ? "#text#" : d.tooltip)), (n = d);
                                } else {
                                    var u = (s.type.column = this.getColumnConfig(i.column));
                                    if (!u.tooltip && void 0 !== u.tooltip) return null;
                                    if (!0 === u.tooltip || (!u.tooltip && v(this.P.tooltip.template))) n = this.getText(i.row, i.column).toString();
                                    else if (u.tooltip) {
                                        var p = e.target.getAttribute("webix_area");
                                        s.type.template = p
                                            ? function (t, e) {
                                                  var i = t[u.id];
                                                  return Ut(u.tooltip).call(this, t, e, i[p], p);
                                              }
                                            : Ut(u.tooltip);
                                    } else s.type.template = Ut(this.P.tooltip.template);
                                }
                                return void 0 !== n ? n : this.getItem(i.row);
                            },
                            $tooltipOut: function () {
                                return le.Yt(), delete le.Nt.type.column, null;
                            },
                            showOverlay: function (t) {
                                if (!this.Lk) {
                                    var e = dt("DIV", { class: "webix_overlay" }, "");
                                    this.st.appendChild(e), (this.Lk = e);
                                }
                                this.Lk.innerHTML = t;
                            },
                            hideOverlay: function () {
                                this.Lk && (pt(this.Lk), (this.Lk = null));
                            },
                            mapCells: function (t, e, i, n, s, r) {
                                if (
                                    (null === t && 0 < this.data.order.length && (t = this.data.order[0]),
                                    null === e && (e = this.columnId(0)),
                                    null === i && (i = this.data.order.length),
                                    null === n && (n = this.P.columns.length),
                                    this.exists(t) && ((t = this.getIndexById(t)), null !== (e = this.getColumnIndex(e))))
                                )
                                    for (var o = 0; o < i && t + o < this.data.order.length; o++) {
                                        var a = t + o,
                                            l = this.data.order[a];
                                        if (l)
                                            for (var h = this.getItem(l), c = 0; c < n && e + c < this.P.columns.length; c++) {
                                                var d = e + c,
                                                    u = this.columnId(d),
                                                    p = s(h[u], l, u, o, c);
                                                r || (h[u] = p);
                                            }
                                    }
                            },
                            yS: function (t, e) {
                                !this.P.columns && t.getConfig && this.define("columns", t.getConfig(e));
                            },
                            ES: function () {
                                var t = this.getItem(this.getFirstId()),
                                    e = (this.P.columns = []);
                                for (var i in t) "id" != i && "$" != i[0] && e.push({ id: i, header: i[0].toUpperCase() + i.substr(1), sort: "string", editor: "text" });
                                e.length && (e[0].fillspace = !0), void 0 === this.P.select && this.define("select", "row");
                            },
                        },
                        Oo = {
                            api: No,
                            view: t.protoUI(
                                No,
                                go,
                                gi,
                                on,
                                li,
                                Pi,
                                Mi,
                                Vi,
                                ri,
                                Eo,
                                vn,
                                {
                                    clearValidation: function () {
                                        for (var t in this.data.Dr) this.Ok(t);
                                        this.data.clearMark("webix_invalid", !0);
                                    },
                                    nr: function (t, e) {
                                        for (var i in (this.Ok(t), e)) this.addCellCss(t, i, "webix_invalid_cell");
                                        this.addCss(t, "webix_invalid");
                                    },
                                    Qh: function (t) {
                                        this.Ok(t), this.removeCss(t, "webix_invalid");
                                    },
                                    Ok: function (t) {
                                        var e = this.data.getMark(t, "$cellCss");
                                        if (e) for (var i in e) e[i] = e[i].replace("webix_invalid_cell", "").replace("  ", " ");
                                    },
                                    addRowCss: function (t, e, i) {
                                        this.addCss(t, e, i);
                                    },
                                    removeRowCss: function (t, e, i) {
                                        this.removeCss(t, e, i);
                                    },
                                    addCellCss: function (t, e, i, n) {
                                        var s = this.data.getMark(t, "$cellCss"),
                                            r = s || {},
                                            o = r[e] || "";
                                        (r[e] = o.replace(i, "").replace("  ", " ") + " " + i), s || this.data.addMark(t, "$cellCss", !1, r, !0), n || this.refresh(t);
                                    },
                                    removeCellCss: function (t, e, i, n) {
                                        var s = this.data.getMark(t, "$cellCss");
                                        if (s) {
                                            var r = s[e] || "";
                                            r && (s[e] = r.replace(i, "").replace("  ", " ")), n || this.refresh(t);
                                        }
                                    },
                                },
                                Do,
                                vi,
                                $o,
                                Io,
                                Co,
                                So,
                                ko,
                                Po,
                                _o,
                                xo,
                                wo,
                                Mo,
                                yo,
                                bo,
                                vo,
                                {
                                    topSplit_setter: function (t) {
                                        return this.data && (this.data.$freeze = t), t;
                                    },
                                    freezeRow: function (t, e) {
                                        var i = this.P.topSplit,
                                            n = this.data.order,
                                            s = this.data.Ir;
                                        function r(t, e, n, s, r) {
                                            var o;
                                            if (n && i <= t) {
                                                for (r || i++, o = t; i <= o; o--) s[o] = s[o - 1];
                                                s[i - 1] = e;
                                            }
                                            if (!n && t < i) {
                                                for (r || i--, o = t; o < i; o++) s[o] = s[o + 1];
                                                s[i] = e;
                                            }
                                        }
                                        t ? (r(this.getIndexById(t), (t = t.toString()), e, n), s && r(s.find(t), t, e, s, !0)) : e || (i = 0), this.define("topSplit", i), this.refresh();
                                    },
                                },
                                Ao,
                                ze,
                                Ti,
                                ai,
                                mi,
                                Ni,
                                Ai,
                                Re.view,
                                E,
                                Pe
                            ),
                        },
                        Ro = {
                            name: "excelviewer",
                            $init: function () {
                                var t = this;
                                this.$ready.push(function () {
                                    this.P.toolbar && ae(this.P.toolbar).attachEvent("onExcelSheetSelect", m(this.showSheet, this));
                                }),
                                    this.data.attachEvent("onClearAll", function () {
                                        delete t.Wk;
                                    });
                            },
                            defaults: { datatype: "excel" },
                            $onLoad: function (t) {
                                if (t.sheets) {
                                    (this.Uk = t), this.P.toolbar && ae(this.P.toolbar).setSheets(t.names);
                                    var e = t.names[0];
                                    return this.showSheet(e.id || e), !0;
                                }
                                return !1;
                            },
                            $exportView: function (e) {
                                var i = e.export_mode;
                                if (("pdf" != i && "excel" != i) || e.dataOnly) return this;
                                !0 === e.sheets
                                    ? (e.sheets = this.getSheets().map(function (t) {
                                          return t.id || t;
                                      }))
                                    : e.sheets && e.sheets.length
                                    ? "string" == typeof e.sheets && (e.sheets = [e.sheets])
                                    : (e.sheets = [this.Wk]),
                                    (e.dataOnly = !0),
                                    (e.heights = v(e.heights) && e.styles ? "all" : e.heights);
                                for (var n = [], s = this.Wk, r = 0; r < e.sheets.length; r++) {
                                    var o = e.sheets[r],
                                        a = o.id || o,
                                        l = o.options ? t.extend(f(o.options), e) : f(e);
                                    l.name || (l.name = a), this.showSheet(a), a != s && (l.It = !0), "pdf" == i && v(l.textBefore) && (l.textBefore = l.name);
                                    var h = "pdf" == i ? Tn(this, l) : Rn(this, l);
                                    l.styles && (h[0].styles = this.GM(l)), "pdf" == i && e.autowidth && An(l, e), (n = n.concat(h));
                                }
                                return this.showSheet(s), delete e.dataOnly, n;
                            },
                            showSheet: function (t) {
                                if (t != this.Wk) {
                                    this.clearAll();
                                    var e = this.data.driver.sheetToArray(this.Uk.sheets[t], { spans: this.P.spans }),
                                        i = this.P.excelHeader,
                                        n = {},
                                        s = {};
                                    if (e.sizes) for (var r = 0; r < e.sizes.length; r++) "column" == e.sizes[r][0] ? (n[e.sizes[r][1]] = Math.round(e.sizes[r][2])) : "row" == e.sizes[r][0] && (s[e.sizes[r][1]] = Math.round(e.sizes[r][2]));
                                    if (i)
                                        if (!0 === i) {
                                            i = e.data.splice(0, 1)[0];
                                            for (var o = 0; o < i.length; o++) i[o] = { header: i[o], id: "data" + o, width: n[o], adjust: !n[o], editor: "text", sort: "string" };
                                        } else i = f(i);
                                    else {
                                        i = f(e.data[0]);
                                        for (var a = 0; a < i.length; a++) i[a] = { header: "ABCDEFGHIJKLMNOPQRSTUVWXYZ"[a], id: "data" + a, width: n[a], adjust: !n[a], editor: "text", sort: "string" };
                                    }
                                    (this.config.columns = i), this.refreshColumns(), this.parse(e, this.P.datatype), (this.Wk = t);
                                    var l = this.Yk(e.spans),
                                        h = this.qk(s),
                                        c = this.Gk(e.styles, l);
                                    (l || h || c) && this.refresh();
                                }
                            },
                            getSheets: function () {
                                return this.Uk.names;
                            },
                            Xk: function (t, e, i, n) {
                                for (var s = !1, r = 0; r < t.length; r++)
                                    if (t[r][0] === e && t[r][1] === i) {
                                        (t[r][5] = lt(this.Kk(n))), this.addSpan(t[r][0], t[r][1], t[r][2], t[r][3], t[r][4], t[r][5]), (s = !0);
                                        break;
                                    }
                                return s;
                            },
                            Gk: function (t, e) {
                                var i = 0;
                                if (t && t.length) {
                                    for (var n = 0; n < t.length; n++) {
                                        var s = t[n][0] - (this.config.excelHeader ? 1 : 0);
                                        if (0 <= s) {
                                            var r = this.getIdByIndex(s);
                                            if (this.exists(r)) {
                                                var o = this.getItem(r),
                                                    a = this.columnId(t[n][1]);
                                                a && ((e.length && this.Xk(e, r, a, t[n][2])) || ((o.$cellCss = o.$cellCss || {}), (o.$cellCss[a] = this.Kk(t[n][2]))), i++);
                                            }
                                        }
                                    }
                                    return i;
                                }
                                return !1;
                            },
                            Jk: function (t) {
                                return 8 === (t = t || "000000").length && (t = t.substring(2)), "#" + t;
                            },
                            Kk: function (t) {
                                var e = {};
                                if ((t.fill && t.fill.fgColor && (e["background-color"] = this.Jk(t.fill.fgColor.rgb)), t.font)) {
                                    var i = t.font;
                                    i.name && (e["font-family"] = i.name),
                                        i.sz && (e["font-size"] = i.sz / 0.75 + "px"),
                                        i.color && i.color.rgb && (e.color = this.Jk(i.color.rgb)),
                                        i.bold && (e["font-weight"] = "bold"),
                                        i.underline && (e["text-decoration"] = "underline"),
                                        i.italic && (e["font-style"] = "italic"),
                                        i.strike && (e["text-decoration"] = "line-through");
                                }
                                if (t.alignment) {
                                    var n = t.alignment;
                                    n.vertical && "center" == n.vertical && ((e.display = "flex"), (e["justify-content"] = "flex-start"), (e["align-items"] = "center")),
                                        n.vertical && "bottom" == n.vertical && ((e.display = "flex"), (e["justify-content"] = "flex-end"), (e["align-items"] = "flex-end")),
                                        n.horizontal && (!n.vertical || ("center" != n.vertical && "bottom" != n.vertical) ? (e["text-align"] = n.horizontal) : (e["justify-content"] = "center")),
                                        n.wrapText && (e["white-space"] = "normal");
                                }
                                if (t.border) {
                                    var s = t.border;
                                    s.top && (e["border-top"] = "1px solid " + this.Jk(s.top.color.rgb)),
                                        s.bottom && (e["border-bottom"] = "1px solid " + this.Jk(s.bottom.color.rgb) + " !important"),
                                        s.left && (e["border-left"] = "1px solid " + this.Jk(s.left.color.rgb)),
                                        s.right && (e["border-right"] = "1px solid " + this.Jk(s.right.color.rgb) + " !important");
                                }
                                return e;
                            },
                            qk: function (t) {
                                var e = 0;
                                for (var i in t) {
                                    var n = this.config.excelHeader ? i - 1 : i;
                                    if (0 <= n) {
                                        var s = this.getIdByIndex(n);
                                        this.exists(s) && ((this.getItem(s).$height = t[i]), e++);
                                    }
                                }
                                return (this.config.fixedRowHeight = !e), e;
                            },
                            Yk: function (t) {
                                var e = [];
                                if (this.P.spans && t && t.length) {
                                    this.ul = {};
                                    for (var i = 0; i < t.length; i++) this.config.excelHeader && t[i][0]--, 0 <= t[i][0] && ((t[i][0] = this.getIdByIndex(t[i][0])), (t[i][1] = "data" + t[i][1]), e.push(t[i]));
                                    return this.addSpan(e), e;
                                }
                                return !1;
                            },
                        },
                        Vo =
                            (t.protoUI(Ro, Oo.view),
                            {
                                name: "pdfbar",
                                reset: function () {
                                    this.setPage(0), this.setValues(0, "auto");
                                },
                                $init: function (t) {
                                    (this.$view.className += " pdf_bar"),
                                        (t.cols = [
                                            {
                                                view: "button",
                                                type: "icon",
                                                css: "webix_transparent",
                                                icon: "wxi-angle-left",
                                                width: 35,
                                                click: function () {
                                                    this.getParentView().vw("prev");
                                                },
                                            },
                                            {
                                                view: "text",
                                                width: 70,
                                                value: "0",
                                                on: {
                                                    onBlur: function () {
                                                        this.getParentView().vw(this.getValue());
                                                    },
                                                    onKeyPress: function (t) {
                                                        13 === t && this.getParentView().vw(this.getValue());
                                                    },
                                                },
                                            },
                                            { template: T.PDFviewer.of + " #limit#", width: 70, data: { limit: 0 }, borderless: !0 },
                                            {
                                                view: "button",
                                                type: "icon",
                                                css: "webix_transparent",
                                                icon: "wxi-angle-right",
                                                width: 35,
                                                click: function () {
                                                    this.getParentView().vw("next");
                                                },
                                            },
                                            {},
                                            {
                                                view: "button",
                                                type: "icon",
                                                css: "webix_transparent",
                                                icon: "wxi-minus",
                                                width: 35,
                                                click: function () {
                                                    this.getParentView().zoom("out");
                                                },
                                            },
                                            {
                                                view: "richselect",
                                                options: [],
                                                maxWidth: 195,
                                                suggest: { padding: 0, css: "pdf_opt_list", borderless: !0, body: { type: { height: 25 }, scroll: !1, yCount: 13 } },
                                                on: {
                                                    onChange: function () {
                                                        this.getParentView().setMasterScale(this.getValue());
                                                    },
                                                },
                                            },
                                            {
                                                view: "button",
                                                type: "icon",
                                                css: "webix_transparent",
                                                icon: "wxi-plus",
                                                width: 35,
                                                click: function () {
                                                    this.getParentView().zoom("in");
                                                },
                                            },
                                            {
                                                view: "button",
                                                type: "icon",
                                                css: "webix_transparent",
                                                icon: "wxi-download",
                                                width: 35,
                                                click: function () {
                                                    this.getParentView().download();
                                                },
                                            },
                                        ]),
                                        this.$ready.push(this.Zk);
                                },
                                Zk: function () {
                                    var t = this.getChildViews()[6].getPopup().getBody();
                                    t.clearAll(),
                                        t.parse([
                                            { id: "auto", value: T.PDFviewer.automaticZoom },
                                            { id: "page-actual", value: T.PDFviewer.actualSize },
                                            { id: "page-fit", value: T.PDFviewer.pageFit },
                                            { id: "page-width", value: T.PDFviewer.pageWidth },
                                            { id: "page-height", value: T.PDFviewer.pageHeight },
                                            { id: "0.5", value: "50%" },
                                            { id: "0.75", value: "75%" },
                                            { id: "1", value: "100%" },
                                            { id: "1.25", value: "125%" },
                                            { id: "1.5", value: "150%" },
                                            { id: "2", value: "200%" },
                                            { id: "3", value: "300%" },
                                            { id: "4", value: "400%" },
                                        ]);
                                    var e = 0;
                                    t.data.each(function (t) {
                                        e = Math.max(Pt(t.value, "webixbutton").width, e);
                                    }),
                                        this.getChildViews()[6].define("width", e + 20),
                                        this.getChildViews()[6].resize();
                                },
                                vw: function (t) {
                                    this.setMasterPage(t), this.setPage(this.$master.$pageNum);
                                },
                                setScale: function (t) {
                                    var e = this.getChildViews()[6];
                                    e.blockEvent(), e.getPopup().getList().exists(t) ? e.setValue(t) : (e.setValue(""), (e.getInputNode().innerHTML = (100 * t).toFixed(0) + "%")), e.unblockEvent();
                                },
                                setMasterScale: function (t) {
                                    this.$master && this.$master.setScale(t);
                                },
                                setMasterPage: function (t) {
                                    this.$master && ("prev" === t ? this.$master.prevPage() : "next" === t ? this.$master.nextPage() : isNaN(parseInt(t)) || this.$master.renderPage(parseInt(t)));
                                },
                                zoom: function (t) {
                                    this.$master && ("out" === t ? this.$master.zoomOut() : "in" === t && this.$master.zoomIn());
                                },
                                setPage: function (t) {
                                    this.getChildViews()[1].setValue(t);
                                },
                                setValues: function (t, e) {
                                    (this.getChildViews()[2].data.limit = t), this.getChildViews()[2].refresh(), this.setScale(e);
                                },
                                download: function () {
                                    this.$master && this.$master.download();
                                },
                            }),
                        Lo =
                            (t.protoUI(Vo, ir.view),
                            {
                                name: "pdfviewer",
                                defaults: { scale: "auto" },
                                $init: function (t) {
                                    this.$view.className += " webix_pdf";
                                    var e = document.createElement("DIV");
                                    e.className = "canvas_wrapper";
                                    var i = document.createElement("canvas");
                                    (this.Qk = this.$view),
                                        (this.At = this.$view.appendChild(e)),
                                        (this.He = this.At.appendChild(i)),
                                        (this.$pdfDoc = null),
                                        (this.$pageNum = 0),
                                        (this.$numPages = 0),
                                        (this.tC = !1),
                                        (this.iC = null),
                                        (this.eC = this.He.getContext("2d")),
                                        (this.sC = 0.1),
                                        (this.nC = t.scaleDelta || 1.1),
                                        (this.hC = t.minScale || 0.25),
                                        (this.rC = t.maxScale || 10),
                                        (this.oC = 1.25),
                                        (this.aC = 40),
                                        (this.uC = 10),
                                        (this.Bt = []),
                                        this.$ready.push(this.cC);
                                },
                                toolbar_setter: function (t) {
                                    if ("string" == typeof t) {
                                        var e = ae(t);
                                        return (
                                            e && ((e.$master = this), e.refresh()),
                                            this.attachEvent("onDocumentReady", function () {
                                                e ? (e.setPage(this.$pageNum), e.setValues(this.$numPages, this.P.scale)) : this.toolbar_setter(t);
                                            }),
                                            t
                                        );
                                    }
                                },
                                cC: function () {
                                    if (
                                        (delete this.P.datatype,
                                        this.attachEvent("onScaleChange", function (t) {
                                            this.P.toolbar && ae(this.P.toolbar).setScale && ae(this.P.toolbar).setScale(t);
                                        }),
                                        this.attachEvent("onPageRender", function (t) {
                                            this.P.toolbar && ae(this.P.toolbar).setPage && ae(this.P.toolbar).setPage(t);
                                        }),
                                        G.touch)
                                    )
                                        (this.fC = !1),
                                            Zt(
                                                this.Vt,
                                                "touchstart",
                                                m(function (t) {
                                                    var e = t.targetTouches;
                                                    2 === e.length && (yt(t), (this.fC = Math.abs(e[0].pageY - e[1].pageY)));
                                                }, this)
                                            ),
                                            Zt(
                                                this.$view,
                                                "touchmove",
                                                m(function (t) {
                                                    var e = t.targetTouches;
                                                    2 === e.length && !1 !== this.fC && (yt(t), Math.abs(e[0].pageY - e[1].pageY) > this.fC ? this.zoomIn() : this.zoomOut(), (this.fC = !1));
                                                }, this)
                                            ),
                                            this.attachEvent("onSwipeX", function (t, e) {
                                                this.$view.scrollLeft = this.$view.scrollLeft - (e.x - t.x);
                                            }),
                                            this.attachEvent("onSwipeY", function (t, e) {
                                                var i = this.$view.clientHeight,
                                                    n = this.$view.scrollHeight,
                                                    s = this.$view.offsetHeight,
                                                    r = this.$view.scrollTop,
                                                    o = e.y - t.y;
                                                if (i === n || (o < 0 && n - s < r) || (0 < o && 0 === r)) {
                                                    var a = this.$pageNum + (0 < o ? -1 : 1);
                                                    0 < a && a <= this.$numPages && ((this.$pageNum = a), this.lC(this.$pageNum), (this.$view.scrollTop = 0 < o ? n : 0));
                                                } else this.$view.scrollTop = r - o;
                                            });
                                    else {
                                        var t = G.isFF ? "DOMMouseScroll" : "mousewheel";
                                        Zt(
                                            this.$view,
                                            t,
                                            function (t) {
                                                var e = ("DOMMouseScroll" === t.type ? -t.detail : t.wheelDelta) < 0 ? "out" : "in";
                                                t.ctrlKey && (yt(t), "in" == e ? this.zoomIn() : this.zoomOut());
                                            },
                                            { bind: this, passive: !1 }
                                        );
                                    }
                                },
                                $onLoad: function (t) {
                                    return (
                                        window.PDFJS
                                            ? this.dC(t)
                                            : Mt(
                                                  [G.cdn + "/extras/pdfjs/compatibility.min.js", G.cdn + "/extras/pdfjs/pdf.min.js"],
                                                  function () {
                                                      (PDFJS.workerSrc = G.cdn + "/extras/pdfjs/pdf.worker.min.js"), this.dC(t);
                                                  },
                                                  this
                                              ),
                                        !0
                                    );
                                },
                                dC: function (t) {
                                    if (t.name) {
                                        var e = new FileReader();
                                        (e.onload = m(function (t) {
                                            this.dC({ data: t.target.result });
                                        }, this)),
                                            e.readAsArrayBuffer(t);
                                    } else this.vC({ data: t.data });
                                },
                                vC: function (t) {
                                    var e = this;
                                    return PDFJS.getDocument({ data: t.data, password: t.password }).then(
                                        function (t) {
                                            e.clear(),
                                                (e.$pdfDoc = t),
                                                (e.$numPages = e.$pdfDoc.numPages),
                                                (e.$pageNum = 1),
                                                e._C(e.$pageNum).then(function () {
                                                    e.callEvent("onDocumentReady");
                                                });
                                        },
                                        function (i) {
                                            "PasswordException" == i.name && e.pC(t);
                                        }
                                    );
                                },
                                getPopup: function () {
                                    var t = this;
                                    return (
                                        this.bC ||
                                            ((this.bC = ne({
                                                view: "window",
                                                position: "center",
                                                modal: !0,
                                                head: T.PDFviewer.enterPassword,
                                                body: {
                                                    view: "form",
                                                    elements: [
                                                        { view: "text", name: "password", type: "password", invalidMessage: T.PDFviewer.passwordError, required: !0 },
                                                        {
                                                            cols: [
                                                                {
                                                                    view: "button",
                                                                    value: T.message.cancel,
                                                                    hotkey: "esc",
                                                                    click: function () {
                                                                        t.getPopup().hide();
                                                                    },
                                                                },
                                                                {
                                                                    view: "button",
                                                                    css: "webix_primary",
                                                                    value: T.message.ok,
                                                                    hotkey: "enter",
                                                                    click: function () {
                                                                        var e = t.getPopup(),
                                                                            i = e.getBody();
                                                                        i.validate() ? (t.vC({ data: t.mC, password: i.getValues().password }), e.hide()) : i.focus();
                                                                    },
                                                                },
                                                            ],
                                                        },
                                                    ],
                                                },
                                                on: {
                                                    onHide: function () {
                                                        var e = t.getPopup().getBody();
                                                        e.clear(), e.clearValidation(), delete t.mC;
                                                    },
                                                },
                                            })),
                                            this.Bt.push(this.bC)),
                                        this.bC
                                    );
                                },
                                pC: function (t) {
                                    var e = this.getPopup(),
                                        i = e.getBody();
                                    (this.mC = t.data), t.password && (i.markInvalid("password"), i.setValues({ password: t.password })), e.show(), i.focus();
                                },
                                gC: function (t, e) {
                                    var i = t.getViewport(e);
                                    return (this.He.height = i.height), (this.He.width = i.width), (this.At.style.width = i.width + "px"), (this.At.style.height = i.height + "px"), i;
                                },
                                _C: function (t) {
                                    var e = this;
                                    return (
                                        (this.tC = !0),
                                        this.$pdfDoc.getPage(t).then(function (t) {
                                            var i = isNaN(parseFloat(e.P.scale)) ? e.sC : e.P.scale,
                                                n = e.gC(t, i);
                                            i !== e.P.scale && ((i = e.wC(e.P.scale)), (n = e.gC(t, i)), (e.P.scale = i));
                                            var s = { canvasContext: e.eC, viewport: n };
                                            return (
                                                (t.cleanupAfterRender = !0),
                                                t.render(s).promise.then(function () {
                                                    e.callEvent("onPageRender", [e.$pageNum]), (e.tC = !1), null !== e.iC && (e._C(e.iC), (e.iC = null));
                                                })
                                            );
                                        })
                                    );
                                },
                                lC: function (t) {
                                    this.tC ? (this.iC = t) : this._C(t);
                                },
                                renderPage: function (t) {
                                    !this.$pdfDoc || t <= 0 || t > this.$numPages || ((this.$pageNum = t), this.lC(this.$pageNum));
                                },
                                prevPage: function () {
                                    this.$pageNum <= 1 || (this.$pageNum--, this.lC(this.$pageNum));
                                },
                                nextPage: function () {
                                    this.$pageNum >= this.$numPages || (this.$pageNum++, this.lC(this.$pageNum));
                                },
                                zoomIn: function () {
                                    var t = this.P.scale;
                                    (t = (t * this.nC).toFixed(2)), (t = Math.ceil(10 * t) / 10), (t = Math.min(this.rC, t)), this.setScale(t);
                                },
                                zoomOut: function () {
                                    var t = this.P.scale;
                                    (t = (t / this.nC).toFixed(2)), (t = Math.floor(10 * t) / 10), (t = Math.max(this.hC, t)), this.setScale(t);
                                },
                                wC: function (t) {
                                    if (!isNaN(parseFloat(t))) return t;
                                    isNaN(parseFloat(this.P.scale)) && (this.P.scale = this.sC);
                                    var e = 1,
                                        i = (((this.Qk.clientWidth - this.aC) * this.P.scale) / this.He.clientWidth).toFixed(2),
                                        n = (((this.Qk.clientHeight - this.uC) * this.P.scale) / this.He.clientHeight).toFixed(2);
                                    switch (t) {
                                        case "page-actual":
                                            e = 1;
                                            break;
                                        case "page-width":
                                            e = i;
                                            break;
                                        case "page-height":
                                            e = n;
                                            break;
                                        case "page-fit":
                                            e = Math.min(i, n);
                                            break;
                                        case "auto":
                                            var s = this.Qk.clientWidth > this.Qk.clientHeight ? Math.min(n, i) : i;
                                            e = Math.min(this.oC, s);
                                    }
                                    return e;
                                },
                                setScale: function (t) {
                                    if (isNaN(parseFloat(t))) {
                                        var e = this.wC(t);
                                        this.xC(e);
                                    } else this.xC(t);
                                },
                                xC: function (t) {
                                    (this.P.scale = t), this.renderPage(this.$pageNum), this.callEvent("onScaleChange", [t]);
                                },
                                download: function () {
                                    if (this.$pdfDoc) {
                                        var t = (this.P.downloadName || "document") + ".pdf";
                                        this.$pdfDoc.getData().then(function (e) {
                                            St(PDFJS.createBlob(e, "application/pdf"), t);
                                        });
                                    }
                                },
                                clear: function () {
                                    this.$pdfDoc &&
                                        (this.eC.clearRect(0, 0, this.He.width, this.He.height),
                                        (this.At.style.height = this.At.style.width = this.He.width = this.He.height = 0),
                                        (this.P.scale = "auto"),
                                        (this.$pageNum = this.$numPages = 0),
                                        this.$pdfDoc.transport.startCleanup(),
                                        this.$pdfDoc.destroy(),
                                        (this.$pdfDoc = null),
                                        this.P.toolbar && ae(this.P.toolbar) && ae(this.P.toolbar).reset());
                                },
                            }),
                        jo =
                            (t.protoUI(Lo, E, Rt, Re.view),
                            {
                                name: "video",
                                $init: function (t) {
                                    t.id || (t.id = x()), this.$ready.push(this.yC);
                                },
                                yC: function () {
                                    var t = this.P;
                                    if (((this.Wi = dt("video", { class: "webix_view_video", style: "width:100%;height:100%;", autobuffer: "autobuffer" }, "")), t.poster && (this.Wi.poster = t.poster), t.src)) {
                                        "object" != e(t.src) && (t.src = [t.src]);
                                        for (var i = 0; i < t.src.length; i++) this.Wi.innerHTML += ' <source src="' + t.src[i] + '">';
                                    }
                                    t.controls && (this.Wi.controls = !0), t.autoplay && (this.Wi.autoplay = !0), this.Vt.appendChild(this.Wi);
                                },
                                getVideo: function () {
                                    return this.Wi;
                                },
                                defaults: { src: "", controls: !0 },
                            }),
                        Fo =
                            (t.protoUI(jo, Re.view),
                            {
                                name: "gage",
                                defaults: { value: 0, minRange: 0, maxRange: 100, minWidth: 250, minHeight: 200, smoothFlow: !0, scale: 3, stroke: 7 },
                                $init: function () {
                                    this.$ready.push(m(this.MC, this)),
                                        this.attachEvent("onDestruct", function () {
                                            this.SC = this.kC = this.CC = null;
                                        });
                                },
                                $setSize: function (t, e) {
                                    Re.api.$setSize.call(this, t, e) && this.$C();
                                },
                                $C: function () {
                                    this.DC = this.config.value;
                                    var t = this.$view.querySelector(".webix_gage_curves"),
                                        e = this.$view.querySelector(".webix_gage_info"),
                                        i = this.config.scale,
                                        n = Math.min(this.$width, this.$height),
                                        s = (n / 100) * this.config.stroke,
                                        r = n / i;
                                    t.setAttribute("r", r),
                                        t.setAttribute("strokeDasharray", Math.round(Math.PI * r)),
                                        (t.style.r = r),
                                        (t.style.strokeDasharray = Math.round(Math.PI * r)),
                                        (t.style["stroke-width"] = s + "px"),
                                        e.setAttribute("style", "width: " + Math.round(2 * r) + "px;"),
                                        this.CC.setAttribute("style", "height: " + Math.round(r + s) + "px;"),
                                        this.SC.setAttribute("r", r),
                                        this.SC.setAttribute("style", "stroke-dasharray: " + Math.round(this.gradientLength * Math.PI * r) + ", 1900; stroke-width:" + s + "px"),
                                        this.IC(r),
                                        this.AC();
                                },
                                TC: function (t) {
                                    return Math.min(Math.max(t, this.P.minRange), this.P.maxRange);
                                },
                                IC: function (t) {
                                    var e = this.$width,
                                        i = (Math.min(this.$width, this.$height) / 100) * this.config.stroke;
                                    (this.kC.style.transformOrigin = e / 2 + "px 0 0"),
                                        this.kC.setAttribute("y1", "0"),
                                        this.kC.setAttribute("x1", Math.round(e) / 2 + i),
                                        this.kC.setAttribute("y2", "0"),
                                        this.kC.setAttribute("x2", Math.round((e + i) / 2 + t));
                                },
                                AC: function () {
                                    var t = this.config.value,
                                        e = this.$view.querySelector(".webix_gage_value"),
                                        i = this.TC(t) - this.config.minRange,
                                        n = Math.round((180 * i) / (this.config.maxRange - this.config.minRange)),
                                        s = Math.min(this.$width, this.$height);
                                    (this.$view.style.fontSize = Math.floor(s / 8) + "px"),
                                        (e.innerHTML = t),
                                        (this.SC.style.stroke = this.color),
                                        this.SC.setAttribute("stroke", this.color),
                                        this.kC.setAttribute("transform", "rotate(" + n + " " + s / 2 + " 0)"),
                                        (this.kC.style.transform = "rotate(" + n + "deg)");
                                },
                                FC: function () {
                                    this.config.minRange, this.config.maxRange, (this.gradientLength = (this.TC(this.config.value) - this.config.minRange) / (this.config.maxRange - this.config.minRange));
                                    var t = this.config.color;
                                    (this.color = t ? ("function" == typeof t ? t.call(this, this.config.value) : t) : "hsl(" + (120 - Math.round(120 * this.gradientLength)) + ", 100%, 50%)"),
                                        !0 === this.config.animation ? (this.defaultColor = "hsl(125, 100%, 50%)") : (this.defaultColor = "hsl(" + (120 - Math.round(120 * this.gradientLength)) + ", 100%, 50%)");
                                },
                                MC: function () {
                                    var t = this.config.smoothFlow && G.svganimation && !G.isEdge;
                                    (this.gradientLength = 0),
                                        this.FC(),
                                        (this.$view.innerHTML = '<div class="webix_gage_box"><div>\n\t\t\t<div class="webix_gage_label"><span>'
                                            .concat(
                                                this.config.label || "",
                                                '</span></div>\n\t\t\t<svg class="webix_gage_body" style="height:300px; position: relative;">\n\t\t\t\t<circle class="webix_gage_curves" r="0" cx="50%" cy="0" stroke="#EEEEEE" fill="none"></circle>\n\t\t\t\t<circle class="webix_gage_gradient'
                                            )
                                            .concat(t ? " webix_gage_animated" : "", '" r="0" stroke=')
                                            .concat(this.defaultColor, ' cx="50%" cy="0" fill="none" style="stroke-dasharray: 0, 1900;"></circle>\n\t\t\t\t<line class="webix_gage_gradient_point')
                                            .concat(
                                                t ? " webix_gage_gradient_point_animated" : "",
                                                '" x1="0" x2="0" y1="0" y2="0" style="stroke:#B0B0B0; stroke-width:4;"></line>\n\t\t\t</svg>\n\t\t\t<div class="webix_gage_info">\n\t\t\t\t<div class="webix_gage_min_range">'
                                            )
                                            .concat(this.config.minRange, '</div>\n\t\t\t\t<div class="webix_gage_max_range">')
                                            .concat(this.config.maxRange, '</div>\n\t\t\t\t<div class="webix_gage_placeholder">\n\t\t\t\t\t<div class="webix_gage_value">')
                                            .concat(this.config.value, '</div>\n\t\t\t\t\t<div class="webix_gage_range_info">')
                                            .concat(this.config.placeholder || "", "</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div></div>")),
                                        (this.SC = this.$view.querySelector(".webix_gage_gradient")),
                                        (this.kC = this.$view.querySelector(".webix_gage_gradient_point")),
                                        (this.CC = this.$view.querySelector(".webix_gage_body"));
                                },
                                refresh: function () {
                                    var t = this.config.value;
                                    this.config.smoothFlow && t != this.DC && (this.config.value = this.DC), this.MC(), this.$C(), this.DC != t && this.Vt.parentNode.clientHeight && this.setValue(t);
                                },
                                setValue: function (t) {
                                    (this.config.value = t), this.FC(), this.$C();
                                },
                                getValue: function () {
                                    return this.config.value;
                                },
                            }),
                        zo =
                            (t.protoUI(Fo, E, Re.view),
                            {
                                name: "barcode",
                                defaults: { type: "ean13", height: 160, width: 220, paddingY: 10, paddingX: 20, textHeight: 20, color: "#000", ariaLabel: "bars" },
                                $init: function () {
                                    (this.$view.className += " webix_barcode"), this.types || ((this.types = { default: this.type }), (this.type.name = "default"));
                                },
                                type: {},
                                render: function () {
                                    this.isVisible(this.P.id) && (this.canvas && this.canvas.clearCanvas(!0), (this.$view.innerHTML = ""), this.VC());
                                },
                                VC: function () {
                                    (this.canvas = new He({ container: this.$view, name: this.name, title: this.P.ariaLabel, width: this.$width, height: this.$height })), this.zC();
                                },
                                zC: function () {
                                    var t,
                                        e,
                                        i,
                                        n,
                                        s = this.P.value,
                                        r = this.P.type;
                                    if (!r || !this.types[r] || !s) return !1;
                                    if (((n = (t = this.type.encode(s)).length), (e = this.canvas.getCanvas()), n)) {
                                        var o = (this.$width - 2 * this.config.paddingX) / n,
                                            a = 0;
                                        for (i = 0; i < n; i++) parseInt(t.charAt(i), 10) ? (a++, i == n - 1 && this.BC(e, i + 1, o, a, n)) : a && (this.BC(e, i, o, a, n), (a = 0));
                                        this.HC(s, o);
                                    }
                                },
                                BC: function (t, e, i, n, s) {
                                    var r, o, a, l;
                                    (o = parseInt(e * i + this.config.paddingX, 10)),
                                        (r = parseInt(o - n * i, 10)),
                                        (a = this.config.paddingY),
                                        (l = this.$height - this.config.paddingY - this.config.textHeight),
                                        this.RC() && (e < 4 || s - 4 < e || (e < s / 2 + 2 && s / 2 - 2 < e)) && (l += this.config.textHeight / 2),
                                        (t.fillStyle = this.config.color),
                                        t.beginPath(),
                                        t.moveTo(r, a),
                                        t.lineTo(o, a),
                                        t.lineTo(o, l),
                                        t.lineTo(r, l),
                                        t.lineTo(r, a),
                                        t.fill();
                                },
                                HC: function (t, e) {
                                    var i, n, s;
                                    if ((this.type.template && (t = this.type.template(t)), this.RC())) {
                                        if (
                                            (this.type.firstDigit && (this.canvas.renderTextAt(!0, "left", this.config.paddingX, this.$height - this.config.paddingY, t.charAt(0)), (t = t.slice(1))),
                                            (n = t.length),
                                            this.type.lastDigit && n--,
                                            n)
                                        ) {
                                            var r = (this.$width - 2 * this.config.paddingX - 11 * e) / n;
                                            for (i = 0; i < n; i++) (s = this.config.paddingX + i * r + (i < n / 2 ? 3 : 8) * e + r / 2), this.canvas.renderTextAt(!0, !0, s, this.$height - this.config.paddingY, t.charAt(i));
                                            this.type.lastDigit && ((s = this.config.paddingX + n * r + 11 * e), this.canvas.renderTextAt(!0, !1, s, this.$height - this.config.paddingY, t.charAt(n)));
                                        }
                                    } else this.canvas.renderTextAt(!0, !0, this.$width / 2, this.$height - this.config.paddingY, t);
                                },
                                setValue: function (t) {
                                    return (this.P.value = t), this.render(), t;
                                },
                                getValue: function () {
                                    var t = this.P.value;
                                    return this.type.template ? this.type.template(t) : t;
                                },
                                type_setter: function (t) {
                                    return this.types[t] ? ((this.type = p(this.types[t])), this.type.css && (this.Wi.className += " " + this.type.css)) : this.customize(t), t;
                                },
                                RC: function () {
                                    var t = this.config.type;
                                    return 0 === t.indexOf("ean") || -1 != t.indexOf("upcA");
                                },
                                $setSize: function (t, e) {
                                    Re.api.$setSize.call(this, t, e) && this.render();
                                },
                            }),
                        Ho = t.protoUI(zo, Re.view);
                    te(Ho, {
                        name: "upcA",
                        firstDigit: !0,
                        lastDigit: !0,
                        encode: function (t) {
                            return t.length < 12 && (t = "0" + t), Wo.encode(t);
                        },
                        template: function (t) {
                            return t.replace(/[^0-9]/g, "").substring(0, 11) + this.checksum(t);
                        },
                        checksum: function (t) {
                            return t.length < 12 && (t = "0" + t), Wo.checksum(t);
                        },
                    }),
                        te(Ho, {
                            name: "ean8",
                            encodings: [
                                ["0001101", "1110010"],
                                ["0011001", "1100110"],
                                ["0010011", "1101100"],
                                ["0111101", "1000010"],
                                ["0100011", "1011100"],
                                ["0110001", "1001110"],
                                ["0101111", "1010000"],
                                ["0111011", "1000100"],
                                ["0110111", "1001000"],
                                ["0001011", "1110100"],
                            ],
                            encode: function (t) {
                                var e, i;
                                if (7 != (t = t.replace(/[^0-9]/g, "").substring(0, 7)).length) return "";
                                for (t += this.checksum(t), e = "101", i = 0; i < 4; i++) e += this.encodings[parseInt(t.charAt(i), 10)][0];
                                for (e += "01010", i = 4; i < 8; i++) e += this.encodings[parseInt(t.charAt(i), 10)][1];
                                return e + "101";
                            },
                            template: function (t) {
                                return t.replace(/[^0-9]/g, "").substring(0, 7) + this.checksum(t);
                            },
                            checksum: function (t) {
                                t = t.substring(0, 7);
                                var e,
                                    i = !0,
                                    n = 0;
                                for (e = 0; e < 7; e++) (n += (i ? 3 : 1) * parseInt(t.charAt(e), 10)), (i = !i);
                                return ((10 - (n % 10)) % 10).toString();
                            },
                        });
                    var Wo = {
                        name: "ean13",
                        firstDigit: !0,
                        encodings: [
                            ["0001101", "0100111", "1110010", "000000"],
                            ["0011001", "0110011", "1100110", "001011"],
                            ["0010011", "0011011", "1101100", "001101"],
                            ["0111101", "0100001", "1000010", "001110"],
                            ["0100011", "0011101", "1011100", "010011"],
                            ["0110001", "0111001", "1001110", "011001"],
                            ["0101111", "0000101", "1010000", "011100"],
                            ["0111011", "0010001", "1000100", "010101"],
                            ["0110111", "0001001", "1001000", "010110"],
                            ["0001011", "0010111", "1110100", "011010"],
                        ],
                        encode: function (t) {
                            var e, i, n;
                            if (12 != (t = t.replace(/[^0-9]/g, "").substring(0, 12)).length) return "";
                            for (t += this.checksum(t), e = "101", i = this.encodings[parseInt(t.charAt(0), 10)][3], n = 1; n < 7; n++) e += this.encodings[parseInt(t.charAt(n), 10)][parseInt(i.charAt(n - 1), 10)];
                            for (e += "01010", n = 7; n < 13; n++) e += this.encodings[parseInt(t.charAt(n), 10)][2];
                            return e + "101";
                        },
                        template: function (t) {
                            return t.replace(/[^0-9]/g, "").substring(0, 12) + this.checksum(t);
                        },
                        checksum: function (t) {
                            var e,
                                i = !1,
                                n = 0;
                            for (t = t.substring(0, 12), e = 0; e < 12; e++) (n += (i ? 3 : 1) * parseInt(t.charAt(e), 10)), (i = !i);
                            return ((10 - (n % 10)) % 10).toString();
                        },
                    };
                    te(Ho, Wo);
                    var Bo,
                        Yo,
                        Uo,
                        Go,
                        qo = {
                            name: "bullet",
                            defaults: {
                                color: "#394646",
                                marker: !1,
                                layout: "x",
                                barWidth: 40,
                                flowTime: 500,
                                labelWidth: 150,
                                minRange: 0,
                                maxRange: 100,
                                stroke: 8,
                                value: 0,
                                smoothFlow: !0,
                                tickSize: 10,
                                bands: [
                                    { value: 100, color: "#5be5d6" },
                                    { value: 80, color: "#fff07e" },
                                    { value: 60, color: "#fd8b8c" },
                                ],
                                scale: { step: 10 },
                            },
                            label_setter: Ut,
                            placeholder_setter: Ut,
                            $init: function (t) {
                                var e = void 0 !== t.tickSize ? t.tickSize : this.defaults.tickSize;
                                t && ((t.layout && "x" !== t.layout) || !v(t.height) || (t.height = !1 === t.scale ? 60 : e ? 76 + e : 74), "y" === t.layout && v(t.width) && (t.width = !1 === t.scale ? 60 : e ? 87 + e : 87));
                            },
                            scale_setter: function (t) {
                                return t && ((t.step = t.step || 10), (t.template = Ut(t.template || "#value#"))), t;
                            },
                            $setSize: function (t, e) {
                                Re.api.$setSize.call(this, t, e) && (this.MC("y" === this.P.layout ? e : t), (this.P.value || 0 === this.P.value) && this.AC(0, this.P.value));
                            },
                            TC: function (t) {
                                return Math.min(Math.max(t, this.P.minRange), this.P.maxRange) - this.P.minRange;
                            },
                            EC: function (t) {
                                var e;
                                (this.PC = t - (this.rs || t)), (this.rs = t), (1e3 < (e = this.P.flowTime > this.PC ? this.P.flowTime / this.PC : this.P.flowTime) || e < 5) && (e = 30);
                                var i = (this.P.value - this.jC) / e;
                                (this.NC += i),
                                    Math.abs(this.NC - this.P.value) < Math.abs(i) && (this.NC = this.P.value),
                                    this.NC != this.P.value ? (this.LC = requestAnimationFrame(this.EC.bind(this))) : (cancelAnimationFrame(this.LC), (this.LC = null)),
                                    this.OC.setAttribute("width", Math.floor(this.TC(this.NC) * this.WC)),
                                    (this.OC.style.fill = this.qc());
                            },
                            AC: function (t, e) {
                                (this.jC = this.NC = t),
                                    (this.P.value = this.DC = e),
                                    !0 === this.isVisible() && !0 === this.P.smoothFlow && window.requestAnimationFrame
                                        ? this.LC || (this.LC = requestAnimationFrame(this.EC.bind(this)))
                                        : (this.OC.setAttribute("width", Math.floor(this.TC(e) * this.WC)), (this.OC.style.fill = this.qc()));
                            },
                            qc: function () {
                                var t = this.P.color;
                                return "function" == typeof t ? t(this.DC) : t;
                            },
                            UC: function (t, e, i) {
                                for (var n = 0; n < e.length; n++) t.setAttribute(e[n], i[n]);
                            },
                            YC: function (t, e, i) {
                                var n = document.createElementNS("http://www.w3.org/2000/svg", t);
                                return e && this.UC(n, e, i), n;
                            },
                            qC: function (t) {
                                var e = this.YC(t[0], t[1], t[2]),
                                    i = t[3];
                                if (i) for (var n = 0; n < i.length; n++) e.appendChild(this.qC(i[n]));
                                return e;
                            },
                            GC: function () {
                                var t = "d" + x(),
                                    e = this.YC("svg", ["class"], ["webix_bullet_graph_svg"]),
                                    i = this.YC("g"),
                                    n = this.YC("g"),
                                    s = this.YC("rect", ["x", "y", "width", "height", "class", "style"], [this.XC, this.KC, 100, this.P.stroke, "webix_bullet_value", "filter:url(#" + t + ");fill:" + this.qc()]),
                                    r = this.YC("rect", ["x", "y", "width", "height", "fill"], [0, 5, 3, this.P.barWidth - 10, "rgba(0,0,0,0.5)"]),
                                    o = this.YC("g", ["stroke", "stroke-width", "fill"], ["#8b94ac", "2", "none"]),
                                    a = this.YC("text", ["text-anchor", "stroke", "fill"], ["end", "none", "#8b94ac"]),
                                    l = "y" == this.P.layout ? "50%" : this.XC - 10,
                                    h = "y" == this.P.layout ? 11 : 17,
                                    c = this.YC("tspan", ["x", "y", "class"], [l, h, "webix_bullet_header"]),
                                    d = this.YC("tspan", ["x", "y", "class"], [l, h + 17, "webix_bullet_subheader"]),
                                    u = this.YC("text", ["text-anchor", "stroke", "class", "fill"], ["middle", "none", "webix_bullet_scale", "#8b94ac"]),
                                    p = this.qC([
                                        "filter",
                                        ["id", "x", "y", "width", "height"],
                                        [t, "0", "-150%", "110%", "400%"],
                                        [
                                            ["feOffset", ["in", "dx", "dy"], ["SourceAlpha", 0, 0]],
                                            ["feGaussianBlur", ["stdDeviation"], ["2"]],
                                            ["feComponentTransfer", 0, 0, [["feFuncA", ["type", "slope"], ["linear", "0.5"]]]],
                                            ["feMerge", 0, 0, [["feMergeNode"], ["feMergeNode", ["in"], ["SourceGraphic"]]]],
                                        ],
                                    ]);
                                e.appendChild(p);
                                var f = document.createElement("div");
                                i.appendChild(n), !1 !== this.P.marker && (r.setAttribute("x", this.XC + this.TC(this.P.marker) * this.WC - 2), i.appendChild(r)), i.appendChild(s), a.appendChild(c), a.appendChild(d), e.appendChild(a);
                                var m = "y" === this.P.layout,
                                    g = this.P.tickSize;
                                if (this.P.scale) {
                                    for (var v = this.XC, b = this.P.minRange; b <= this.P.maxRange; b += this.P.scale.step) {
                                        var y = Math.max(b - this.P.minRange, 0),
                                            w = Math.floor(y * this.WC - (y ? 0.1 : -1)),
                                            _ = m ? (this.$width - this.P.barWidth) / 2 + (g ? 2 - g : 4) : w + v,
                                            k = m ? this.JC + v - w + 6 : this.P.barWidth + (g ? 16 + g : 14),
                                            P = m ? -4 : this.P.barWidth + 3 + g,
                                            S = m ? "end" : "middle",
                                            C = this.YC("tspan", ["x", "y", "text-anchor"], [_, k, S]),
                                            I = this.YC("line", ["x1", "y1", "x2", "y2", "stroke-width"], [w + v, P, w + v, P - g, 1]);
                                        (f.innerHTML = this.P.scale.template({ value: b })), C.appendChild(f.childNodes[0]), u.appendChild(C), o.appendChild(I);
                                    }
                                    i.appendChild(o), e.appendChild(u);
                                }
                                for (var T = 0; T < this.P.bands.length; T++) {
                                    var $ = this.P.bands[T],
                                        E = this.YC("path"),
                                        D = this.TC($.value) * this.WC;
                                    E.setAttribute("d", "M " + this.XC + ",0 l " + D + ",0 l 0," + this.P.barWidth + " l -" + D + ",0 z"), E.setAttribute("fill", $.color), n.appendChild(E);
                                }
                                if ((e.appendChild(i), "y" === this.P.layout)) {
                                    var M = this.P.scale ? this.$width / 2 - 10 : 0,
                                        A = this.$height + this.XC - 28;
                                    i.setAttribute("transform", "translate(" + M + ", " + A + ") rotate(270)"),
                                        a.setAttribute("text-anchor", "middle"),
                                        a.childNodes[0].setAttribute("x", "55%"),
                                        a.childNodes[1].setAttribute("x", "55%"),
                                        u.setAttribute("text-anchor", "right");
                                }
                                return e.setAttribute("viewBox", "0 0 " + this.$width + " " + this.$height), e;
                            },
                            MC: function (t) {
                                this.config.minRange, this.config.maxRange, (t = t || ("x" == this.P.layout ? this.$width : this.$height));
                                var e = this.$view;
                                e.innerHTML = "";
                                var i = this.P,
                                    n = (i.label && i.label(i)) || (i.placeholder && i.placeholder(i));
                                (this.XC = n ? i.labelHeight || i.labelWidth : 7), (this.KC = Math.floor((this.P.barWidth - this.P.stroke) / 2)), (this.JC = t - this.XC - 30), (this.WC = this.JC / (this.P.maxRange - this.P.minRange));
                                var s = this.GC();
                                s.setAttribute("height", this.$height), s.setAttribute("width", this.$width), e.appendChild(s), (this.OC = e.querySelector(".webix_bullet_value"));
                                var r = this.P.label;
                                r && (this.$view.querySelector(".webix_bullet_header").textContent = r(this.P));
                                var o = this.P.placeholder;
                                o && (this.$view.querySelector(".webix_bullet_subheader").textContent = o(this.P));
                            },
                            refresh: function () {
                                this.MC(), this.AC(this.DC, this.P.value);
                            },
                            setValue: function (t) {
                                this.P.value != t && this.AC(this.P.value, t);
                            },
                            getValue: function () {
                                return this.P.value;
                            },
                        },
                        Xo =
                            (t.protoUI(qo, Re.view),
                            {
                                name: "geochart",
                                defaults: { chart: { displayMode: "auto", region: "world", resolution: "countries" } },
                                $init: function (e) {
                                    (this.$view.innerHTML = "<div class='webix_map_content' style='width:100%;height:100%'></div>"),
                                        (this.Wi = this.$view.firstChild),
                                        (this.ZC = l.defer()),
                                        (e.chart = t.extend(e.chart || {}, this.defaults.chart)),
                                        this.data.provideApi(this, !0),
                                        this.$ready.push(this.render),
                                        this.data.attachEvent("onClearAll", m(this.QC, this)),
                                        this.data.attachEvent("onStoreUpdated", m(this.t$, this));
                                },
                                getMap: function (t) {
                                    return t ? this.ZC : this.du;
                                },
                                i$: function (t) {
                                    return m(function () {
                                        "function" == typeof t && t(), (Bo = Bo || window.google), this.e$();
                                    }, this);
                                },
                                render: function () {
                                    void 0 === window.google || void 0 === window.google.charts
                                        ? (Yo || (((Yo = document.createElement("script")).type = "text/javascript"), (Yo.src = "//www.gstatic.com/charts/loader.js"), document.getElementsByTagName("head")[0].appendChild(Yo)),
                                          (Yo.onload = this.i$(Yo.onload)))
                                        : this.i$()();
                                },
                                e$: function () {
                                    Bo.visualization && Bo.visualization.GeoChart
                                        ? ((this.du = new Bo.visualization.GeoChart(this.Wi)), this.s$(), this.ZC.resolve(this.du))
                                        : (Bo.charts.load("current", { packages: ["geochart"], mapsApiKey: this.P.key }),
                                          Bo.charts.setOnLoadCallback(
                                              m(function () {
                                                  this.e$();
                                              }, this)
                                          ));
                                },
                                $onLoad: function (t) {
                                    return (
                                        !this.du &&
                                        (this.ZC.then(
                                            m(function () {
                                                this.parse(t, this.P.datatype);
                                            }, this)
                                        ),
                                        !0)
                                    );
                                },
                                t$: function () {
                                    if (this.du) {
                                        var t = this.rl && this.rl.length ? this.rl : this.n$(),
                                            e = [];
                                        if (
                                            (this.data.each(function (i) {
                                                for (var n = [], s = 0; s < t.length; s++) {
                                                    var r = i[t[s].label];
                                                    "number" == t[s].type ? (r *= 1) : "tooltip" == t[s].role && (r = this.P.tooltip(i)), n.push(r);
                                                }
                                                e.push(n);
                                            }, this),
                                            t.length)
                                        ) {
                                            for (var i = new Bo.visualization.DataTable(), n = 0; n < t.length; n++) i.addColumn(t[n]);
                                            i.addRows(e);
                                            var s = new Bo.visualization.DataView(i);
                                            this.du.draw(s, this.P.chart);
                                        } else this.du.draw(Bo.visualization.arrayToDataTable([["", ""]]), {});
                                    } else this.du || this.ZC.then(m(this.t$, this));
                                },
                                setDisplayMode: function (t) {
                                    (this.P.chart.displayMode = t), this.refresh();
                                },
                                setRegion: function (t) {
                                    (this.P.chart.region = t), this.refresh();
                                },
                                refresh: function () {
                                    this.du.clearChart(), this.t$();
                                },
                                tooltip_setter: function (e) {
                                    var i = this.P.chart.tooltip;
                                    return (this.P.chart.tooltip = t.extend(i || {}, { isHtml: !0 })), Ut(e);
                                },
                                $setSize: function (e, i) {
                                    Re.api.$setSize.apply(this, arguments) && this.du && (t.extend(this.P, { width: e, height: i }), this.refresh());
                                },
                                QC: function () {
                                    (this.rl = null), this.t$();
                                },
                                h$: function (t, i) {
                                    if (!t || v(t[i])) return "string";
                                    var n = e(t[i]);
                                    return "string" != n || isNaN(1 * t[i]) || (n = "number"), n;
                                },
                                n$: function () {
                                    var t = this.P.columns || [],
                                        i = this.data.pull[this.data.order[0]];
                                    if (!t.length && i) for (var n in i) "id" !== n && t.push(n);
                                    for (var s = 0; s < t.length; s++) "object" !== e(t[s]) && (t[s] = { type: this.h$(i, t[s]), label: t[s] });
                                    return this.P.tooltip && t.push({ type: "string", role: "tooltip", p: { html: !0 } }), (this.rl = t);
                                },
                                s$: function () {
                                    Bo.visualization.events.addListener(
                                        this.du,
                                        "error",
                                        m(function () {
                                            this.callEvent("onMapError", arguments);
                                        }, this)
                                    ),
                                        Bo.visualization.events.addListener(
                                            this.du,
                                            "ready",
                                            m(function () {
                                                this.callEvent("onMapReady", arguments);
                                            }, this)
                                        ),
                                        Bo.visualization.events.addListener(
                                            this.du,
                                            "regionClick",
                                            m(function () {
                                                this.callEvent("onRegionClick", arguments);
                                            }, this)
                                        ),
                                        Bo.visualization.events.addListener(
                                            this.du,
                                            "select",
                                            m(function () {
                                                var t = this.du.getSelection()[0],
                                                    e = t || this.r$;
                                                if (e) {
                                                    var i = this.data.order[e.row];
                                                    (this.r$ = e), this.callEvent("onItemClick", [i, !!t]);
                                                }
                                            }, this)
                                        );
                                },
                            }),
                        Ko =
                            (t.protoUI(Xo, mi, E, Re.view),
                            {
                                name: "google-map",
                                $init: function () {
                                    (this.$view.innerHTML = "<div class='webix_map_content' style='width:100%;height:100%'></div>"),
                                        (this.Wi = this.$view.firstChild),
                                        (this.ZC = l.defer()),
                                        this.data.provideApi(this, !0),
                                        this.$ready.push(this.render);
                                },
                                getMap: function (t) {
                                    return t ? this.ZC : this.du;
                                },
                                i$: function (t) {
                                    return m(function () {
                                        "function" == typeof t && t(), (Uo = Uo || window.google), this.e$.call(this);
                                    }, this);
                                },
                                render: function () {
                                    if (void 0 === window.google || void 0 === window.google.maps) {
                                        if (!Go) {
                                            (Go = document.createElement("script")).type = "text/javascript";
                                            var t = this.P,
                                                e = t.src || "//maps.google.com/maps/api/js";
                                            (e += -1 === e.indexOf("?") ? "?" : "&"),
                                                t.key && (e += "&key=" + t.key),
                                                t.libraries && (e += "&libraries=" + t.libraries),
                                                (Go.src = e),
                                                document.getElementsByTagName("head")[0].appendChild(Go);
                                        }
                                        Go.onload = this.i$(Go.onload);
                                    } else this.i$()();
                                },
                                e$: function () {
                                    var t = this.config;
                                    this.isVisible(t.id) &&
                                        ((this.du = new Uo.maps.Map(this.Wi, { zoom: t.zoom, center: new Uo.maps.LatLng(t.center[0], t.center[1]), mapTypeId: Uo.maps.MapTypeId[t.mapType] })),
                                        this.ZC.resolve(this.du),
                                        this.Wi.firstChild.setAttribute("webix_disable_drag", "true"));
                                },
                                center_setter: function (t) {
                                    return this.du && this.du.setCenter(new Uo.maps.LatLng(t[0], t[1])), t;
                                },
                                mapType_setter: function (t) {
                                    return this.du && this.du.setMapTypeId(Uo.maps.MapTypeId[t]), t;
                                },
                                zoom_setter: function (t) {
                                    return this.du && this.du.setZoom(t), t;
                                },
                                layerType_setter: function (e) {
                                    return (
                                        "heatmap" == e && (this.config.libraries = "visualization"),
                                        this.o$[e] &&
                                            (t.extend(this, this.o$[e], !0),
                                            this.data.attachEvent(
                                                "onStoreUpdated",
                                                m(function () {
                                                    this.ZC.then(
                                                        m(function () {
                                                            this.drawData.call(this, arguments);
                                                        }, this)
                                                    );
                                                }, this)
                                            )),
                                        e
                                    );
                                },
                                defaults: { zoom: 5, center: [39.5, -98.5], mapType: "ROADMAP", layerType: "marker" },
                                $setSize: function () {
                                    Re.api.$setSize.apply(this, arguments), this.du && Uo.maps.event.trigger(this.du, "resize");
                                },
                                $onLoad: function (t) {
                                    return (
                                        !this.du &&
                                        (this.ZC.then(
                                            m(function () {
                                                this.parse(t);
                                            }, this)
                                        ),
                                        !0)
                                    );
                                },
                                o$: {
                                    marker: {
                                        drawData: function (t, e, i) {
                                            switch (i) {
                                                case "add":
                                                case "update":
                                                    e.$marker = this.a$(e);
                                                    break;
                                                case "delete":
                                                    e.$marker.setMap(null);
                                                    break;
                                                default:
                                                    this.data.each(function (t) {
                                                        t.$marker = this.a$(t);
                                                    }, this);
                                            }
                                        },
                                        clearAll: function (t) {
                                            this.data.each(function (t) {
                                                t.$marker.setMap(null);
                                            }),
                                                this.data.clearAll(t);
                                        },
                                        showItem: function (t) {
                                            var e = this.getItem(t);
                                            this.du.setCenter(new Uo.maps.LatLng(e.lat, e.lng));
                                        },
                                        a$: function (t) {
                                            var e = {};
                                            for (var i in t) e[i] = t[i];
                                            (e.position = new Uo.maps.LatLng(t.lat, t.lng)), (e.map = t.hidden ? null : this.du);
                                            var n = t.$marker;
                                            return n ? t.$marker.setMap(e.map) : ((n = new Uo.maps.Marker(e)), this.yt(n)), this.callEvent("onItemRender", [t]), n;
                                        },
                                        yt: function (t) {
                                            var e = this;
                                            t.addListener("click", function () {
                                                e.callEvent("onItemClick", [this.id, this]);
                                            }),
                                                t.getDraggable() &&
                                                    (t.addListener("dragend", function () {
                                                        e.u$(this, !0);
                                                    }),
                                                    t.addListener("drag", function () {
                                                        e.u$(this);
                                                    }));
                                        },
                                        u$: function (t, e) {
                                            var i = this.getItem(t.id),
                                                n = t.getPosition(),
                                                s = e ? "onAfterDrop" : "onDrag";
                                            (i.lat = n.lat()), (i.lng = n.lng()), this.callEvent(s, [i.id, i]);
                                        },
                                    },
                                    heatmap: {
                                        heatmapConfig_setter: function (t) {
                                            return t || {};
                                        },
                                        drawData: function () {
                                            this.c$ && (this.c$.setMap(null), (this.c$ = null));
                                            var e = [];
                                            if (
                                                (this.data.each(function (t) {
                                                    e.push(this.f$(t));
                                                }, this),
                                                e.length)
                                            ) {
                                                var i = t.extend(this.config.heatmapConfig, { data: e, map: this.du }, !0);
                                                (this.c$ = new Uo.maps.visualization.HeatmapLayer(i)), this.callEvent("onHeatMapRender", [this.c$]);
                                            }
                                        },
                                        getHeatmap: function () {
                                            return this.c$;
                                        },
                                        f$: function (t) {
                                            var e = {};
                                            for (var i in t) e[i] = t[i];
                                            return (e.location = new Uo.maps.LatLng(t.lat, t.lng)), e;
                                        },
                                    },
                                },
                            }),
                        Zo =
                            (t.protoUI(Ko, mi, E, Re.view),
                            {
                                name: "organogram",
                                defaults: { scroll: "auto", ariaLabel: "lines" },
                                $init: function () {
                                    (this.Vt.className += " webix_organogram"), (this.Oi = document.createElement("DIV")), this.$ready.push(this.l$), t.extend(this.data, pn, !0), this.data.provideApi(this, !0);
                                },
                                Qo: "webix_dg_id",
                                on_click: {
                                    webix_organogram_item: function (t, e) {
                                        this.P.select && ("multiselect" == this.P.select || this.P.multiselect ? this.select(e, !1, t.ctrlKey || t.metaKey || "touch" == this.P.multiselect, t.shiftKey) : this.select(e), (this.zm = !1));
                                    },
                                },
                                on_context: {},
                                on_dblclick: {},
                                l$: function () {
                                    (this.tt.style.position = "relative"), this.data.attachEvent("onStoreUpdated", m(this.render, this));
                                },
                                vf: function (t) {
                                    var e = this.data.Dr[t.id];
                                    return (
                                        this.callEvent("onItemRender", [t]),
                                        this.type.templateStart.call(this, t, this.type, e) +
                                            (t.$template ? this.type["template" + t.$template].call(this, t, this.type, e) : this.type.template.call(this, t, this.type, e)) +
                                            this.type.templateEnd.call(this)
                                    );
                                },
                                Q: function (t) {
                                    var e = this.vf(t);
                                    return this.data.branch[t.id] && (e += this.d$(t.id)), e;
                                },
                                v$: function () {
                                    return this.type.listMarginX || this.type.listMarginY;
                                },
                                d$: function (t, e) {
                                    var i,
                                        n,
                                        s,
                                        r,
                                        o = "",
                                        a = this.data.branch[t],
                                        l = this.data.Dr[t],
                                        h = this.getItem(t),
                                        c = !!h && h.$type;
                                    if (
                                        ((e = e || 0),
                                        "list" === c && (e += this.type.listMarginX),
                                        t ||
                                            ((this._$ = []),
                                            (this.$xy = {}),
                                            (r = this.$width - 2 * this.type.padding),
                                            (this.$xy[0] = { totalWidth: r, start: this.type.padding, width: 0, height: 0, left: r / 2, top: this.type.padding || 0 })),
                                        a)
                                    ) {
                                        (s = this.$xy[t]), "list" != c || this.v$() || (o += this.type.templateListStart.call(this, h, this.type, l));
                                        var d = 0,
                                            u = 0;
                                        for (i = 0; i < a.length; i++) {
                                            (n = a[i]), (r = this.p$[n]);
                                            var p = this.getItem(n);
                                            null == p.open && (p.open = !0), "list" == c && this.data.addMark(n, "list_item", "", 1, !0);
                                            var f = this.b$(n);
                                            if ("list" == c) {
                                                var m = 0;
                                                this.v$() ? (m = this.type.listMarginY) : i || (m = this.type.marginY),
                                                    (this.$xy[n] = {
                                                        totalWidth: r,
                                                        start: s.start,
                                                        width: this.type.width,
                                                        height: f,
                                                        left: s.start + r / 2 - this.type.width / 2 + e,
                                                        top: i ? this.$xy[a[i - 1]].top + this.$xy[a[i - 1]].height + m + u : s.top + s.height + m,
                                                    }),
                                                    (u = this.data.branch[n] ? this.m$(n) : 0);
                                            } else this.$xy[n] = { totalWidth: r, start: s.start + d, width: this.type.width, height: f, left: s.start + d + r / 2 - this.type.width / 2, top: s.top + s.height + (t ? this.type.marginY : 0) };
                                            (o += this.vf(p)), (d += r);
                                        }
                                        for (i = 0; i < a.length; i++)
                                            (n = a[i]), this.data.branch[n] && this.getItem(n).open ? (o += this.d$(n, e)) : h && ("list" != h.$type || i == a.length - 1) && this._$.push(this.$xy[n].top + this.$xy[n].height);
                                        var g = 0;
                                        for (var v in this.$xy) {
                                            var b = this.$xy[v];
                                            g = Math.max(b.left + b.width, g);
                                        }
                                        (this.tt.style.width = g + this.type.padding + this.type.marginX / 2 + "px"), "list" != c || this.v$() || (o += this.type.templateListEnd(h, this.type, l));
                                    }
                                    return o;
                                },
                                m$: function (t) {
                                    for (var e = this.data.branch[t], i = 0, n = 0; n < e.length; n++) (i += this.b$(e[n]) + this.type.listMarginY), this.data.branch[e[n]] && (i += this.m$(e[n]));
                                    return i + this.type.marginY;
                                },
                                b$: function (t) {
                                    var e = this.getItem(t),
                                        i = this.type.height;
                                    return (
                                        "function" == typeof i && (i = i.call(e, this.type, this.data.Dr[t])),
                                        this.g$ || ((this.g$ = dt("div")), this.tt.appendChild(this.g$)),
                                        (this.g$.className = this.type.classname(e, this.type, this.data.Dr[t])),
                                        (this.g$.style.cssText = "width:" + this.type.width + "px;height:" + i + ("auto" == i ? "" : "px") + ";"),
                                        (this.g$.innerHTML = this.type.template.call(this, e, this.type, this.data.Dr[t])),
                                        this.g$.scrollHeight
                                    );
                                },
                                w$: function () {
                                    var t = {},
                                        e = this.type.width,
                                        i = this.type.marginX;
                                    return (
                                        this.data.each(function (n) {
                                            t[n.id] = e + i;
                                            var s = this.getParentId(n.id);
                                            if (s && "list" != this.getItem(s).$type)
                                                for (; s; ) {
                                                    for (var r = this.branch[s], o = (t[s] = 0); o < r.length; o++) t[s] += t[r[o]] || 0;
                                                    s = this.getParentId(s);
                                                }
                                        }),
                                        (this.p$ = t)
                                    );
                                },
                                getItemNode: function (t) {
                                    if (this.Ni) return this.Ni[t];
                                    this.Ni = {};
                                    for (var e = this.tt.childNodes, i = 0; i < e.length; i++) {
                                        var n = e[i].getAttribute(this.Qo);
                                        if ((n && (this.Ni[n] = e[i]), -1 != e[i].className.indexOf("webix_organogram_list") && !this.v$()))
                                            for (var s = e[i].childNodes, r = 0; r < s.length; r++) (n = s[r].getAttribute(this.Qo)) && (this.Ni[n] = s[r]);
                                    }
                                    return this.getItemNode(t);
                                },
                                gc: function (t) {
                                    return (this.Oi.innerHTML = this.vf(t)), this.Oi.firstChild;
                                },
                                render: function (t, e, i) {
                                    if (this.isVisible(this.P.id) && !this.$blockRender) {
                                        if ("update" != i)
                                            return (
                                                this.callEvent("onBeforeRender", [this.data]) &&
                                                    (this.w$(),
                                                    (this.Ni = null),
                                                    (this.tt.innerHTML = this.d$(0)),
                                                    (this.g$ = null),
                                                    (this.tt.style.height = Math.max.apply(Math, this._$) + this.type.padding + "px"),
                                                    this.VC(),
                                                    this.resize(),
                                                    this.callEvent("onAfterRender", [])),
                                                !0
                                            );
                                        var n = this.getItemNode(t);
                                        return ft((this.Ni[t] = this.gc(e)), n), pt(n), !0;
                                    }
                                },
                                VC: function () {
                                    this.canvas && this.canvas.clearCanvas(!0), (this.canvas = new He({ container: this.tt, name: this.name, title: this.P.ariaLabel, width: this.tt.offsetWidth, height: this.tt.offsetHeight })), this.x$(0);
                                },
                                y$: function (t, e, i, n, s, r, o) {
                                    (t.strokeStyle = r), (t.lineCap = "square"), (t.lineWidth = o), t.beginPath(), t.moveTo(e, i), t.lineTo(n, s), t.stroke(), (t.lineWidth = 1);
                                },
                                x$: function (t, e) {
                                    var i, n, s, r, o, a, l, h, c, d;
                                    if ((e || (e = this.canvas.getCanvas()), this.$xy && ((t = t || 0), (s = this.data.branch[t]), (n = this.getItem(t)), s && s.length))) {
                                        if (((r = this.$xy[t]), t))
                                            if (((a = parseInt(r.left + r.width / 2, 10) + 0.5), (l = parseInt(r.top + r.height, 10)), (h = parseInt(r.top + r.height + this.type.marginY / 2, 10)), "list" == n.$type)) {
                                                if (!this.v$()) return (h = parseInt(r.top + r.height + this.type.marginY, 10)), void this.y$(e, a, l, a, h, this.type.lineColor);
                                            } else this.y$(e, a, l, a, h, this.type.lineColor);
                                        for (l = parseInt(r.top + r.height + this.type.marginY / 2, 10) + 0.5, i = 0; i < s.length; i++)
                                            t &&
                                                ((o = this.$xy[s[i]]),
                                                "list" == n.$type && this.v$()
                                                    ? ((a = parseInt(r.left + this.type.listMarginX / 2, 10) + 0.5),
                                                      i ? i == s.length - 1 && (d = a) : (c = a),
                                                      (h = parseInt(o.top + o.height / 2, 10)),
                                                      this.y$(e, a, l - this.type.marginY / 2, a, h, this.type.lineColor),
                                                      this.y$(e, a, h, a + this.type.listMarginX / 2, h, this.type.lineColor))
                                                    : ((a = parseInt(o.left + o.width / 2, 10) + 0.5), i ? i == s.length - 1 && (d = a) : (c = a), (h = parseInt(o.top, 10)), this.y$(e, a, l, a, h, this.type.lineColor))),
                                                this.getItem(s[i]).open && this.x$(s[i], e);
                                        t && this.y$(e, c, l, d, l, this.type.lineColor);
                                    }
                                },
                                $getSize: function (t, e) {
                                    var i = this.P.autowidth,
                                        n = this.P.autoheight;
                                    return (
                                        i && (t = this.tt.offsetWidth + (this.tt.offsetHeight > e && !n ? G.scrollSize : 0)),
                                        n && (e = this.tt.offsetHeight + (this.tt.offsetWidth > t && !i ? G.scrollSize : 0)),
                                        Re.api.$getSize.call(this, t, e)
                                    );
                                },
                                $setSize: function (t, e) {
                                    Re.api.$setSize.call(this, t, e) && ((this.tt.style.width = this.$width + "px"), (this.tt.style.height = this.$height + "px"), this.render());
                                },
                                type: {
                                    width: 120,
                                    height: "auto",
                                    padding: 20,
                                    marginX: 20,
                                    marginY: 20,
                                    listMarginX: 0,
                                    listMarginY: 0,
                                    lineColor: Ve.organogramLineColor || "#90caf9",
                                    classname: function (t, i, n) {
                                        var s = "webix_organogram_item";
                                        return (
                                            t.$css && ("object" == e(t.$css) && (t.$css = lt(t.$css)), (s += " " + t.$css)),
                                            n && n.list_item && (s += " webix_organogram_list_item"),
                                            n && n.$css && (s += n.$css),
                                            (s += " webix_organogram_level_" + t.$level),
                                            i.css && (s += " " + i.css),
                                            s
                                        );
                                    },
                                    listClassName: function (t) {
                                        var i = "webix_organogram_list webix_organogram_list_" + t.$level;
                                        return t.$listCss && ("object" == e(t.$listCss) && (t.$listCss = lt(t.$listCss)), (i += " " + t.$listCss)), i;
                                    },
                                    template: Ut("#value#"),
                                    templateStart: function (t, e, i) {
                                        var n = "";
                                        if ((!i || !i.list_item || e.listMarginX || e.listMarginY) && this.$xy) {
                                            var s = this.$xy[t.id];
                                            (n += "width: " + s.width + "px; height: " + s.height + "px;"), (n += "top: " + s.top + "px; left: " + s.left + "px;");
                                        }
                                        return '<div webix_dg_id="' + t.id + '" class="' + e.classname.call(this, t, e, i) + '"' + (n ? 'style="' + n + '"' : "") + '">';
                                    },
                                    templateEnd: Ut("</div>"),
                                    templateListStart: function (t, e, i) {
                                        var n = "";
                                        if (this.$xy) {
                                            var s = this.$xy[t.id];
                                            (n += "width: " + s.width + "px;"), (n += "top: " + (s.top + s.height + e.marginY) + "px; left: " + s.left + "px;");
                                        }
                                        return '<div class="' + e.listClassName.call(this, t, e, i) + '"' + (n ? 'style="' + n + '"' : "") + '">';
                                    },
                                    templateListEnd: Ut("</div>"),
                                },
                            }),
                        Jo =
                            (t.protoUI(Zo, ze, Ti, an, ai, zi, Ni, Fi, ji, hn, mi, Re.view, E),
                            {
                                $render_pie: function (t, e, i, n, s, r) {
                                    this.M$(t, e, i, n, 1, r, s);
                                },
                                M$: function (t, e, i, n, s, r, o) {
                                    if (e.length) {
                                        var a = this.S$(i, n),
                                            l = this.P.radius ? this.P.radius : a.radius;
                                        if (!(l < 0)) {
                                            var h = this.k$(e),
                                                c = this.Kc(h),
                                                d = this.Xc(h, c),
                                                u = this.P.x ? this.P.x : a.x,
                                                p = this.P.y ? this.P.y : a.y;
                                            1 == s && this.P.shadow && this.C$(t, u, p, l), (p /= s);
                                            var f,
                                                m = -Math.PI / 2,
                                                g = [];
                                            if ((t.scale(1, s), this.P.gradient)) {
                                                var v = 1 != s ? u + l / 3 : u,
                                                    b = 1 != s ? p + l / 3 : p;
                                                this.D$(t, u, p, l, v, b);
                                            }
                                            for (var y = 0; y < e.length; y++)
                                                if (h[y]) {
                                                    (t.strokeStyle = this.P.lineColor.call(this, e[y])), t.beginPath(), t.moveTo(u, p), g.push(m);
                                                    var w = -Math.PI / 2 + d[y] - 1e-4;
                                                    t.arc(u, p, l, m, w, !1), t.lineTo(u, p);
                                                    var x = this.P.color.call(this, e[y]);
                                                    (t.fillStyle = x),
                                                        t.fill(),
                                                        this.P.pieInnerText && this.I$(u, p, (5 * l) / 6, m, w, s, this.P.pieInnerText(e[y], c), !0),
                                                        this.P.label && this.I$(u, p, l + this.P.labelOffset, m, w, s, this.P.label(e[y])),
                                                        1 != s && (this.A$(t, u, p, m, w, l, !0), (t.fillStyle = "#000000"), (t.globalAlpha = 0.2), this.A$(t, u, p, m, w, l, !1), (t.globalAlpha = 1), (t.fillStyle = x)),
                                                        r.addSector(e[y].id, m, w, u - i.x, p - i.y / s, l, s, o),
                                                        (m = w);
                                                }
                                            for (t.globalAlpha = 0.8, y = 0; y < g.length; y++) (f = this.T$(g[y], u, p, l)), this.y$(t, u, p, f.x, f.y, this.P.lineColor.call(this, e[y]), 2);
                                            (t.globalAlpha = 1) == s &&
                                                this.P.border &&
                                                ((t.lineWidth = this.P.borderWidth || 2), (t.strokeStyle = this.P.borderColor ? this.P.borderColor.call(this) : "#ffffff"), t.beginPath(), t.arc(u, p, l + 1, 0, 2 * Math.PI, !1), t.stroke()),
                                                t.scale(1, 1 / s);
                                        }
                                    }
                                },
                                k$: function (t) {
                                    for (var e = [], i = 0; i < t.length; i++) e.push(Math.abs(parseFloat(this.P.value(t[i]) || 0)));
                                    return e;
                                },
                                Kc: function (t) {
                                    for (var e = 0, i = 0; i < t.length; i++) e += t[i];
                                    return e;
                                },
                                Xc: function (t, e) {
                                    var i,
                                        n = [],
                                        s = 0;
                                    e = e || this.Kc(t);
                                    for (var r = 0; r < t.length; r++) (i = t[r]), (n[r] = 2 * Math.PI * (e ? (i + s) / e : 1 / t.length)), (s += i);
                                    return n;
                                },
                                S$: function (t, e) {
                                    var i = e.x - t.x,
                                        n = e.y - t.y;
                                    return { x: t.x + i / 2, y: t.y + n / 2, radius: Math.min(i / 2, n / 2) };
                                },
                                A$: function (t, e, i, n, s, r, o) {
                                    if (((t.lineWidth = 1), (n <= 0 && 0 <= s) || (0 <= n && s <= Math.PI) || (0.003 < Math.abs(n - Math.PI) && n <= Math.PI && s >= Math.PI))) {
                                        n <= 0 && 0 <= s && ((n = 0), (o = !1), this.F$(t, e, i, r, n, s)), n <= Math.PI && s >= Math.PI && ((s = Math.PI), (o = !1), this.F$(t, e, i, r, n, s));
                                        var a = (this.P.pieHeight || Math.floor(r / 4)) / this.P.cant;
                                        t.beginPath(),
                                            t.arc(e, i, r, n, s, !1),
                                            t.lineTo(e + r * Math.cos(s), i + r * Math.sin(s) + a),
                                            t.arc(e, i + a, r, s, n, !0),
                                            t.lineTo(e + r * Math.cos(n), i + r * Math.sin(n)),
                                            t.fill(),
                                            o && t.stroke();
                                    }
                                },
                                F$: function (t, e, i, n, s, r) {
                                    t.beginPath(), t.arc(e, i, n, s, r, !1), t.stroke();
                                },
                                C$: function (t, e, i, n) {
                                    t.globalAlpha = 0.5;
                                    for (var s = ["#c4c4c4", "#c6c6c6", "#cacaca", "#dcdcdc", "#dddddd", "#e0e0e0", "#eeeeee", "#f5f5f5", "#f8f8f8"], r = s.length - 1; -1 < r; r--)
                                        t.beginPath(), (t.fillStyle = s[r]), t.arc(e + 1, i + 1, n + r, 0, 2 * Math.PI, !0), t.fill();
                                    t.globalAlpha = 1;
                                },
                                V$: function (t) {
                                    return t.addColorStop(0, "#ffffff"), t.addColorStop(0.7, "#7a7a7a"), t.addColorStop(1, "#000000"), t;
                                },
                                D$: function (t, e, i, n, s, r) {
                                    var o;
                                    t.beginPath(),
                                        (o = "function" != typeof this.P.gradient ? ((o = t.createRadialGradient(s, r, n / 4, e, i, n)), this.V$(o)) : this.P.gradient(o)),
                                        (t.fillStyle = o),
                                        t.arc(e, i, n, 0, 2 * Math.PI, !0),
                                        t.fill(),
                                        (t.globalAlpha = 0.7);
                                },
                                I$: function (t, e, i, n, s, r, o, a) {
                                    var l = this.canvases[0].renderText(0, 0, o, 0, 1);
                                    if (l) {
                                        var h = l.scrollWidth;
                                        (l.style.width = h + "px"), t < h && (h = t);
                                        var c = s - n < 0.2 ? 4 : 8;
                                        a && (c = h / 1.8);
                                        var d = n + (s - n) / 2;
                                        i -= (c - 8) / 2;
                                        var u = -c,
                                            p = "right";
                                        ((d >= Math.PI / 2 && d < Math.PI) || (d <= (3 * Math.PI) / 2 && d >= Math.PI)) && ((u = -h - u + 1), (p = "left"));
                                        var f = 0;
                                        !a && r < 1 && 0 < d && d < Math.PI && (f = (this.P.height || Math.floor(i / 4)) / r);
                                        var m = (e + Math.floor((i + f) * Math.sin(d))) * r - 8,
                                            g = t + Math.floor((i + c / 2) * Math.cos(d)) + u,
                                            v = s < Math.PI / 2 + 0.01,
                                            b = n < Math.PI / 2;
                                        b && v ? (g = Math.max(g, t + 3)) : b || v ? !a && ((d >= Math.PI / 2 && d < Math.PI) || (d <= (3 * Math.PI) / 2 && d >= Math.PI)) && (g += h / 3) : (g = Math.min(g, t - h)),
                                            (l.style.top = m + "px"),
                                            (l.style.left = g + "px"),
                                            (l.style.width = h + "px"),
                                            (l.style.textAlign = p),
                                            (l.style.whiteSpace = "nowrap");
                                    }
                                },
                                $render_pie3D: function (t, e, i, n, s, r) {
                                    this.M$(t, e, i, n, this.P.cant, r);
                                },
                                $render_donut: function (t, e, i, n, s, r) {
                                    if (e.length) {
                                        this.M$(t, e, i, n, 1, r, s);
                                        var o = this.P,
                                            a = this.S$(i, n),
                                            l = o.radius ? o.radius : a.radius;
                                        if (!(l <= 0)) {
                                            var h = o.innerRadius && o.innerRadius < l ? o.innerRadius : l / 3,
                                                c = o.x ? o.x : a.x,
                                                d = o.y ? o.y : a.y;
                                            (t.fillStyle = Ve.backColor), t.beginPath(), t.arc(c, d, h, 0, 2 * Math.PI, !0), t.fill();
                                        }
                                    }
                                },
                            }),
                        Qo = {
                            $render_bar: function (t, e, i, n, s, r) {
                                var o,
                                    a,
                                    l,
                                    h,
                                    c,
                                    d,
                                    u,
                                    p,
                                    f,
                                    m,
                                    g,
                                    v,
                                    b,
                                    y = n.y - i.y;
                                (b = !!this.P.yAxis),
                                    (v = !!this.P.xAxis),
                                    (c = (h = this.z$()).max),
                                    (d = h.min),
                                    (a = (n.x - i.x) / e.length),
                                    s || ("auto" != this.P.origin && !b) || this.B$(e, i, n, d, c, a),
                                    b && ((c = parseFloat(this.P.yAxis.end)), (d = parseFloat(this.P.yAxis.start))),
                                    (u = (f = this.H$(d, c))[0]),
                                    (p = f[1]),
                                    (g = u ? y / u : u),
                                    b || ("auto" != this.P.origin && v) || ((m = 10), (g = u ? (y - m) / u : m)),
                                    !s && "auto" != this.P.origin && !b && this.P.origin > d && this.R$(t, e, i, n, a, n.y - g * (this.P.origin - d)),
                                    (o = parseInt(this.P.barWidth, 10));
                                var w = 0,
                                    x = 0;
                                for (l = 0; l < this.E$.length; l++) l == s && (x = w), "bar" == this.E$[l].type && w++;
                                this.E$ && a < o * w + 4 && (o = parseInt(a / w - 4, 10));
                                var _ = (a - o * w) / 2,
                                    k = void 0 !== this.P.radius ? parseInt(this.P.radius, 10) : Math.round(o / 5),
                                    P = !1,
                                    S = this.P.gradient;
                                for (
                                    S && "function" != typeof S ? ((P = S), (S = !1)) : S && ((S = t.createLinearGradient(0, n.y, 0, i.y)), this.P.gradient(S)), v || this.y$(t, i.x, n.y + 0.5, n.x, n.y + 0.5, "#edeff0", 1), l = 0;
                                    l < e.length;
                                    l++
                                ) {
                                    var C = parseFloat(this.P.value(e[l]) || 0);
                                    if ((this.P$ && (C = this.j$(C)), C && !isNaN(C))) {
                                        c < C && (C = c), (C -= d), (C *= p);
                                        var I = i.x + _ + l * a + (o + 1) * x,
                                            T = n.y,
                                            $ = S || this.P.color.call(this, e[l]),
                                            E = this.P.border ? 1 : 0,
                                            D = this.P.label(e[l]);
                                        b || ("auto" != this.P.origin && v)
                                            ? C == this.P.origin || ("auto" == this.P.origin && this.P.value(e[l]) == d)
                                                ? ((E = 0), (D = ""))
                                                : (C < 0 || (this.P.yAxis && 0 === C && !("auto" != this.P.origin && this.P.origin > d))) && ((C = E = 0), (D = ""))
                                            : (C += m / g),
                                            (t.globalAlpha = this.P.alpha.call(this, e[l]));
                                        var M = this.BC(t, i, I, T, o, d, k, g, C, $, S, P, E);
                                        P && this.N$(t, I, T, o, d, k, g, C, $, P, E),
                                            E && this.L$(t, I, T, o, d, k, g, C, $),
                                            (t.globalAlpha = 1),
                                            M[0] != I ? this.canvases[s].renderTextAt(!1, !0, I + Math.floor(o / 2), M[1], D) : this.canvases[s].renderTextAt(!0, !0, I + Math.floor(o / 2), M[3], D),
                                            r.addRect(e[l].id, [I - i.x, M[3] - i.y, M[2] - i.x, M[1] - i.y], s);
                                    }
                                }
                            },
                            O$: function (t, e, i, n, s, r, o) {
                                var a = i;
                                return (
                                    "auto" != this.P.origin && this.P.origin > o && ((a = i -= (this.P.origin - o) * s), (n -= this.P.origin - o) < 0 && ((n *= -1), t.translate(e + r, i), t.rotate(Math.PI), (i = e = 0)), (i -= 0.5)),
                                    { value: n, x0: e, y0: i, start: a }
                                );
                            },
                            BC: function (t, e, i, n, s, r, o, a, l, h, c, d, u) {
                                t.save(), (t.fillStyle = h);
                                var p = this.O$(t, i, n, l, a, s, r),
                                    f = this.W$(t, p.x0, p.y0, s, o, a, p.value, u);
                                c && !d && t.lineTo(p.x0 + u, e.y), t.fill(), t.restore();
                                var m = p.x0,
                                    g = p.x0 != i ? i + f[0] : f[0];
                                return [m, p.x0 != i ? p.start - f[1] - p.y0 : p.y0, g, p.x0 != i ? p.start - p.y0 : f[1]];
                            },
                            U$: function (t, e) {
                                var i, n;
                                (n = Hi.toRgb(e)), ((i = Hi.rgbToHsv(n[0], n[1], n[2]))[2] /= 1.4);
                                var s = "rgb(" + Hi.hsvToRgb(i[0], i[1], i[2]) + ")";
                                (t.strokeStyle = s), 1 == t.globalAlpha && (t.globalAlpha = 0.9);
                            },
                            L$: function (t, e, i, n, s, r, o, a, l) {
                                var h;
                                t.save(), (h = this.O$(t, e, i, a, o, n, s)), this.U$(t, l), this.W$(t, h.x0, h.y0, n, r, o, h.value, t.lineWidth / 2, 1), t.stroke(), t.restore();
                            },
                            N$: function (t, e, i, n, s, r, o, a, l, h, c) {
                                t.save();
                                var d = this.O$(t, e, i, a, o, n, s),
                                    u = this.Y$(t, d.x0, d.y0, d.x0 + n, d.y0 - o * d.value + 2, h, l, "y");
                                (t.fillStyle = u.gradient), this.W$(t, d.x0 + u.offset, d.y0, n - 2 * u.offset, r, o, d.value, u.offset + c), t.fill(), t.restore();
                            },
                            W$: function (t, e, i, n, s, r, o, a, l) {
                                t.beginPath();
                                var h = 0;
                                if (r * o < s) {
                                    var c = (s - r * o) / s;
                                    c <= 1 && -1 <= c && (h = -Math.acos(c) + Math.PI / 2);
                                }
                                t.moveTo(e + a, i);
                                var d = i - Math.floor(r * o) + s + (s ? 0 : a);
                                s < r * o && t.lineTo(e + a, d);
                                var u = e + s;
                                s && 0 < s && t.arc(u, d, Math.max(s - a, 0), -Math.PI + h, -Math.PI / 2, !1);
                                var p = e + n - s - a,
                                    f = d - s + (s ? a : 0);
                                t.lineTo(p, f), s && 0 < s && t.arc(p + a, d, Math.max(s - a, 0), -Math.PI / 2, 0 - h, !1);
                                var m = e + n - a;
                                return t.lineTo(m, i), l || t.lineTo(e + a, i), [m, f];
                            },
                        },
                        ta = {
                            $render_line: function (t, i, n, s, r, o) {
                                var a, l, h, c, d, u, p, f, m, g, v, b;
                                if (((c = this.q$(t, i, n, s, r)), (a = this.P), i.length)) {
                                    for (d = a.offset ? n.x + 0.5 * c.cellWidth : n.x, h = [], l = 0; l < i.length; l++)
                                        if ((b = this.G$(i[l], n, s, c)) || "0" == b) {
                                            if (((p = l ? c.cellWidth * l - 0.5 + d : d), (m = "object" == e(b) ? b.y0 : b), l && this.P.fixOverflow)) {
                                                if ((v = this.G$(i[l - 1], n, s, c)).out && v.out == b.out) continue;
                                                (u = c.cellWidth * (l - 1) - 0.5 + d),
                                                    (f = "object" == e(v) ? v.y0 : v),
                                                    v.out && ((g = "min" == v.out ? s.y : n.y), h.push({ x: this.X$(u, p, f, m, g), y: g })),
                                                    b.out && ((g = "min" == b.out ? s.y : n.y), h.push({ x: this.X$(u, p, f, m, g), y: g }));
                                            }
                                            b.out || h.push({ x: p, y: b, index: l });
                                        }
                                    for (this.K$ = n, l = 1; l <= h.length; l++)
                                        (u = h[l - 1].x),
                                            (f = h[l - 1].y),
                                            l < h.length &&
                                                ((p = h[l].x),
                                                (m = h[l].y),
                                                this.y$(t, u, f, p, m, a.line.color.call(this, i[l - 1]), a.line.width),
                                                a.line && a.line.shadow && ((t.globalAlpha = 0.3), this.y$(t, u + 2, f + a.line.width + 8, p + 2, m + a.line.width + 8, "#eeeeee", a.line.width + 3), (t.globalAlpha = 1))),
                                            void 0 !== h[l - 1].index && this.J$(t, u, f, i[h[l - 1].index], a.label(i[h[l - 1].index]), r, o, n);
                                }
                            },
                            X$: function (t, e, i, n, s) {
                                return t + ((s - i) * (e - t)) / (n - i);
                            },
                            J$: function (t, e, i, n, s, r, o) {
                                var a = this.P.item,
                                    l = parseInt(a.radius.call(this, n), 10) || 0,
                                    h = this.K$,
                                    c = a.type.call(this, n);
                                if (l) {
                                    if ((t.save(), a.shadow)) {
                                        (t.lineWidth = 1), (t.strokeStyle = "#bdbdbd"), (t.fillStyle = "#bdbdbd");
                                        for (var d = [0.1, 0.2, 0.3], u = d.length - 1; 0 <= u; u--) (t.globalAlpha = d[u]), (t.strokeStyle = "#d0d0d0"), t.beginPath(), this.Z$(t, e, i + (2 * l) / 3, l + u + 1, c), t.stroke();
                                        t.beginPath(), (t.globalAlpha = 0.3), (t.fillStyle = "#bdbdbd"), this.Z$(t, e, i + (2 * l) / 3, l + 1, c), t.fill();
                                    }
                                    t.restore(),
                                        (t.lineWidth = a.borderWidth),
                                        (t.fillStyle = a.color.call(this, n)),
                                        (t.strokeStyle = a.borderColor.call(this, n)),
                                        (t.globalAlpha = a.alpha.call(this, n)),
                                        t.beginPath(),
                                        this.Z$(t, e, i, l + 1, c),
                                        t.fill(),
                                        t.stroke(),
                                        (t.globalAlpha = 1);
                                }
                                if ((s && this.canvases[r].renderTextAt(!1, !0, e, i - l - this.P.labelOffset, this.P.label.call(this, n)), o)) {
                                    var p = this.P.eventRadius || l + 1;
                                    o.addRect(n.id, [e - p - h.x, i - p - h.y, e + p - h.x, i + p - h.y], r);
                                }
                            },
                            Z$: function (t, e, i, n, s) {
                                var r = [];
                                if (!s || ("square" != s && "s" != s))
                                    if (!s || ("diamond" != s && "d" != s))
                                        r =
                                            !s || ("triangle" != s && "t" != s)
                                                ? [[e, i, n, 0, 2 * Math.PI, !0]]
                                                : [
                                                      [e, i - n],
                                                      [e + (Math.sqrt(3) * n) / 2, i + n / 2],
                                                      [e - (Math.sqrt(3) * n) / 2, i + n / 2],
                                                      [e, i - n],
                                                  ];
                                    else {
                                        var o = 1 < t.lineWidth ? (t.lineWidth * Math.sqrt(2)) / 4 : 0;
                                        r = [
                                            [e, i - n],
                                            [e + n, i],
                                            [e, i + n],
                                            [e - n, i],
                                            [e + o, i - n - o],
                                        ];
                                    }
                                else
                                    r = [
                                        [e - (n *= Math.sqrt(2) / 2) - t.lineWidth / 2, i - n],
                                        [e + n, i - n],
                                        [e + n, i + n],
                                        [e - n, i + n],
                                        [e - n, i - n],
                                    ];
                                this.Q$(t, r);
                            },
                            G$: function (t, e, i, n) {
                                var s = n.minValue,
                                    r = n.maxValue,
                                    o = n.unit,
                                    a = n.valueFactor,
                                    l = this.P.value(t);
                                this.P$ && (l = this.j$(l));
                                var h = (parseFloat(l || 0) - s) * a;
                                this.P.yAxis || (h += n.startValue / o);
                                var c = i.y - o * h;
                                return (
                                    !this.P.fixOverflow || ("line" != this.P.type && "area" != this.P.type)
                                        ? (r < l && (c = e.y), (h < 0 || l < s) && (c = i.y))
                                        : r < l
                                        ? (c = { y: e.y, y0: c, out: "max" })
                                        : (h < 0 || l < s) && (c = { y: i.y, y0: c, out: "min" }),
                                    c
                                );
                            },
                            q$: function (t, e, i, n, s) {
                                var r,
                                    o = {};
                                (o.totalHeight = n.y - i.y), this.P.cellWidth ? (o.cellWidth = Math.min(n.x - i.x, this.P.cellWidth)) : (o.cellWidth = (n.x - i.x) / (this.P.offset ? e.length : e.length - 1));
                                var a = !!this.P.yAxis,
                                    l = -1 != this.P.type.indexOf("stacked") ? this.tD(e) : this.z$();
                                (o.maxValue = l.max), (o.minValue = l.min), s || this.B$(e, i, n, o.minValue, o.maxValue, o.cellWidth), a && ((o.maxValue = parseFloat(this.P.yAxis.end)), (o.minValue = parseFloat(this.P.yAxis.start)));
                                var h = this.H$(o.minValue, o.maxValue);
                                return (
                                    (r = h[0]),
                                    (o.valueFactor = h[1]),
                                    (o.unit = r ? o.totalHeight / r : 10),
                                    (o.startValue = 0),
                                    a || ((o.startValue = 10), o.unit != o.totalHeight && (o.unit = r ? (o.totalHeight - o.startValue) / r : 10)),
                                    o
                                );
                            },
                        },
                        ea = {
                            $render_barH: function (t, e, i, n, s, r) {
                                var o, a, l, h, c, d, u, p, f, m, g, v, b, y, w, x, _, k, P, S, C;
                                for (
                                    l = (n.y - i.y) / e.length,
                                        p = (u = this.z$("h")).max,
                                        f = u.min,
                                        x = n.x - i.x,
                                        C = !!this.P.xAxis,
                                        s || this.iD(t, e, i, n, f, p, l),
                                        C && ((p = parseFloat(this.P.xAxis.end)), (f = parseFloat(this.P.xAxis.start))),
                                        v = (y = this.H$(f, p))[0],
                                        g = y[1],
                                        k = v ? x / v : 10,
                                        C || ((w = 10), (k = v ? (x - w) / v : 10)),
                                        (a = parseInt(this.P.barWidth, 10)) * this.E$.length + 4 > l && (a = l / this.E$.length - 4),
                                        o = Math.floor((l - a * this.E$.length) / 2),
                                        b = void 0 !== this.P.radius ? parseInt(this.P.radius, 10) : Math.round(a / 5),
                                        m = !1,
                                        (c = this.P.gradient) && "function" != typeof c ? ((m = c), (c = !1)) : c && ((c = t.createLinearGradient(i.x, i.y, n.x, i.y)), this.P.gradient(c)),
                                        C || this.y$(t, i.x - 0.5, i.y, i.x - 0.5, n.y, "#edeff0", 1),
                                        d = 0;
                                    d < e.length;
                                    d++
                                )
                                    if (((_ = parseFloat(this.P.value(e[d] || 0))), this.P$ && (_ = this.j$(_)), _ && !isNaN(_)))
                                        if (
                                            (p < _ && (_ = p),
                                            (_ -= f),
                                            (_ *= g),
                                            (P = i.x),
                                            (S = i.y + o + d * l + (a + 1) * s),
                                            (_ < 0 && "auto" == this.P.origin) || (this.P.xAxis && 0 === _ && !("auto" != this.P.origin && this.P.origin > f)))
                                        )
                                            this.canvases[s].renderTextAt("middle", "right", P + 10, S + a / 2 + o, this.P.label(e[d]));
                                        else {
                                            _ < 0 && "auto" != this.P.origin && this.P.origin > f && (_ = 0),
                                                C || (_ += w / k),
                                                (h = c || this.P.color.call(this, e[d])),
                                                this.P.border && this.eD(t, P, S, a, f, b, k, _, h),
                                                (t.globalAlpha = this.P.alpha.call(this, e[d]));
                                            var I = this.sD(t, n, P, S, a, f, b, k, _, h, c, m);
                                            m && this.nD(t, P, S, a, f, b, k, _, h, m),
                                                (t.globalAlpha = 1),
                                                I[3] == S
                                                    ? (this.canvases[s].renderTextAt("middle", "left", I[0] - 5, I[3] + Math.floor(a / 2), this.P.label(e[d])), r.addRect(e[d].id, [I[0] - i.x, I[3] - i.y, I[2] - i.x, I[3] + a - i.y], s))
                                                    : (this.canvases[s].renderTextAt("middle", !1, I[2] + 5, I[1] + Math.floor(a / 2), this.P.label(e[d])), r.addRect(e[d].id, [I[0] - i.x, S - i.y, I[2] - i.x, I[3] - i.y], s));
                                        }
                            },
                            hD: function (t, e, i, n, s, r, o, a, l) {
                                var h = 0;
                                if (r * o < s) {
                                    var c = (s - r * o) / s;
                                    h = -Math.asin(c) + Math.PI / 2;
                                }
                                t.moveTo(e, i + a);
                                var d = e + r * o - s - (s ? 0 : a);
                                (d = Math.max(e, d)), s < r * o && t.lineTo(d, i + a);
                                var u = i + s;
                                s && 0 < s && t.arc(d, u, s - a, -Math.PI / 2 + h, 0, !1);
                                var p = i + n - s - (s ? 0 : a),
                                    f = d + s - (s ? a : 0);
                                t.lineTo(f, p), s && 0 < s && t.arc(d, p, s - a, 0, Math.PI / 2 - h, !1);
                                var m = i + n - a;
                                return t.lineTo(e, m), l || t.lineTo(e, i + a), [f, m];
                            },
                            iD: function (t, e, i, n, s, r, o) {
                                var a = 0;
                                this.P.xAxis && (this.canvases.x || (this.canvases.x = this.rD("axis_x")), (a = this.oD(this.canvases.x.getCanvas(), e, i, n, s, r))),
                                    this.P.yAxis && (this.canvases.y || (this.canvases.y = this.rD("axis_y")), this.aD(this.canvases.y.getCanvas(), e, i, n, o, a));
                            },
                            aD: function (t, e, i, n, s, r) {
                                if (this.P.yAxis) {
                                    var o,
                                        a = parseInt(r || i.x, 10) - 0.5,
                                        l = n.y + 0.5,
                                        h = i.y;
                                    this.y$(t, a, l, a, h, this.P.yAxis.color, 1);
                                    for (var c = 0; c < e.length; c++) {
                                        var d = "auto" != this.P.origin && "barH" == this.P.type && parseFloat(this.P.value(e[c])) < this.P.origin;
                                        (o = h + s / 2 + c * s),
                                            this.canvases.y.renderTextAt("middle", !d && "left", d ? a + 5 : a - 5, o, this.P.yAxis.template(e[c]), "webix_axis_item_y", d ? 0 : a - 10),
                                            this.P.yAxis.lines.call(this, e[c]) && this.y$(t, i.x, o, n.x, o, this.P.yAxis.lineColor.call(this, e[c]), 1);
                                    }
                                    this.P.yAxis.lines.call(this, {}) && this.y$(t, i.x + 0.5, h + 0.5, n.x, h + 0.5, this.P.yAxis.lineColor.call(this, {}), 1), this.uD(i, n);
                                }
                            },
                            oD: function (t, e, i, n, s, r) {
                                var o,
                                    a = {},
                                    l = this.P.xAxis;
                                if (l) {
                                    var h = n.y + 0.5,
                                        c = i.x - 0.5,
                                        d = n.x - 0.5,
                                        u = i.x;
                                    if (
                                        (this.y$(t, c, h, d, h, l.color, 1),
                                        l.step && (o = parseFloat(l.step)),
                                        (void 0 !== this.cD.step && void 0 !== this.cD.start && void 0 !== this.cD.end) ||
                                            ((s = (a = this.fD(s, r)).start), (r = a.end), (o = a.step), (this.P.xAxis.end = r), (this.P.xAxis.start = s), (this.P.xAxis.step = o)),
                                        0 !== o)
                                    ) {
                                        for (var p = ((d - c) * o) / (r - s), f = 0, m = s; m <= r; m += o) {
                                            var g = this.P$ ? Math.pow(10, m) : m;
                                            a.fixNum && (g = parseFloat(g).toFixed(a.fixNum));
                                            var v = Math.floor(c + f * p) + 0.5;
                                            if (((m == s && "auto" == this.P.origin) || !l.lines.call(this, m) || this.y$(t, v, h, v, i.y, this.P.xAxis.lineColor.call(this, m), 1), m == this.P.origin && (u = v + 1), o < 1 && !this.P$)) {
                                                var b = Math.min(Math.floor(this.j$(o)), s <= 0 ? 0 : Math.floor(this.j$(s))),
                                                    y = Math.pow(10, -b);
                                                m = g = Math.round(g * y) / y;
                                            }
                                            this.canvases.x.renderTextAt(!1, !0, v, h + 2, l.template(g.toString()), "webix_axis_item_x"), f++;
                                        }
                                        return this.canvases.x.renderTextAt(!0, !1, c, n.y + this.P.padding.bottom - 3, this.P.xAxis.title, "webix_axis_title_x", n.x - i.x), u;
                                    }
                                }
                            },
                            lD: function (t, e, i, n, s, r, o) {
                                var a = e;
                                return (
                                    this.P.yAxis &&
                                        "auto" != this.P.origin &&
                                        this.P.origin > o &&
                                        ((a = e += (this.P.origin - o) * s), (n -= this.P.origin - o) < 0 && ((n *= -1), t.translate(e, i + r), t.rotate(Math.PI), (e = 0.5), (i = 0)), (e += 0.5)),
                                    { value: n, x0: e, y0: i, start: a }
                                );
                            },
                            sD: function (t, e, i, n, s, r, o, a, l, h, c, d) {
                                t.save();
                                var u = this.lD(t, i, n, l, a, s, r);
                                (t.fillStyle = h), t.beginPath();
                                var p = this.hD(t, u.x0, u.y0, s, o, a, u.value, this.P.border ? 1 : 0);
                                c && !d && t.lineTo(e.x, u.y0 + (this.P.border ? 1 : 0)), t.fill(), t.restore();
                                var f = u.y0,
                                    m = u.y0 != n ? n : p[1];
                                return [u.y0 != n ? u.start - p[0] : u.start, f, u.y0 != n ? u.start : p[0], m];
                            },
                            eD: function (t, e, i, n, s, r, o, a, l) {
                                t.save();
                                var h = this.lD(t, e, i, a, o, n, s);
                                t.beginPath(), this.U$(t, l), (t.globalAlpha = 0.9), this.hD(t, h.x0, h.y0, n, r, o, h.value, t.lineWidth / 2, 1), t.stroke(), t.restore();
                            },
                            nD: function (t, e, i, n, s, r, o, a, l, h) {
                                t.save();
                                var c = this.lD(t, e, i, a, o, n, s),
                                    d = this.Y$(t, c.x0, c.y0 + n, c.x0 + o * c.value, c.y0, h, l, "x");
                                (t.fillStyle = d.gradient), t.beginPath(), this.hD(t, c.x0, c.y0 + d.offset, n - 2 * d.offset, r, o, c.value, d.offset), t.fill(), (t.globalAlpha = 1), t.restore();
                            },
                        },
                        ia = {
                            $render_stackedBar: function (t, e, i, n, s, r) {
                                var o,
                                    a,
                                    l,
                                    h,
                                    c,
                                    d,
                                    u,
                                    p = this.P,
                                    f = n.y - i.y,
                                    m = !!p.yAxis,
                                    g = !!p.xAxis,
                                    v = this.tD(e),
                                    b = 0 === p.origin;
                                (o = v.max), (a = v.min);
                                var y = Math.floor((n.x - i.x) / e.length);
                                s || (l = this.B$(e, i, n, a, o, y)), m && ((o = parseFloat(p.yAxis.end)), (a = parseFloat(p.yAxis.start)));
                                var w = this.H$(a, o);
                                (u = w[0]), (d = w[1]);
                                var x = u ? f / u : 10,
                                    _ = parseInt(p.barWidth, 10);
                                y < _ + 4 && (_ = y - 4);
                                var k = Math.floor((y - _) / 2),
                                    P = !!p.gradient && p.gradient;
                                g || this.y$(t, i.x, n.y + 0.5, n.x, n.y + 0.5, "#edeff0", 1);
                                for (var S = 0; S < e.length; S++) {
                                    var C = Math.abs(parseFloat(p.value(e[S] || 0)));
                                    this.P$ && (C = this.j$(C)), (h = i.x + k + S * y);
                                    var I = b && C < 0;
                                    if ((s ? (c = I ? e[S].$startYN : e[S].$startY) : ((c = l - 1), (e[S].$startY = c), b && (I && (c = l + 1), (e[S].$startYN = l + 1))), C && !isNaN(C) && (s || b || (C -= a), (C *= d), !(c < i.y + 1)))) {
                                        var T = this.P.color.call(this, e[S]),
                                            $ = Math.abs(c - (b ? n.y + a * x : n.y)) < 3;
                                        (t.globalAlpha = p.alpha.call(this, e[S])), (t.fillStyle = t.strokeStyle = p.color.call(this, e[S])), t.beginPath();
                                        var E = c - x * C + ($ ? (I ? -1 : 1) : 0),
                                            D = this.dD(t, h - (p.border ? 0.5 : 0), c, _ + (p.border ? 0.5 : 0), E, 0, i.y);
                                        if ((t.fill(), t.stroke(), P)) {
                                            t.save();
                                            var M = this.Y$(t, h, c, h + _, D[1], P, T, "y");
                                            (t.fillStyle = M.gradient), t.beginPath(), (D = this.dD(t, h + M.offset, c, _ - 2 * M.offset, E, p.border ? 1 : 0, i.y)), t.fill(), t.restore();
                                        }
                                        p.border &&
                                            (t.save(),
                                            "string" == typeof p.border ? (t.strokeStyle = p.border) : this.U$(t, T),
                                            t.beginPath(),
                                            this.dD(t, h - 0.5, parseInt(c, 10) + 0.5, _ + 1, parseInt(E, 10) + 0.5, 0, i.y, $),
                                            t.stroke(),
                                            t.restore()),
                                            (t.globalAlpha = 1),
                                            this.canvases[s].renderTextAt(!1, !0, h + Math.floor(_ / 2), D[1] + (c - D[1]) / 2 - 7, this.P.label(e[S])),
                                            r.addRect(e[S].id, [h - i.x, D[1] - i.y, D[0] - i.x, e[S][I ? "$startYN" : "$startY"] - i.y], s),
                                            (e[S][I ? "$startYN" : "$startY"] = D[1]);
                                    }
                                }
                            },
                            dD: function (t, e, i, n, s, r, o, a) {
                                t.moveTo(e, i), s < o && (s = o), t.lineTo(e, s);
                                var l = e + n,
                                    h = s;
                                t.lineTo(l, h);
                                var c = e + n;
                                return t.lineTo(c, i), a || t.lineTo(e, i), [c, h];
                            },
                        },
                        na = {
                            $render_stackedBarH: function (t, e, i, n, s, r) {
                                var o,
                                    a,
                                    l,
                                    h,
                                    c = n.x - i.x,
                                    d = !!this.P.yAxis,
                                    u = this.tD(e);
                                (o = u.max), (a = u.min);
                                var p = Math.floor((n.y - i.y) / e.length);
                                s || this.iD(t, e, i, n, a, o, p), d && ((o = parseFloat(this.P.xAxis.end)), (a = parseFloat(this.P.xAxis.start)));
                                var f = this.H$(a, o);
                                (h = f[0]), (l = f[1]);
                                var m = h ? c / h : 10,
                                    g = 0;
                                d || ((g = 10), (m = h ? (c - g) / h : 10));
                                var v = parseInt(this.P.barWidth, 10);
                                p < v + 4 && (v = p - 4);
                                var b = (p - v) / 2,
                                    y = !1,
                                    w = this.P.gradient;
                                w && (y = !0), d || this.y$(t, i.x - 0.5, i.y, i.x - 0.5, n.y, "#edeff0", 1);
                                var x = 0,
                                    _ = 0;
                                for (k = 0; k < this.E$.length; k++) k == s && (_ = x), "stackedBarH" == this.E$[k].type && x++;
                                for (var k = 0; k < e.length; k++) {
                                    _ || (e[k].$startX = i.x);
                                    var P = Math.abs(parseFloat(this.P.value(e[k] || 0)));
                                    o < P && (P = o), (P -= a), (P *= l);
                                    var S = i.x,
                                        C = i.y + b + k * p;
                                    if ((_ ? (S = e[k].$startX) : (e[k].$startX = S), P && !isNaN(P))) {
                                        d || (P += g / m);
                                        var I = this.P.color.call(this, e[k]);
                                        (t.globalAlpha = this.P.alpha.call(this, e[k])), (t.fillStyle = this.P.color.call(this, e[k])), t.beginPath();
                                        var T = this.hD(t, S, C, v, 0, m, P, 0);
                                        if ((w && !y && t.lineTo(i.x + c, C + (this.P.border ? 1 : 0)), t.fill(), y)) {
                                            var $ = this.Y$(t, S, C + v, S, C, y, I, "x");
                                            (t.fillStyle = $.gradient), t.beginPath(), (T = this.hD(t, S, C, v, 0, m, P, 0)), t.fill();
                                        }
                                        this.P.border && this.eD(t, S, C, v, a, 0, m, P, I),
                                            (t.globalAlpha = 1),
                                            this.canvases[s].renderTextAt("middle", !0, e[k].$startX + (T[0] - e[k].$startX) / 2 - 1, C + (T[1] - C) / 2, this.P.label(e[k])),
                                            r.addRect(e[k].id, [e[k].$startX - i.x, C - i.y, T[0] - i.x, T[1] - i.y], s),
                                            (e[k].$startX = T[0]);
                                    }
                                }
                            },
                        },
                        sa = {
                            $render_area: function (t, i, n, s, r, o) {
                                var a, l, h, c, d, u, p, f, m, g, v, b, y, w, x;
                                if (((u = this.q$(t, i, n, s, r)), (c = (l = this.P).eventRadius || Math.floor(u.cellWidth / 2)), i.length)) {
                                    for (p = [], g = l.offset ? n.x + 0.5 * u.cellWidth : n.x, h = 0; h < i.length; h++)
                                        if (((d = i[h]), (m = this.G$(d, n, s, u)), (y = g + u.cellWidth * h), m)) {
                                            if (((w = "object" == e(m) ? m.y0 : m), h && this.P.fixOverflow)) {
                                                if ((f = this.G$(i[h - 1], n, s, u)).out && f.out == m.out) continue;
                                                (v = u.cellWidth * (h - 1) - 0.5 + g),
                                                    (b = "object" == e(f) ? f.y0 : f),
                                                    f.out && ((x = "min" == f.out ? s.y : n.y), p.push([this.X$(v, y, b, w, x), x])),
                                                    m.out && ((x = "min" == m.out ? s.y : n.y), p.push([this.X$(v, y, b, w, x), x]), h == i.length - 1 && x == n.y && p.push([y, n.y]));
                                            }
                                            m.out || (p.push([y, w]), o.addRect(d.id, [y - c - n.x, w - c - n.y, y + c - n.x, w + c - n.y], r)),
                                                l.yAxis || ((a = l.offset || h != i.length - 1 ? "center" : "left"), this.canvases[r].renderTextAt(!1, a, y, w - l.labelOffset, l.label(d)));
                                        }
                                    p.length && (p.push([y, s.y]), p.push([p[0][0], s.y])),
                                        (t.globalAlpha = this.P.alpha.call(this, i[0])),
                                        (t.fillStyle = this.P.color.call(this, i[0])),
                                        t.beginPath(),
                                        this.Q$(t, p),
                                        t.fill(),
                                        (t.lineWidth = 1),
                                        (t.globalAlpha = 1),
                                        l.border && ((t.lineWidth = l.borderWidth || 1), l.borderColor ? (t.strokeStyle = l.borderColor.call(this, i[0])) : this.U$(t, t.fillStyle), t.beginPath(), this.Q$(t, p), t.stroke());
                                }
                            },
                            $render_stackedArea: function (t, e, i, n, s, r) {
                                var o, a, l, h, c, d, u, p, f, m, g, v, b, y, w, x, _;
                                if (((f = this.q$(t, e, i, n, s)), (u = (h = this.P).eventRadius || Math.floor(f.cellWidth / 2)), e.length)) {
                                    (m = []), (b = []), (g = h.offset ? i.x + 0.5 * f.cellWidth : i.x);
                                    var k = function (t, i) {
                                        return s ? (e[t].$startY ? i - n.y + e[t].$startY : 0) : i;
                                    };
                                    for (c = 0; c < e.length; c++)
                                        (p = e[c]),
                                            c ? (g += f.cellWidth) : ((v = k(c, n.y)), m.push([g, v])),
                                            (v = k(c, this.G$(p, i, n, f))),
                                            b.push(isNaN(v) && !c ? e[c].$startY || n.y : v),
                                            v &&
                                                (m.push([g, v]),
                                                r.addRect(p.id, [g - u - i.x, v - u - i.y, g + u - i.x, v + u - i.y], s),
                                                h.yAxis || (h.offset, (l = "center"), this.canvases[s].renderTextAt(!1, l, g, v - h.labelOffset, h.label(p))));
                                    if ((m.push([g, k(c - 1, n.y)]), s)) for (c = e.length - 2; 0 < c; c--) (g -= f.cellWidth), (v = e[c].$startY) && m.push([g, v]);
                                    for (m.push([m[0][0], m[0][1]]), t.globalAlpha = this.P.alpha.call(this, e[0]), t.fillStyle = this.P.color.call(this, e[0]), t.beginPath(), this.Q$(t, m), t.fill(), c = 0; c < e.length; c++) {
                                        if (!(v = b[c]))
                                            for (c == e.length - 1 && (v = e[c].$startY), d = c + 1; d < e.length; d++)
                                                if (b[d]) {
                                                    (o = { x: i.x, y: b[0] }), (a = { x: i.x + f.cellWidth * d, y: b[d] }), (y = i.x + f.cellWidth * c), (v = (_ = ((x = a).y - (w = o).y) / (x.x - w.x)) * y + w.y - _ * w.x);
                                                    break;
                                                }
                                        e[c].$startY = v;
                                    }
                                }
                            },
                        },
                        ra = {
                            $render_radar: function (t, e, i, n, s, r) {
                                this.vD(t, e, i, n, s, r);
                            },
                            vD: function (t, e, i, n, s, r) {
                                if (e.length) {
                                    for (var o = this.S$(i, n), a = this.P.radius ? this.P.radius : o.radius, l = this.P.x ? this.P.x : o.x, h = this.P.y ? this.P.y : o.y, c = [], d = 0; d < e.length; d++) c.push(1);
                                    var u = this.Xc(c, e.length);
                                    (this.K$ = i), s || this._D(u, l, h, a, e), this.pD(t, u, l, h, a, e, s, r);
                                }
                            },
                            pD: function (t, e, i, n, s, r, o, a) {
                                var l, h, c, d, u, p, f, m, g, v, b, y, w, x, _, k, P, S, C;
                                for (u = (c = this.P).yAxis.start, p = c.yAxis.end, S = (y = (C = this.H$(u, p))[0]) ? s / y : s / 2, P = C[1], l = h = w = -Math.PI / 2, g = [], d = m = 0; d < r.length; d++)
                                    (_ = k || ((x = c.value(r[d])), this.P$ && (x = this.j$(x)), (parseFloat(x || 0) - u) * P)),
                                        (v = Math.floor(S * _)),
                                        (x = c.value(d != r.length - 1 ? r[d + 1] : r[0])),
                                        this.P$ && (x = this.j$(x)),
                                        (k = (parseFloat(x || 0) - u) * P),
                                        (b = Math.floor(S * k)),
                                        (l = h),
                                        (h = d != r.length - 1 ? w + e[d] - 1e-4 : w),
                                        (f = m || this.T$(l, i, n, v)),
                                        (m = this.T$(h, i, n, b)),
                                        g.push(f);
                                c.fill && this.bD(t, g, r), !c.disableLines && 2 < r.length && this.mD(t, g, r), (!c.disableItems || r.length < 3) && this.gD(t, g, r, o, a), (g = null);
                            },
                            gD: function (t, e, i, n, s) {
                                for (var r = 0; r < e.length; r++) this.J$(t, e[r].x, e[r].y, i[r], this.P.label.call(this, i), n, s);
                            },
                            bD: function (t, e, i) {
                                var n, s;
                                (t.globalAlpha = this.P.alpha.call(this, {})), t.beginPath();
                                for (var r = 0; r < e.length; r++) (t.fillStyle = this.P.fill.call(this, i[r])), (n = e[r]), (s = e[r + 1] || e[0]), r || t.moveTo(n.x, n.y), t.lineTo(s.x, s.y);
                                t.fill(), (t.globalAlpha = 1);
                            },
                            mD: function (t, e, i) {
                                for (var n, s, r = 0; r < e.length; r++) (n = e[r]), (s = e[r + 1] || e[0]), this.y$(t, n.x, n.y, s.x, s.y, this.P.line.color.call(this, i[r]), this.P.line.width);
                            },
                            _D: function (t, e, i, n, s) {
                                var r = this.P.yAxis,
                                    o = this.P.xAxis,
                                    a = r.start,
                                    l = r.end,
                                    h = r.step,
                                    c = {},
                                    d = this.wD;
                                if (void 0 === d.step || void 0 === d.start || void 0 === d.end) {
                                    var u = this.z$();
                                    (a = (c = this.fD(u.min, u.max)).start), (l = c.end), (h = c.step), (r.end = l), (r.start = a);
                                }
                                var p,
                                    f,
                                    m,
                                    g,
                                    v,
                                    b = [],
                                    y = 0,
                                    w = (n * h) / (l - a);
                                h < 1 && ((g = Math.min(this.j$(h), a <= 0 ? 0 : this.j$(a))), (v = Math.pow(10, -g)));
                                var x = [];
                                this.canvases.scale || (this.canvases.scale = this.rD("radar_scale"));
                                var _ = this.canvases.scale.getCanvas();
                                for (p = l; a <= p; p -= h) {
                                    var k = this.P$ ? Math.pow(10, p) : p;
                                    c.fixNum && (k = parseFloat(p).toFixed(c.fixNum)), b.push(Math.floor(y * w) + 0.5), v && !this.P$ && (p = k = Math.round(k * v) / v);
                                    var P = i - n + b[b.length - 1];
                                    this.canvases.scale.renderTextAt("middle", "left", e, P, r.template(k.toString()), "webix_axis_item_y webix_radar");
                                    var S,
                                        C = -Math.PI / 2,
                                        I = C;
                                    for (f = 0; f < t.length; f++) y || x.push(I), (S = C + t[f] - 1e-4), this.xD(_, 2 < t.length ? d.lineShape || "line" : "arc", e, i, n - b[b.length - 1], I, S, p, f, s[p]), (I = S);
                                    y++;
                                }
                                for (p = 0; p < x.length; p++)
                                    (m = this.T$(x[p], e, i, n)), o && (o.lines.call(this, s[p], p) && this.y$(_, e, i, m.x, m.y, o.lineColor.call(this, s[p]), 1), this.yD(_, e, i, n, x[p], o.template.call(this, s[p])));
                            },
                            xD: function (t, e, i, n, s, r, o, a, l) {
                                var h, c;
                                if (s < 0) return !1;
                                (h = this.T$(r, i, n, s)), (c = this.T$(o, i, n, s));
                                var d = this.P.yAxis;
                                d.bg && (t.beginPath(), t.moveTo(i, n), "arc" == e ? t.arc(i, n, s, r, o, !1) : (t.lineTo(h.x, h.y), t.lineTo(c.x, c.y)), (t.fillStyle = d.bg(a, l)), t.moveTo(i, n), t.fill(), t.closePath()),
                                    d.lines.call(this, a) && ((t.lineWidth = 1), t.beginPath(), "arc" == e ? t.arc(i, n, s, r, o, !1) : (t.moveTo(h.x, h.y), t.lineTo(c.x, c.y)), (t.strokeStyle = d.lineColor.call(this, a)), t.stroke());
                            },
                            yD: function (t, e, i, n, s, r) {
                                if (!r) return !1;
                                var o = this.canvases.scale.renderText(0, 0, r, "webix_axis_radar_title", 1),
                                    a = o.scrollWidth,
                                    l = o.offsetHeight,
                                    h = this.T$(s, e, i, n + 5),
                                    c = 0,
                                    d = 0;
                                (s < 0 || s > Math.PI) && (d = -l),
                                    s > Math.PI / 2 && (c = -a),
                                    Math.abs(s + Math.PI / 2) < 0.001 || Math.abs(s - Math.PI / 2) < 0.001 ? (c = -a / 2) : (Math.abs(s) < 0.001 || Math.abs(s - Math.PI) < 0.001) && (d = -l / 2),
                                    (o.style.top = h.y + d + "px"),
                                    (o.style.left = h.x + c + "px"),
                                    (o.style.width = a + "px"),
                                    (o.style.whiteSpace = "nowrap");
                            },
                        },
                        oa = {
                            $render_scatter: function (t, e, i, n, s, r) {
                                if (this.P.xValue) {
                                    var o = this.P,
                                        a = !(o.disableLines || void 0 === o.disableLines),
                                        l = this.z$(),
                                        h = this.z$("h", "xValue");
                                    s ||
                                        (this.canvases.x || (this.canvases.x = this.rD("axis_x")),
                                        this.canvases.y || (this.canvases.y = this.rD("axis_y")),
                                        this.MD(this.canvases.y.getCanvas(), e, i, n, l.min, l.max),
                                        this.oD(this.canvases.x.getCanvas(), e, i, n, h.min, h.max)),
                                        (l = { min: o.yAxis.start, max: o.yAxis.end }),
                                        (h = { min: o.xAxis.start, max: o.xAxis.end });
                                    var c = this.SD(t, e, i, n, h, l);
                                    this.K$ = i;
                                    for (var d, u, p, f, m, g = [], v = 0; v < e.length; v++) {
                                        var b = this.kD(c, n, i, h, e[v], "X"),
                                            y = this.kD(c, i, n, l, e[v], "Y");
                                        isNaN(b) || isNaN(y) || g.push({ x: b, y, index: v });
                                    }
                                    for (var w = 0; w < g.length; w++) {
                                        if (((m = g[w].index), a)) {
                                            var x = o.line.color.call(this, e[m]);
                                            (d = g[w].x),
                                                (u = g[w].y),
                                                w == g.length - 1
                                                    ? o.shape && 2 < g.length && (this.y$(t, p, f, g[0].x, g[0].y, x, o.line.width), o.disableItems || this.CD(t, r, g[0], e[0], s), o.fill && this.$D(t, g, e))
                                                    : ((p = g[w + 1].x), (f = g[w + 1].y), this.y$(t, d, u, p, f, x, o.line.width));
                                        }
                                        !o.disableItems && g[w] && this.CD(t, r, g[w], e[m], s);
                                    }
                                }
                            },
                            $D: function (t, e, i) {
                                var n, s;
                                (t.globalAlpha = this.P.alpha.call(this, {})), t.beginPath();
                                for (var r = 0; r < e.length; r++) (t.fillStyle = this.P.fill.call(this, i[r])), (n = e[r]), (s = e[r + 1] || e[0]), r || t.moveTo(n.x, n.y), t.lineTo(s.x, s.y);
                                t.fill(), (t.globalAlpha = 1);
                            },
                            SD: function (t, e, i, n, s, r) {
                                var o = {};
                                return (o.totalHeight = n.y - i.y), (o.totalWidth = n.x - i.x), this.DD(o, s.min, s.max, o.totalWidth, "X"), this.DD(o, r.min, r.max, o.totalHeight, "Y"), o;
                            },
                            CD: function (t, e, i, n, s) {
                                this.J$(t, i.x, i.y, n, this.P.label.call(this, n), s, e);
                            },
                            kD: function (t, e, i, n, s, r) {
                                var o = this.P["X" == r ? "xValue" : "value"].call(this, s),
                                    a = t["valueFactor" + r],
                                    l = (parseFloat(o || 0) - n.min) * a,
                                    h = t["unit" + r],
                                    c = i[r.toLowerCase()] - ("X" == r ? -1 : 1) * Math.floor(h * l);
                                return l < 0 && (c = i[r.toLowerCase()]), o > n.max && (c = e[r.toLowerCase()]), o < n.min && (c = i[r.toLowerCase()]), c;
                            },
                            DD: function (t, e, i, n, s) {
                                var r = this.H$(e, i);
                                (t["relValue" + (s = s || "")] = r[0]), (t["valueFactor" + s] = r[1]), (t["unit" + s] = t["relValue" + s] ? n / t["relValue" + s] : 10);
                            },
                        },
                        aa = {
                            $render_splineArea: function (t, e, i, n, s, r) {
                                var o,
                                    a,
                                    l,
                                    h,
                                    c,
                                    d,
                                    u,
                                    p,
                                    f,
                                    m,
                                    g,
                                    v,
                                    b,
                                    y = this.P,
                                    w = [];
                                if (((d = this.q$(t, e, i, n, s)), (c = y.eventRadius || Math.floor(d.cellWidth / 2)), (l = []), e.length)) {
                                    for (f = i.x, a = 0; a < e.length; a++)
                                        ((v = this.G$(e[a], i, n, d)) || "0" == v) && ((p = a ? d.cellWidth * a - 0.5 + f : f), l.push({ x: p, y: v, index: a }), r.addRect(e[a].id, [p - c - i.x, v - c - i.y, p + c - i.x, v + c - i.y], s));
                                    for (u = this.ID(l), a = 0; a < l.length; a++)
                                        if (((m = l[a].x), a < l.length - 1)) {
                                            for (g = l[a + 1].x, b = l[a + 1].y, h = m; h < g; h++) {
                                                var x = this.AD(h, m, a, u.a, u.b, u.c, u.d);
                                                x < i.y && (x = i.y), x > n.y && (x = n.y);
                                                var _ = this.AD(h + 1, m, a, u.a, u.b, u.c, u.d);
                                                _ < i.y && (_ = i.y), _ > n.y && (_ = n.y), w.push([h, x]), w.push([h + 1, _]);
                                            }
                                            w.push([g, b]);
                                        }
                                    (o = this.P.color.call(this, e[0])),
                                        w.length && (w.push([g, n.y]), w.push([w[0][0], n.y])),
                                        (t.globalAlpha = this.P.alpha.call(this, e[0])),
                                        (t.fillStyle = o),
                                        t.beginPath(),
                                        this.Q$(t, w),
                                        t.fill(),
                                        (t.lineWidth = 1),
                                        (t.globalAlpha = 1),
                                        y.border && ((t.lineWidth = y.borderWidth || 1), y.borderColor ? (t.strokeStyle = y.borderColor.call(this, e[0])) : this.U$(t, o), t.beginPath(), w.splice(w.length - 3), this.Q$(t, w), t.stroke());
                                }
                            },
                        },
                        la = {
                            dynamic_setter: function (t) {
                                return (
                                    t &&
                                        (function (t) {
                                            if (!t.TD) {
                                                var e = t.P;
                                                e.cellWidth || (e.cellWidth = 30),
                                                    e.animateDuration || (e.animateDuration = 400),
                                                    (e.offset = !1),
                                                    (t.TD = t.attachEvent("onBeforeRender", function (i, n) {
                                                        var s = t.FD(t.me, t.we);
                                                        !(function (t) {
                                                            ca(t, function (e, i) {
                                                                i.Ee(t.me + 2 * t.P.cellWidth, t.we);
                                                            });
                                                        })(t),
                                                            (function (t, e, i, n) {
                                                                if (n && t.length) {
                                                                    var s = Math.ceil((i.x - e.x) / n);
                                                                    t.length > s + 1 && t.splice(0, t.length - s - 1);
                                                                }
                                                            })(i, s.start, s.end, e.cellWidth),
                                                            "add" == n &&
                                                                (function (t) {
                                                                    var e = t.P.cellWidth;
                                                                    t.VD != e && ((t.VD = e), t.render()),
                                                                        (t.VD = 0),
                                                                        (t.zD = null),
                                                                        window.requestAnimationFrame &&
                                                                            !document.hidden &&
                                                                            window.requestAnimationFrame(function (e) {
                                                                                !(function t(e, i) {
                                                                                    var n,
                                                                                        s = e.P.animateDuration,
                                                                                        r = e.P.cellWidth;
                                                                                    r &&
                                                                                        1 < e.count() &&
                                                                                        (e.zD || (e.zD = i),
                                                                                        (n = i - e.zD),
                                                                                        (e.VD = Math.min(Math.max((n / s) * r, 1), r)),
                                                                                        e.render(),
                                                                                        n < s &&
                                                                                            window.requestAnimationFrame(function (i) {
                                                                                                t(e, i);
                                                                                            }));
                                                                                })(t, e);
                                                                            }),
                                                                        t.BD ||
                                                                            (t.BD = t.attachEvent("onAfterRender", function (e) {
                                                                                !(function (t, e) {
                                                                                    var i = t.count(),
                                                                                        n = t.FD(t.me, t.we),
                                                                                        s = t.P.cellWidth,
                                                                                        r = t.VD || 0,
                                                                                        o = e.length < i || (e.length - 1) * s > n.end.x - n.start.x;
                                                                                    function a(t, n, o, a) {
                                                                                        var l = t.getCanvas(),
                                                                                            h = t.He,
                                                                                            c = t.Fe,
                                                                                            d = t.Ve;
                                                                                        if (
                                                                                            (r && (e.length < i || (e.length - 1) * s > o - n)
                                                                                                ? ((h.style.left = -r + "px"),
                                                                                                  1 < e.length &&
                                                                                                      ((function (t, e, i) {
                                                                                                          if (t.length) {
                                                                                                              pt(t[0]);
                                                                                                              for (var n = 1; n < t.length; n++) ha(i, t[n]) || (t[n].style.left = t[n].offsetLeft - e + "px");
                                                                                                          }
                                                                                                      })(c, r, d),
                                                                                                      l.clearRect(0, 0, n + r, h.offsetHeight),
                                                                                                      l.clearRect(o + r, 0, h.offsetWidth, h.offsetHeight)))
                                                                                                : ((h.style.left = "0px"), a || r == s || l.clearRect(n + (e.length - 1) * s - s + r, 0, h.offsetWidth, h.offsetHeight)),
                                                                                            1 < c.length && r && r != s)
                                                                                        ) {
                                                                                            var u = c.length - 1;
                                                                                            ha(d, c[u]) && (u -= 1), (c[u].style.display = "none");
                                                                                        }
                                                                                    }
                                                                                    ca(t, function (t, e) {
                                                                                        a(e, n.start.x, n.end.x, "x" == t);
                                                                                    }),
                                                                                        (function (t, e, i) {
                                                                                            (t.Wi.Ni.style.left = e.start.x - i + "px"), (t.Wi.Ni.style.width = e.end.x - e.start.x + i + "px");
                                                                                        })(t, n, o ? r : 0);
                                                                                })(t, e);
                                                                            }));
                                                                })(t);
                                                    })),
                                                    (t.HD = t.attachEvent("onBeforeXAxis", function (e, i, n, s, r, o) {
                                                        return (
                                                            (function (t, e, i, n, s, r, o) {
                                                                var a,
                                                                    l,
                                                                    h,
                                                                    c,
                                                                    d = t.P,
                                                                    u = n.x - 0.5,
                                                                    p = parseInt(o || s.y, 10) + 0.5,
                                                                    f = s.x;
                                                                if (!d.dynamic) return !1;
                                                                for (h = (i.length - 1) * r > f - u || i.length < t.count(), l = 0; l < i.length; l++)
                                                                    (c = u + l * r), (a = h ? 1 < l : !!l), (c = Math.ceil(c) - 0.5), t.RD(c, p, i[l], a), l && d.xAxis.lines.call(t, i[l]) && t.ED(e, c, s.y, n.y, i[l]);
                                                                t.canvases.x.renderTextAt(!0, !1, u, s.y + d.padding.bottom - 3, d.xAxis.title, "webix_axis_title_x", s.x - n.x), t.y$(e, u, p, f + (h ? t.VD : 0), p, d.xAxis.color, 1);
                                                            })(t, e, i, n, s, r, o),
                                                            !1
                                                        );
                                                    }));
                                            }
                                        })(this),
                                    t
                                );
                            },
                        };
                    function ha(t, e) {
                        return "axis_x" === t && -1 !== e.className.indexOf("webix_axis_title_x");
                    }
                    function ca(t, e) {
                        if (t.canvases) {
                            for (var i = 0; i < t.E$.length; i++) t.canvases[i] && e(i, t.canvases[i]);
                            t.canvases.x && e("x", t.canvases.x);
                        }
                    }
                    var da = {
                            name: "chart",
                            $init: function (t) {
                                if (((this.E$ = [this.P]), (this.PD = []), (this.Wi.className += " webix_chart"), this.$ready.push(this.rr), t.preset && this.jD(t), t.series)) {
                                    var e = t.series;
                                    delete t.series, (t.series = e);
                                }
                                this.data.provideApi(this, !0);
                            },
                            rr: function () {
                                this.data.attachEvent(
                                    "onStoreUpdated",
                                    m(function () {
                                        this.render.apply(this, arguments);
                                    }, this)
                                );
                            },
                            defaults: {
                                ariaLabel: "chart",
                                color: "default",
                                alpha: "1",
                                radius: 0,
                                label: !1,
                                value: "{obj.value}",
                                padding: {},
                                type: "pie",
                                lineColor: "#ffffff",
                                cant: 0.5,
                                barWidth: 30,
                                line: { width: 2, color: "linear-gradient(to right,#00b0ed 0,#53aa34 100%)" },
                                item: { radius: 3, borderColor: "linear-gradient(to right,#00b0ed 0,#53aa34 100%)", borderWidth: 2, color: "#ffffff", alpha: 1, type: "r", shadow: !1 },
                                shadow: !1,
                                gradient: !1,
                                border: !1,
                                labelOffset: 20,
                                origin: "auto",
                                scale: "linear",
                            },
                            Qo: "webix_area_id",
                            on_click: {
                                webix_chart_legend_item: function (t, e, i) {
                                    var n = i.getAttribute("series_id");
                                    if (this.callEvent("onLegendClick", [t, n, i]) && void 0 !== n && 1 < this.E$.length) {
                                        var s = this.P,
                                            r = s.legend.values;
                                        ((r && r[n].toggle) || s.legend.toggle) && (-1 != i.className.indexOf("hidden") ? this.showSeries(n) : this.hideSeries(n));
                                    }
                                },
                            },
                            on_dblclick: {},
                            on_mouse_move: {},
                            locate: function (t) {
                                return mt(t, this.Qo);
                            },
                            $setSize: function (t, e) {
                                var i = Re.api.$setSize.call(this, t, e);
                                if (i) {
                                    for (var n in this.canvases) this.canvases[n].Ee(this.me, this.we);
                                    this.render();
                                }
                                return i;
                            },
                            type_setter: function (t) {
                                return (
                                    this["$render_" + t],
                                    void 0 === this.P.offset && (this.P.offset = !(-1 != t.toLowerCase().indexOf("area"))),
                                    "radar" != t || this.P.yAxis || this.define("yAxis", {}),
                                    "scatter" == t && (this.P.yAxis || this.define("yAxis", {}), this.P.xAxis || this.define("xAxis", {})),
                                    t
                                );
                            },
                            destructor: function () {
                                this.removeAllSeries(), Se.destructor.apply(this, arguments);
                            },
                            removeAllSeries: function () {
                                this.clearCanvas(), this.ND && ((this.ND.innerHTML = ""), this.ND.parentNode.removeChild(this.ND), (this.ND = null)), this.canvases && (this.canvases = {}), (this.Wi.innerHTML = ""), (this.E$ = []);
                            },
                            clearCanvas: function () {
                                if (this.canvases && "object" == e(this.canvases)) for (var t in this.canvases) this.canvases[t].clearCanvas();
                            },
                            render: function (t, i, n) {
                                var s, r, o, a;
                                if (this.isVisible(this.P.id) && ((r = this.LD()), this.callEvent("onBeforeRender", [r, n]))) {
                                    if (this.canvases && "object" == e(this.canvases)) for (var l in this.canvases) this.canvases[l].clearCanvas();
                                    else this.canvases = {};
                                    if (
                                        (this.P.legend && (this.canvases.legend || (this.canvases.legend = this.rD("legend")), this.OD(this.data.getRange(), this.me, this.we)),
                                        (this.du = o = new Ei(this.Qo)),
                                        (a = this.P),
                                        (s = this.FD(this.me, this.we)),
                                        this.E$)
                                    )
                                        for (var h = 0; h < this.E$.length; h++)
                                            (this.P = this.E$[h]),
                                                this.canvases[h] || (this.canvases[h] = this.rD(this.name + " " + h, "z-index:" + (2 + h), null, h, this.P.ariaLabel)),
                                                this["$render_" + this.P.type](this.canvases[h].getCanvas(), r, s.start, s.end, h, o);
                                    if ((o.render(this.Wi), (this.Wi.lastChild.style.zIndex = 80), this.WD(this.Wi.lastChild, s), this.callEvent("onAfterRender", [r]), (this.P = a), this.P.legend && this.P.legend.values))
                                        for (var c = this.P.legend.values, d = 0; d < c.length; d++) c[d].$hidden && this.hideSeries(d);
                                }
                            },
                            WD: function (t, e) {
                                var i = {};
                                for (var n in ((i.left = e.start.x), (i.top = e.start.y), (i.width = e.end.x - e.start.x), (i.height = e.end.y - e.start.y), i)) t.style[n] = i[n] + "px";
                            },
                            LD: function () {
                                var t, i, n, s, r, o, a, l, h, c;
                                if (((s = this.data.getRange()), (t = -1 != this.P.type.toLowerCase().indexOf("barh") ? "yAxis" : "xAxis"), (i = this.P[t]) && i.units && "object" == e(i.units))) {
                                    if (((l = []), void 0 !== (n = i.units).start && void 0 !== n.end && void 0 !== n.next)) for (a = n.start; a <= n.end; ) l.push(a), (a = n.next.call(this, a));
                                    else "[object Array]" === Object.prototype.toString.call(n) && (l = n);
                                    if (((o = []), l.length)) {
                                        for (h = i.value, c = {}, r = 0; r < s.length; r++) c[h(s[r])] = r;
                                        for (r = 0; r < l.length; r++) void 0 !== c[l[r]] ? ((s[c[l[r]]].$unit = l[r]), o.push(s[c[l[r]]])) : o.push({ $unit: l[r] });
                                    }
                                    return o;
                                }
                                return s;
                            },
                            series_setter: function (t) {
                                if (t && "object" == e(t)) {
                                    this.Rt(t.length ? t[0] : t), (this.E$ = [this.P]);
                                    for (var i = 1; i < t.length; i++) this.addSeries(t[i]);
                                }
                                return t;
                            },
                            value_setter: Ut,
                            xValue_setter: Ut,
                            yValue_setter: function (t) {
                                this.define("value", t);
                            },
                            alpha_setter: Ut,
                            label_setter: Ut,
                            lineColor_setter: Ut,
                            borderColor_setter: Ut,
                            pieInnerText_setter: Ut,
                            gradient_setter: function (t) {
                                return "function" != typeof t && t && !0 === t && (t = "light"), t;
                            },
                            colormap: {
                                RAINBOW: function (t) {
                                    var e = Math.floor((this.getIndexById(t.id) / this.count()) * 1536);
                                    return 1536 == e && (e -= 1), this.UD[Math.floor(e / 256)](e % 256);
                                },
                                default: function (t) {
                                    var e = this.count(),
                                        i = this.Yc.length,
                                        n = this.getIndexById(t.id);
                                    return e < i ? (n && (n = n < i - e ? this.Uc + 2 : this.Uc + 1), (this.Uc = n)) : (n %= i), this.Yc[n];
                                },
                            },
                            color_setter: function (t) {
                                return this.colormap[t] || Ut(t);
                            },
                            fill_setter: function (t) {
                                return !(!t || "0" == t) && Ut(t);
                            },
                            jD: function (t) {
                                this.define("preset", t.preset), delete t.preset;
                            },
                            preset_setter: function (i) {
                                var n, s, r;
                                if (((this.defaults = t.extend({}, this.defaults)), "object" != e((r = this.presets[i])))) return !1;
                                for (n in r)
                                    if ("object" == e(r[n]))
                                        if (this.defaults[n] && "object" == e(this.defaults[n])) for (s in ((this.defaults[n] = t.extend({}, this.defaults[n])), r[n])) this.defaults[n][s] = r[n][s];
                                        else this.defaults[n] = t.extend({}, r[n]);
                                    else this.defaults[n] = r[n];
                                return i;
                            },
                            legend_setter: function (t) {
                                return t
                                    ? ("object" != e(t) && (t = { template: t }),
                                      this.Ei(t, {
                                          width: 150,
                                          height: 18,
                                          layout: "y",
                                          align: "left",
                                          valign: "bottom",
                                          template: "",
                                          toggle: -1 != this.P.type.toLowerCase().indexOf("stacked") ? "" : "hide",
                                          marker: { type: "square", width: 15, height: 15, radius: 3 },
                                          margin: 4,
                                          padding: 3,
                                      }),
                                      (t.template = Ut(t.template)),
                                      t)
                                    : (this.ND && ((this.ND.innerHTML = ""), (this.ND = null)), !1);
                            },
                            item_setter: function (i) {
                                return "object" != e(i) && (i = { color: i, borderColor: i }), this.Ei(i, t.extend({}, this.defaults.item)), this.YD(["alpha", "borderColor", "color", "radius", "type"], i), i;
                            },
                            line_setter: function (i) {
                                return "object" != e(i) && (i = { color: i }), ((i = t.extend(i, this.defaults.line)).color = Ut(i.color)), i;
                            },
                            padding_setter: function (t) {
                                return "object" != e(t) && (t = { left: t, right: t, top: t, bottom: t }), this.Ei(t, { left: 50, right: 20, top: 35, bottom: 40 }), t;
                            },
                            xAxis_setter: function (i) {
                                return (
                                    !!i &&
                                    ("object" != e(i) && (i = { template: i }),
                                    this.Ei(i, { title: "", color: "#edeff0", lineColor: "#edeff0", template: "{obj}", lines: !0 }),
                                    this.YD(["lineColor", "template", "lines"], i),
                                    (this.cD = t.extend({}, i)),
                                    i)
                                );
                            },
                            yAxis_setter: function (e) {
                                return this.Ei(e, { title: "", color: "#edeff0", lineColor: "#edeff0", template: "{obj}", lines: !0, bg: Ve.backColor }), this.YD(["lineColor", "template", "lines", "bg"], e), (this.wD = t.extend({}, e)), e;
                            },
                            YD: function (t, e) {
                                for (var i = 0; i < t.length; i++) e[t[i]] = Ut(e[t[i]]);
                            },
                            rD: function (t, e, i, n, s) {
                                var r = { container: i || this.Wi, name: t, title: v(s) ? t : s || "", series: n, style: e || "", width: this.me, height: this.we };
                                return new He(r);
                            },
                            B$: function (t, e, i, n, s, r) {
                                var o,
                                    a = 0;
                                return (
                                    this.P.yAxis && (this.canvases.y || (this.canvases.y = this.rD("axis_y")), (a = this.MD(this.canvases.y.getCanvas(), t, e, i, n, s))),
                                    this.P.xAxis && (this.canvases.x || (this.canvases.x = this.rD("axis_x")), (o = this.canvases.x.getCanvas()), this.callEvent("onBeforeXAxis", [o, t, e, i, r, a]) && this.R$(o, t, e, i, r, a)),
                                    a
                                );
                            },
                            R$: function (t, e, i, n, s, r) {
                                var o,
                                    a,
                                    l = this.P,
                                    h = i.x - 0.5,
                                    c = parseInt(r || n.y, 10) + 0.5,
                                    d = n.x,
                                    u = !0,
                                    p = "stackedBar" == l.type ? n.y + 0.5 : c;
                                for (o = 0; o < e.length; o++) {
                                    !0 === l.offset ? (a = h + s / 2 + o * s) : ((a = o != e.length - 1 || l.cellWidth ? h + o * s : n.x), (u = !!o)), (a = Math.ceil(a) - 0.5);
                                    var f = "auto" != l.origin && "bar" == l.type && parseFloat(l.value(e[o])) < l.origin;
                                    this.RD(a, p, e[o], u, f), (l.offset || o || l.cellWidth) && l.xAxis.lines.call(this, e[o]) && this.ED(t, a, n.y, i.y, e[o]);
                                }
                                this.canvases.x.renderTextAt(!0, !1, h, n.y + l.padding.bottom - 3, l.xAxis.title, "webix_axis_title_x", n.x - i.x),
                                    this.y$(t, h, c, d, c, l.xAxis.color, 1),
                                    l.xAxis.lines.call(this, {}) && l.offset && this.y$(t, d + 0.5, n.y, d + 0.5, i.y + 0.5, l.xAxis.lineColor.call(this, {}), 1);
                            },
                            MD: function (t, e, i, n, s, r) {
                                var o,
                                    a = {};
                                if (this.P.yAxis) {
                                    var l = i.x - 0.5,
                                        h = n.y,
                                        c = i.y,
                                        d = n.y + 0.5;
                                    if (
                                        (this.P.yAxis.step && (o = parseFloat(this.P.yAxis.step)),
                                        void 0 === this.wD.step || void 0 === this.wD.start || void 0 === this.wD.end
                                            ? ((s = (a = this.fD(s, r)).start), (r = a.end), (o = a.step), (this.P.yAxis.end = r), (this.P.yAxis.start = s))
                                            : "logarithmic" == this.config.scale && (this.P$ = !0),
                                        this.uD(i, n),
                                        0 !== o)
                                    ) {
                                        if (r == s) return h;
                                        for (var u = ((h - c) * o) / (r - s), p = 0, f = s; f <= r; f += o) {
                                            var m = this.P$ ? Math.pow(10, f) : f;
                                            a.fixNum && (m = parseFloat(m).toFixed(a.fixNum));
                                            var g = Math.floor(h - p * u) + 0.5;
                                            if (
                                                ((f == s && "auto" == this.P.origin) || !this.P.yAxis.lines.call(this, f) || this.y$(t, l, g, n.x, g, this.P.yAxis.lineColor.call(this, f), 1),
                                                f == this.P.origin && (d = g),
                                                o < 1 && !this.P$)
                                            ) {
                                                var v = Math.min(Math.floor(this.j$(o)), s <= 0 ? 0 : Math.floor(this.j$(s))),
                                                    b = Math.pow(10, -v);
                                                f = m = Math.round(m * b) / b;
                                            }
                                            this.canvases.y.renderText(0, g - 5, this.P.yAxis.template(m.toString()), "webix_axis_item_y", i.x - 5), p++;
                                        }
                                        return this.y$(t, l, h + 1, l, c, this.P.yAxis.color, 1), d;
                                    }
                                }
                            },
                            uD: function (t, e) {
                                var i = this.canvases.y.renderTextAt("middle", !1, 0, parseInt((e.y - t.y) / 2 + t.y, 10), this.P.yAxis.title, "webix_axis_title_y");
                                i && (i.style.left = (G.transform ? (i.offsetHeight - i.offsetWidth) / 2 : 0) + "px");
                            },
                            qD: function (t, e) {
                                return { start: Math.floor(this.j$(t)), step: 1, end: Math.ceil(this.j$(e)) };
                            },
                            GD: function (t) {
                                var e = Math.floor(this.j$(t)),
                                    i = Math.pow(10, e),
                                    n = t / i;
                                return (n = 5 < n ? 10 : 5), parseInt(n, 10) * i;
                            },
                            fD: function (t, e) {
                                if (((this.P$ = !1), "logarithmic" == this.P.scale)) {
                                    var i = Math.floor(this.j$(t)),
                                        n = Math.ceil(this.j$(e));
                                    if (0 < t && 0 < e && 1 < n - i) return (this.P$ = !0), this.qD(t, e);
                                }
                                var s, r;
                                "auto" != this.P.origin && this.P.origin < t && (t = this.P.origin);
                                var o = this.GD((e - t) / 8 || 1),
                                    a = Math.floor(this.j$(o));
                                if (o > Math.abs(t)) s = t < 0 ? -o : 0;
                                else {
                                    var l = Math.abs(t),
                                        h = Math.floor(this.j$(l)),
                                        c = l / Math.pow(10, h);
                                    for (s = 0 != h || 0.1 <= o ? (Math.ceil(10 * c) / 10) * Math.pow(10, h) - o : l, 1 < l && 0.1 < o && (s = Math.ceil(s)); t < 0 ? s <= t : t <= s; ) s -= o;
                                    t < 0 && (s = -s - 2 * o), (s -= s % o), (s = parseFloat((1 * s).toFixed(Math.abs(a))));
                                }
                                for (10 < e - s && (o = this.GD((e - s) / 8 || 1)), r = s, 0 == e && e == t && (e = o); r < e; ) (r += o), (r = parseFloat((1 * r).toFixed(Math.abs(a))));
                                return { start: s, end: r, step: o, fixNum: a < 0 ? Math.abs(a) : 0 };
                            },
                            z$: function (t, e) {
                                var i,
                                    n,
                                    s = this.data.no(),
                                    r = arguments.length && "h" == t ? this.cD : this.wD;
                                if (((e = e || "value"), r && void 0 !== r.end && void 0 !== r.start && r.step)) (i = parseFloat(r.end)), (n = parseFloat(r.start));
                                else if (((i = Ci.max(this.E$[0][e], s)), (n = r && void 0 !== r.start ? parseFloat(r.start) : Ci.min(this.E$[0][e], s)), 1 < this.E$.length))
                                    for (var o = 1; o < this.E$.length; o++) {
                                        var a = Ci.max(this.E$[o][e], s),
                                            l = Ci.min(this.E$[o][e], s);
                                        i < a && (i = a), l < n && (n = l);
                                    }
                                return { max: i, min: n };
                            },
                            j$: function (t) {
                                return Math.log(t) / Math.LN10;
                            },
                            RD: function (t, e, i, n, s) {
                                if (this.P.xAxis) {
                                    var r = this.canvases.x.renderTextAt(s, n, t, e - (s ? 2 : 0), this.P.xAxis.template(i));
                                    r && (r.className += " webix_axis_item_x");
                                }
                            },
                            ED: function (t, e, i, n, s) {
                                this.P.xAxis && this.P.xAxis.lines && this.y$(t, e, i, e, n, this.P.xAxis.lineColor.call(this, s), 1);
                            },
                            y$: function (t, e, i, n, s, r, o) {
                                (t.strokeStyle = r), (t.lineWidth = o), t.beginPath(), t.moveTo(e, i), t.lineTo(n, s), t.stroke(), (t.lineWidth = 1);
                            },
                            H$: function (t, e) {
                                return [e != t ? e - t : t, 1];
                            },
                            UD: [
                                function (t) {
                                    return "#FF" + Hi.toHex(t / 2, 2) + "00";
                                },
                                function (t) {
                                    return "#FF" + Hi.toHex(t / 2 + 128, 2) + "00";
                                },
                                function (t) {
                                    return "#" + Hi.toHex(255 - t, 2) + "FF00";
                                },
                                function (t) {
                                    return "#00FF" + Hi.toHex(t, 2);
                                },
                                function (t) {
                                    return "#00" + Hi.toHex(255 - t, 2) + "FF";
                                },
                                function (t) {
                                    return "#" + Hi.toHex(t, 2) + "00FF";
                                },
                            ],
                            Yc: ["#f55b50", "#ff6d3f", "#ffa521", "#ffc927", "#ffee54", "#d3e153", "#9acb61", "#63b967", "#21a497", "#21c5da", "#3ea4f5", "#5868bf", "#7b53c0", "#a943ba", "#ec3b77", "#9eb0b8"],
                            Uc: 0,
                            addSeries: function (e) {
                                var i = this.P;
                                (this.P = t.extend({}, i)), this.Rt(e), this.E$.push(this.P), (this.P = i);
                            },
                            $tooltipIn: function (t) {
                                return t;
                            },
                            Te: function (e, i) {
                                var n = this.locate(i);
                                if (!n) return null;
                                var s = this.XD(i),
                                    r = t.extend({ dx: 20, dy: 0, template: "{obj.value}", css: "" }, this.E$[s].tooltip || { template: "" }, !0);
                                return le.Nt.define(r), this.getItem(n);
                            },
                            XD: function (t) {
                                var e, i, n, s, r, o, a, l;
                                for (i = this.du.vu, s = gt(this.Wi.Ni), a = (r = bt(t)).x - s.x, l = r.y - s.y, n = 0; n < i.length; n++)
                                    a <= (e = i[n].points)[2] && a >= e[0] && l <= e[3] && l >= e[1] && (o ? i[n].index > o.index && (o = i[n]) : (o = i[n]));
                                return o ? o.index : 0;
                            },
                            hideSeries: function (t) {
                                this.canvases[t].hideCanvas();
                                var e = this.P.legend;
                                e && e.values && e.values[t] && ((e.values[t].$hidden = !0), this.OD()), this.du.hide(this.Wi, t, !0);
                            },
                            showSeries: function (t) {
                                this.canvases[t].showCanvas();
                                var e = this.P.legend;
                                e && e.values && e.values[t] && (delete e.values[t].$hidden, this.OD()), this.du.hide(this.Wi, t, !1);
                            },
                            OD: function (t, i) {
                                var n,
                                    s,
                                    r,
                                    o,
                                    a,
                                    l,
                                    h,
                                    c,
                                    d,
                                    u,
                                    p,
                                    f = 0,
                                    m = 0;
                                if (
                                    ((t = t || []),
                                    (i = i || this.me),
                                    (c = this.canvases.legend.getCanvas()),
                                    (s = this.P.legend),
                                    (h = "x" != this.P.legend.layout ? "width:" + s.width + "px" : ""),
                                    this.ND && ((this.ND.innerHTML = ""), this.ND.parentNode.removeChild(this.ND)),
                                    this.canvases.legend.clearCanvas(!0),
                                    (r = dt("DIV", { class: "webix_chart_legend", style: "left:" + f + "px; top:" + m + "px;" + h }, "")),
                                    s.padding && (r.style.padding = s.padding + "px"),
                                    (this.ND = r),
                                    this.Wi.appendChild(r),
                                    (a = []),
                                    s.values)
                                )
                                    for (n = 0; n < s.values.length; n++) a.push(this.KD(r, s.values[n].text, void 0 !== s.values[n].id ? e(s.values[n].id) : n, s.values[n].$hidden));
                                else for (n = 0; n < t.length; n++) a.push(this.KD(r, s.template(t[n]), t[n].id));
                                for (
                                    0 === r.offsetWidth && (r.style.width = "auto"),
                                        l = r.offsetWidth,
                                        o = r.offsetHeight,
                                        l < i && ("x" == s.layout && "center" == s.align && (f = (i - l) / 2), "right" == s.align && (f = i - l), s.margin && "center" != s.align && (f += ("left" == s.align ? 1 : -1) * s.margin)),
                                        o < this.we &&
                                            ("middle" == s.valign && "center" != s.align && "x" != s.layout ? (m = (this.we - o) / 2) : "bottom" == s.valign && (m = this.we - o),
                                            s.margin && "middle" != s.valign && (m += ("top" == s.valign ? 1 : -1) * s.margin)),
                                        r.style.left = f + "px",
                                        r.style.top = m + "px",
                                        c.save(),
                                        n = 0;
                                    n < a.length;
                                    n++
                                )
                                    (p = a[n]),
                                        (d = s.values && s.values[n].$hidden ? ((u = !0), s.values[n].disableColor ? s.values[n].disableColor : "#edeff0") : ((u = !1), s.values ? s.values[n].color : this.P.color.call(this, t[n]))),
                                        this.JD(c, p.offsetLeft + f, p.offsetTop + m, d, p.offsetHeight, u, n);
                                c.restore(), (a = null);
                            },
                            KD: function (t, e, i, n) {
                                var s = "";
                                "x" == this.P.legend.layout && (s = "float:left;");
                                var r = dt(
                                    "DIV",
                                    {
                                        style: s + "padding-left:" + (10 + this.P.legend.marker.width) + "px",
                                        class: "webix_chart_legend_item" + (n ? " hidden" : ""),
                                        role: "button",
                                        tabindex: "0",
                                        "aria-label": T.aria[(n ? "show" : "hide") + "Chart"] + " " + e,
                                    },
                                    e
                                );
                                return 2 < arguments.length && r.setAttribute("series_id", i), t.appendChild(r), r;
                            },
                            JD: function (t, e, i, n, s, r, o) {
                                var a = [],
                                    l = this.P.legend.marker,
                                    h = this.P.legend.values,
                                    c = h && h[o].markerType ? h[o].markerType : l.type;
                                if ((n && (t.strokeStyle = t.fillStyle = n), "round" != c && l.radius))
                                    if ("item" == c) {
                                        if (this.P.line && "scatter" != this.P.type && !this.P.disableLines) {
                                            t.beginPath(), (t.lineWidth = this.E$[o].line.width), (t.strokeStyle = r ? n : this.E$[o].line.color.call(this, {}));
                                            var d = e + 5,
                                                u = i + s / 2;
                                            t.moveTo(d, u);
                                            var p = d + l.width;
                                            t.lineTo(p, u), t.stroke();
                                        }
                                        var f = this.E$[o].item,
                                            m = parseInt(f.radius.call(this, {}), 10) || 0,
                                            g = f.type.call(this, {});
                                        m &&
                                            (t.beginPath(),
                                            r
                                                ? ((t.lineWidth = f.borderWidth), (t.strokeStyle = n), (t.fillStyle = n))
                                                : ((t.lineWidth = f.borderWidth), (t.fillStyle = f.color.call(this, {})), (t.strokeStyle = f.borderColor.call(this, {})), (t.globalAlpha = f.alpha.call(this, {}))),
                                            t.beginPath(),
                                            (e += l.width / 2 + 5),
                                            (i += s / 2),
                                            this.Z$(t, e, i, m + 1, g),
                                            t.fill(),
                                            t.stroke()),
                                            (t.globalAlpha = 1);
                                    } else
                                        t.beginPath(),
                                            (t.lineWidth = 1),
                                            (e += 5),
                                            (i += s / 2 - l.height / 2),
                                            (a = [
                                                [e + l.radius, i + l.radius, l.radius, Math.PI, (3 * Math.PI) / 2, !1],
                                                [e + l.width - l.radius, i],
                                                [e + l.width - l.radius, i + l.radius, l.radius, -Math.PI / 2, 0, !1],
                                                [e + l.width, i + l.height - l.radius],
                                                [e + l.width - l.radius, i + l.height - l.radius, l.radius, 0, Math.PI / 2, !1],
                                                [e + l.radius, i + l.height],
                                                [e + l.radius, i + l.height - l.radius, l.radius, Math.PI / 2, Math.PI, !1],
                                                [e, i + l.radius],
                                            ]),
                                            this.Q$(t, a),
                                            t.stroke(),
                                            t.fill();
                                else {
                                    t.beginPath(), (t.lineWidth = l.height), (t.lineCap = l.type), (e += t.lineWidth / 2 + 5), (i += s / 2), t.moveTo(e, i);
                                    var v = e + l.width - l.height + 1;
                                    t.lineTo(v, i), t.stroke(), t.fill();
                                }
                            },
                            FD: function (t, e) {
                                var i, n, s, r;
                                if (((i = this.P.padding.left), (n = this.P.padding.top), (s = t - this.P.padding.right), (r = e - this.P.padding.bottom), this.P.legend)) {
                                    var o = this.P.legend,
                                        a = this.P.legend.width,
                                        l = this.P.legend.height;
                                    "x" == o.layout
                                        ? "center" == o.valign
                                            ? "right" == o.align
                                                ? (s -= a)
                                                : "left" == o.align && (i += a)
                                            : "bottom" == o.valign
                                            ? (r -= l)
                                            : (n += l)
                                        : "right" == o.align
                                        ? (s -= a)
                                        : "left" == o.align && (i += a);
                                }
                                return { start: { x: i, y: n }, end: { x: s, y: r } };
                            },
                            tD: function (t) {
                                var e, i, n, s, r;
                                if (this.P.yAxis && void 0 !== this.P.yAxis.end && void 0 !== this.P.yAxis.start && this.P.yAxis.step) (n = parseFloat(this.P.yAxis.end)), (s = parseFloat(this.P.yAxis.start));
                                else {
                                    for (e = 0; e < t.length; e++)
                                        for (t[e].$sum = 0, t[e].$min = 1 / 0, i = 0; i < this.E$.length; i++)
                                            (r = Math.abs(parseFloat(this.E$[i].value(t[e]) || 0))), isNaN(r) || (-1 != this.E$[i].type.toLowerCase().indexOf("stacked") && (t[e].$sum += r), r < t[e].$min && (t[e].$min = r));
                                    for (n = -1 / 0, s = 1 / 0, e = 0; e < t.length; e++) t[e].$sum > n && (n = t[e].$sum), t[e].$min < s && (s = t[e].$min);
                                    0 < s && (s = 0);
                                }
                                return { max: n, min: s };
                            },
                            Y$: function (t, e, i, n, s, r, o, a) {
                                var l, h, c, d, u, p;
                                return (
                                    "light" == r
                                        ? ((l = "x" == a ? t.createLinearGradient(e, i, n, i) : t.createLinearGradient(e, i, e, s)),
                                          (p = [
                                              [0, "#FFFFFF"],
                                              [0.9, o],
                                              [1, o],
                                          ]),
                                          (h = 2))
                                        : "falling" == r || "rising" == r
                                        ? ((l = "x" == a ? t.createLinearGradient(e, i, n, i) : t.createLinearGradient(e, i, e, s)),
                                          (c = Hi.toRgb(o)),
                                          ((d = Hi.rgbToHsv(c[0], c[1], c[2]))[1] *= 0.5),
                                          (u = "rgb(" + Hi.hsvToRgb(d[0], d[1], d[2]) + ")"),
                                          "falling" == r
                                              ? (p = [
                                                    [0, u],
                                                    [0.7, o],
                                                    [1, o],
                                                ])
                                              : "rising" == r &&
                                                (p = [
                                                    [0, o],
                                                    [0.3, o],
                                                    [1, u],
                                                ]),
                                          (h = 0))
                                        : ((t.globalAlpha = 0.37),
                                          (h = 0),
                                          (l = "x" == a ? t.createLinearGradient(e, s, e, i) : t.createLinearGradient(e, i, n, i)),
                                          (p = [
                                              [0, "#9d9d9d"],
                                              [0.3, "#e8e8e8"],
                                              [0.45, "#ffffff"],
                                              [0.55, "#ffffff"],
                                              [0.7, "#e8e8e8"],
                                              [1, "#9d9d9d"],
                                          ])),
                                    this.ZD(l, p),
                                    { gradient: l, offset: h }
                                );
                            },
                            T$: function (t, e, i, n) {
                                return (t *= -1), { x: (e += Math.cos(t) * n), y: (i -= Math.sin(t) * n) };
                            },
                            ZD: function (t, e) {
                                for (var i = 0; i < e.length; i++) t.addColorStop(e[i][0], e[i][1]);
                            },
                            Q$: function (t, e) {
                                var i, n;
                                for (i = 0; i < e.length; i++) (n = i ? "lineTo" : "moveTo"), 2 < e[i].length && (n = "arc"), t[n].apply(t, e[i]);
                            },
                            QD: function (t, e, i, n, s) {
                                t.addRect(e, [i[0].x - n.x, i[0].y - n.y, i[1].x - n.x, i[1].y - n.y], s);
                            },
                        },
                        ua = {
                            api: da,
                            view: t.protoUI(
                                da,
                                Jo,
                                Qo,
                                ta,
                                ea,
                                ia,
                                na,
                                {
                                    $render_spline: function (t, e, i, n, s, r) {
                                        var o, a, l, h, c, d, u, p, f, m, g, v, b;
                                        if (((c = this.q$(t, e, i, n, s)), (o = this.P), (this.K$ = i), (l = []), e.length)) {
                                            for (p = o.offset ? i.x + 0.5 * c.cellWidth : i.x, a = 0; a < e.length; a++)
                                                ((g = this.G$(e[a], i, n, c)) || "0" == g) && ((u = a ? c.cellWidth * a - 0.5 + p : p), l.push({ x: u, y: g, v: this.P.value(e[a]), index: a }));
                                            for (d = this.ID(l), a = 0; a < l.length; a++) {
                                                if (((f = l[a].x), (v = l[a].y), a < l.length - 1)) {
                                                    for (m = l[a + 1].x, b = l[a + 1].y, h = f; h < m; h++) {
                                                        var y = this.AD(h, f, a, d.a, d.b, d.c, d.d);
                                                        y < i.y && (y = i.y), y > n.y && (y = n.y);
                                                        var w = this.AD(h + 1, f, a, d.a, d.b, d.c, d.d);
                                                        w < i.y && (w = i.y), w > n.y && (w = n.y), this.y$(t, h, y, h + 1, w, o.line.color(e[a]), o.line.width);
                                                    }
                                                    this.y$(t, m - 1, this.AD(h, f, a, d.a, d.b, d.c, d.d), m, b, o.line.color(e[a]), o.line.width);
                                                }
                                                this.J$(t, f, v, e[l[a].index], o.label(e[l[a].index]), s, r);
                                            }
                                        }
                                    },
                                    ID: function (t) {
                                        var e,
                                            i,
                                            n,
                                            s,
                                            r,
                                            o,
                                            a,
                                            l,
                                            h = [],
                                            c = [],
                                            d = t.length;
                                        for (r = 0; r < d - 1; r++) (h[r] = t[r + 1].x - t[r].x), (c[r] = (t[r + 1].y - t[r].y) / h[r]);
                                        for (l = [], (a = [])[0] = 0, a[1] = 2 * (h[0] + h[1]), l[0] = 0, l[1] = 6 * (c[1] - c[0]), r = 2; r < d - 1; r++)
                                            (a[r] = 2 * (h[r - 1] + h[r]) - (h[r - 1] * h[r - 1]) / a[r - 1]), (l[r] = 6 * (c[r] - c[r - 1]) - (h[r - 1] * l[r - 1]) / a[r - 1]);
                                        for ((o = [])[d - 1] = o[0] = 0, r = d - 2; 1 <= r; r--) o[r] = (l[r] - h[r] * o[r + 1]) / a[r];
                                        for (e = [], i = [], n = [], s = [], r = 0; r < d - 1; r++)
                                            (e[r] = t[r].y), (i[r] = (-h[r] * o[r + 1]) / 6 - (h[r] * o[r]) / 3 + (t[r + 1].y - t[r].y) / h[r]), (n[r] = o[r] / 2), (s[r] = (o[r + 1] - o[r]) / (6 * h[r]));
                                        for (r = 0; r < t.length - 1; r++) 0 === t[r].v && 0 === t[r + 1].v && ((e[r] = t[r].y), (s[r] = n[r] = i[r] = 0));
                                        return { a: e, b: i, c: n, d: s };
                                    },
                                    AD: function (t, e, i, n, s, r, o) {
                                        return n[i] + (t - e) * (s[i] + (t - e) * (r[i] + (t - e) * o[i]));
                                    },
                                },
                                sa,
                                ra,
                                oa,
                                {
                                    presets: {
                                        simple: { item: { borderColor: "#ffffff", color: "#2b7100", shadow: !1, borderWidth: 2 }, line: { color: "#8ecf03", width: 2 } },
                                        plot: { color: "#8664C6", item: { borderColor: "#8664C6", borderWidth: 1, color: "#ffffff", type: "r", shadow: !1 }, line: { color: "#8664C6", width: 2 } },
                                        diamond: { color: "#FF5C4C", item: { borderColor: "#FF5C4C", color: "#FF5C4C", type: "d", radius: 3, shadow: !0 }, line: { color: "#FF5C4C", width: 2 } },
                                        point: {
                                            color: "linear-gradient(to right,#00b0ed 0,#53aa34 100%)",
                                            disableLines: !0,
                                            fill: !1,
                                            disableItems: !1,
                                            item: { color: "linear-gradient(to right,#00b0ed 0,#53aa34 100%)", borderColor: "linear-gradient(to right,#00b0ed 0,#53aa34 100%)", radius: 2, borderWidth: 2, type: "r" },
                                            alpha: 1,
                                        },
                                        line: {
                                            line: { color: "linear-gradient(to right,#00b0ed 0,#53aa34 100%)", width: 2 },
                                            item: { color: "#ffffff", borderColor: "linear-gradient(to right,#00b0ed 0,#53aa34 100%)", radius: 2, borderWidth: 2, type: "d" },
                                            fill: !1,
                                            disableItems: !1,
                                            disableLines: !1,
                                            alpha: 1,
                                        },
                                        area: { fill: "linear-gradient(to right,#00b0ed 0,#53aa34 100%)", line: { color: "linear-gradient(to right,#00b0ed 0,#53aa34 100%)", width: 1 }, disableItems: !0, alpha: 0.2, disableLines: !1 },
                                        round: {
                                            item: { radius: 3, borderColor: "linear-gradient(to right,#00b0ed 0,#53aa34 100%)", borderWidth: 1, color: "linear-gradient(to right,#00b0ed 0,#53aa34 100%)", type: "r", shadow: !1, alpha: 0.6 },
                                        },
                                        square: { item: { radius: 3, borderColor: "#00a497", borderWidth: 2, color: "#ffffff", type: "s", shadow: !1, alpha: 1 }, line: { color: "#00a497" } },
                                        column: { color: "RAINBOW", gradient: !1, barWidth: 45, radius: 0, alpha: 1, border: !0 },
                                        stick: { barWidth: 5, gradient: !1, color: "linear-gradient(to right,#00b0ed 0,#53aa34 100%)", radius: 2, alpha: 1, border: !1 },
                                        alpha: { color: "#b9a8f9", barWidth: 70, gradient: "falling", radius: 0, alpha: 0.5, border: !0 },
                                    },
                                },
                                aa,
                                la,
                                Ti,
                                ze,
                                mi,
                                Ni,
                                E,
                                Re.view
                            ),
                        },
                        pa = {
                            name: "rangechart",
                            $init: function () {
                                this.attachEvent("onAfterRender", this.tI), this.iI();
                            },
                            tI: function () {
                                if ((-1 === this.P.type.indexOf("pie") && "radar" !== this.P.type && this.P.type, this.du.vu.length && !this.eI)) {
                                    this.sI(), (this.nI = (this.du.vu[0].points[2] - this.du.vu[0].points[0]) / 2);
                                    var e = { webix_disable_drag: "true", tabindex: "0", role: "button", "aria-label": T.aria.resizeChart };
                                    (this.hI = dt("div", t.extend({ class: "webix_chart_resizer right" }, e))),
                                        (this.rI = dt("div", t.extend({ class: "webix_chart_resizer left" }, e))),
                                        (this.eI = dt("div", { class: "webix_chart_frame", webix_disable_drag: "true" })),
                                        this.Vt.appendChild(this.rI),
                                        this.Vt.appendChild(this.eI),
                                        this.Vt.appendChild(this.hI),
                                        this.oI(),
                                        Zt(this.hI, G.mouse.down, this.aI, { bind: this }),
                                        Zt(this.rI, G.mouse.down, this.aI, { bind: this }),
                                        Zt(this.eI, G.mouse.down, this.aI, { bind: this }),
                                        Zt(_(this.hI), "keydown", this.uI, { bind: this }),
                                        Zt(_(this.rI), "keydown", this.uI, { bind: this }),
                                        this.DC && (this.P.range = this.iI(this.DC)),
                                        this.cI(),
                                        this.callEvent("onAfterRangeChange", [this.DC]),
                                        this.data.attachEvent("onStoreUpdated", m(this.cI, this));
                                } else this.oI(!0);
                            },
                            $setSize: function (t, e) {
                                ua.api.$setSize.call(this, t, e) && (this.sI(), this.cI());
                            },
                            oI: function (t) {
                                this.hI && !this.fI && ((this.fI = this.hI.clientWidth / 2), t && this.cI());
                            },
                            sI: function () {
                                var t = this.FD(this.me, this.we);
                                (this.K$ = t.start), (this.lI = t.end);
                            },
                            removeAllSeries: function () {
                                (this.eI = this.hI = this.rI = null), ua.api.removeAllSeries.apply(this, arguments);
                            },
                            uI: function (t) {
                                var e = t.which || t.keyCode;
                                if (37 === e || 39 === e) {
                                    yt(t);
                                    var i = -1 !== t.target.className.indexOf("right") ? "eindex" : "sindex",
                                        n = -1 !== t.target.className.indexOf("right") ? "end" : "start",
                                        s = this.DC;
                                    (s[i] = s[i] + (37 === e ? -1 : 1)), this.du.vu[s[i]] && ((s[n] = this.dI(s[i])), this.setFrameRange(s));
                                }
                            },
                            aI: function (t) {
                                if (-1 !== t.target.className.indexOf("webix_chart_resizer")) this.vI = t.target;
                                else if (this.du.vu.length) {
                                    var e = this.du.vu[this.DC.sindex].points[2] - this.nI,
                                        i = this.du.vu[this.DC.eindex].points[2] - this.nI;
                                    this._I = { ex: bt(t).x, fx: e + this.K$.x, fw: i - e };
                                }
                                _t(this.Vt, "webix_noselect webix_wresize_cursor"), this.pI(), (this.bI = Jt(document.body, G.mouse.move, this.mI, { bind: this })), (this.gI = Jt(document.body, G.mouse.up, this.wI, { bind: this }));
                            },
                            pI: function () {
                                this.bI && (Qt(this.bI), Qt(this.gI), (this.gI = this.bI = null));
                            },
                            mI: function (e) {
                                if (this.vI) {
                                    var i = bt(e).x - gt(this.$view).x;
                                    i >= this.K$.x &&
                                        i <= this.lI.x &&
                                        (-1 !== this.vI.className.indexOf("left")
                                            ? i < this.hI.offsetLeft && ((this.vI.style.left = i - this.fI + "px"), (this.eI.style.left = i + "px"), (this.eI.style.width = this.hI.offsetLeft - this.rI.offsetLeft - 1 + "px"))
                                            : i > this.rI.offsetLeft + this.fI && ((this.vI.style.left = i - this.fI + "px"), (this.eI.style.width = this.hI.offsetLeft - this.rI.offsetLeft - 1 + "px")));
                                } else if (this._I) {
                                    var n = bt(e).x - this._I.ex,
                                        s = this._I.fx + n,
                                        r = s + this._I.fw;
                                    this.K$.x <= s && this.lI.x >= r && (t.extend(this._I, { lx: s, rx: r }, !0), (this.rI.style.left = s - this.fI + "px"), (this.hI.style.left = r - this.fI + "px"), (this.eI.style.left = s + "px"));
                                }
                            },
                            wI: function (t) {
                                if ((this.pI(), kt(this.Vt, "webix_noselect"), kt(this.Vt, "webix_wresize_cursor"), this.count())) {
                                    if (this.vI) {
                                        var e = G.touch ? t.changedTouches[0].pageX : bt(t).x;
                                        e -= gt(this.$view).x + this.K$.x;
                                        var i = this.xI(e),
                                            n = this.dI(i);
                                        this.vI === this.rI
                                            ? (i >= this.DC.eindex && ((i = this.DC.eindex), (n = this.dI(i))), (this.DC.start = n), (this.DC.sindex = i))
                                            : (i <= this.DC.sindex && ((i = this.DC.sindex), (n = this.dI(i))), (this.DC.end = n), (this.DC.eindex = i)),
                                            (this.vI = null);
                                    } else if (this._I && this._I.lx) {
                                        var s = (this.DC.sindex = this.xI(this._I.lx - this.K$.x)),
                                            r = (this.DC.eindex = this.xI(this._I.rx - this.K$.x));
                                        (this.DC.start = this.dI(s)), (this.DC.end = this.dI(r)), (this._I = null);
                                    }
                                    this.cI(), this.callEvent("onAfterRangeChange", [this.DC.start, this.DC.end]);
                                }
                            },
                            dI: function (t) {
                                return t >= this.data.order.length && (t = this.data.order.length - 1), this.getItem(this.data.order[t])[this.P.frameId || "id"];
                            },
                            xI: function (t) {
                                for (var e = this.du.vu, i = 0; i < e.length; i++) if (t <= e[i].points[2] - this.nI) return i;
                                return e.length - 1;
                            },
                            yI: function (t) {
                                for (var e = this.P.frameId || "id", i = 0; i < this.data.order.length; i++) if (this.getItem(this.data.order[i])[e] == t) return i;
                                return -1;
                            },
                            iI: function (t) {
                                t
                                    ? (t.start && (t.sindex = this.yI(t.start)), t.end && (t.eindex = this.yI(t.end)), (t.start = t.start || this.dI(t.sindex)), (t.end = t.end || this.dI(t.eindex)))
                                    : (t = { start: 0, end: 0, sindex: 0, eindex: 0 }),
                                    (this.DC = t);
                            },
                            range_setter: function (t) {
                                return this.iI(t), this.DC;
                            },
                            getFrameData: function () {
                                for (var t = [], e = this.DC.sindex; e <= this.DC.eindex; e++) {
                                    var i = this.getItem(this.data.order[e]);
                                    i && t.push(i);
                                }
                                return t;
                            },
                            setFrameRange: function (t) {
                                this.iI(t), this.cI(), this.callEvent("onAfterRangeChange", [t]);
                            },
                            cI: function () {
                                if (this.du) {
                                    var t = this.du.vu;
                                    if (t.length) {
                                        var e = t[this.DC.sindex].points[0] + this.K$.x + this.nI - 1,
                                            i = t[this.DC.eindex].points[0] + this.K$.x + this.nI - 1;
                                        (this.rI.style.left = e - this.fI + "px"), (this.hI.style.left = i - this.fI + "px"), (this.eI.style.left = e + "px"), (this.eI.style.width = i - e + "px"), (this.P.range = this.DC);
                                    }
                                }
                            },
                            getFrameRange: function () {
                                return this.P.range;
                            },
                        },
                        fa =
                            (t.protoUI(pa, ua.view),
                            {
                                name: "grouplist",
                                defaults: { animate: {} },
                                Fm: "webix_grouplist",
                                $init: function () {
                                    t.extend(this.data, pn, !0),
                                        (this.data.count = function () {
                                            return this.order.length;
                                        }),
                                        this.data.provideApi(this, !0),
                                        this.data.attachEvent("onClearAll", m(this.MI, this)),
                                        this.MI();
                                },
                                MI: function () {
                                    (this.SI = []), (this.kI = []);
                                },
                                $setSize: function () {
                                    Re.api.$setSize.apply(this, arguments) && (this.tt.style.width = this.me);
                                },
                                on_click: {
                                    webix_list_item: function (t, e) {
                                        if (this.Xv) return !1;
                                        for (var i = 0; i < this.kI.length; i++)
                                            if (this.kI[i] == e) {
                                                for (var n = i; n < this.kI.length; n++) this.data.getItem(this.kI[n]).$template = "";
                                                return i ? ((this.SI = this.data.branch[this.kI[i - 1]]), this.kI.splice(i)) : ((this.SI = this.data.branch[0]), (this.kI = [])), (this.CI = !1), this.render();
                                            }
                                        var s = this.getItem(e);
                                        if (s.$count) return (this.CI = !0), this.kI.push(e), (s.$template = "Back"), (this.SI = this.data.branch[s.id]), this.render();
                                        this.P.select &&
                                            ((this.zm = !0), "multiselect" == this.P.select || this.P.multiselect ? this.select(e, !1, "touch" == this.P.multiselect || t.ctrlKey || t.metaKey, t.shiftKey) : this.select(e), (this.zm = !1));
                                    },
                                },
                                getOpenState: function () {
                                    return { parents: this.kI, branch: this.SI };
                                },
                                render: function (e, i, n) {
                                    var s,
                                        r,
                                        o = this,
                                        a = arguments;
                                    if (((this.kI = f(this.kI)), (this.SI = f(this.SI)), this.kI.length)) for (s = 0; s < this.kI.length; s++) this.data.branch[this.kI[s]] || (this.kI.splice(s, 1), s--);
                                    if (((r = this.kI.length ? this.kI[this.kI.length - 1] : 0), (this.SI = f(this.data.branch[r])), !this.SI.length && this.kI.length && ((this.SI = [r]), this.kI.pop()), this.Xv))
                                        return this.Xv.then(function () {
                                            return o.render.apply(o, a);
                                        });
                                    for (s = 0; s < this.SI.length; s++) this.data.getItem(this.SI[s]).$template = "";
                                    if ((this.SI.length || (this.SI = this.data.branch[0]), (this.data.order = C([].concat(this.kI).concat(this.SI))), this.callEvent("onBeforeRender", [this.data]))) {
                                        if (!this.zm && this.tt.innerHTML && We.isSupported() && this.P.animate && this.$I != this.kI.length) {
                                            if (this.callEvent("onBeforeRender", [this.data])) {
                                                this.DI || (this.DI = []);
                                                var h = this.tt.cloneNode(!1);
                                                h.innerHTML = this.data.getRange().map(this.Q, this).join("");
                                                var c = t.extend({}, this.P.animate);
                                                c.direction = this.CI ? "left" : "right";
                                                var d,
                                                    u = [p(c), p(c)];
                                                this.CI ? this.DI.push(this.getScrollState()) : (d = this.DI.pop());
                                                var m = We.formLine(h, this.tt, c);
                                                (c.master = this),
                                                    (c.callback = function () {
                                                        (this.tt = h),
                                                            this.CI ? this.scrollTo(0, 0) : d && this.scrollTo(0, d.y),
                                                            We.breakLine(m),
                                                            (c.master = c.callback = null),
                                                            (this.Ni = this.Xv = null),
                                                            c.wait_animation.resolve(),
                                                            this.callEvent("onAfterRender", []);
                                                    }),
                                                    We(m, u),
                                                    (this.Xv = c.wait_animation = l.defer());
                                            }
                                        } else {
                                            if (e && "delete" !== n && -1 === this.data.getIndexById(e)) return;
                                            ji.render.apply(this, arguments);
                                        }
                                        this.$I = this.kI.length;
                                    }
                                },
                                templateBack_setter: function (t) {
                                    this.type.templateBack = Ut(t);
                                },
                                templateItem_setter: function (t) {
                                    this.type.templateItem = Ut(t);
                                },
                                templateGroup_setter: function (t) {
                                    this.type.templateGroup = Ut(t);
                                },
                                type: {
                                    template: function (t, e) {
                                        return t.$count ? e.templateGroup(t, e) : e.templateItem(t, e);
                                    },
                                    css: "group",
                                    classname: function (t, e, i) {
                                        return (
                                            "webix_list_item webix_" +
                                            (t.$count ? "group" : "item") +
                                            (t.$template ? "_back" : "") +
                                            (i && i.webix_selected ? " webix_selected" : "") +
                                            (e.css ? " " + e.css : "") +
                                            (t.$css ? " " + t.$css : "")
                                        );
                                    },
                                    templateStart: Ut('<div webix_l_id="#id#" class="{common.classname()}" style="width:{common.widthSize()}; height:{common.heightSize()};  overflow:hidden;" {common.aria()}>'),
                                    templateBack: Ut("#value#"),
                                    templateItem: Ut("#value#"),
                                    templateGroup: Ut("#value#"),
                                    templateEnd: function (t) {
                                        var e = "";
                                        return t.$count && (e += "<div class='webix_arrow_icon'></div>"), e + "</div>";
                                    },
                                },
                                showItem: function (t) {
                                    var e, i;
                                    for (t && ((i = (e = this.getItem(t)).$parent), e.$count && (i = e.id)), this.SI = this.data.branch[i || 0], this.kI = []; i; )
                                        (this.getItem(i).$template = "Back"), this.kI.unshift(i), (i = this.getItem(i).$parent);
                                    (this.zm = !0), this.render(), (this.zm = !1), ji.showItem.call(this, t);
                                },
                            });
                    te(t.protoUI(fa, Ti, Gr.view), {});
                    var ma = {
                        name: "unitlist",
                        Qo: "webix_item_id",
                        uniteBy_setter: Ut,
                        render: function (t, e, i) {
                            var n = this.P;
                            if (this.isVisible(n.id) && n.uniteBy) {
                                if (t) {
                                    var s = this.getItemNode(t);
                                    if (s && "update" == i && this.P.uniteBy.call(this, e) == this.getItem(t).$unitValue) return ft((this.Ni[t] = this.gc(e)), s), void pt(s);
                                }
                                this.callEvent("onBeforeRender", [this.data]) &&
                                    ((this.units = null), this.II(), this.units && (this.callEvent("onUnits", []), (this.tt.innerHTML = this.AI().map(this.Q, this).join("")), (this.Ni = null)), this.callEvent("onAfterRender", []));
                            }
                        },
                        getUnits: function () {
                            var t = [];
                            if (this.units) for (var e in this.units) t.push(e);
                            return t;
                        },
                        getUnitList: function (t) {
                            return this.units ? this.units[t] : null;
                        },
                        Q: function (t) {
                            var e = this.data.Dr[t.id];
                            return (
                                !t.$template || this.type["template" + t.$template],
                                t.$template,
                                this.callEvent("onItemRender", [t]),
                                t.$unit
                                    ? this.type.templateStartHeader(t, this.type) + this.type.templateHeader.call(this, t.$unit) + this.type.templateEnd(t, this.type)
                                    : this.type.templateStart(t, this.type, e) + (t.$template ? this.type["template" + t.$template] : this.type.template)(t, this.type) + this.type.templateEnd(t, this.type)
                            );
                        },
                        AI: function () {
                            var t = [],
                                e = this.data.$min || 0,
                                i = this.data.$max || 1 / 0,
                                n = 0;
                            for (var s in this.units) {
                                t.push({ $unit: s });
                                for (var r = this.units[s], o = 0; o < r.length; o++) {
                                    if ((n == e && (t = [{ $unit: s }]), t.push(this.getItem(r[o])), n == i)) return C(t);
                                    n++;
                                }
                            }
                            return C(t);
                        },
                        II: function () {
                            var t = this;
                            (this.units = {}),
                                this.data.each(function (e) {
                                    var i = t.P.uniteBy.call(this, e);
                                    (e.$unitValue = i), t.units[i] || (t.units[i] = []), t.units[i].push(e.id);
                                });
                        },
                        type: {
                            headerHeight: 20,
                            classname: function (t, i, n) {
                                var s = "webix_list_item";
                                return i.css && (s += " webix_list_" + i.css + "_item"), n && n.$css && (s += " " + n.$css), t.$css && ("object" == e(t.$css) && (t.$css = lt(t.$css)), (s += " " + t.$css)), s;
                            },
                            templateHeader: function (t) {
                                return "<span class='webix_unit_header_inner'>" + t + "</span>";
                            },
                            templateStart: function (t, e, i) {
                                if (t.$unit) return e.templateStartHeader.apply(this, arguments);
                                var n = "width:" + e.widthSize(t, e, i) + "; height:" + e.heightSize(t, e, i) + "; overflow:hidden;" + (e.layout && "x" == e.layout ? "float:left;" : "");
                                return '<div webix_item_id="' + t.id + '" class="' + e.classname(t, e, i) + '" style="' + n + '" ' + e.aria(t, e, i) + ">";
                            },
                            templateStartHeader: function (t, e, i) {
                                var n = "webix_unit_header" + (e.css ? " webix_unit_header_" + e.css + "_item" : ""),
                                    s = "width:" + e.widthSize(t, e, i) + "; height:" + e.headerHeight + "px; overflow:hidden;";
                                return '<div webix_unit_id="' + t.$unit + '" class="' + n + '" style="' + s + '">';
                            },
                        },
                        $skin: function () {
                            Gr.api.$skin.call(this), (this.type.headerHeight = Ve.unitHeaderHeight);
                        },
                    };
                    t.protoUI(ma, Gr.view),
                        (T.dbllist = {
                            selectAll: "<span class='webix_icon wxi-angle-double-right'></span>",
                            selectOne: "<span class='webix_icon wxi-angle-right'></span>",
                            deselectAll: "<span class='webix_icon wxi-angle-double-left'></span>",
                            deselectOne: "<span class='webix_icon wxi-angle-left'></span>",
                        });
                    var ga = {
                            name: "dbllist",
                            defaults: { borderless: !0 },
                            $init: function () {
                                (this.TI = {}),
                                    (this.FI = m(function (t) {
                                        return this.TI[t.id];
                                    }, this)),
                                    (this.VI = m(function (t) {
                                        return !this.TI[t.id];
                                    }, this)),
                                    (this.$view.className += " webix_dbllist"),
                                    this.$ready.unshift(this.Bg);
                            },
                            $onLoad: function (t, e) {
                                var i = this.$$("left"),
                                    n = this.$$("right");
                                return (
                                    this.zI(function () {
                                        (i.data.driver = e), i.parse(t), (n.data.driver = e), n.parse(t);
                                    }),
                                    (this.BI = !0),
                                    this.$C(),
                                    !0
                                );
                            },
                            HI: function () {
                                if (!1 === this.P.buttons) return { width: 10 };
                                var t = T.dbllist,
                                    e = [this.RI("deselect_all", t.deselectAll), this.RI("select_all", t.selectAll), this.RI("deselect_one", t.deselectOne), this.RI("select_one", t.selectOne)];
                                return (
                                    (e = {
                                        width: 120,
                                        template: e.join(""),
                                        onClick: {
                                            dbllist_button: function (t, e, i) {
                                                this.getTopParentView().EI(i.getAttribute("action"));
                                            },
                                        },
                                    }),
                                    this.P.buttons && (e.template = this.P.buttons),
                                    e
                                );
                            },
                            RI: function (t, e) {
                                return "<button class='dbllist_button' action='" + t + "'>" + e + "</button>";
                            },
                            jI: function (e, i, n, s) {
                                var r = {
                                    view: "list",
                                    select: "multiselect",
                                    multiselect: "touch",
                                    id: e,
                                    action: i,
                                    drag: !0,
                                    type: { margin: 3, id: e },
                                    on: {
                                        onBeforeDrop: function (t) {
                                            var e = t.from,
                                                i = t.to,
                                                n = e.getTopParentView();
                                            if (n === this.getTopParentView()) {
                                                var s = "select_one" != i.P.action;
                                                n.select(t.source, s);
                                            }
                                            return !1;
                                        },
                                        onItemDblClick: function () {
                                            return this.getTopParentView().EI(this.config.action);
                                        },
                                    },
                                };
                                return (
                                    this.P.list && t.extend(r, this.P.list, !0),
                                    n && (r = { rows: [{ view: "label", label: n, css: "webix_inp_top_label" }, r] }),
                                    s ? { rows: [r, { view: "label", height: 20, label: s, css: "bottom_label" }] } : r
                                );
                            },
                            Bg: function () {
                                var t = [
                                    { margin: 10, type: "clean", cols: [this.jI("left", "select_one", this.P.labelLeft, this.P.labelBottomLeft), this.HI(), this.jI("right", "deselect_one", this.P.labelRight, this.P.labelBottomRight)] },
                                ];
                                this.cols_setter(t);
                            },
                            EI: function (t) {
                                var e = null,
                                    i = !1;
                                "select_all" === t
                                    ? ((e = this.$$("left").data.order), (i = !0))
                                    : "select_one" === t
                                    ? ((e = this.$$("left").getSelectedId(!0)), (i = !0))
                                    : "deselect_all" === t
                                    ? ((e = this.$$("right").data.order), (i = !1))
                                    : "deselect_one" === t && ((e = this.$$("right").getSelectedId(!0)), (i = !1)),
                                    this.select(e, i);
                            },
                            select: function (t, i) {
                                var n;
                                if (("object" !== e(t) && (t = [t]), i)) for (n = 0; n < t.length; n++) this.TI[t[n]] = !0;
                                else for (n = 0; n < t.length; n++) delete this.TI[t[n]];
                                this.$C(), this.callEvent("onChange", []);
                            },
                            zI: function (t, e) {
                                ue(m(t, this), !1), e && (this.$$("left").P.autoheight || this.$$("right").P.autoheight) && this.resize();
                            },
                            $C: function () {
                                var t = this.$$("left"),
                                    e = this.$$("right");
                                t &&
                                    this.zI(function () {
                                        t.filter(this.VI), e.filter(this.FI);
                                    }, !0);
                            },
                            focus: function () {
                                if (!ke.canFocus(this)) return !1;
                                ke.setFocus(this);
                            },
                            value_setter: function (t) {
                                this.setValue(t);
                            },
                            setValue: function (t) {
                                if (((this.TI = {}), t)) {
                                    "object" !== e(t) && (t = t.toString().split(","));
                                    for (var i = 0; i < t.length; i++) this.TI[t[i]] = !0;
                                }
                                this.$C();
                            },
                            getValue: function () {
                                var t = [],
                                    e = this.$$("left");
                                for (var i in this.TI) (this.BI && !e.data.pull[i]) || t.push(i);
                                return t.join(",");
                            },
                        },
                        va =
                            (t.protoUI(ga, Rt, Di, Ss.view),
                            {
                                name: "tree",
                                defaults: { scroll: "auto", navigation: !0 },
                                $init: function () {
                                    (this.Vt.className += " webix_tree"), t.extend(this.data, pn, !0), t.extend(this.on_click, ln), this.data.provideApi(this, !0), this.Vt.setAttribute("role", "tree");
                                },
                                Qo: "webix_tm_id",
                                on_context: {},
                                on_dblclick: {
                                    webix_tree_checkbox: function () {
                                        if (this.on_click.webix_tree_checkbox) return this.on_click.webix_tree_checkbox.apply(this, arguments);
                                    },
                                },
                                $fixEditor: function (t) {
                                    var e = this.getItemNode(t.id).querySelector("span");
                                    if (e) {
                                        "" === e.innerHTML && (e.innerHTML = "&nbsp;");
                                        var i = e.offsetLeft;
                                        (t.node.style.width = this.$view.scrollWidth - i - 10 + "px"), (t.node.style.marginLeft = i + "px"), (t.node.style.left = "0px");
                                    }
                                },
                                on_click: {
                                    webix_tree_item: function (t, e) {
                                        if ((this.P.activeTitle && (this.getItem(e).open ? this.close(e) : this.open(e)), this.P.select))
                                            if ("multiselect" == this.P.select || this.P.multiselect) {
                                                var i = t.ctrlKey || t.metaKey || "touch" == this.P.multiselect;
                                                if ("level" == this.P.multiselect && (i || t.shiftKey)) {
                                                    var n = this.getSelectedId(!0)[0];
                                                    if (n && this.getParentId(e) != this.getParentId(n)) return;
                                                }
                                                this.select(e, !1, i, t.shiftKey);
                                            } else this.select(e);
                                    },
                                },
                                Zn: {
                                    insert: function (t) {
                                        var e = this.getSelectedId() || "0";
                                        this.add({ value: t }, null, e);
                                    },
                                    modify: function (t) {
                                        for (var e = this.getSelectedId(!0), i = 0; i < e.length; i++) (this.getItem(e[i]).value = t), this.refresh(e[i]);
                                    },
                                    custom: function () {},
                                },
                                Go: !0,
                                $dragHTML: function (t, e, i) {
                                    var n = "<div class='webix_tree_item'>" + this.type.template(t, this.type) + "</div>";
                                    return P(i.source) && 1 < i.source.length && (n = this.No(n, i.source.length)), n;
                                },
                                Yo: function (t) {
                                    for (var e = t.source, i = 0; i < e.length; i++) this.close(e[i]);
                                },
                                Uo: function (t, e) {
                                    var i = this.getItemNode(t);
                                    i ? i.parentNode.insertBefore(Xe.dn[0], i) : e.children[0].children[0].appendChild(Xe.dn[0]);
                                },
                                type: t.extend(
                                    {
                                        template: function (t, e) {
                                            return (e["template" + t.level] || e.templateCommon).apply(this, arguments);
                                        },
                                        classname: function (t, i, n) {
                                            var s = "webix_tree_item";
                                            return t.$css && ("object" == e(t.$css) && (t.$css = lt(t.$css)), (s += " " + t.$css)), n && n.$css && (s += " " + n.$css), i.css && (s += " " + i.css), s;
                                        },
                                        aria: function (t, e, i) {
                                            return (
                                                'role="treeitem"' +
                                                (i && i.webix_selected ? ' aria-selected="true" tabindex="0"' : ' tabindex="-1"') +
                                                (t.$count ? 'aria-expanded="' + (t.open ? "true" : "false") + '"' : "") +
                                                'aria-level="' +
                                                t.$level +
                                                '"'
                                            );
                                        },
                                        templateCommon: Ut("{common.icon()} {common.folder()} <span>#value#</span>"),
                                        templateStart: Ut('<div webix_tm_id="#id#" class="{common.classname()}" {common.aria()}>'),
                                        templateEnd: Ut("</div>"),
                                        templateCopy: Ut("#value#"),
                                    },
                                    mn
                                ),
                            }),
                        ba = t.protoUI(va, un, Ti, an, vi, cn, zi, Mi, Ni, Fi, hn, Yr.view, dn, si, E),
                        ya = { api: va, view: ba };
                    te(ba, {
                        name: "lineTree",
                        css: "webixLineTree",
                        icon: function (t, e) {
                            for (var i = "", n = "", s = 1; s <= t.$level; s++) {
                                s == t.$level && (n = t.$count ? (t.open ? "webix_tree_open " : "webix_tree_close ") : "webix_tree_none ");
                                var r = e.NI(t, e, s);
                                r && (i += "<div class='" + n + "webix_tree_img webix_tree_" + r + "'></div>");
                            }
                            return i;
                        },
                        NI: function (t, e, i) {
                            var n = e.bf,
                                s = dn.ze;
                            if (0 === n && s) {
                                var r = t.$level,
                                    o = t.id;
                                for (n = []; r; ) {
                                    var a = s.getParentId(o),
                                        l = s.data.branch[a];
                                    l[l.length - 1] == o && (n[r] = !0), (o = a), r--;
                                }
                                e.bf = n;
                            }
                            if (!n) return 0;
                            if (i != t.$level) return n[i] ? "blank" : "line1";
                            var h = 3;
                            return t.$parent || (0 === t.$index && (h = 4)), n[t.$level] && (h = 2), t.$count ? (t.open ? "minus" + h : "plus" + h) : "line" + h;
                        },
                    });
                    var wa = {
                            name: "treemap",
                            defaults: { activeItem: !1, subRender: !0, header: !0, headerHeight: 35, value: Ut("#value#"), headerTemplate: "", navigation: !0 },
                            value_setter: Ut,
                            headerTemplate_setter: Ut,
                            header_setter: function (t) {
                                return t && !0 !== t && (this.type.header = t), t;
                            },
                            $init: function () {
                                (this.$view.className += " webix_treemap"),
                                    this.Vt.setAttribute("role", "tree"),
                                    (this.LI = document.createElement("DIV")),
                                    t.extend(this.data, pn, !0),
                                    this.data.provideApi(this, !0),
                                    this.data.attachEvent(
                                        "onClearAll",
                                        m(function () {
                                            (this.Oi = ""), (this.$values = {}), (this.$xy = {});
                                        }, this)
                                    ),
                                    this.attachEvent("onKeyPress", this.ke);
                            },
                            vf: function (t) {
                                var e = this.data.Dr[t.id];
                                this.callEvent("onItemRender", [t]);
                                var i = t.$template ? this.type["template" + t.$template].call(this, t, this.type, e) : this.type.template.call(this, t, this.type, e);
                                return this.type.templateStart.call(this, t, this.type, e) + i + this.type.templateEnd.call(this);
                            },
                            OI: function (t) {
                                var e = this.getItem(t),
                                    i = this.P.headerHeight,
                                    n = "<div class='webix_treemap_header' style='height:" + i + "px;line-height:" + i + "px;'>";
                                return (n += this.type.header.call(this, e, this.type)) + "</div>";
                            },
                            d$: function (t) {
                                var e,
                                    i,
                                    n,
                                    s,
                                    r = [];
                                if (!this.$width || !this.count()) return (this.Oi = ""), !1;
                                if (
                                    (t ||
                                        ((t = this.config.branch || 0),
                                        (this.Oi = ""),
                                        (this.$values = {}),
                                        (this.$xy = {}),
                                        (this.$xy[t] = { width: this.$width, height: this.$height, top: 0, left: 0 }),
                                        t && this.P.header && ((this.$xy[t].height -= this.P.headerHeight), (this.$xy[t].top = this.P.headerHeight), (this.Oi += this.OI(t))),
                                        (s = 0),
                                        this.data.each(
                                            function (t) {
                                                var e = this.getParentId(t.id);
                                                if (!this.data.branch[t.id] && ((n = 1 * this.config.value.call(this, t)), !isNaN(n) && n))
                                                    for (this.$values[t.id] = n, s += n; e; ) this.$values[e] || (this.$values[e] = 0), (this.$values[e] += n), (e = this.getParentId(e));
                                            },
                                            this,
                                            !1,
                                            t
                                        )),
                                    this.data.eachChild(
                                        t,
                                        function (t) {
                                            this.$values[t.id] && r.push(f(t));
                                        },
                                        this
                                    ),
                                    (s = s || this.$values[t]),
                                    r.length && s)
                                ) {
                                    (i = { top: (e = this.$xy[t]).top, left: e.left, dx: e.width, dy: e.height, set: [], sum: 0 }).dim = Math.min(i.dx, i.dy);
                                    for (var o = (i.dx * i.dy) / s, a = 0; a < r.length; a++) r[a].$value = this.$values[r[a].id] * o;
                                    r.sort(function (t, e) {
                                        return t.$value > e.$value ? -1 : 1;
                                    });
                                    for (var l = 1 / 0, h = 0; r[h]; ) {
                                        var c = this.WI(i, r[h]);
                                        if (c < l) (i.sum += r[h].$value), i.set.push(r[h]), (l = c), h++;
                                        else {
                                            this.Qp(i);
                                            var d = { top: i.top, left: i.left, dx: i.dx, dy: i.dy, set: [], sum: 0 },
                                                u = i.sum / i.dim;
                                            i.dx > i.dy ? ((d.left += u), (d.dx -= u)) : ((d.top += u), (d.dy -= u)), ((i = d).dim = Math.min(i.dx, i.dy)), (l = 1 / 0);
                                        }
                                    }
                                }
                                i && this.Qp(i);
                            },
                            Qp: function (t) {
                                var e,
                                    i,
                                    n,
                                    s,
                                    r = t.top,
                                    o = t.left;
                                for (t.mode = t.dy < t.dx, t.contra = t.sum / t.dim, e = 0; e < t.set.length; e++)
                                    (i = t.set[e].id),
                                        (s = t.mode ? ((n = t.contra), t.set[e].$value / t.contra) : ((n = t.set[e].$value / t.contra), t.contra)),
                                        (this.$xy[i] = {}),
                                        (this.$xy[i].top = r),
                                        (this.$xy[i].left = o),
                                        t.mode ? (r += s) : (o += n),
                                        (this.$xy[i].width = n),
                                        (this.$xy[i].height = s),
                                        (this.Oi += this.vf(this.getItem(i))),
                                        this.P.subRender && this.data.branch[i] && this.d$(i);
                            },
                            WI: function (t, e) {
                                var i = t.sum + e.$value,
                                    n = (i * i) / (t.dim * t.dim * e.$value);
                                return t.set.length && (n = Math.max((t.dim * t.dim * t.set[0].$value) / (i * i), n)), 1 < n ? n : 1 / n;
                            },
                            gc: function (t) {
                                return (this.LI.innerHTML = this.vf(t)), this.LI.firstChild;
                            },
                            showBranch: function (t) {
                                (this.P.branch = t), this.refresh();
                            },
                            render: function (t, e, i) {
                                if (this.isVisible(this.P.id) && !this.$blockRender) {
                                    if ("update" == i) {
                                        var n = this.getItemNode(t);
                                        n && (ft((this.Ni[t] = this.gc(e)), n), pt(n));
                                    } else
                                        !this.data.branch ||
                                            (this.P.branch && !this.data.branch[this.P.branch]) ||
                                            ((this.Ni = null), this.callEvent("onBeforeRender", []), this.d$(), (this.tt.innerHTML = this.Oi), this.callEvent("onAfterRender", []));
                                    return !0;
                                }
                            },
                            Qo: "webix_dm_id",
                            on_click: {
                                webix_treemap_item: function (t, e) {
                                    this.P.select && ("multiselect" == this.P.select || this.P.multiselect ? this.select(e, !1, t.ctrlKey || t.metaKey || "touch" == this.P.multiselect, t.shiftKey) : this.select(e)),
                                        this.P.activeItem && this.isBranch(e) && this.showBranch(e);
                                },
                                webix_treemap_header_item: function (t) {
                                    var e = mt(t, "webix_dm_header_id");
                                    this.define("branch", e), this.refresh();
                                },
                                webix_treemap_reset: function () {
                                    this.define("branch", 0), this.refresh();
                                },
                            },
                            on_dblclick: {},
                            on_mouse_move: {},
                            UI: function (t) {
                                var e = "";
                                for (var i in t) e += i + ":" + t[i] + ";";
                                return e;
                            },
                            type: {
                                template: Ut("#value#"),
                                header: function (t, e) {
                                    for (var i = t.id, n = "<div role='button' tabindex='0' aria-label='" + T.aria.resetTreeMap + "' class='webix_treemap_reset'></div>", s = []; i; )
                                        (t = this.getItem(i)), s.push(e.headerItem.call(this, t, e)), (i = this.getParentId(i));
                                    return s.reverse(), n + s.join("<span class='webix_icon wxi-angle-right webix_treemap_path_icon'></span>");
                                },
                                headerItem: function (t) {
                                    var e = this.config.headerTemplate(t),
                                        i = '<a role="button" tabindex="0" aria-label="' + e + '" webix_dm_header_id="' + t.id + '" class="webix_treemap_header_item">';
                                    return (i += e) + "</a>";
                                },
                                classname: function (t, i, n) {
                                    var s = "webix_treemap_item";
                                    i.css && (s += " " + i.css), t.$css && ("object" == e(t.$css) && (t.$css = lt(t.$css)), (s += " " + t.$css));
                                    var r = this.$xy[t.id];
                                    n && n.$css && (s += " " + n.$css), (s += " webix_treemap_level_" + this.getItem(t.id).$level);
                                    var o = this.getParentId(t.id);
                                    if (
                                        ((o && o != this.P.branch) || (s += " webix_treemap_level_top"),
                                        this.$height - r.top - r.height < 1 && (s += " webix_treemap_item_bottom"),
                                        this.$width - r.left - r.width < 1 && (s += " webix_treemap_item_right"),
                                        i.cssClass)
                                    ) {
                                        var a = i.cssClass.call(this, t, i, n);
                                        a && ("object" == e(a) ? (s += " " + lt(a)) : (s += " " + a));
                                    }
                                    return s;
                                },
                                templateStart: function (t, e, i) {
                                    var n = "";
                                    if (this.$xy) {
                                        var s = this.$xy[t.id];
                                        (n += "width: " + s.width + "px; height: " + s.height + "px;"), (n += "top: " + s.top + "px; left: " + s.left + "px;");
                                    }
                                    return (
                                        '<div role="treeitem" aria-level="' +
                                        t.$level +
                                        '" ' +
                                        (i && i.webix_selected ? 'aria-selected="true" tabindex="0"' : "") +
                                        ' webix_dm_id="' +
                                        t.id +
                                        '" class="' +
                                        e.classname.call(this, t, e, i) +
                                        '" style="' +
                                        n +
                                        '">'
                                    );
                                },
                                templateEnd: Ut("</div>"),
                            },
                        },
                        xa =
                            (t.protoUI(wa, Ti, an, zi, Mi, Ni, Fi, hn, Yr.view, dn, si, E),
                            {
                                name: "dataview",
                                $init: function (e) {
                                    e.sizeToContent && this.$ready.unshift(this.rr);
                                    var i = e.type || e.item;
                                    e.prerender || this.defaults.prerender || (i && "auto" == i.width) || "move" == e.drag || "order" == e.drag || e.autoheight || t.extend(this, yn, !0),
                                        e.autoheight && (e.scroll = !1),
                                        i && "tiles" == i.type && ((this.YI = i.padding || this.type.padding), (this.Vt.firstChild.style.float = "left"), (this.Vt.firstChild.style.padding = this.YI / 2 + "px")),
                                        (this.Wi.className += " webix_dataview"),
                                        this.Vt.setAttribute("role", "listbox");
                                },
                                rr: function () {
                                    var t = dt("DIV", 0, this.type.template({}));
                                    (t.className = "webix_dataview_item"), (t.style.position = "absolute"), document.body.appendChild(t), (this.type.width = t.offsetWidth + this.YI), (this.type.height = t.offsetHeight + this.YI), pt(t);
                                },
                                defaults: { scroll: !0, datafetch: 50, navigation: !0 },
                                Qo: "webix_l_id",
                                oh: "webix_dataview_item",
                                YI: 0,
                                Ko: "x",
                                on_click: {
                                    webix_dataview_item: function (t, e) {
                                        this.P.select && ("multiselect" == this.P.select || this.P.multiselect ? this.select(e, !1, "touch" == this.P.multiselect || t.ctrlKey || t.metaKey, t.shiftKey) : this.select(e));
                                    },
                                },
                                on_dblclick: {},
                                on_mouse_move: {},
                                type: {
                                    template: Ut("#value#"),
                                    templateLoading: Ut("Loading..."),
                                    width: 160,
                                    height: 50,
                                    padding: 8,
                                    classname: function (t, i, n) {
                                        var s = "webix_dataview_item";
                                        return i.css && (s += " " + i.css), i.type && (s += " " + i.type), t.$css && ("object" == e(t.$css) && (t.$css = lt(t.$css)), (s += " " + t.$css)), n && n.$css && (s += " " + n.$css), s;
                                    },
                                    aria: function (t, e, i) {
                                        return 'role="option"' + (i && i.webix_selected ? ' aria-selected="true" tabindex="0"' : ' tabindex="-1"');
                                    },
                                    templateStart: function (t, e, i) {
                                        var n = e.width,
                                            s = e.height,
                                            r = 0;
                                        return (
                                            "tiles" == e.type && ((n -= e.padding), (s -= e.padding), (r = e.padding / 2)),
                                            '<div webix_l_id="' + t.id + '" class="' + e.classname(t, e, i) + '" ' + e.aria(t, e, i) + ' style="margin:' + r + "px; width:" + n + "px; height:" + s + 'px; float:left; overflow:hidden;">'
                                        );
                                    },
                                    templateEnd: Ut("</div>"),
                                },
                                $dropHTML: function () {
                                    var t = this.YI;
                                    return '<div class="webix_drop_area_inner" style="width:'
                                        .concat(this.type.width - t, "px; height:")
                                        .concat(this.type.height - t, "px; margin:")
                                        .concat(t / 2, 'px"></div>');
                                },
                                qI: function (t) {
                                    return (this.P.height = this.type.height * Math.ceil(this.data.count() / Math.floor(t / this.type.width)));
                                },
                                autoheight_setter: function (t) {
                                    return t && (this.data.attachEvent("onStoreLoad", m(this.resize, this)), (this.Wi.style.overflowY = "hidden")), t;
                                },
                                $getSize: function (t, e) {
                                    this.P.xCount && "auto" != this.type.width && !this.GI && (this.P.width = this.type.width * this.P.xCount + this.YI + (this.ge ? G.scrollSize : 0)),
                                        this.P.yCount && "auto" != this.type.height && !this.XI && (this.P.height = this.type.height * this.P.yCount + this.YI);
                                    var i = this.P.width || this.me;
                                    return this.P.autoheight && i && (this.KI(), this.qI(i), this.scroll_setter(!1)), Re.api.$getSize.call(this, t, e);
                                },
                                KI: function () {
                                    return (
                                        this.P.yCount && (this.XI || "auto" == this.type.height) && ((this.type.height = Math.floor((this.we - this.YI) / this.P.yCount)), (this.XI = this.P.yCount)),
                                        this.P.xCount && (this.GI || "auto" == this.type.width) && ((this.type.width = Math.floor((this.me - this.YI) / this.P.xCount)), (this.GI = this.P.xCount)),
                                        this.XI || this.GI
                                    );
                                },
                                $setSize: function (t, e) {
                                    var i = this.P;
                                    if (Re.api.$setSize.call(this, t, e)) {
                                        if (i.autoheight && this.qI() != this.we) return b(this.resize, this);
                                        (this.KI() || this.Gf) && this.render();
                                    } else ((i.yCount && i.yCount != this.XI) || (i.xCount && i.xCount != this.GI)) && this.KI() && this.render();
                                },
                            });
                    t.protoUI(xa, li, vi, Ni, Mi, zi, Fi, ri, Yr.view),
                        (T.pager = {
                            first: "<span class='webix_icon wxi-angle-double-left'></span>",
                            last: "<span class='webix_icon wxi-angle-double-right'></span>",
                            next: "<span class='webix_icon wxi-angle-right'></span>",
                            prev: "<span class='webix_icon wxi-angle-left'></span>",
                        });
                    var _a = {
                            defaults: { size: 10, page: 0, group: 5, template: "{common.pages()}", maxWidth: 1e5, height: 30, borderless: !0 },
                            name: "pager",
                            on_click: {
                                webix_pager_item: function (t, e) {
                                    this.select(e);
                                },
                            },
                            $init: function (t) {
                                (this.data = this.P), (this.tt = this.Vt), (this.Vt.className += " webix_pager" + (t.autowidth ? " webix_pager_auto" : "")), (!1 !== t.master && 0 !== t.master) || this.$ready.push(this.JI);
                            },
                            JI: function () {
                                this.refresh(), (this.$master = { refresh: function () {}, select: function () {} });
                            },
                            select: function (t) {
                                if (this.$master && "pager" == this.$master.name) return this.$master.select(t);
                                switch (t) {
                                    case "next":
                                        t = this.P.page + 1;
                                        break;
                                    case "prev":
                                        t = this.P.page - 1;
                                        break;
                                    case "first":
                                        t = 0;
                                        break;
                                    case "last":
                                        t = this.P.limit - 1;
                                }
                                t < 0 && (t = 0), t >= this.data.limit && (t = this.data.limit - 1);
                                var e = this.data.page;
                                this.callEvent("onBeforePageChange", [t, e]) &&
                                    ((this.data.page = 1 * t), this.refresh() && ((this.P.animate && this.AC(e, 1 * t, this.P.animate)) || this.$master.refresh()), this.callEvent("onAfterPageChange", [t]));
                            },
                            Qo: "webix_p_id",
                            template_setter: Ut,
                            type: {
                                template: function (t, e) {
                                    return t.template.call(this, t, e);
                                },
                                pages: function (t) {
                                    var e = "";
                                    if (-1 == t.page) return "";
                                    (t.$min = t.page - Math.round((t.group - 1) / 2)),
                                        (t.$max = t.$min + 1 * t.group - 1),
                                        t.$min < 0 && ((t.$max += -1 * t.$min), (t.$min = 0)),
                                        t.$max >= t.limit && ((t.$min -= Math.min(t.$min, t.$max - t.limit + 1)), (t.$max = t.limit - 1));
                                    for (var i = t.$min || 0; i <= t.$max; i++) e += this.button({ id: i, index: i + 1, selected: i == t.page ? "_selected" : "", label: T.aria.page + " " + (i + 1) });
                                    return e;
                                },
                                page: function (t) {
                                    return t.page + 1;
                                },
                                first: function () {
                                    return this.button({ id: "first", index: T.pager.first, selected: "", label: T.aria.pages[0] });
                                },
                                last: function () {
                                    return this.button({ id: "last", index: T.pager.last, selected: "", label: T.aria.pages[3] });
                                },
                                prev: function () {
                                    return this.button({ id: "prev", index: T.pager.prev, selected: "", label: T.aria.pages[1] });
                                },
                                next: function () {
                                    return this.button({ id: "next", index: T.pager.next, selected: "", label: T.aria.pages[2] });
                                },
                                button: Ut("<button type='button' webix_p_id='{obj.id}' class='webix_pager_item{obj.selected}' aria-label='{obj.label}'>{obj.index}</button>"),
                            },
                            clone: function (t) {
                                t.$view || ((t.view = "pager"), (t = ne(t))), ((this.QI = t).$master = this).ZI();
                            },
                            refresh: function () {
                                var t = this.P;
                                t.limit = Math.ceil(t.count / t.size) || 1;
                                var e = Math.min(t.limit - 1, t.page);
                                return e != t.page
                                    ? this.$master.setPage(e)
                                    : (0 <= (t.page = e) && e != t.old_page) || t.limit != t.old_limit || t.old_count != t.count
                                    ? (this.render(), this.ZI(), (t.old_limit = t.limit), (t.old_page = t.page), (t.old_count = t.count), !0)
                                    : void 0;
                            },
                            apiOnly_setter: function (t) {
                                return (this.$apiOnly = t);
                            },
                            ZI: function () {
                                this.QI && ((this.QI.P.count = this.P.count), (this.QI.P.page = this.P.page), this.QI.refresh());
                            },
                            AC: function (e, i, n) {
                                if (e == i) return !1;
                                if (this.tA) return this.iA && window.clearTimeout(this.iA), (this.iA = b(this.AC, this, [e, i, n], 100));
                                var s = e < i ? "left" : "right";
                                ("top" != n.direction && "bottom" != n.direction) || (s = e < i ? "top" : "bottom"), n.flip && (s = "");
                                var r = 0,
                                    o = this.$master.tt,
                                    a = !!this.$master.st;
                                a && ((r = (o = this.$master.st).offsetTop), _t(this.$master.$view, "webix_animation"));
                                var l,
                                    h = o.cloneNode(!0);
                                (h.style.width = o.style.width = "100%"), this.$master.refresh(), ft(h, o.nextSibling, o.parentNode), a && (h.childNodes[1].scrollLeft = o.childNodes[1].scrollLeft);
                                var c = !0 !== n ? n : {},
                                    d = t.extend(
                                        {
                                            direction: s,
                                            callback: m(function () {
                                                (d.callback = null), We.breakLine(l), (this.tA = !1), this.$master.st && kt(this.$master.$view, "webix_animation");
                                            }, this),
                                            top: r,
                                            keepViews: a,
                                        },
                                        c
                                    );
                                (l = We.formLine(o, h, d)), We([o, h], d), (this.tA = !0);
                            },
                        },
                        ka =
                            (t.protoUI(_a, Ni, je, Re.view, E),
                            {
                                name: "comments",
                                defaults: { sendAction: "click", mode: "comments", highlight: !0 },
                                $init: function (t) {
                                    (this.$view.className += " webix_comments"),
                                        (this.Bt = []),
                                        (t.rows = [this.eA(t)]),
                                        t.moreButton || (t.moreButton = Ut(T.comments.moreComments)),
                                        t.readonly || (t.rows.push(this.sA(t)), this.nA()),
                                        this.hA(t.users),
                                        this.$ready.push(this.l$);
                                },
                                $exportView: function () {
                                    return this.rA;
                                },
                                l$: function () {
                                    var t = this;
                                    (this.rA = this.queryView("list")),
                                        (this.Zg = this.queryView("form")),
                                        (this.oA = this.queryView("button")),
                                        (this.aA = this.queryView({ localId: "textarea" })),
                                        this.config.mentions && this.uA(this.config.mentions),
                                        this.rA.data.provideApi(this, !0),
                                        (this.serialize = function () {
                                            var e = t.rA.serialize(),
                                                i = t.getIndexById("$more");
                                            return 0 <= i && e.splice(i, 1), e;
                                        }),
                                        this.P.readonly ||
                                            ((this.cA = A("onClick", function (e) {
                                                var i = ae(e);
                                                i == t.aA ? t.focus() : i === t.oA || i === t.fA || (t.lA && i === t.lA.getList()) || (e && -1 !== (e.target.className || "").toString().indexOf("webix_comments_menu")) || t.dA();
                                            })),
                                            this.attachEvent("onDestruct", function () {
                                                N(this.cA);
                                            }),
                                            this.rA.attachEvent("onAfterScroll", function () {
                                                t.fA.hide();
                                            }));
                                },
                                $onLoad: function (t, e) {
                                    return this.vA(t, e);
                                },
                                vA: function (t, e) {
                                    var i = this,
                                        n = this.rA || this.queryView({ view: "list" });
                                    n.data.driver = e;
                                    var s = !1;
                                    if (((t = "function" == typeof t.serialize ? t.serialize() : ((s = t.more), e.getRecords(t))), this._A)) {
                                        if (((this._A = !1), t.length)) {
                                            var r = n.data.order,
                                                o = 1;
                                            if ("chat" == this.P.mode) n.data.order = C([r[0]].concat(new Array(t.length), r.slice(1)));
                                            else {
                                                var a = n.getIndexById("$more");
                                                (n.data.order = C(r.slice(0, a).concat(new Array(t.length), r.slice(a)))), (o = a);
                                            }
                                            n.parse({ data: t, pos: o }),
                                                s &&
                                                    ui(this.rA).ignore(function () {
                                                        i.rA.updateItem("$more", { value: s });
                                                    }),
                                                "chat" == this.P.mode && n.showItem(n.getIdByIndex(t.length));
                                        }
                                        (t.length && s) ||
                                            ui(this.rA).ignore(function () {
                                                i.rA.remove("$more");
                                            });
                                    } else
                                        s && !n.exists("$more") && ((s = { id: "$more", value: s, $css: "webix_comments_more_item" }), "chat" == this.P.mode ? t.unshift(s) : t.push(s)),
                                            n.parse(t),
                                            "chat" == this.P.mode &&
                                                n.waitData.then(function () {
                                                    return n.showItem(n.getLastId());
                                                });
                                    return !0;
                                },
                                $skin: function () {
                                    Ss.api.$skin.call(this), (this.Pb = Ve.inputHeight + 6);
                                },
                                getUsers: function () {
                                    return this.pA;
                                },
                                getMenu: function () {
                                    return this.fA;
                                },
                                setCurrentUser: function (t) {
                                    (this.config.currentUser = t), this.Zg.clear(), this.rA.refresh();
                                },
                                edit: function (t) {
                                    if (!this.config.readonly && this.callEvent("onBeforeEditStart", [t])) {
                                        this.dA(!0);
                                        var e = this.rA.getItem(t);
                                        this.Zg.setValues(e), this.Zg.focus();
                                        var i = this.Zg.elements.text.getInputNode();
                                        (i.scrollTop = i.scrollHeight), It(i, e.text.length), this.callEvent("onAfterEditStart", [t]);
                                    }
                                },
                                bA: function (t) {
                                    var e = this.Zg.getValues();
                                    e.text &&
                                        (e.id ? this.updateItem(e.id, e) : (this.config.currentUser && (e.user_id = this.config.currentUser), (e.date = new Date()), this.add(e), this.rA.showItem(e.id)),
                                        this.Zg.clear(),
                                        t && (this.aA.getInputNode().value = ""));
                                },
                                mA: function (t) {
                                    this.Zg.getValues().id == t && this.Zg.clear(), this.remove(t);
                                },
                                dA: function (t) {
                                    if (!G.touch && !t != !this.gA) {
                                        var e = this.aA;
                                        (this.gA = t ? (this.oA.getParentView().show(), e.define({ height: 84 }), !0) : (ke.hasFocus(this.oA) && ke.setFocus(this.rA), this.oA.getParentView().hide(), e.define({ height: this.Pb }), !1)),
                                            e.resize();
                                    }
                                },
                                focus: function () {
                                    var t = this;
                                    this.dA(!0),
                                        b(function () {
                                            t.aA.focus();
                                        });
                                },
                                wA: function (t) {
                                    t || (t = this.aA.getValue()), t && !this.oA.isEnabled() ? this.oA.enable() : !t && this.oA.isEnabled() && this.oA.disable();
                                },
                                nA: function () {
                                    var t = this;
                                    (this.fA = ne({
                                        view: "contextmenu",
                                        autowidth: !0,
                                        point: !1,
                                        data: [
                                            { id: "edit", icon: "wxi-pencil", value: T.comments.edit },
                                            { id: "remove", icon: "wxi-trash", value: T.comments.remove },
                                        ],
                                        on: {
                                            onShow: function () {
                                                var e = t.fA.getContext();
                                                t.rA.addCss(e.id, "active_menu");
                                            },
                                            onHide: function () {
                                                var e = t.fA.getContext();
                                                t.rA.removeCss(e.id, "active_menu");
                                            },
                                            onItemClick: function (e) {
                                                var i = t.fA.getContext();
                                                t.callEvent("onBeforeMenuAction", [e, i.id]) &&
                                                    ("edit" == e
                                                        ? t.edit(i.id)
                                                        : "remove" == e &&
                                                          (T.comments.confirmMessage
                                                              ? Qn({
                                                                    text: T.comments.confirmMessage,
                                                                    callback: function (e) {
                                                                        e && t.mA(i.id);
                                                                    },
                                                                })
                                                              : t.mA(i.id)));
                                            },
                                        },
                                    })),
                                        this.Bt.push(this.fA);
                                },
                                sA: function (e) {
                                    var i = this,
                                        n = T.comments,
                                        s = {
                                            view: "textarea",
                                            localId: "textarea",
                                            css: "webix_comments_textarea",
                                            height: this.Pb,
                                            name: "text",
                                            placeholder: n.placeholder,
                                            keyPressTimeout: 100,
                                            on: {
                                                onTimedKeyPress: function () {
                                                    i.wA();
                                                },
                                                onChange: function (t) {
                                                    i.wA(t);
                                                },
                                                onKeyPress: function (t, e) {
                                                    if (13 == t) {
                                                        var n = i.P.sendAction,
                                                            s = e.shiftKey;
                                                        (("enter" == n && !s) || ("enter" !== n && s)) && (yt(e), i.bA(!0));
                                                    }
                                                },
                                            },
                                        };
                                    return (
                                        !1 !== e.highlight &&
                                            t.extend(
                                                s,
                                                {
                                                    view: "texthighlight",
                                                    type: "textarea",
                                                    highlight: function (t) {
                                                        return i.xA(Ut.escape(t), !0);
                                                    },
                                                },
                                                !0
                                            ),
                                        {
                                            view: "form",
                                            minHeight: 50,
                                            paddingX: 10,
                                            elements: [
                                                s,
                                                {
                                                    hidden: !G.touch,
                                                    cols: [
                                                        {},
                                                        {
                                                            view: "button",
                                                            disabled: !0,
                                                            css: "webix_comments_send webix_primary",
                                                            value: n.send,
                                                            autowidth: !0,
                                                            click: function () {
                                                                i.bA();
                                                            },
                                                        },
                                                    ],
                                                },
                                            ],
                                        }
                                    );
                                },
                                xA: function (t, e) {
                                    var i,
                                        n = this;
                                    if (-1 === t.indexOf("@")) return t;
                                    "users" === this.P.highlight && (i = (this.lA && this.lA.P.textValue) || "value");
                                    var s = e ? this.yA : this.MA;
                                    return t.replace(s, function (t, s, r, o) {
                                        return n.SA(t, o || s, i, e);
                                    });
                                },
                                SA: function (t, e, i, n) {
                                    return i &&
                                        !this.pA.find(function (t) {
                                            return t[i] == e;
                                        }, !0)
                                        ? t
                                        : '<span class="webix_comments_mention">'.concat(n ? t : "@" + e, "</span>");
                                },
                                eA: function (e) {
                                    var i = this,
                                        n = "webix_comments_",
                                        s = {
                                            height: "auto",
                                            templateStatus: function (t) {
                                                return "<span class = '" + n + "status " + t.status + "'></span>";
                                            },
                                            templateUser: function (t) {
                                                var e = i.getUsers(),
                                                    s = e && e.exists(t.user_id) ? e.getItem(t.user_id) : {};
                                                return "<span class = '" + n + "name'>" + (s.value || "") + "</span>";
                                            },
                                            templateMenu: function () {
                                                return i.config.readonly ? "" : "<span class='webix_icon wxi-dots " + n + "menu'></span>";
                                            },
                                            templateDate: function (t) {
                                                var e = ns.dateToStr("%d %M, %H:%i");
                                                return t.date ? "<span class='" + n + "date'>" + e(t.date) + "</span>" : "";
                                            },
                                            templateLinks: function (t) {
                                                return t.text.replace(/(https?:\/\/[^\s]+)/g, function (t) {
                                                    var e = "<a target='_blank' href='" + (t = Ut.escape(t)) + "'>";
                                                    return t.match(/.(jpg|jpeg|png|gif)$/) ? (e += "<img class='webix_comments_image' src='" + t + "'/>") : (e += t), e + "</a>";
                                                });
                                            },
                                            templateMentioned: function (t) {
                                                return i.xA(t.text);
                                            },
                                            templateText: function (t, e) {
                                                return i.P.mentions && i.P.highlight && ((t = f(t)).text = e.templateMentioned(t, e)), "<div class = '" + n + "message'>" + e.templateLinks(t) + "</div>";
                                            },
                                            templateAvatar: function (t, e) {
                                                var s = "<div class='" + n + "avatar'>",
                                                    r = i.getUsers(),
                                                    o = r && r.exists(t.user_id) ? r.getItem(t.user_id) : {};
                                                if ((o.status && (s += e.templateStatus(o)), (s += "<div class='" + n + "avatar_image "), o.image)) s += "'><img src = '" + o.image + "' class='" + n + "photo'>";
                                                else {
                                                    var a = o.value ? o.value[0].toUpperCase() : "<span class='webix_icon wxi-user'></span>";
                                                    s += n + "avatar_text'>" + a;
                                                }
                                                return s + "</div></div>";
                                            },
                                            template: function (t, e) {
                                                var n;
                                                if ("$more" == t.id) n = "<div class='webix_comments_more'>" + i.P.moreButton(t) + "</div>";
                                                else {
                                                    var s = e.templateAvatar(t, e),
                                                        r = e.templateUser(t, e),
                                                        o = e.templateDate(t, e);
                                                    n = s + r + e.templateMenu(t, e) + o + e.templateText(t, e);
                                                }
                                                return n;
                                            },
                                            classname: function (t, e, n) {
                                                var s = Gr.api.type.classname(t, e, n);
                                                return ((t.user_id && t.user_id == i.P.currentUser) || !i.pA.count()) && (s += " webix_comments_current"), s;
                                            },
                                        };
                                    s = t.extend(s, e.listItem || {}, !0);
                                    var r = {
                                        $init: function (t) {
                                            t.date && (t.date = T.parseFormatDate(t.date));
                                        },
                                    };
                                    e.scheme &&
                                        Object.keys(e.scheme).forEach(function (t) {
                                            r[t] = e.scheme[t];
                                        });
                                    var o = {
                                        view: "list",
                                        navigation: !1,
                                        type: s,
                                        scheme: r,
                                        onClick: {
                                            webix_comments_menu: function (t, e) {
                                                i.fA.isVisible() ? i.fA.hide() : (i.fA.setContext({ obj: i, id: e }), i.fA.show(t.target, s.menuPosition || { pos: "left", y: 30, x: 10 }));
                                            },
                                            webix_comments_more: function () {
                                                if (i.config.url && i.callEvent("onDataRequest", [])) {
                                                    i._A = !0;
                                                    var t = i.rA.getItem("$more").value,
                                                        e = "chat" == i.P.mode ? t : i.rA.getIndexById("$more"),
                                                        n = B.$parse(i.config.url),
                                                        s = {
                                                            error: function () {
                                                                i._A = !1;
                                                            },
                                                        };
                                                    "string" == typeof n && (n = n + (n.indexOf("?") < 0 ? "?" : "&") + "pos=" + e + "&more=" + t), i.load(n, s, { pos: e, more: t });
                                                }
                                            },
                                        },
                                    };
                                    return e.save && (o.save = e.save), o;
                                },
                                hA: function (t) {
                                    var e = this;
                                    t && t.getItem ? (this.pA = t) : ((this.pA = new Sr()), this.Bt.push(this.pA), t && "string" == typeof t ? this.pA.load(t) : this.pA.parse(t || [])),
                                        this.pA.data.attachEvent("onStoreUpdated", function () {
                                            return e.rA.refresh();
                                        });
                                },
                                uA: function (t) {
                                    var e = this,
                                        i = this.config.readonly;
                                    i || this.kA(t),
                                        this.config.highlight && (i || (this.yA = new RegExp("@((&quot;(.*?)&quot;)|([^\\s]{1,}))", "g")), (this.MA = new RegExp('@(("(.*?)")|([^\\s]{1,}))', "g"))),
                                        l.all([this.rA.waitData, this.pA.waitData]).then(function () {
                                            e.rA.refresh();
                                        }),
                                        this.rA.data.attachEvent("onStoreUpdated", function (t, i, n) {
                                            !t || ("add" !== n && "update" !== n) || e.CA(i);
                                        });
                                },
                                kA: function (i) {
                                    var n = "object" != e(i) ? {} : i;
                                    "object" !== e(n.body) ? (n.body = { data: this.pA }) : (n.body.data = this.pA), t.extend(n, { view: "mentionsuggest" }, !0);
                                    var s = this.aA.define("suggest", n);
                                    (this.aA.setValueHere = function (t, e, i) {
                                        return -1 != t.indexOf(" ") && (t = '"'.concat(t, '"')), Pr.api.setValueHere.apply(this, [t, e, i]);
                                    }),
                                        (this.lA = ae(s));
                                },
                                CA: function (t) {
                                    var e = this;
                                    if (-1 != t.text.indexOf("@")) {
                                        var i = (this.lA && this.lA.P.textValue) || "value",
                                            n = {};
                                        t.text.replace(this.MA, function (s, r, o, a) {
                                            var l = a || r,
                                                h = e.pA.find(function (t) {
                                                    return t[i] == l;
                                                }, !0);
                                            return h && !n[l] && (e.callEvent("onUserMentioned", [h.id, t.id]), (n[l] = !0)), s;
                                        });
                                    }
                                },
                            }),
                        Pa =
                            (t.protoUI(ka, Rt, Ss.view),
                            {
                                name: "timeline",
                                defaults: { scroll: "auto" },
                                $init: function (t) {
                                    var e = this,
                                        i = "x" === t.layout;
                                    if (i) {
                                        var n = t.type;
                                        (this.type.type = (n && n.type) || "top"), v(t.scroll) && (t.scroll = "x");
                                    }
                                    (this.Vt.className += i ? " webix_timeline_horizontal" : " webix_timeline"),
                                        (this.$blockRender = !0),
                                        this.data.provideApi(this, !0),
                                        this.data.attachEvent("onStoreUpdated", function (t, i, n) {
                                            return e.render(t, i, n);
                                        });
                                },
                                Qo: "webix_tl_id",
                                on_click: {},
                                $setSize: function (t, e) {
                                    (this.$blockRender = !1), Ae.api.$setSize.call(this, t, e) && this.refresh();
                                },
                                render: function (t, e, i) {
                                    if (this.isVisible(this.P.id) && !this.$blockRender) {
                                        if ("update" != i)
                                            return this.callEvent("onBeforeRender", [this.data]) && ((this.Ni = null), (this.tt.innerHTML = this.data.getRange().map(this.Q, this).join("")), this.callEvent("onAfterRender", [])), !0;
                                        var n = this.getItemNode(t);
                                        return ft((this.Ni[t] = this.gc(e)), n), pt(n), !0;
                                    }
                                },
                                Q: function (t) {
                                    this.callEvent("onItemRender", [t]);
                                    var e = this.getIndexById(t.id);
                                    return this.type.templateStart.call(this, t, this.type, e) + this.type.template.call(this, t, this.type, e) + this.type.templateEnd.call(this);
                                },
                                type: {
                                    type: "left",
                                    classname: function (t, i, n) {
                                        var s = "webix_timeline_item";
                                        return (
                                            "alternate" !== i.type
                                                ? (s += "  webix_timeline_" + i.type)
                                                : "x" == this.P.layout
                                                ? (s += " webix_timeline_" + (n % 2 ? "bottom" : "top"))
                                                : (s += " webix_timeline_" + (n % 2 ? "right" : "left")),
                                            i.css && (s += " " + i.css),
                                            t.$css && ("object" == e(t.$css) && (t.$css = lt(t.$css)), (s += " " + t.$css)),
                                            s
                                        );
                                    },
                                    lineColor: function (t) {
                                        return t.color;
                                    },
                                    templateValue: Ut("#value#"),
                                    templateDetails: function (t) {
                                        return t.details || "";
                                    },
                                    templateDate: function (t) {
                                        return ns.dateToStr("%d %M, %Y")(t.date);
                                    },
                                    template: function (t, e, i) {
                                        var n,
                                            s,
                                            r,
                                            o,
                                            a,
                                            l,
                                            h,
                                            c,
                                            d = Ve.dataPadding,
                                            u = "string" == typeof e.lineColor ? e.lineColor : e.lineColor(t, e),
                                            p = "stroke-width:".concat(2, "px; stroke:").concat(u || Ve.timelineColor, ";"),
                                            f = this.P.scroll ? G.scrollSize : 0,
                                            m = this.$width - 2 * d - f,
                                            g = this.$height - 2 * d - f,
                                            v = e.type,
                                            b = i + 1 == this.count(),
                                            y = 0,
                                            w = "",
                                            x = "",
                                            _ = e.templateDetails(t, e),
                                            k = e.templateValue(t, e);
                                        if ("x" == this.P.layout) {
                                            var P = (y = Ve.listItemHeight),
                                                S = y - 2 * d,
                                                C = g - y,
                                                I = y + 14 + d,
                                                T = "top",
                                                $ = _ ? 14 : 0;
                                            "bottom" == v
                                                ? ((C = (y = g - y) - $), (S = y + 14 + d), (I = g - y + P + 14 + d + 7), (T = "bottom"))
                                                : "alternate" == v && ((S = (y = Math.floor(0.5 * g)) - 2 * d), (I = y + 14 + d), (C = y - $), i % 2 && ((S = I), (I = y + P + 14 + d + 7), (T = "bottom"))),
                                                (w = "top:".concat(S, "px; height:").concat(P, "px;")),
                                                (x = "".concat(T, ":").concat(I, "px; height:auto; max-height:").concat(C, "px; width:inherit;")),
                                                (n = e.width + 14),
                                                (s = y + 14),
                                                (r = 15),
                                                (o = y),
                                                (a = e.width + 9 - 6 + d),
                                                (h = 9),
                                                (c = l = y);
                                        } else {
                                            y = Math.floor(0.35 * m);
                                            var E = d,
                                                D = Math.floor(0.65 * m) - 14,
                                                M = y + 14 + d,
                                                A = y - 14;
                                            "right" == v ? ((E = (y = m - M + 14 + d) + 14 + d), (M = d)) : "alternate" == v && ((M = (y = Math.floor(0.5 * m)) + 14 + d), (A = D = y - 14), i % 2 && ((E = M), (M = d))),
                                                (w = "left:".concat(E, "px; width:").concat(A, "px;")),
                                                (x = "left:"
                                                    .concat(M, "px; width:")
                                                    .concat(D, "px; height:")
                                                    .concat(e.height - d, "px;")),
                                                (n = y + 14),
                                                (s = e.height + 14),
                                                (o = 15),
                                                (a = r = y),
                                                (l = e.height + 9 - 6),
                                                (h = y),
                                                (c = 9);
                                        }
                                        return '<div style="'
                                            .concat(w, '" class="webix_timeline_date">')
                                            .concat(e.templateDate(t, e), '</div>\n\t\t\t\t\t<svg xmlns="http://www.w3.org/2000/svg" width="')
                                            .concat(n, 'px" height="')
                                            .concat(s, 'px">\n\t\t\t\t\t\t')
                                            .concat(b ? "" : '<line x1="'.concat(r, 'px" y1="').concat(o, '" x2="').concat(a, 'px" y2="').concat(l, '" class="webix_timeline_node" style="').concat(p, '"/>'), '\n\t\t\t\t\t\t<circle cx="')
                                            .concat(h, 'px" cy="')
                                            .concat(c, '" r="')
                                            .concat(6, '" class="webix_timeline_node webix_timeline_point" style="')
                                            .concat(p, ' fill:transparent;" />\n\t\t\t\t\t</svg>\n\t\t\t\t\t<div class="webix_timeline_event" style="')
                                            .concat(x, '">\n\t\t\t\t\t\t<div class="webix_timeline_value">')
                                            .concat(k, "</div>\n\t\t\t\t\t\t")
                                            .concat(_ ? '<div class="webix_timeline_details">'.concat(_, "</div>") : "", "\n\t\t\t\t\t</div>");
                                    },
                                    templateStart: function (t, e, i) {
                                        return "x" == this.P.layout
                                            ? "<div ".concat("webix_tl_id", '="', t.id, '" class="').concat(e.classname.call(this, t, e, i), '" style="width:').concat(e.width, 'px;">')
                                            : "<div ".concat("webix_tl_id", '="', t.id, '" class="').concat(e.classname.call(this, t, e, i), '" style="height:').concat(e.height, 'px;">');
                                    },
                                    templateEnd: Ut("</div>"),
                                },
                                templateValue_setter: function (t) {
                                    this.type.templateValue = Ut(t);
                                },
                                templateDetails_setter: function (t) {
                                    this.type.templateDetails = Ut(t);
                                },
                                templateDate_setter: function (t) {
                                    this.type.templateDate = Ut(t);
                                },
                                $skin: function () {
                                    (this.type.height = Ve.timelineItemHeight), (this.type.width = 3 * Ve.timelineItemHeight);
                                },
                            }),
                        Sa =
                            (t.protoUI(Pa, Fi, ji, mi, Ni, E, ze, Ae.view),
                            {
                                name: "menu",
                                Fm: "webix_menu",
                                $init: function (t) {
                                    t.autowidth && ((this.$A = !0), delete t.autowidth),
                                        this.data.attachEvent(
                                            "onStoreUpdated",
                                            m(function () {
                                                this.Mu();
                                            }, this)
                                        ),
                                        this.attachEvent("onMouseMove", this.DA),
                                        this.attachEvent("onMouseOut", function (t) {
                                            (this.IA() && "click" == this.P.openAction) || (!this.AA && t.relatedTarget && this.Mu());
                                        }),
                                        this.attachEvent("onItemClick", function (t, e, i) {
                                            var n = this.getItem(t);
                                            if (n) {
                                                if (n.$template) return;
                                                var s = this.getTopMenu();
                                                if (!s.callEvent("onMenuItemClick", [t, e, i])) return void (e.showpopup = s.P.id);
                                                this != s && s.mc(t, e, i), this.type.TA(n) || s.FA ? ((G.touch || (this === s && "click" == s.P.openAction)) && this.ku(t, i), (e.showpopup = s.P.id)) : (s.Mu(!0), s.VA && s.hide());
                                            }
                                        }),
                                        this.attachEvent("onKeyPress", function (t) {
                                            if (9 === t) this.getTopMenu().Mu();
                                            else if (13 === t || 32 === t) {
                                                var e,
                                                    i = this.getSelectedId();
                                                i && (e = this.getItemNode(i)), e && xt(e, "MouseEvents", "click");
                                            }
                                        }),
                                        this.data.attachEvent("onClearAll", function () {
                                            this.zA = [];
                                        }),
                                        (this.data.zA = []),
                                        this.Vt.setAttribute("role", "menubar"),
                                        (this.Bt = []);
                                },
                                sizeToContent: function () {
                                    if ("y" == this.P.layout) {
                                        var t = [],
                                            e = !1;
                                        this.data.each(function (i) {
                                            t.push(this.Q(i)), i.submenu && (e = !0);
                                        }, this),
                                            (this.config.width = Pt(t, this.$view.className).width + 16 + 2 + (e ? 15 : 0)),
                                            this.resize();
                                    }
                                },
                                getTopMenu: function () {
                                    for (var t = this; t.yu; ) t = ae(t.yu);
                                    return t;
                                },
                                Hm: function (t) {
                                    this.P.autoheight && (t = this.count());
                                    for (var e = this.count(), i = 0, n = 0; n < t; n++) {
                                        var s = this.data.pull[this.data.order[n]];
                                        s && "Separator" == s.$template ? ((i += 4), this.P.autoheight || t++) : (i += this.type.height);
                                    }
                                    return this.Mc(t && t < e, "y"), i;
                                },
                                on_mouse_move: {},
                                type: {
                                    TA: function (t) {
                                        return t.submenu || t.data || t.item;
                                    },
                                    css: "menu",
                                    width: "auto",
                                    aria: function (t, e, i) {
                                        return (
                                            'role="menuitem"' +
                                            (i && i.webix_selected ? ' aria-selected="true" tabindex="0"' : 'tabindex="-1"') +
                                            (e.TA(t) ? 'aria-haspopup="true"' : "") +
                                            (t.disabled ? ' aria-disabled="true"  webix_disabled="true"' : "")
                                        );
                                    },
                                    templateStart: function (t, e, i) {
                                        if ("Separator" === t.$template || "Spacer" === t.$template) return '<div webix_l_id="#id#" role="separator" tabindex="-1" class="webix_context_' + t.$template.toLowerCase() + '">';
                                        var n = (t.href ? " href='" + t.href + "' " : "") + (t.target ? " target='" + t.target + "' " : "");
                                        return Gr.api.type.templateStart(t, e, i).replace(/^<div/, "<a " + n) + (e.TA(t) && e.subsign ? "<div class='webix_submenu_icon'></div>" : "");
                                    },
                                    templateEnd: function (t) {
                                        return "Separator" === t.$template || "Spacer" === t.$template ? "</div>" : "</a>";
                                    },
                                    templateSeparator: Ut("<div class='sep_line'></div>"),
                                    templateSpacer: Ut("<div></div>"),
                                },
                                getMenu: function (t) {
                                    if (this.data.pull[t]) return this;
                                    for (var e in this.data.pull) {
                                        var i = this.getItem(e);
                                        if (i.submenu) {
                                            var n = this.BA(i).getMenu(t);
                                            if (n) return n;
                                        }
                                    }
                                },
                                getSubMenu: function (t) {
                                    var e = this.getMenu(t),
                                        i = e.getItem(t);
                                    return i.submenu ? e.BA(i) : null;
                                },
                                getMenuItem: function (t) {
                                    return this.getMenu(t).getItem(t);
                                },
                                BA: function (t) {
                                    var e = ae(t.submenu);
                                    return e || ((t.submenu = this.HA(t)), (e = ae(t.submenu))), e;
                                },
                                DA: function (t, e, i) {
                                    this.IA() && this.ku(t, i);
                                },
                                IA: function () {
                                    if (G.touch) return !1;
                                    var t = this.getTopMenu();
                                    if ("click" != t.P.openAction) return !0;
                                    var e = t.RA;
                                    return !(!e || !ae(e).isVisible());
                                },
                                ku: function (t, e) {
                                    var i = this.getItem(t);
                                    if (i && ((this.AA = null), this.RA && i.submenu != this.RA && this.Mu(!0), this.type.TA(i) && !this.config.hidden)) {
                                        var n = this.BA(i);
                                        if (!this.isItemEnabled(t)) return;
                                        n.show(e, { pos: this.P.subMenuPos }), (n.yu = this.P.id), (this.RA = i.submenu);
                                    }
                                },
                                disableItem: function (t) {
                                    var e = this.getMenu(t);
                                    e && e.Em(t, !0);
                                },
                                enableItem: function (t) {
                                    var e = this.getMenu(t);
                                    e && e.Em(t, !1);
                                },
                                isItemEnabled: function (t) {
                                    var e = this.getMenu(t);
                                    if (e) return Gr.api.isItemEnabled.apply(e, arguments);
                                },
                                EA: function (t, e) {
                                    var i = this.data;
                                    i.zA[t] != e &&
                                        ((i.zA[t] = e),
                                        i.filter(function (t) {
                                            return !i.zA[t.id];
                                        }),
                                        this.resize());
                                },
                                hideItem: function (t) {
                                    var e = this.getMenu(t);
                                    e && e.EA(t, !0);
                                },
                                showItem: function (t) {
                                    var e = this.getMenu(t);
                                    if (e) return e.EA(t, !1), Gr.api.showItem.call(e, t);
                                },
                                Mu: function (t) {
                                    if (this.RA) {
                                        var e = ae(this.RA);
                                        e.Mu && e.Mu(t), (!t && e.Xn) || (e.hide(), (this.RA = null));
                                    }
                                },
                                HA: function (e) {
                                    var i = { view: "submenu", data: this.type.TA(e) },
                                        n = this.getTopMenu().P.submenuConfig;
                                    n && t.extend(i, n, !0);
                                    var s = this.getMenuItem(e.id);
                                    s && s.config && t.extend(i, s.config, !0);
                                    var r = ne(i);
                                    return this.Bt.push(r), (r.yu = this), r.P.id;
                                },
                                Su: function (t, e, i) {
                                    var n = this.getItem(t);
                                    return "Separator" != n.$template && "Spacer" != n.$template && this.isItemEnabled(t) ? t : (t = this.getNextId(t, i) || null) && t != e ? this.Su(t, e, i) : e;
                                },
                                $skin: function () {
                                    Gr.api.$skin.call(this), (this.type.height = Ve.menuHeight);
                                },
                                defaults: { scroll: "", layout: "x", mouseEventDelay: 100, subMenuPos: "bottom" },
                            }),
                        Ca = { api: Sa, view: t.protoUI(Sa, Gr.view) },
                        Ia = {
                            name: "submenu",
                            $init: function () {
                                (this.$t = p(this.PA)),
                                    (this.$t.Ht = this).attachEvent("onMouseOut", function (t) {
                                        "click" != this.getTopMenu().P.openAction && (this.AA || this.Xn || !t.relatedTarget || this.hide());
                                    }),
                                    this.attachEvent("onMouseMoving", function () {
                                        this.yu && (ae(this.yu).AA = !0);
                                    }),
                                    this.attachEvent("onBeforeShow", function () {
                                        this.getTopMenu().$A && this.sizeToContent && !this.isVisible() && this.sizeToContent();
                                    }),
                                    this.tt.setAttribute("role", "menu");
                            },
                            $skin: function () {
                                Ca.api.$skin.call(this), tr.api.$skin.call(this), (this.type.height = Ve.menuHeight);
                            },
                            PA: {
                                $getSize: function (t, e) {
                                    var i = 1 * this.Ht.P.height,
                                        n = 1 * this.Ht.P.width,
                                        s = Ca.api.$getSize.call(this.Ht, t, e);
                                    return (this.Ht.P.height = i), (this.Ht.P.width = n), s;
                                },
                                $setSize: function (t, e) {
                                    this.Ht.P.scroll && (this.Ht.Tn.style.height = e + "px");
                                },
                                destructor: function () {
                                    this.Ht = null;
                                },
                            },
                            body_setter: function () {},
                            getChildViews: function () {
                                return [];
                            },
                            defaults: { width: 150, subMenuPos: "right", layout: "y", autoheight: !0 },
                            type: { height: Ve.menuHeight, subsign: !0 },
                        },
                        Ta = { api: Ia, view: t.protoUI(Ia, Ca.view, tr.view) },
                        $a = {
                            name: "sidemenu",
                            defaults: { animate: !0, position: "left", width: 200, borderless: !0 },
                            $init: function () {
                                this.$view.className += " webix_sidemenu";
                            },
                            $skin: function () {
                                tr.api.$skin.call(this), (this.defaults.padding = 0);
                            },
                            position_setter: function (t) {
                                var e = this.P.position;
                                return e && kt(this.$view, " webix_sidemenu_" + e), _t(this.$view, " webix_sidemenu_" + t), t;
                            },
                            $getSize: function () {
                                var t = ei.api.$getSize.apply(this, arguments);
                                return (this.jA = t);
                            },
                            $setSize: function (t, e) {
                                Re.api.$setSize.call(this, t, e),
                                    (t = this.me - 2 * this.P.padding),
                                    (e = this.we - 2 * this.P.padding),
                                    (this.Wi.style.padding = this.P.padding + "px"),
                                    (this.vn.style.display = "none"),
                                    (this.Tn.style.height = e + "px"),
                                    this.$t.$setSize(t, e);
                            },
                            show: function () {
                                if (!this.callEvent("onBeforeShow", arguments)) return !1;
                                (this.P.hidden = !1),
                                    (this.Vt.style.zIndex = me(this.P.zIndex)),
                                    (this.P.modal || this.Vn) && (this._n(!0), (this.Vn = null)),
                                    (this.Vt.style.display = "block"),
                                    this.Me(),
                                    this.P.position && this.Qt(),
                                    (this.Rn = 1),
                                    b(
                                        function () {
                                            this.Rn = 0;
                                        },
                                        this,
                                        [],
                                        G.touch ? 400 : 100
                                    ),
                                    this.config.autofocus && ((this.En = ke.getFocus()), ke.setFocus(this)),
                                    -1 == ee.kt.find(this) && ee.kt.push(this),
                                    this.callEvent("onShow", []);
                            },
                            Qt: function (t) {
                                var e,
                                    i,
                                    n,
                                    s,
                                    r,
                                    o = 0,
                                    a = 0,
                                    l = {};
                                (this.$view.style.position = "fixed"),
                                    (n = document.documentElement.offsetWidth),
                                    (s = document.documentElement.offsetHeight),
                                    (e = this.jA[0] || n),
                                    (i = this.jA[2] || s),
                                    "top" == (r = this.P.position) ? (e = n) : "right" == r ? ((i = s), (o = n - e)) : "bottom" == r ? ((e = n), (a = s - i)) : (i = s),
                                    (l = { left: o, top: a, width: e, height: i, maxWidth: n, maxHeight: s }),
                                    "function" == typeof this.P.state && this.P.state.call(this, l),
                                    (this.NA = l),
                                    this.$setSize(l.width, l.height),
                                    void 0 === t && this.LA()
                                        ? (kt(this.$view, "webix_animate"),
                                          this.AC[this.P.position].beforeShow.call(this, l),
                                          b(
                                              function () {
                                                  _t(this.$view, "webix_animate", !0);
                                              },
                                              this,
                                              null,
                                              1
                                          ),
                                          b(
                                              function () {
                                                  this.AC[this.P.position].show.call(this, l);
                                              },
                                              this,
                                              null,
                                              10
                                          ))
                                        : ("right" === this.P.position && (l.left = l.right ? n - l.width - l.right : n - l.width), this.setPosition(l.left, l.top));
                            },
                            NA: {},
                            LA: function () {
                                return We.isSupported() && this.P.animate && !(G.isIE && -1 != navigator.appVersion.indexOf("MSIE 9"));
                            },
                            hidden_setter: function (t) {
                                return t ? this.hide() : this.show(), !!t;
                            },
                            AC: {
                                left: {
                                    beforeShow: function (t) {
                                        (this.$view.style.left = -t.width + "px"), (this.$view.style.top = t.top + "px");
                                    },
                                    show: function (t) {
                                        this.$view.style.left = t.left ? t.left + "px" : "0px";
                                    },
                                    hide: function (t) {
                                        this.$view.style.left = -t.width + "px";
                                    },
                                },
                                right: {
                                    beforeShow: function (t) {
                                        (this.$view.style.left = "auto"), (this.$view.style.right = -t.width + "px"), (this.$view.style.top = t.top + "px");
                                    },
                                    show: function (t) {
                                        this.$view.style.right = t.right ? t.right + "px" : "0px";
                                    },
                                    hide: function (t) {
                                        this.$view.style.right = -t.width + "px";
                                    },
                                },
                                top: {
                                    beforeShow: function (t) {
                                        this.setPosition(t.left, t.top), (this.$view.style.height = "0px"), (this.Tn.style.height = "0px");
                                    },
                                    show: function (t) {
                                        (this.$view.style.height = t.height + "px"), (this.Tn.style.height = t.height + "px");
                                    },
                                    hide: function () {
                                        (this.$view.style.height = "0px"), (this.Tn.style.height = "0px");
                                    },
                                },
                                bottom: {
                                    beforeShow: function (t) {
                                        (this.$view.style.left = t.left + "px"), (this.$view.style.top = "auto");
                                        var e = null != t.bottom ? t.bottom : t.maxHeight - t.top - t.height;
                                        (this.$view.style.bottom = e + "px"), (this.$view.style.height = "0px");
                                    },
                                    show: function (t) {
                                        this.$view.style.height = t.height + "px";
                                    },
                                    hide: function () {
                                        this.$view.style.height = "0px";
                                    },
                                },
                            },
                            Nn: function () {
                                var t = document.documentElement.offsetWidth,
                                    e = document.documentElement.offsetHeight;
                                if (this.LA() && t == this.NA.maxWidth && e == this.NA.maxHeight) {
                                    this.AC[this.P.position].hide.call(this, this.NA);
                                    var i = Jt(
                                        this.$view,
                                        G.transitionEnd,
                                        m(function () {
                                            this.Ln(), Qt(i);
                                        }, this)
                                    );
                                } else this.Ln();
                            },
                        },
                        Ea =
                            (t.protoUI($a, tr.view),
                            {
                                name: "sidebar",
                                defaults: { type: "sideBar", activeTitle: !0, select: !0, scroll: !1, collapsed: !1, collapsedWidth: 44, position: "left", width: 250, mouseEventDelay: 10 },
                                $skin: function () {
                                    this.defaults.titleHeight = Ve.sidebarTitleHeight;
                                },
                                $init: function (t) {
                                    (this.$view.className += " webix_sidebar"),
                                        this.$ready.push(this.OA),
                                        this.$ready.push(this.WA),
                                        (this.data.Rr = function (t) {
                                            t.data ? (t.menu = f(t.data)) : t.item && (t.menu = f(t.item.length ? t.item : [t.item]));
                                        }),
                                        (t.multiselect = !1);
                                },
                                on_context: {},
                                on_mouse_move: {},
                                OA: function () {
                                    (this.UA = this.config.width),
                                        this.attachEvent("onBeforeOpen", function (t) {
                                            if (!this.config.multipleOpen) for (var e = this.getOpenItems(), i = 0; i < e.length; i++) this.getParentId(t) == this.getParentId(e[i]) && this.close(e[i]);
                                            return !this.config.collapsed;
                                        }),
                                        this.attachEvent("onItemClick", function (t, e, i) {
                                            var n = this.getPopup();
                                            n && !n.config.hidden && (e.showpopup = n.config.id), G.touch && this.YA(t, i);
                                        }),
                                        this.attachEvent("onBeforeSelect", function (t) {
                                            return !this.getItem(t).$count && (this.clearCss("webix_sidebar_selected"), !0);
                                        }),
                                        this.attachEvent("onAfterSelect", function (t) {
                                            this.qA(this, t, !Ve.sidebarMarkAll), this.getPopup().GA(t);
                                        }),
                                        this.attachEvent("onAfterUnSelect", function () {
                                            this.clearCss("webix_sidebar_selected");
                                        }),
                                        this.attachEvent("onMouseMove", function (t, e, i) {
                                            this.YA(t, i);
                                        }),
                                        this.attachEvent("onMouseOut", function () {
                                            this.config.collapsed && (this.getPopup().masterId = null);
                                        }),
                                        this.config.collapsed && this.collapse();
                                },
                                YA: function (t, e) {
                                    if (this.config.collapsed) {
                                        var i = this.getPopup();
                                        i && (this.XA(t, i), this.KA(t, i), (i.masterId = t), i.show(e, { x: "left" == this.config.position ? this.config.collapsedWidth : -i.config.width, y: -1 }));
                                    }
                                },
                                XA: function (t, e) {
                                    var i = e.getBody().getChildViews()[0];
                                    i && e.masterId != t && (i.parse(this.getItem(t)), this.getSelectedId() == t ? _t(i.$view, "webix_selected", !0) : kt(i.$view, "webix_selected"));
                                },
                                KA: function (t, e) {
                                    var i = e.getBody().getChildViews()[1];
                                    if (i && e.masterId != t) {
                                        this.exists(e.masterId) && this.getItem(e.masterId).menu && this.updateItem(e.masterId, { menu: i.data.serialize() }), i.clearCss("webix_sidebar_selected"), i.unselectAll();
                                        var n = f(this.getItem(t).menu || []);
                                        if (n.length) {
                                            i.show(), i.data.importData(n);
                                            var s = this.getSelectedId();
                                            i.exists(s) ? i.select(s) : s && this.qA(i, s);
                                        } else i.hide(), i.data.clearAll();
                                    }
                                },
                                WA: function () {
                                    var e,
                                        i = this,
                                        n = i.config;
                                    if ((n.popup && (e = ae(n.popup)), !e)) {
                                        var s = "left" == n.position ? "webix_sidebar_popup_left" : "webix_sidebar_popup_right",
                                            r = "left" == n.position ? "right" : "left",
                                            o = function (t) {
                                                var e = "wxi-angle-" + ("left" == n.position ? "right" : "left");
                                                return (t.submenu || t.data || t.item ? '<div class="webix_icon ' + e + '"></div>' : "") + t.value;
                                            },
                                            a = n.css ? " " + n.css : "",
                                            l = {
                                                view: "popup",
                                                css: "webix_sidebar_popup " + s + a,
                                                autofit: !1,
                                                width: this.UA - this.config.collapsedWidth,
                                                borderless: !0,
                                                padding: 0,
                                                body: {
                                                    rows: [
                                                        {
                                                            view: "template",
                                                            borderless: !0,
                                                            css: "webix_sidebar_popup_title",
                                                            template: "#value#",
                                                            height: this.config.titleHeight + 2,
                                                            onClick: {
                                                                webix_template: function () {
                                                                    var t = this.getValues().id;
                                                                    i.getItem(t).$count || i.select(t);
                                                                },
                                                            },
                                                        },
                                                        {
                                                            view: "menu",
                                                            submenu: "data",
                                                            layout: "y",
                                                            subMenuPos: r,
                                                            select: !0,
                                                            borderless: !0,
                                                            autoheight: !0,
                                                            css: "webix_sidebar_popup_list " + s + a,
                                                            template: o,
                                                            type: { subsign: !1 },
                                                            submenuConfig: {
                                                                padding: 0,
                                                                subMenuPos: r,
                                                                template: o,
                                                                select: !0,
                                                                type: { subsign: !1 },
                                                                css: "webix_sidebar_popup_list " + s + a,
                                                                on: {
                                                                    onShow: function () {
                                                                        this.clearCss("webix_sidebar_selected"), this.unselectAll();
                                                                        var t = i.getSelectedId();
                                                                        t && this.exists(t) ? this.select(t) : t && i.qA(this, t);
                                                                    },
                                                                    onBeforeSelect: function (t) {
                                                                        if (this.getSubMenu(t)) return !1;
                                                                    },
                                                                    onAfterSelect: function (t) {
                                                                        for (var e = i.getPopup().queryView({ view: "menu" }), n = i.getParentId(t); n; ) {
                                                                            var s = e.getMenu(n);
                                                                            s && (s.unselectAll(), i.qA(s, t)), (n = i.getParentId(n));
                                                                        }
                                                                        i.qA(this, t);
                                                                    },
                                                                },
                                                            },
                                                            on: {
                                                                onBeforeSelect: function (t) {
                                                                    if (this.getSubMenu(t)) return !1;
                                                                },
                                                                onMenuItemClick: function (t) {
                                                                    this.getSubMenu(t) || i.select(t);
                                                                },
                                                            },
                                                        },
                                                    ],
                                                },
                                            };
                                        t.extend(l, n.popup || {}, !0),
                                            ((e = ne(l)).GA = function (t) {
                                                if (i.config.collapsed && 1 == i.getItem(t).$level) {
                                                    var n = e.getBody().getChildViews()[0];
                                                    n && _t(n.$view, "webix_selected", !0);
                                                }
                                            }),
                                            (e.queryView({ view: "menu" }).FA = !0);
                                    }
                                    e.attachEvent("onBeforeShow", function () {
                                        return n.collapsed;
                                    }),
                                        (this.Bt = [e]),
                                        (n.popupId = e.config.id),
                                        Zt(
                                            document.body,
                                            "mousemove",
                                            function (t) {
                                                var i = t.target;
                                                e.config.hidden || e.$view.contains(i) || this.$view.firstChild.contains(i) || e.queryView({ view: "menu" }).RA || e.hide();
                                            },
                                            { bind: this }
                                        );
                                },
                                qA: function (t, e, i) {
                                    var n = "webix_sidebar_selected";
                                    t.data.each(function (s) {
                                        !this.JA(e, s.id) || (i && "0" != this.getParentId(s.id)) ? t.hasCss(s.id, n) && t.removeCss(s.id, n) : t.addCss(s.id, n);
                                    }, this);
                                },
                                JA: function (t, e) {
                                    var i = this.getParentId(t);
                                    return e == i || (!!i && this.JA(i, e));
                                },
                                getPopup: function () {
                                    return ae(this.config.popupId);
                                },
                                position_setter: function (t) {
                                    var e = t,
                                        i = "left" == t ? "right" : "left";
                                    kt(this.$view, "webix_sidebar_" + i), _t(this.$view, "webix_sidebar_" + e, !0);
                                    var n = this.getPopup();
                                    if (n) {
                                        var s = n.$view;
                                        kt(s, "webix_sidebar_popup_" + i), _t(s, "webix_sidebar_popup_" + e, !0);
                                    }
                                    return t;
                                },
                                select: function (t) {
                                    t && (P(t) && (t = t.pop()), ya.api.select.call(this, t));
                                },
                                selectAll: function () {},
                                collapse: function () {
                                    this.define("collapsed", !0);
                                },
                                expand: function () {
                                    this.define("collapsed", !1);
                                },
                                toggle: function () {
                                    var t = !this.config.collapsed;
                                    this.define("collapsed", t);
                                },
                                collapsed_setter: function (t) {
                                    var e;
                                    return (
                                        t
                                            ? ((e = this.config.collapsedWidth), this.closeAll(), (this.type.collapsed = !0), kt(this.$view, "webix_sidebar_expanded"))
                                            : ((e = this.UA), (this.type.collapsed = !1), _t(this.$view, "webix_sidebar_expanded", !0)),
                                        this.define("width", e),
                                        this.resize(),
                                        t
                                    );
                                },
                                getState: function () {
                                    var e = { collapsed: this.config.collapsed };
                                    return t.extend(e, an.getState.call(this)), e;
                                },
                                setState: function (t) {
                                    an.setState.call(this, t), this.define("collapsed", t.collapsed);
                                },
                            });
                    te(ya.view, {
                        name: "sideBar",
                        height: "auto",
                        template: function (t, e) {
                            return e.collapsed ? e.icon(t, e) : e.arrow(t, e) + e.icon(t, e) + "<span>" + t.value + "</span>";
                        },
                        arrow: function (t) {
                            for (var e = "", i = 1; i <= t.$level; i++) i == t.$level && t.$count && (e += "<span class='webix_sidebar_dir_icon webix_icon wxi-angle-" + (t.open ? "down" : "left") + "'></span>");
                            return e;
                        },
                        icon: function (t) {
                            var e = "";
                            return 2 < t.$level && (e = 'style="padding-left:' + 40 * (t.$level - 2) + 'px"'), t.icon ? "<span class='webix_icon webix_sidebar_icon " + t.icon + "' " + e + "></span>" : "<span " + e + "></span>";
                        },
                    }),
                        t.protoUI(Ea, ya.view),
                        t.protoUI({ name: "context" }, ii, tr.view);
                    var Da = {
                            name: "contextmenu",
                            VA: !0,
                            $init: function (e) {
                                e.submenuConfig && t.extend(e, e.submenuConfig);
                            },
                        },
                        Ma =
                            (t.protoUI(Da, ii, Ta.view),
                            {
                                name: "treetable",
                                $init: function () {
                                    for (var e in (t.extend(this.data, pn, !0), t.extend(this.type, mn), t.extend(this, cn, !0), ln)) this.on_click[e] || (this.on_click[e] = this.ZA(ln[e]));
                                    (this.type.treetable = Ut("{common.space()}{common.icon()} {common.folder()}")),
                                        (this.type.treecheckbox = function (t) {
                                            return t.indeterminate && !t.nocheckbox ? "<div class='webix_tree_checkbox webix_indeterminate'></div>" : mn.checkbox.apply(this, arguments);
                                        }),
                                        this.data.provideApi(this, !0),
                                        this.Vt.setAttribute("role", "treegrid");
                                },
                                Go: !1,
                                ZA: function (t) {
                                    return function (e, i) {
                                        return (i = i.row), t.call(this, e, i);
                                    };
                                },
                                Yo: function (t) {
                                    for (var e = this.P.prerender ? t.source : [t.start], i = 0; i < e.length; i++) this.close(e[i]);
                                },
                                getState: function () {
                                    var e = gi.getState.call(this);
                                    return t.extend(e, an.getState.call(this)), e;
                                },
                                setState: function (t) {
                                    an.setState.call(this, t) && gi.setState.call(this, t);
                                },
                                clipboard_setter: function (e) {
                                    return t.extend(this.Zn, fn), on.clipboard_setter.call(this, e);
                                },
                                hl: function (t, e) {
                                    for (var i = 0; i < t.start; i++) {
                                        var n = this.data.order[i];
                                        n && 1 != this.getItem(n).$level && t.start--;
                                    }
                                    return Oo.api.hl.call(this, t, e);
                                },
                            }),
                        Aa =
                            (t.protoUI(Ma, an, un, hn, Oo.view),
                            {
                                name: "filter",
                                $init: function (t) {
                                    (t.mode = t.mode || "number"), (this.P.conditions = t.conditions), (this.P.mode = this.mode_setter(t.mode)), delete t.mode, (t.rows = this.QA(t)), this.$ready.push(this.l$);
                                },
                                $onLoad: function (t, e) {
                                    return this.vA(t, e);
                                },
                                vA: function (t, e) {
                                    var i = this,
                                        n = this.rA || this.queryView("list");
                                    n.data.driver = e;
                                    var s = [],
                                        r = {};
                                    if (
                                        ("function" == typeof t.serialize
                                            ? (t.data && "DataStore" == t.data.name && (t = t.data),
                                              t.each(function (t) {
                                                  return i.tT(t, s, r);
                                              }))
                                            : e.getRecords(t).forEach(function (t) {
                                                  return i.tT(t, s, r);
                                              }),
                                        n.clearAll(),
                                        n.parse(s),
                                        this.rA)
                                    ) {
                                        var o = this.P.value.includes;
                                        this.iT(), this.eT(o);
                                    }
                                    return !0;
                                },
                                tT: function (t, e, i) {
                                    var n = t[this.P.field];
                                    v(n) || i[n] || ((i[n] = !0), e.push(f(t)));
                                },
                                l$: function () {
                                    var t = this;
                                    (this.rA = this.queryView("list")),
                                        (this.uv = this.queryView("toggle")),
                                        (this.Fo = this.queryView("richselect")),
                                        (this.aA = this.queryView({ batch: this.sT })),
                                        this.rA.data.provideApi(this, !0),
                                        this.rA.data.attachEvent("onSyncApply", function () {
                                            return t.vA(t.rA, t.rA.data.driver);
                                        }),
                                        this.setValue(this.P.value, !0);
                                },
                                mode_setter: function (t) {
                                    if ((this.nT[t], (this.hT = this.rT(this.P.conditions, t)), this.aA)) {
                                        var e = this.Fo.getList();
                                        e.clearAll(), e.parse(this.hT), (this.Fo.config.value = ""), this.Fo.setValue(this.hT[0].id);
                                    } else this.sT = this.hT[0].batch;
                                    return t;
                                },
                                QA: function (t) {
                                    var e = this,
                                        n = this.oT(t.inputs);
                                    return [
                                        {
                                            visibleBatch: this.sT,
                                            cols: [
                                                {
                                                    view: "richselect",
                                                    value: this.hT[0].id,
                                                    width: 160,
                                                    options: this.hT,
                                                    on: {
                                                        onChange: function (t) {
                                                            e.aT(t), e.applyFilter();
                                                        },
                                                    },
                                                },
                                            ].concat(i(n)),
                                        },
                                        {
                                            view: "toggle",
                                            batch: "includes",
                                            onLabel: T.combo.unselectAll,
                                            offLabel: T.combo.selectAll,
                                            value: !0,
                                            on: {
                                                onItemClick: function () {
                                                    e.uT(e.uv.getValue()), e.callEvent("onChange", []);
                                                },
                                            },
                                        },
                                        {
                                            view: "list",
                                            batch: "includes",
                                            css: "webix_multilist",
                                            autoheight: !0,
                                            borderless: !0,
                                            yCount: 5,
                                            type: "checklist",
                                            template: t.template || "#".concat(t.field, "#"),
                                            on: {
                                                onItemClick: function (t) {
                                                    var i = e.rA.getItem(t);
                                                    e.rA.updateItem(t, { $checked: !i.$checked }), (e.P.value.includes = e.cT()), e.fT(e.uv, e.bw()), e.callEvent("onChange", []);
                                                },
                                            },
                                        },
                                    ];
                                },
                                oT: function (t) {
                                    var e = this;
                                    t = t || Object.keys(this.di);
                                    for (var i = 0; i < t.length; i++)
                                        if (this.di[t[i]]) {
                                            if (((t[i] = f(this.di[t[i]])), t[i].on)) {
                                                var n = t[i].on;
                                                for (var s in n)
                                                    n[s] = function () {
                                                        return e.applyFilter();
                                                    };
                                            }
                                        } else t[i] && t[i].batch;
                                    return t;
                                },
                                di: {
                                    text: { view: "text", batch: "text", on: { onTimedKeyPress: !0 } },
                                    datepicker: { view: "datepicker", batch: "datepicker", on: { onChange: !0 } },
                                    daterangepicker: { view: "daterangepicker", batch: "daterangepicker", on: { onChange: !0 } },
                                    none: { view: "spacer", batch: "none" },
                                },
                                lT: {
                                    number: us.number,
                                    text: us.text,
                                    date: {
                                        greater: { batch: "datepicker", handler: us.date.greater },
                                        less: { batch: "datepicker", handler: us.date.less },
                                        greaterOrEqual: { batch: "datepicker", handler: us.date.greaterOrEqual },
                                        lessOrEqual: { batch: "datepicker", handler: us.date.lessOrEqual },
                                        equal: { batch: "datepicker", handler: us.date.equal },
                                        notEqual: { batch: "datepicker", handler: us.date.notEqual },
                                        between: { batch: "daterangepicker", handler: us.date.between },
                                        notBetween: { batch: "daterangepicker", handler: us.date.notBetween },
                                    },
                                },
                                nT: {
                                    number: ["greater", "less", "greaterOrEqual", "lessOrEqual", "equal", "notEqual", "contains", "notContains"],
                                    text: ["contains", "notContains", "equal", "notEqual", "beginsWith", "notBeginsWith", "endsWith", "notEndsWith"],
                                    date: ["greater", "less", "greaterOrEqual", "lessOrEqual", "equal", "notEqual", "between", "notBetween"],
                                },
                                rT: function (t, e) {
                                    t = t || this.nT[e];
                                    for (var i = [], n = 0; n < t.length; n++) {
                                        var s = this.dT(t[n], e);
                                        i.push(s);
                                    }
                                    return i;
                                },
                                dT: function (e, i) {
                                    if (e && "function" == typeof e.handler) return e;
                                    if (this.lT[i][e]) {
                                        var n = { id: e, value: T.filter[e] },
                                            s = "function" == typeof this.lT[i][e] ? { batch: "text", handler: this.lT[i][e] } : this.lT[i][e];
                                        return t.extend(n, s, !0);
                                    }
                                    return null;
                                },
                                vT: function (t) {
                                    for (var e = 0; e < this.hT.length; e++) if (this.hT[e].id == t) return this.hT[e];
                                },
                                cT: function () {
                                    var t = this,
                                        e = [];
                                    return (
                                        this.rA.data.each(function (i) {
                                            i.$checked && e.push(i[t.P.field]);
                                        }),
                                        e.length == this.rA.count() ? null : e
                                    );
                                },
                                getValue: function () {
                                    return { condition: { filter: this.aA.getValue ? this.aA.getValue() || "" : null, type: this.Fo.getValue() }, includes: this.cT() };
                                },
                                bw: function () {
                                    for (var t = this.rA.data.order, e = 0; e < t.length; e++) if (!this.getItem(t[e]).$checked) return !1;
                                    return !0;
                                },
                                $compareValue: function (t, e) {
                                    if (!t || t.condition.type !== e.condition.type || t.condition.filter !== e.condition.filter) return !1;
                                    if (t.includes && e.includes) {
                                        if (t.includes.length !== e.includes.length) return !1;
                                        for (var i = {}, n = 0; n < t.includes.length; n++) i[t.includes[n]] = !0;
                                        for (var s = 0; s < e.includes.length; s++) if (!i[e.includes[s]]) return !1;
                                        return !0;
                                    }
                                    return t.includes === e.includes;
                                },
                                setValue: function (t, e) {
                                    if (((t = this.$prepareValue(t)), !this.$compareValue(this.P.value, t))) {
                                        var i = t.condition,
                                            n = t.includes;
                                        this.aT(i.type), this.fT(this.aA, i.filter), this.fT(this.Fo, i.type), this.iT(), this.eT(n), this.fT(this.uv, this.bw()), (this.P.value = t), e || this.callEvent("onChange");
                                    }
                                },
                                eT: function (t) {
                                    var e = this.P.field;
                                    this.rA.data.each(function (i) {
                                        i.$checked = !t || -1 != t.indexOf(i[e]);
                                    }),
                                        this.rA.refresh();
                                },
                                fT: function (t, e) {
                                    t.setValue && (t.blockEvent(), t.setValue(e), t.unblockEvent());
                                },
                                $prepareValue: function (t) {
                                    return ((t = t || {}).condition = t.condition || { filter: "", type: this.hT[0].id }), (t.includes = t.includes || null), t;
                                },
                                iT: function () {
                                    var t = this.aA.getValue ? this.aA.getValue() || "" : null;
                                    if ("" === t) this.rA.filter();
                                    else {
                                        var e = this.P.field,
                                            i = this.vT(this.Fo.getValue()).handler;
                                        this.rA.filter(function (n) {
                                            return i(n[e], t);
                                        });
                                    }
                                    this.showBatch("includes", !!this.rA.count());
                                },
                                aT: function (t) {
                                    var e = this.vT(t).batch;
                                    e != this.sT && ((this.sT = e), (this.aA = this.queryView({ batch: e })), this.aA.setValue && this.aA.setValue(""), this.aA.getParentView().showBatch(e));
                                },
                                applyFilter: function () {
                                    this.iT(), this.fT(this.uv, !0), this.uT(!0), this.callEvent("onChange");
                                },
                                uT: function (t) {
                                    this.rA.data.each(function (e) {
                                        e.$checked = t;
                                    }),
                                        this.rA.refresh(),
                                        (this.P.value = this.getValue());
                                },
                                getFilterFunction: function () {
                                    var t = this.P.field,
                                        e = "date" == this.P.mode,
                                        i = this.getValue(),
                                        n = i.includes,
                                        s = i.condition,
                                        r = this.vT(s.type).handler;
                                    return (
                                        n &&
                                            e &&
                                            (n = n.map(function (t) {
                                                return t.valueOf();
                                            })),
                                        function (i) {
                                            var o = i[t];
                                            return n ? -1 != n.indexOf(e ? o.valueOf() : o) : "" === s.filter || r(o, s.filter);
                                        }
                                    );
                                },
                            }),
                        Na =
                            (t.protoUI(Aa, Rt, Ss.view),
                            t.proto(
                                {
                                    name: "DataRecord",
                                    isVisible: function () {
                                        return !0;
                                    },
                                    $init: function (t) {
                                        this.data = t || {};
                                        var e = t && t.id ? t.id : x();
                                        (this.P = { id: e }), (ne.views[e] = this);
                                    },
                                    getValues: function () {
                                        return this.data;
                                    },
                                    setValues: function (e, i) {
                                        (this.data = i ? t.extend(this.data, e, !0) : e), this.callEvent("onChange", [e]);
                                    },
                                    refresh: function () {
                                        this.callEvent("onBindRequest");
                                    },
                                },
                                E,
                                Ee,
                                Rt,
                                Pe
                            )),
                        Oa = t.proto(
                            {
                                name: "DataValue",
                                isVisible: function () {
                                    return !0;
                                },
                                $init: function (t) {
                                    (t && !v(t.value)) || (this.data = t || "");
                                    var e = t && t.id ? t.id : x();
                                    (this.P = { id: e }), (ne.views[e] = this);
                                },
                                setValue: function (t) {
                                    (this.data = t), this.callEvent("onChange", [t]);
                                },
                                getValue: function () {
                                    return this.data;
                                },
                                refresh: function () {
                                    this.callEvent("onBindRequest");
                                },
                            },
                            E,
                            Ee
                        ),
                        Ra = t.proto(
                            {
                                name: "TreeCollection",
                                $init: function () {
                                    t.extend(this.data, pn, !0), this.data.provideApi(this, !0), t.extend(this, cn, !0);
                                },
                            },
                            hn,
                            Sr
                        );
                    (t.Date = ns),
                        (t.Number = ss),
                        (t.promise = l),
                        (t.DataCollection = Sr),
                        (t.DataRecord = Na),
                        (t.DataValue = Oa),
                        (t.TreeCollection = Ra),
                        (t.AtomDataLoader = Rt),
                        (t.AtomRender = Gt),
                        (t.AutoScroll = qt),
                        (t.AutoTooltip = ze),
                        (t.BaseBind = Ee),
                        (t.BindSource = $e),
                        (t.Canvas = He),
                        (t.CodeParser = Vt),
                        (t.CollectionBind = Ce),
                        (t.ContextHelper = ii),
                        (t.CopyPaste = si),
                        (t.CustomPrint = ri),
                        (t.CustomScroll = oi),
                        (t.DataMarks = ai),
                        (t.DataMove = li),
                        (t.DataLoader = mi),
                        (t.DataState = gi),
                        (t.DataStore = fi),
                        (t.Destruction = Se),
                        (t.DragControl = Xe),
                        (t.DragItem = vi),
                        (t.DragOrder = bi),
                        (t.EditAbility = Pi),
                        (t.EventSystem = E),
                        (t.FlexLayout = Si),
                        (t.Group = Ti),
                        (t.GroupMethods = Ci),
                        (t.GroupStore = Ii),
                        (t.HTMLOptions = $i),
                        (t.HtmlMap = Ei),
                        (t.IdSpace = Di),
                        (t.KeysNavigation = Mi),
                        (t.MapCollection = Ai),
                        (t.Modality = Je),
                        (t.MouseEvents = Ni),
                        (t.Movable = Ke),
                        (t.NavigationButtons = Oi),
                        (t.OverlayBox = Ri),
                        (t.PagingAbility = Vi),
                        (t.ProgressBar = Li),
                        (t.RecordBind = Te),
                        (t.RenderStack = ji),
                        (t.ResizeArea = Qe),
                        (t.SingleRender = je),
                        (t.Scrollable = Fi),
                        (t.SelectionModel = zi),
                        (t.Settings = Pe),
                        (t.Sparklines = sn),
                        (t.TablePaste = on),
                        (t.TooltipControl = le),
                        (t.Touch = Ue),
                        (t.TreeAPI = an),
                        (t.TreeClick = ln),
                        (t.TreeDataLoader = hn),
                        (t.TreeDataMove = cn),
                        (t.TreeRenderStack = dn),
                        (t.TreeStateCheckbox = un),
                        (t.TreeStore = pn),
                        (t.TreeTablePaste = fn),
                        (t.TreeType = mn),
                        (t.UIManager = ke),
                        (t.Undo = yi),
                        (t.UploadDriver = gn),
                        (t.ValidateCollection = vn),
                        (t.ValidateData = ci),
                        (t.ValueBind = Ie),
                        (t.Values = bn),
                        (t.VirtualRenderStack = yn),
                        (t.VRenderStack = wn),
                        (t.html = fs),
                        (t.skin = Ye),
                        (t.debug = function (t) {
                            if (t)
                                if ("object" !== e(t)) u = { events: !0 };
                                else for (var i in t) u[i] = t[i];
                            else u = {};
                        }),
                        (t.i18n = T),
                        (t.ready = ge),
                        (t.env = G),
                        (t.color = Hi),
                        (t.csv = rn),
                        (t.clipbuffer = ni),
                        (t.storage = os),
                        (t.template = Ut),
                        (t.type = te),
                        (t.editors = ki),
                        (t.animate = We),
                        (t.print = function (t, e) {
                            var i = ae(t);
                            i && i.$printView && (i = i.$printView()),
                                i &&
                                    (i.callEvent && i.callEvent("onBeforePrint", [e]),
                                    (function (t) {
                                        _t(document.body, "webix_print"),
                                            t.docHeader && ds("Header", t),
                                            t.docFooter && ds("Footer", t),
                                            ht(
                                                "@media print { @page{ size:" +
                                                    t.paper +
                                                    " " +
                                                    t.mode +
                                                    ";margin-top:" +
                                                    t.margin.top +
                                                    "px;margin-bottom:" +
                                                    t.margin.bottom +
                                                    "px;margin-right:" +
                                                    t.margin.right +
                                                    "px;margin-left:" +
                                                    t.margin.left +
                                                    "px;}}",
                                                "print"
                                            );
                                    })(
                                        (e = (function (t) {
                                            ((t = t || {}).paper = as[(t.paper || "").toLowerCase()] || "A4"),
                                                (t.mode = hs[t.mode] ? t.mode : "portrait"),
                                                (t.fit = ls[t.fit] ? t.fit : "page"),
                                                (t.scroll = t.scroll || !1),
                                                (t.size = cs[t.paper]),
                                                (t.margin = t.margin || 0 === t.margin ? t.margin : {});
                                            var e = isNaN(1 * t.margin) ? G.printMargin : t.margin;
                                            return (
                                                (t.margin = {
                                                    top: t.margin.top || 0 === t.margin.top ? t.margin.top : e,
                                                    bottom: t.margin.bottom || 0 === t.margin.bottom ? t.margin.bottom : e,
                                                    right: t.margin.right || 0 === t.margin.right ? t.margin.right : e,
                                                    left: t.margin.left || 0 === t.margin.left ? t.margin.left : e,
                                                }),
                                                t
                                            );
                                        })(e))
                                    ),
                                    (i.$customPrint && !0 !== i.$customPrint(e)) ||
                                        (function (t, e) {
                                            var i = t.$view.cloneNode(!0),
                                                n = t.$view.getElementsByTagName("canvas");
                                            if (n.length) for (var s = n.length - 1; 0 <= s; s--) i.getElementsByTagName("canvas")[s].getContext("2d").drawImage(n[s], 0, 0);
                                            ft(i, e.docFooter, document.body), _t(i, "webix_ui_print"), !e.scroll && ((t.tt && t.data && t.data.pull) || t.getBody) && _t(i, "webix_print_noscroll"), window.print(), pt(i);
                                        })(i, e),
                                    (function (t) {
                                        kt(document.body, "webix_print"), ct("print"), t.docHeader && pt(t.docHeader), t.docFooter && pt(t.docFooter);
                                    })(e));
                        }),
                        (t.rules = hi),
                        (t.filters = us),
                        (t.patterns = ps),
                        (t.fullscreen = _e),
                        (t.version = "8.0.2"),
                        (t.name = "core"),
                        (t.level_in = function () {}),
                        (t.level_out = function () {}),
                        (t.clone = p),
                        (t.copy = f),
                        (t.single = function (t) {
                            var e = null;
                            return function () {
                                return e || (e = new t({})), e._T && e._T.apply(e, arguments), e;
                            };
                        }),
                        (t.bind = m),
                        (t.exec = g),
                        (t.wrap = function (t, e) {
                            return t
                                ? function () {
                                      var i = t.apply(this, arguments);
                                      return e.apply(this, arguments), i;
                                  }
                                : e;
                        }),
                        (t.isUndefined = v),
                        (t.delay = b),
                        (t.once = y),
                        (t.uid = x),
                        (t.toNode = _),
                        (t.toFunctor = k),
                        (t.isArray = P),
                        (t.isDate = S),
                        (t.pT = C),
                        (t.bT = I),
                        (t.mT = Kt),
                        (t.gT = Zt),
                        (t.event = Jt),
                        (t.eventRemove = Qt),
                        (t.callEvent = M),
                        (t.attachEvent = A),
                        (t.detachEvent = N),
                        (t.blockEvent = function () {
                            return D.blockEvent();
                        }),
                        (t.unblockEvent = function () {
                            return D.unblockEvent();
                        }),
                        (t.mapEvent = function (t) {
                            return D.mapEvent(t);
                        }),
                        (t.hasEvent = function (t) {
                            return D.hasEvent(t);
                        }),
                        (t.stringify = $),
                        (t.toPNG = function (t, e) {
                            var i = l.defer();
                            return Mt(G.cdn + "/extras/html2canvas-1.0.min.js").then(function () {
                                "string" == typeof e && (e = { filename: e }), (e = e || {});
                                var n = ae(t);
                                if ((n && n.$exportView && (n = n.$exportView(e)), !n)) return i.reject(xn);
                                var s = n ? n.$view : _(t),
                                    r = (e.filename || "Data") + ".png";
                                return (
                                    window.html2canvas(s, { background: "#fff", logging: !1, useCORS: !0 }).then(function (t) {
                                        var n = function (t) {
                                            !1 !== e.download && St(t, r), i.resolve(t);
                                        };
                                        t.msToBlob ? n(t.msToBlob()) : t.toBlob(n, "image/png");
                                    }),
                                    i
                                );
                            });
                        }),
                        (t.toCSV = function (t, e) {
                            e = e || {};
                            var i = ae(t);
                            if ((i && i.$exportView && (i = i.$exportView(e)), !i)) return l.reject(xn);
                            (e.export_mode = "csv"), (e.filterHTML = !0);
                            var n = (function (t) {
                                    return rn.stringify(t);
                                })(Cn(i, e, Sn(i, e))),
                                s = (e.filename || "Data") + ".csv",
                                r = new Blob(["\ufeff" + n], { type: "text/csv" });
                            return !1 !== e.download && St(r, s), l.resolve(r);
                        }),
                        (t.toPDF = Tn),
                        (t.toExcel = Rn),
                        (t.alert = function () {
                            var t = Jn.apply(this, arguments);
                            return (t.type = t.type || "alert"), qn(t);
                        }),
                        (t.confirm = Qn),
                        (t.modalbox = ts),
                        (t.prompt = function () {
                            var t = Jn.apply(this, arguments);
                            return (t.type = t.type || "prompt"), (t.input = t.input || {}), Zn(t);
                        }),
                        (t.message = es),
                        (t.editStop = function () {
                            M("onEditEnd", []);
                        }),
                        (t.ajax = V),
                        (t.DataDriver = Nt),
                        (t.dp = ui),
                        (t.DataProcessor = pi),
                        (t.remote = bs),
                        (t.require = Mt),
                        (t.proxy = B),
                        (t.send = function (t, e, i, n) {
                            var s = dt("FORM", { target: n || "_self", action: t, method: i || "POST" }, "");
                            for (var r in e) {
                                var o = dt("INPUT", { type: "hidden", name: r, value: e[r] }, "");
                                s.appendChild(o);
                            }
                            (s.style.display = "none"), document.body.appendChild(s), s.submit(), document.body.removeChild(s);
                        }),
                        (t.ui = ne),
                        (t.$$ = ae),
                        Object.defineProperty(t, "wT", { value: !0 });
                })(e);
            },
        },
        e = {};
    function i(n) {
        if (e[n]) return e[n].exports;
        var s = (e[n] = { exports: {} });
        return t[n].call(s.exports, s, s.exports, i), s.exports;
    }
    (i.n = (t) => {
        var e = t && t.__esModule ? () => t.default : () => t;
        return i.d(e, { a: e }), e;
    }),
        (i.d = (t, e) => {
            for (var n in e) i.o(e, n) && !i.o(t, n) && Object.defineProperty(t, n, { enumerable: !0, get: e[n] });
        }),
        (i.g = (function () {
            if ("object" == typeof globalThis) return globalThis;
            try {
                return this || new Function("return this")();
            } catch (t) {
                if ("object" == typeof window) return window;
            }
        })()),
        (i.o = (t, e) => Object.prototype.hasOwnProperty.call(t, e)),
        (i.r = (t) => {
            "undefined" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(t, Symbol.toStringTag, { value: "Module" }), Object.defineProperty(t, "__esModule", { value: !0 });
        }),
        (() => {
            "use strict";
            var t = i(2027),
                e = i(633),
                n = i(4375);
            t.extend(t.Date, {
                parseDate: function (e, i, n) {
                    return t.Date.dateToStr(i, n)(new Date(e));
                },
                parseString: function (e, i, n) {
                    return t.Date.strToDate(i, n)(e);
                },
            }),
                t.extend(t.ui.list, t.OverlayBox),
                t.extend(t.ui.unitlist, t.OverlayBox),
                t.extend(t.ui.dataview, t.OverlayBox);
            var s = (navigator.language || "en").substring(0, 2);
            (0, n.getLocalesData)()[s] || (s = "en"),
                (t.i18n.locales.en = t.i18n.locales["en-US"]),
                (t.i18n.locales.fr = t.i18n.locales["fr-FR"]),
                (t.i18n.locales.lv = t.i18n.locales["en-US"]),
                (t.i18n.locales.ru = t.i18n.locales["ru-RU"]),
                (t.i18n.locales.zh = t.i18n.locales["zh-CN"]),
                (t.Date.startOnMonday = "en" !== s);
            var r = t.i18n.setLocale;
            (t.i18n.setLocale = function (e) {
                return (s = e), (t.Date.startOnMonday = "en" !== s), r(e);
            }),
                (t.i18n.getLocale = function () {
                    return s;
                }),
                t.i18n.setLocale(s),
                t.attachEvent("onBeforeAjax", function (t, i, n, s, r) {
                    r.Authorization = "Bearer ".concat(e.hj.token);
                }),
                (window.webix = t);
            const o = t,
                a = "proctoring.sid",
                l = {
                    status() {
                        const t = (0, e.vl)(location.search),
                            i = t.token,
                            n = t.redirect;
                        let s = location.href.split("?")[0];
                        return i && localStorage.setItem(a, i), n && (s += "#!".concat(n)), i || n ? new Promise(() => (location.href = s)) : e.nP.sync({ token: localStorage.getItem(a) }).then((t) => (localStorage.setItem(a, t.token), t));
                    },
                    login: (t) => e.nP.login(t).then((t) => (localStorage.setItem(a, t.token), t)),
                    logout: () =>
                        e.nP.logout().then((t) => {
                            let e = t.referer;
                            return localStorage.removeItem(a), window.opener && window.close(), (location.href = e || "/"), { referer: e };
                        }),
                };
            var h = i(3036);
            history.pushState(null, null, document.URL),
                window.addEventListener("popstate", function () {
                    history.pushState(null, null, document.URL);
                }),
                o.ready(() => {
                    o.ui.fullScreen();
                    const t = new h.Dd({
                        id: "proctoredu",
                        version: "3.20.4",
                        debug: !1,
                        start: "/",
                        webix: o,
                        router: h.UT,
                        routes: {
                            "/blanks": "/top/blanks",
                            "/jobs": "/top/jobs",
                            "/report": "/top/report",
                            "/rooms": "/top/rooms",
                            "/side": "/top/side",
                            "/side/report": "/top/side/report",
                            "/side/vision": "/top/side/vision",
                            "/stats": "/top/stats",
                            "/users": "/top/users",
                            "/vision": "/top/vision",
                            "/wrapper": "/top/wrapper",
                        },
                    });
                    t.use(h.Gr.Locale, { lang: o.i18n.getLocale(), path: !1 }), t.use(h.Gr.User, { model: l, ping: 36e5 });
                    var i,
                        s,
                        r = t.getService("locale"),
                        a = (0, n.getLocalesData)();
                    (r.setLang = function (t, i) {
                        (t = (t || navigator.language || "en").substring(0, 2)), a[t] || (t = "en"), r.setLangData(t, a[t], i), o.i18n.setLocale(t), (document.title = r._("app.name")), !i && e.EA.isAuth() && e.EA.update({ lang: t });
                    }),
                        r.setLang(null, !0),
                        (document.title = r._("app.name")),
                        t.attachEvent("app:guard", function (t, n, o) {
                            i && "/" === t && ((o.redirect = i), (i = null)),
                                o.confirm.then(() => {
                                    if (e.EA.isAuth())
                                        if ((s || ((s = !0), r.setLang(e.EA.get("lang"), !0)), window.parent !== window.self)) {
                                            const t = e.EA.get("referer");
                                            t && (location.href = t), (o.redirect = "/login");
                                        } else if ("/" === o.redirect)
                                            switch (e.EA.get("role")) {
                                                case "student":
                                                    o.redirect = "/top/wrapper";
                                                    break;
                                                case "proctor":
                                                    o.redirect = "/top/side/vision";
                                                    break;
                                                case "administrator":
                                                    o.redirect = "/top/rooms";
                                            }
                                    "/login" === o.redirect && (0 === t.indexOf("/login") ? ((o.redirect = t), (i = o.url[0].params.redirect)) : "/logout" !== t && ((o.redirect = "/login?redirect=".concat(encodeURIComponent(t))), (i = t)));
                                });
                        }),
                        t.attachEvent("app:error:resolve", function () {
                            o.delay(() => t.show("/"));
                        }),
                        t.render();
                });
        })();
})();
