<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Tutorial: conference</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Tutorial: conference</h1>

    <section>

<header>
    

    <h2>conference</h2>
</header>

<article>
    <style type="text/css">
  header > h2 {
    display: none;
  }

  .tutorial-content input,
  .tutorial-content label,
  .tutorial-content button,
  .tutorial-content textarea {
    display: block;
    margin: 5px 0;
  }

  .tutorial-content textarea {
    width: 100%;
  }

  .tutorial-content input {
    width: 250px;
  }

  .tutorial-content > div {
    padding-bottom: 50px;
  }
</style>

<div class="tutorial-content">
  <h3>Join to conference</h3>
  <div>
    <label>User name:</label>
    <input type="text" id="name" value="" />
    <label>Room ID:</label>
    <input type="text" id="room" value="" />
    <button onclick="join(this)">JOIN</button>
  </div>
</div>

<script type="text/javascript" src="../supervisor.js"></script>

<script>
  function parseHash() {
    return window.location.hash
      .substring(1)
      .split('&')
      .map(function(el) {
        return el.split('=');
      })
      .reduce(function(pre, cur) {
        if (cur[0]) pre[cur[0]] = encodeURIComponent(cur[1]);
        return pre;
      }, {});
  }

  function updateHash(obj) {
    var arr = [];
    for (var k in obj) {
      arr.push(k + '=' + decodeURIComponent(obj[k]));
    }
    window.location.hash = '#' + arr.join('&');
  }

  var user = Date.now().toString(16);

  document.getElementById('name').value =
    localStorage.getItem('conference.username') || 'Guest';
  document.getElementById('room').value = parseHash().room || 'demo';

  function toHex(str) {
    var result = '';
    for (var i = 0; i < str.length; i++) {
      result += str.charCodeAt(i).toString(16);
    }
    return result;
  }

  function join(e) {
    e.disabled = true;
    var name = document.getElementById('name').value;
    var room = document.getElementById('room').value;
    localStorage.setItem('conference.username', name);
    if (!room || !/^[A-Za-z0-9_-]+$/.test(room)) {
      room = 'demo';
    }
    updateHash({ room: room });
    var supervisor = new Supervisor({
      mode: 'conference',
      css: {
        position: 'fixed'
      }
    });
    supervisor
      .init({
        provider: 'plain',
        username: toHex(name),
        nickname: name
      })
      .then(function() {
        return supervisor.start({ room, sources: ['webcam'] });
      });
  }
</script>

</article>

</section>

</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="Supervisor.html">Supervisor</a></li></ul><h3>Events</h3><ul><li><a href="Supervisor.html#event:chat">chat</a></li><li><a href="Supervisor.html#event:face">face</a></li><li><a href="Supervisor.html#event:metrics">metrics</a></li><li><a href="Supervisor.html#event:start">start</a></li><li><a href="Supervisor.html#event:stop">stop</a></li></ul><h3>Tutorials</h3><ul><li><a href="tutorial-conference.html">conference</a></li><li><a href="tutorial-generator.html">generator</a></li><li><a href="tutorial-iframe.html">iframe</a></li><li><a href="tutorial-proctoring.html">proctoring</a></li><li><a href="tutorial-tracking.html">tracking</a></li></ul><h3>Global</h3><ul><li><a href="global.html#check">check</a></li><li><a href="global.html#close">close</a></li><li><a href="global.html#emit">emit</a></li><li><a href="global.html#init">init</a></li><li><a href="global.html#logout">logout</a></li><li><a href="global.html#lookup">lookup</a></li><li><a href="global.html#off">off</a></li><li><a href="global.html#on">on</a></li><li><a href="global.html#profile">profile</a></li><li><a href="global.html#qrcode">qrcode</a></li><li><a href="global.html#snapshot">snapshot</a></li><li><a href="global.html#start">start</a></li><li><a href="global.html#stop">stop</a></li><li><a href="global.html#sync">sync</a></li><li><a href="global.html#upload">upload</a></li><li><a href="global.html#VERSION">VERSION</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.6</a> on Tue Dec 22 2020 13:15:04 GMT+0000 (Coordinated Universal Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>